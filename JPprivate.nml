# 1 "JPprivate.pnml"
# 1 "<built-in>"
# 1 "<command-line>"
# 1 "JPprivate.pnml"
# 1 "src/controllers/params.pnml" 1
grf {





    grfid: "YZ\AA\01";
    name: string(STR_NAME);
    desc: string(STR_DESC);
  url: string(STR_GRF_URL);
    version: 244;
    min_compatible_version: 6;


 param 0 {
  param_buy {
    type: int;
    name: string(STR_PARAM_NAME_BASECOSTMODBUY);
    desc: string(STR_PARAM_DESC_BASECOSTMODBUY);
    min_value: 0;
    max_value: 4;
    def_value: 2;
    names: {
         0: string(STR_PARAM_VLOW);
         1: string(STR_PARAM_LOW);
           2: string(STR_PARAM_NORMAL);
         3: string(STR_PARAM_HIGH);
         4: string(STR_PARAM_VHIGH);

      };
    }
  }


 param 1 {
  param_run {
   type: int;
   name: string(STR_PARAM_RUN_NAME);
   desc: string(STR_PARAM_RUN_DESC);
   min_value: 0;
   max_value: 4;
   def_value: 2;
   names: {
        0: string(STR_PARAM_VLOW);
                1: string(STR_PARAM_LOW);
        2: string(STR_PARAM_NORMAL);
        3: string(STR_PARAM_HIGH);
                4: string(STR_PARAM_VHIGH);

   };
  }
 }

 param 2 {
    param_capacities {
      type: int;
      name: string(STR_PARAM_NAME_CAPACITY);
      desc: string(STR_PARAM_DESC_CAPACITY);
      min_value: 0;
      max_value: 4;
      def_value: 1;
      names: {
            0: string(STR_PERCENT, 100);
            1: string(STR_PERCENT, 150);
            2: string(STR_PERCENT, 200);
            3: string(STR_PERCENT, 250);
            4: string(STR_PARAM_CAP_CUSTOM);
      };
    }
  }
 param 3 {
    param_custom_capacity {
      type: int;
      name: string(STR_PARAM_CUSTOMCAPACITY);
      desc: string(STR_PARAM_CUSTOMCAPACITYDESC);
      min_value: 1;
      max_value: 10;
      def_value: 1;

    }
  }
 param 4 {
    param_boost_rapid {
      type: int;
      name: string(STR_PARAM_BOOST_RAPID);
      desc: string(STR_PARAM_BOOST_RAPID_DESC);
      min_value: 0;
      max_value: 4;
      def_value: 0;

    }
  }

 param 5 {
    param_sound_effect {
      type: int;
      name: string(STR_PARAM_SOUND);
      desc: string(STR_PARAM_SOUND_DESC);
      min_value: 0;
      max_value: 2;
      def_value: 1;
      names: {
         0: string(STR_PARAM_SOUND_1);
         1: string(STR_PARAM_SOUND_2);
           2: string(STR_PARAM_SOUND_3);
      };
    }
  }

param 6 {
        param_hide_logo {
            type: bool;
            name: string(STR_PARAM_HIDE_LOGO);
            desc: string(STR_PARAM_HIDE_LOGO);
            bit: 0;
            def_value: 1;
            }
        }

 param 7 {
    param_disable_tokyo {
       type: bool;
       name: string(STR_PARAM_DISABLE_TOKYO);
       desc: string(STR_PARAM_DISABLE_TOKYO);
       bit: 0;
       def_value: 0;

    }
   }
 param 8 {
    param_disable_yokohama {
       type: bool;
       name: string(STR_PARAM_DISABLE_YOKOHAMA);
       desc: string(STR_PARAM_DISABLE_YOKOHAMA);
       bit: 0;
       def_value: 0;

    }
   }
 param 9 {
    param_disable_osaka {
       type: bool;
       name: string(STR_PARAM_DISABLE_OSAKA);
       desc: string(STR_PARAM_DISABLE_OSAKA);
       bit: 0;
       def_value: 0;

    }
   }
 param 10 {
  param_disable_kyoto {
     type: bool;
     name: string(STR_PARAM_DISABLE_KYOTO);
     desc: string(STR_PARAM_DISABLE_KYOTO);
     bit: 0;
     def_value: 0;

  }
   }
 param 11 {
  param_disable_nagoya {
     type: bool;
     name: string(STR_PARAM_DISABLE_NAGOYA);
     desc: string(STR_PARAM_DISABLE_NAGOYA);
     bit: 0;
     def_value: 0;

     }
   }
 param 12 {
  param_disable_sendai {
     type: bool;
     name: string(STR_PARAM_DISABLE_SENDAI);
     desc: string(STR_PARAM_DISABLE_SENDAI);
     bit: 0;
     def_value: 0;

     }
   }
 param 13 {
  param_disable_kobe {
     type: bool;
     name: string(STR_PARAM_DISABLE_KOBE);
     desc: string(STR_PARAM_DISABLE_KOBE);
     bit: 0;
     def_value: 0;

     }
  }
 param 14 {
  param_disable_fukuoka {
     type: bool;
     name: string(STR_PARAM_DISABLE_FUKUOKA);
     desc: string(STR_PARAM_DISABLE_FUKUOKA);
     bit: 0;
     def_value: 0;

     }
  }
 param 15 {
  param_disable_semiPrivate {
     type: bool;
     name: string(STR_PARAM_DISABLE_SEMI_MAJOR);
     desc: string(STR_PARAM_DISABLE_SEMI_MAJOR_DESC);
     bit: 0;
     def_value: 0;

     }
  }
 param 16 {
  param_disable_tokyu {
     type: bool;
     name: string(STR_PARAM_DISABLE_TOKYU);
     desc: string(STR_PARAM_DISABLE_TOKYU);
     bit: 0;
     def_value: 0;

     }
  }
 param 17 {
  param_disable_tobu {
     type: bool;
     name: string(STR_PARAM_DISABLE_TOBU);
     desc: string(STR_PARAM_DISABLE_TOBU);
     bit: 0;
     def_value: 0;
     }
   }
 param 18 {
  param_disable_seibu {
     type: bool;
     name: string(STR_PARAM_DISABLE_SEIBU);
     desc: string(STR_PARAM_DISABLE_SEIBU);
     bit: 0;
     def_value: 0;
     }
   }



 param 20 {
  param_disable_sotetsu {
     type: bool;
     name: string(STR_PARAM_DISABLE_SOTETSU);
     desc: string(STR_PARAM_DISABLE_SOTETSU);
     bit: 0;
     def_value: 0;
     }
   }

 param 22 {
  param_disable_keikyu {
     type: bool;
     name: string(STR_PARAM_DISABLE_KEIKYU);
     desc: string(STR_PARAM_DISABLE_KEIKYU);
     bit: 0;
     def_value: 0;
     }
   }
 param 23 {
  param_disable_keisei {
     type: bool;
     name: string(STR_PARAM_DISABLE_KEISEI);
     desc: string(STR_PARAM_DISABLE_KEISEI);
     bit: 0;
     def_value: 0;
     }
   }

 param 25 {
  param_disable_hankyu {
     type: bool;
     name: string(STR_PARAM_DISABLE_HANKYU);
     desc: string(STR_PARAM_DISABLE_HANKYU);
     bit: 0;
     def_value: 0;
     }
   }
}

 if (param_capacities == 0 || param_capacities == 1) {
  param_loading_1D = 10;
  param_loading_2D = 20;
  param_loading_3D = 30;
  param_loading_4D = 40;
  param_loading_5D = 60;
  param_loading_6D = 70;
 }

 if (param_capacities == 2) {
  param_loading_1D = 20;
  param_loading_2D = 40;
  param_loading_3D = 50;
  param_loading_4D = 60;
  param_loading_5D = 80;
  param_loading_6D = 90;
 }
 if (param_capacities == 3) {
  param_loading_1D = 30;
  param_loading_2D = 40;
  param_loading_3D = 50;
  param_loading_4D = 70;
  param_loading_5D = 100;
  param_loading_6D = 120;
 }
 if (param_capacities == 4) {
  param_loading_1D = 40;
  param_loading_2D = 50;
  param_loading_3D = 60;
  param_loading_4D = 80;
  param_loading_5D = 120;
  param_loading_6D = 140;
 }

 if (param_boost_rapid == 0) {
  boost_rapid_mod = 2;
 }
 if (param_boost_rapid == 1) {
  boost_rapid_mod = 3;
 }
 if (param_boost_rapid == 2) {
  boost_rapid_mod = 4;
 }
 if (param_boost_rapid == 3) {
  boost_rapid_mod = 5;
 }
 if (param_boost_rapid == 4) {
  boost_rapid_mod = 6;
 }

 if (param_capacities == 0) {
  param_capacity_mod = 2;
 }
 if (param_capacities == 1) {
  param_capacity_mod = 3;
 }
 if (param_capacities == 2) {
  param_capacity_mod = 4;
 }
 if (param_capacities == 3) {
  param_capacity_mod = 5;
 }
 if (param_capacities == 4) {
  param_capacity_mod = param_custom_capacity;
 }

 if (param_buy == 0) { PURCHASE_COST_MOD = -1; }
 if (param_buy == 1) { PURCHASE_COST_MOD = 0; }
 if (param_buy == 2) { PURCHASE_COST_MOD = 1; }
 if (param_buy == 3) { PURCHASE_COST_MOD = 2; }
 if (param_buy == 4) { PURCHASE_COST_MOD = 3; }

 basecost {
  PR_BUILD_VEHICLE_TRAIN : param_buy -2;
  PR_BUILD_VEHICLE_WAGON: param_buy +3;

  PR_RUNNING_TRAIN_DIESEL: param_run +1;
  PR_RUNNING_TRAIN_ELECTRIC: param_run +1;
 }



 local_cargo_age = 185;
 express_cargo_age = 231;
 ltd_express_cargo_age = 278;
# 2 "JPprivate.pnml" 2
# 1 "src/controllers/defines.pnml" 1
# 3 "JPprivate.pnml" 2
# 1 "src/controllers/constructor.pnml" 1
# 4 "JPprivate.pnml" 2
# 1 "src/controllers/errorController.pnml" 1
disable_item(FEAT_TRAINS);

if (((grf_future_status("SZ\0D\00") == 0) && (grf_future_status("DP\30\00") == 0))) {
 error( WARNING, string(GRF_JAPANSET));
}

if ((grf_current_status("mkw\E0") == 1)||(grf_future_status("mkw\E0") == 1)){
 error( ERROR, string(GRF_TKMS));
}

if ((grf_current_status("TB\01\01") == 1)||(grf_future_status("TB\01\01") == 1)){
 error( WARNING, string(GRF_TIAS));
}
# 5 "JPprivate.pnml" 2
# 1 "src/controllers/railtypes.pnml" 1

railtypetable {
  TR_1067_DC: [NABE, ELNG, ELRL],
  TR_1067_AC: [NABE, ELNG, ELRL],
  TR_1067_ACDC: [NABE, ELNG, ELRL],
 TR_1435_DC: [ELRL],
 TR_1435_AC: [ELRL],
 TR_1435_M: [SAB3, "3RDR", MTRO, ELRL],
 TR_1435_LNR: [ELRL],
 TR_1372: [ELRL],
}
# 6 "JPprivate.pnml" 2
# 1 "src/controllers/couple_logic.pnml" 1

 switch (FEAT_TRAINS, SELF, sw_stop_start_2, num_vehs_in_consist < 2) {
   1: return string(STR_FEW_CARS_2_ERROR);
   return CB_RESULT_NO_TEXT;
  }
 switch (FEAT_TRAINS, SELF, sw_stop_start_3, num_vehs_in_consist < 3) {
   1: return string(STR_FEW_CARS_3_ERROR);
   return CB_RESULT_NO_TEXT;
  }
# 19 "src/controllers/couple_logic.pnml"
switch(FEAT_TRAINS, SELF, sw_1067_attach_vehid, vehicle_type_id) {
      mu_car: return string(STR_ATTACH_1435_ERROR);
      mu_car_metro: return string(STR_ATTACH_1435_ERROR);
      return CB_RESULT_ATTACH_ALLOW;
    }
switch(FEAT_TRAINS, SELF, sw_1435_attach_vehid, vehicle_type_id) {
      mu_car_narrow: return string(STR_ATTACH_1435_ERROR);
      mu_car_metro: return string(STR_ATTACH_1435_ERROR);
      return CB_RESULT_ATTACH_ALLOW;
    }
switch(FEAT_TRAINS, SELF, sw_1435_m_attach_vehid, vehicle_type_id) {
      mu_car_narrow: return string(STR_ATTACH_1435_ERROR);
      mu_car: return string(STR_ATTACH_1435_ERROR);
      return CB_RESULT_ATTACH_ALLOW;
    }
# 7 "JPprivate.pnml" 2
# 1 "src/controllers/templates.pnml" 1

train_width_32_px = 1;
traininfo_y_offset = 2;

template tmpl_std_v2(x,y,z,l) {

  [x, y, 8, 24, -3, -16]
  [x +9, y, 22+z, 20+l, -13, -13]
  [x +32, y, 32, 17, -14, -13]
  [x +65, y, 22+z, 20+l, -5, -12]
  [x +88, y, 8, 24, -3, -16]
  [x +97-z, y, 22, 20, -13, -13]
  [x +120, y, 32, 17, -14, -13]
  [x+153-z, y, 22, 20, -5, -12]
}

template tmpl_std(x,y) {

[x, y, 8, 24, -3, -16]
[x +9, y, 22, 20, -13, -13]
[x +32, y, 32, 17, -14, -13]
[x +65, y, 22, 20, -5, -12]
[x +88, y, 8, 24, -3, -16]
[x +97, y, 22, 20, -13, -13]
[x +120, y, 32, 17, -14, -13]
[x+153, y, 22, 20, -5, -12]
}

template tmpl_std_rev(x,y){
[x +88, y, 8, 24, -3, -16]
[x +97, y, 22, 20, -13, -13]
[x +120, y, 32, 17, -14, -13]
[x+153, y, 22, 20, -5, -12]
[x, y, 8, 24, -3, -16]
[x +9, y, 22, 20, -13, -13]
[x +32, y, 32, 17, -14, -13]
[x +65, y, 22, 20, -5, -12]
}

template tmpl_long(x,y) {
[x, y, 8, 24, -3, -16]
[x +9, y, 23, 20, -13, -13]
[x +32, y, 32, 17, -14, -13]
[x +65, y, 22, 20, -5, -12]
[x +88, y, 8, 24, -3, -16]
[x +97, y, 22, 20, -13, -13]
[x +120, y, 32, 17, -14, -13]
[x+152, y, 23, 20, -6, -12]
}

template tmpl_long_rev(x,y) {
[x +88, y, 8, 24, -3, -16]
[x +97, y, 22, 20, -13, -13]
[x +120, y, 32, 17, -14, -13]
[x+152, y, 23, 20, -6, -12]
[x, y, 8, 24, -3, -16]
[x +9, y, 23, 20, -13, -13]
[x +32, y, 32, 17, -14, -13]
[x +65, y, 22, 20, -5, -12]
}


template tmpl_symm(x,y) {

[x, y, 8, 24, -3, -16]
[x +9, y, 22, 20, -13, -13]
[x +32, y, 32, 17, -14, -13]
[x +65, y, 22, 20, -5, -12]
[x, y, 8, 24, -3, -16]
[x +9, y, 22, 20, -13, -13]
[x +32, y, 32, 17, -14, -13]
[x +65, y, 22, 20, -5, -12]
}

template tmpl_purchase (x, y) {
   [x, y, 76, 15, -33, -10]
}
spriteset (set_mu_car_purchase, "gfx/misc/mucarbuy.png") { tmpl_purchase(0, 0) }
spriteset (set_mu_car_base, "gfx/misc/mucar.png") { tmpl_std(0, 0) }



template tmpl_high_skirt(x,y) {
[x, y, 8, 24, -3, -16]
[x +9, y, 22, 20, -13, -13]
[x +32, y, 32, 17, -14, -13]
[x +65, y, 22, 21, -5, -12]
[x +88, y, 8, 24, -3, -16]
[x +97, y, 22, 21, -13, -13]
[x +120, y, 32, 17, -14, -13]
[x+153, y, 22, 20, -5, -12]
}
template tmpl_high_skirt_rev(x,y){
[x +88, y, 8, 24, -3, -16]
[x +97, y, 22, 21, -13, -13]
[x +120, y, 32, 17, -14, -13]
[x+153, y, 22, 20, -5, -12]
[x, y, 8, 24, -3, -16]
[x +9, y, 22, 20, -13, -13]
[x +32, y, 32, 17, -14, -13]
[x +65, y, 22, 21, -5, -12]
}

template tmpl_end_v2(x,y){
[x +88, 25,8, 24, -3, -16]
[x +97, 25,22, 21, -13, -13]
[x +120, 25,32, 17, -14, -13]
[x+153, y, 22, 20, -5, -12]
[x, y, 8, 24, -3, -16]
[x +9, y, 22, 20, -13, -13]
[x +32, 25,32, 17, -14, -13]
[x +65, 25,22, 21, -5, -12]
}

template tmpl_roof_h1(x,y) {
  [x, y, 8, 24, -3, -16]
  [x +9, y, 20, 20, -13, -13]
  [x +32, y, 30, 17, -14, -13]
  [x +65, y, 19, 20, -5, -12]
  [x +88, y, 8, 24, -3, -16]
  [x +100, y, 19, 20, -10, -13]
  [x +121, y, 31, 17, -13, -13]
  [x+ 153, y, 22, 20, -5, -12]
  }
  template tmpl_roof_h1_rev(x,y) {
  [x +88, y, 8, 24, -3, -16]
  [x +100, y, 19, 20, -10, -13]
  [x +121, y, 31, 17, -13, -13]
  [x+ 153, y, 22, 20, -5, -12]
  [x, y, 8, 24, -3, -16]
  [x +9, y, 20, 20, -13, -13]
  [x +32, y, 30, 17, -14, -13]
  [x +65, y, 19, 20, -5, -12]
  }
template tmpl_purchase_roof_h1(x,y) {
  [x +121, y, 31, 17, 8, -13]
  }
# 8 "JPprivate.pnml" 2
# 1 "src/controllers/mu_cars.pnml" 1
switch(FEAT_TRAINS, SELF, sw_empty_desc,cargo_subtype){
    0:string(LV_DEFAULT);
  }

item(FEAT_TRAINS, mu_car_metro, 100) {
 property {
        name: string(MUCAR_1435_M);
        introduction_date: date(1800,1,1);
        climates_available: ALL_CLIMATES;
                model_life: VEHICLE_NEVER_EXPIRES;
                vehicle_life: 60;
                loading_speed: param_loading_3D;
                cost_factor: 30;
                running_cost_factor: 7;
                speed: 0 km/h;
                power: 0 hp;
                cargo_capacity: 1;
                weight: 0 ton;
                tractive_effort_coefficient: 0.3;
                air_drag_coefficient: 0;
                reliability_decay: 10;
                refittable_cargo_classes: bitmask(CC_PASSENGERS);
                cargo_age_period: 185;
                refit_cost: 0;
    track_type:TR_1435_M;
                ai_special_flag: AI_FLAG_PASSENGER;
                running_cost_base: RUNNING_COST_ELECTRIC;
                engine_class: ENGINE_CLASS_STEAM;
                visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
                sprite_id: SPRITE_ID_NEW_TRAIN;
                dual_headed: 0;
                extra_power_per_wagon: 0;
                bitmask_vehicle_info: 0;
}
 graphics {
        cargo_subtype_text: sw_empty_desc;
  purchase: set_mu_car_purchase;
     additional_text: return string(MUCAR_DESC);
     default: set_mu_car_base;
  length: 8;
    }

}
item(FEAT_TRAINS, mu_car, 101) {
 property {
        name: string(MUCAR_1435);
        introduction_date: date(1800,1,1);
        climates_available: ALL_CLIMATES;
                model_life: VEHICLE_NEVER_EXPIRES;
                vehicle_life: 60;
                loading_speed: 0;
                cost_factor: 64;
                running_cost_factor: 6;
                speed: 0 km/h;
                power: 0 hp;
                cargo_capacity: 1;
                weight: 0 ton;
                tractive_effort_coefficient: 0.3;
                air_drag_coefficient: 0;
                reliability_decay: 10;
                refittable_cargo_classes: bitmask(CC_PASSENGERS);
                cargo_age_period: 185;
                refit_cost: 0;
                track_type: TR_1435_AC;
                ai_special_flag: AI_FLAG_PASSENGER;
                running_cost_base: RUNNING_COST_DIESEL;
                engine_class: ENGINE_CLASS_STEAM;
                visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
                sprite_id: SPRITE_ID_NEW_TRAIN;
                dual_headed: 0;
                length: 8;
                extra_power_per_wagon: 0;
                bitmask_vehicle_info: 0;
}
 graphics {
        cargo_subtype_text: sw_empty_desc;
  purchase: set_mu_car_purchase;
     additional_text: return string(MUCAR_DESC);
     default: set_mu_car_base;
  length: 8;
    }

}
item(FEAT_TRAINS, mu_car_narrow, 102) {
 property {
        name: string(MUCAR_1067);
        introduction_date: date(1800,1,1);
        climates_available: ALL_CLIMATES;
                model_life: VEHICLE_NEVER_EXPIRES;
                vehicle_life: 60;
                loading_speed: param_loading_3D;
                cost_factor: 30;
                running_cost_factor: 7;
                speed: 0 km/h;
                power: 0 hp;
                cargo_capacity: 1;
                weight: 0 ton;
                tractive_effort_coefficient: 0.3;
                air_drag_coefficient: 0;
                reliability_decay: 10;
                refittable_cargo_classes: bitmask(CC_PASSENGERS);
                cargo_age_period: 185;
                refit_cost: 0;
    track_type:TR_1067_DC;
                ai_special_flag: AI_FLAG_PASSENGER;
                running_cost_base: RUNNING_COST_ELECTRIC;
                engine_class: ENGINE_CLASS_STEAM;
                visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
                sprite_id: SPRITE_ID_NEW_TRAIN;
                misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
                dual_headed: 0;
                extra_power_per_wagon: 0;
                bitmask_vehicle_info: 0;
}
 graphics {
        cargo_subtype_text: sw_empty_desc;
  purchase: set_mu_car_purchase;
     additional_text: return string(MUCAR_DESC);
     default: set_mu_car_base;
  length: 8;
    }

}
# 9 "JPprivate.pnml" 2
# 1 "src/controllers/sounds.pnml" 1



switch(FEAT_TRAINS, SELF, sw_KQ1_start_sound_1, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartGear.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn03.wav");
 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load01.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KQ1_start_sound_2, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartGear.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn03.wav");
 SOUND_EVENT_RUNNING_16: return sound("sounds/Running01.wav");

 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load01.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KQ1_start_sound, param_sound_effect) {
 1: sw_KQ1_start_sound_1;
 2: sw_KQ1_start_sound_2;
 return CB_RESULT_NO_SOUND;
}


switch(FEAT_TRAINS, SELF, sw_KQ26_start_sound_1, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartGear.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn03.wav");
 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load01.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KQ26_start_sound_2, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartGear.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn03.wav");
 SOUND_EVENT_RUNNING_16: return sound("sounds/Running01.wav");

 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load01.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KQ26_start_sound, param_sound_effect) {
 1: sw_KQ26_start_sound_1;
 2: sw_KQ26_start_sound_2;
 return CB_RESULT_NO_SOUND;
}



switch(FEAT_TRAINS, SELF, sw_KQ29_start_sound_1, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartGear.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn03.wav");
 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load02.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KQ29_start_sound_2, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartGear.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn03.wav");
 SOUND_EVENT_RUNNING_16: return sound("sounds/Running01.wav");

 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load02.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KQ29_start_sound, param_sound_effect) {
 1: sw_KQ29_start_sound_1;
 2: sw_KQ29_start_sound_2;
 return CB_RESULT_NO_SOUND;
}



switch(FEAT_TRAINS, SELF, sw_KQ51_start_sound_1, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartGear.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn03.wav");
 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load02.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KQ51_start_sound_2, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartGear.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn03.wav");
 SOUND_EVENT_RUNNING_16: return sound("sounds/Running01.wav");

 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load02.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KQ51_start_sound, param_sound_effect) {
 1: sw_KQ51_start_sound_1;
 2: sw_KQ51_start_sound_2;
 return CB_RESULT_NO_SOUND;
}



switch(FEAT_TRAINS, SELF, sw_KQDE1_start_sound_1, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartGear.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn03.wav");
 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load01.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KQDE1_start_sound_2, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartGear.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn03.wav");
 SOUND_EVENT_RUNNING_16: return sound("sounds/Running01.wav");

 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load01.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KQDE1_start_sound, param_sound_effect) {
 1: sw_KQDE1_start_sound_1;
 2: sw_KQDE1_start_sound_2;
 return CB_RESULT_NO_SOUND;
}



switch(FEAT_TRAINS, SELF, sw_KQ300_start_sound_1, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartGear.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn03.wav");
 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load01.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KQ300_start_sound_2, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartGear.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn03.wav");
 SOUND_EVENT_RUNNING_16: return sound("sounds/Running01.wav");

 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load01.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KQ300_start_sound, param_sound_effect) {
 1: sw_KQ300_start_sound_1;
 2: sw_KQ300_start_sound_2;
 return CB_RESULT_NO_SOUND;
}



switch(FEAT_TRAINS, SELF, sw_KQ5002_start_sound_1, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartGear.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn02.wav");
 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load01.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KQ5002_start_sound_2, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartGear.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn02.wav");
 SOUND_EVENT_RUNNING_16: return sound("sounds/Running01.wav");

 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load01.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KQ5002_start_sound, param_sound_effect) {
 1: sw_KQ5002_start_sound_1;
 2: sw_KQ5002_start_sound_2;
 return CB_RESULT_NO_SOUND;
}



switch(FEAT_TRAINS, SELF, sw_KQ600_start_sound_1, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartGear.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn02.wav");
 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load02.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KQ600_start_sound_2, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartGear.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn02.wav");
 SOUND_EVENT_RUNNING_16: return sound("sounds/Running02.wav");

 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load02.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KQ600_start_sound, param_sound_effect) {
 1: sw_KQ600_start_sound_1;
 2: sw_KQ600_start_sound_2;
 return CB_RESULT_NO_SOUND;
}



switch(FEAT_TRAINS, SELF, sw_KQ1000_1a_start_sound_1, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartStandard.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn03.wav");
 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load01.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KQ1000_1a_start_sound_2, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartStandard.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn03.wav");
 SOUND_EVENT_RUNNING_16: return sound("sounds/Running01.wav");

 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load01.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KQ1000_1a_start_sound, param_sound_effect) {
 1: sw_KQ1000_1a_start_sound_1;
 2: sw_KQ1000_1a_start_sound_2;
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KQ1000_1b_start_sound_1, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartStandard.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn06.wav");
 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load02.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KQ1000_1b_start_sound_2, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartStandard.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn06.wav");
 SOUND_EVENT_RUNNING_16: return sound("sounds/Running02.wav");

 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load02.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KQ1000_1b_start_sound, param_sound_effect) {
 1: sw_KQ1000_1b_start_sound_1;
 2: sw_KQ1000_1b_start_sound_2;
 return CB_RESULT_NO_SOUND;
}




switch(FEAT_TRAINS, SELF, sw_KQ700_start_sound_1, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartStandard.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn01.wav");
 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load02.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KQ700_start_sound_2, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartStandard.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn01.wav");
 SOUND_EVENT_RUNNING_16: return sound("sounds/Running02.wav");

 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load02.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KQ700_start_sound, param_sound_effect) {
 1: sw_KQ700_start_sound_1;
 2: sw_KQ700_start_sound_2;
 return CB_RESULT_NO_SOUND;
}



switch(FEAT_TRAINS, SELF, sw_KQ800_start_sound_1, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartStandard.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn06.wav");
 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load02.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KQ800_start_sound_2, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartStandard.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn06.wav");
 SOUND_EVENT_RUNNING_16: return sound("sounds/Running03.wav");

 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load02.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KQ800_start_sound, param_sound_effect) {
 1: sw_KQ800_start_sound_1;
 2: sw_KQ800_start_sound_2;
 return CB_RESULT_NO_SOUND;
}



switch(FEAT_TRAINS, SELF, sw_KQ20002_start_sound_1, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartStandard.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn06.wav");
 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load02.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KQ20002_start_sound_2, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartStandard.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn06.wav");
 SOUND_EVENT_RUNNING_16: return sound("sounds/Running03.wav");

 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load02.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KQ20002_start_sound, param_sound_effect) {
 1: sw_KQ20002_start_sound_1;
 2: sw_KQ20002_start_sound_2;
 return CB_RESULT_NO_SOUND;
}



switch(FEAT_TRAINS, SELF, sw_KQ1500_start_sound_1, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartStandard.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn06.wav");
 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load03.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KQ1500_start_sound_2, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartStandard.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn06.wav");
 SOUND_EVENT_RUNNING_16: return sound("sounds/Running03.wav");

 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load03.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KQ1500_start_sound, param_sound_effect) {
 1: sw_KQ1500_start_sound_1;
 2: sw_KQ1500_start_sound_2;
 return CB_RESULT_NO_SOUND;
}



switch(FEAT_TRAINS, SELF, sw_KQ600_3_start_sound_1, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartInverter.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn06.wav");
 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load03.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KQ600_3_start_sound_2, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartInverter.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn06.wav");
 SOUND_EVENT_RUNNING_16: return sound("sounds/Running03.wav");

 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load03.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KQ600_3_start_sound, param_sound_effect) {
 1: sw_KQ600_3_start_sound_1;
 2: sw_KQ600_3_start_sound_2;
 return CB_RESULT_NO_SOUND;
}



switch(FEAT_TRAINS, SELF, sw_KQ2100_start_sound_1, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartSiemens.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn06.wav");
 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load03.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KQ2100_start_sound_2, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartSiemens.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn06.wav");
 SOUND_EVENT_RUNNING_16: return sound("sounds/Running03.wav");

 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load03.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KQ2100_start_sound, param_sound_effect) {
 1: sw_KQ2100_start_sound_1;
 2: sw_KQ2100_start_sound_2;
 return CB_RESULT_NO_SOUND;
}



switch(FEAT_TRAINS, SELF, sw_KQ20003_start_sound_1, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartStandard.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn06.wav");
 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load02.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KQ20003_start_sound_2, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartStandard.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn06.wav");
 SOUND_EVENT_RUNNING_16: return sound("sounds/Running03.wav");

 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load02.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KQ20003_start_sound, param_sound_effect) {
 1: sw_KQ20003_start_sound_1;
 2: sw_KQ20003_start_sound_2;
 return CB_RESULT_NO_SOUND;
}



switch(FEAT_TRAINS, SELF, sw_KQ1000_2_start_sound_1, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartSiemens.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn06.wav");
 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load03.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KQ1000_2_start_sound_2, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartSiemens.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn06.wav");
 SOUND_EVENT_RUNNING_16: return sound("sounds/Running03.wav");

 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load03.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KQ1000_2_start_sound, param_sound_effect) {
 1: sw_KQ1000_2_start_sound_1;
 2: sw_KQ1000_2_start_sound_2;
 return CB_RESULT_NO_SOUND;
}



switch(FEAT_TRAINS, SELF, sw_KS1_start_sound_1, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartGear.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn02.wav");
 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load01.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KS1_start_sound_2, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartGear.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn02.wav");
 SOUND_EVENT_RUNNING_16: return sound("sounds/Running01.wav");

 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load01.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KS1_start_sound, param_sound_effect) {
 1: sw_KS1_start_sound_1;
 2: sw_KS1_start_sound_2;
 return CB_RESULT_NO_SOUND;
}



switch(FEAT_TRAINS, SELF, sw_KS20_start_sound_1, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartGear.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn01.wav");
 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load01.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KS20_start_sound_2, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartGear.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn01.wav");
 SOUND_EVENT_RUNNING_16: return sound("sounds/Running01.wav");

 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load01.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KS20_start_sound, param_sound_effect) {
 1: sw_KS20_start_sound_1;
 2: sw_KS20_start_sound_2;
 return CB_RESULT_NO_SOUND;
}



switch(FEAT_TRAINS, SELF, sw_KS33_start_sound_1, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartGear.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn02.wav");
 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load01.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KS33_start_sound_2, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartGear.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn02.wav");
 SOUND_EVENT_RUNNING_16: return sound("sounds/Running01.wav");

 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load01.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KS33_start_sound, param_sound_effect) {
 1: sw_KS33_start_sound_1;
 2: sw_KS33_start_sound_2;
 return CB_RESULT_NO_SOUND;
}



switch(FEAT_TRAINS, SELF, sw_KS200_start_sound_1, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartGear.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn02.wav");
 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load01.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KS200_start_sound_2, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartGear.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn02.wav");
 SOUND_EVENT_RUNNING_16: return sound("sounds/Running01.wav");

 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load01.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KS200_start_sound, param_sound_effect) {
 1: sw_KS200_start_sound_1;
 2: sw_KS200_start_sound_2;
 return CB_RESULT_NO_SOUND;
}



switch(FEAT_TRAINS, SELF, sw_KS300_start_sound_1, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartGear.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn01.wav");
 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load01.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KS300_start_sound_2, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartGear.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn01.wav");
 SOUND_EVENT_RUNNING_16: return sound("sounds/Running01.wav");

 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load01.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KS300_start_sound, param_sound_effect) {
 1: sw_KS300_start_sound_1;
 2: sw_KS300_start_sound_2;
 return CB_RESULT_NO_SOUND;
}



switch(FEAT_TRAINS, SELF, sw_KS600_start_sound_1, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartGear.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn01.wav");
 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load02.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KS600_start_sound_2, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartGear.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn01.wav");
 SOUND_EVENT_RUNNING_16: return sound("sounds/Running02.wav");

 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load02.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KS600_start_sound, param_sound_effect) {
 1: sw_KS600_start_sound_1;
 2: sw_KS600_start_sound_2;
 return CB_RESULT_NO_SOUND;
}



switch(FEAT_TRAINS, SELF, sw_KS1500_start_sound_1, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartGear.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn01.wav");
 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load02.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KS1500_start_sound_2, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartGear.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn01.wav");
 SOUND_EVENT_RUNNING_16: return sound("sounds/Running01.wav");

 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load02.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KS1500_start_sound, param_sound_effect) {
 1: sw_KS1500_start_sound_1;
 2: sw_KS1500_start_sound_2;
 return CB_RESULT_NO_SOUND;
}



switch(FEAT_TRAINS, SELF, sw_KS1600_start_sound_1, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartGear.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn02.wav");
 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load02.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KS1600_start_sound_2, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartGear.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn02.wav");
 SOUND_EVENT_RUNNING_16: return sound("sounds/Running02.wav");

 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load02.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KS1600_start_sound, param_sound_effect) {
 1: sw_KS1600_start_sound_1;
 2: sw_KS1600_start_sound_2;
 return CB_RESULT_NO_SOUND;
}



switch(FEAT_TRAINS, SELF, sw_KS700_start_sound_1, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartGear.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn01.wav");
 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load02.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KS700_start_sound_2, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartGear.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn01.wav");
 SOUND_EVENT_RUNNING_16: return sound("sounds/Running01.wav");

 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load02.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KS700_start_sound, param_sound_effect) {
 1: sw_KS700_start_sound_1;
 2: sw_KS700_start_sound_2;
 return CB_RESULT_NO_SOUND;
}



switch(FEAT_TRAINS, SELF, sw_KS3000_3050_start_sound_1, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartStandard.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn01.wav");
 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load02.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KS3000_3050_start_sound_2, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartStandard.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn01.wav");
 SOUND_EVENT_RUNNING_16: return sound("sounds/Running02.wav");

 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load02.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KS3000_3050_start_sound, param_sound_effect) {
 1: sw_KS3000_3050_start_sound_1;
 2: sw_KS3000_3050_start_sound_2;
 return CB_RESULT_NO_SOUND;
}



switch(FEAT_TRAINS, SELF, sw_KS3100_start_sound_1, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartStandard.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn01.wav");
 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load02.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KS3100_start_sound_2, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartStandard.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn01.wav");
 SOUND_EVENT_RUNNING_16: return sound("sounds/Running02.wav");

 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load02.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KS3100_start_sound, param_sound_effect) {
 1: sw_KS3100_start_sound_1;
 2: sw_KS3100_start_sound_2;
 return CB_RESULT_NO_SOUND;
}



switch(FEAT_TRAINS, SELF, sw_KS200_2000_start_sound_1, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartGear.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn01.wav");
 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load02.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KS200_2000_start_sound_2, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartGear.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn01.wav");
 SOUND_EVENT_RUNNING_16: return sound("sounds/Running02.wav");

 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load02.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KS200_2000_start_sound, param_sound_effect) {
 1: sw_KS200_2000_start_sound_1;
 2: sw_KS200_2000_start_sound_2;
 return CB_RESULT_NO_SOUND;
}



switch(FEAT_TRAINS, SELF, sw_KS3200_start_sound_1, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartStandard.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn01.wav");
 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load02.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KS3200_start_sound_2, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartStandard.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn01.wav");
 SOUND_EVENT_RUNNING_16: return sound("sounds/Running02.wav");

 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load02.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KS3200_start_sound, param_sound_effect) {
 1: sw_KS3200_start_sound_1;
 2: sw_KS3200_start_sound_2;
 return CB_RESULT_NO_SOUND;
}



switch(FEAT_TRAINS, SELF, sw_KS3300_start_sound_1, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartStandard.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn01.wav");
 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load02.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KS3300_start_sound_2, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartStandard.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn01.wav");
 SOUND_EVENT_RUNNING_16: return sound("sounds/Running02.wav");

 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load02.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KS3300_start_sound, param_sound_effect) {
 1: sw_KS3300_start_sound_1;
 2: sw_KS3300_start_sound_2;
 return CB_RESULT_NO_SOUND;
}



switch(FEAT_TRAINS, SELF, sw_KS3500_start_sound_1, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartStandard.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn03.wav");
 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load02.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KS3500_start_sound_2, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartStandard.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn01.wav");
 SOUND_EVENT_RUNNING_16: return sound("sounds/Running02.wav");

 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load02.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KS3500_start_sound, param_sound_effect) {
 1: sw_KS3500_start_sound_1;
 2: sw_KS3500_start_sound_2;
 return CB_RESULT_NO_SOUND;
}



switch(FEAT_TRAINS, SELF, sw_KSAE1_start_sound_1, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartStandard.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn03.wav");
 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load02.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KSAE1_start_sound_2, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartStandard.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn01.wav");
 SOUND_EVENT_RUNNING_16: return sound("sounds/Running02.wav");

 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load02.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KSAE1_start_sound, param_sound_effect) {
 1: sw_KSAE1_start_sound_1;
 2: sw_KSAE1_start_sound_2;
 return CB_RESULT_NO_SOUND;
}



switch(FEAT_TRAINS, SELF, sw_KS3600_start_sound_1, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartInverter.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn03.wav");
 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load02.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KS3600_start_sound_2, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartInverter.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn03.wav");
 SOUND_EVENT_RUNNING_16: return sound("sounds/Running02.wav");

 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load02.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KS3600_start_sound, param_sound_effect) {
 1: sw_KS3600_start_sound_1;
 2: sw_KS3600_start_sound_2;
 return CB_RESULT_NO_SOUND;
}



switch(FEAT_TRAINS, SELF, sw_KS3700_start_sound_1, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartInverter.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn06.wav");
 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load02.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KS3700_start_sound_2, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartInverter.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn06.wav");
 SOUND_EVENT_RUNNING_16: return sound("sounds/Running03.wav");

 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load02.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KS3700_start_sound, param_sound_effect) {
 1: sw_KS3700_start_sound_1;
 2: sw_KS3700_start_sound_2;
 return CB_RESULT_NO_SOUND;
}



switch(FEAT_TRAINS, SELF, sw_KSAE100_start_sound_1, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartInverter.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn06.wav");
 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load03.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KSAE100_start_sound_2, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartInverter.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn06.wav");
 SOUND_EVENT_RUNNING_16: return sound("sounds/Running03.wav");

 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load03.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KSAE100_start_sound, param_sound_effect) {
 1: sw_KSAE100_start_sound_1;
 2: sw_KSAE100_start_sound_2;
 return CB_RESULT_NO_SOUND;
}



switch(FEAT_TRAINS, SELF, sw_KS3400_start_sound_1, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartStandard.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn06.wav");
 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load02.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KS3400_start_sound_2, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartStandard.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn06.wav");
 SOUND_EVENT_RUNNING_16: return sound("sounds/Running03.wav");

 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load02.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KS3400_start_sound, param_sound_effect) {
 1: sw_KS3400_start_sound_1;
 2: sw_KS3400_start_sound_2;
 return CB_RESULT_NO_SOUND;
}



switch(FEAT_TRAINS, SELF, sw_KS3000_2_start_sound_1, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartModern.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn06.wav");
 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load03.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KS3000_2_start_sound_2, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartModern.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn06.wav");
 SOUND_EVENT_RUNNING_16: return sound("sounds/Running03.wav");

 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load03.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KS3000_2_start_sound, param_sound_effect) {
 1: sw_KS3000_2_start_sound_1;
 2: sw_KS3000_2_start_sound_2;
 return CB_RESULT_NO_SOUND;
}



switch(FEAT_TRAINS, SELF, sw_KSAE2_start_sound_1, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/Horn04.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn06.wav");
 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load03.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KSAE2_start_sound_2, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/Horn04.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn06.wav");
 SOUND_EVENT_RUNNING_16: return sound("sounds/Running03.wav");

 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load03.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_KSAE2_start_sound, param_sound_effect) {
 1: sw_KSAE2_start_sound_1;
 2: sw_KSAE2_start_sound_2;
 return CB_RESULT_NO_SOUND;
}



switch(FEAT_TRAINS, SELF, sw_HKT7000_start_sound_1, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartStandard.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn05.wav");
 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load02.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_HKT7000_start_sound_2, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartStandard.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn05.wav");
 SOUND_EVENT_RUNNING_16: return sound("sounds/Running02.wav");

 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load02.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_HKT7000_start_sound, param_sound_effect) {
 1: sw_HKT7000_start_sound_1;
 2: sw_HKT7000_start_sound_2;
 return CB_RESULT_NO_SOUND;
}



switch(FEAT_TRAINS, SELF, sw_HKT7150_start_sound_1, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartStandard.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn06.wav");
 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load02.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_HKT7150_start_sound_2, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartStandard.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn06.wav");
 SOUND_EVENT_RUNNING_16: return sound("sounds/Running03.wav");

 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load02.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_HKT7150_start_sound, param_sound_effect) {
 1: sw_HKT7150_start_sound_1;
 2: sw_HKT7150_start_sound_2;
 return CB_RESULT_NO_SOUND;
}



switch(FEAT_TRAINS, SELF, sw_HKT7050_start_sound_1, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartStandard.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn01.wav");
 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load02.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_HKT7050_start_sound_2, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartStandard.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn01.wav");
 SOUND_EVENT_RUNNING_16: return sound("sounds/Running02.wav");

 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load02.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_HKT7050_start_sound, param_sound_effect) {
 1: sw_HKT7050_start_sound_1;
 2: sw_HKT7050_start_sound_2;
 return CB_RESULT_NO_SOUND;
}



switch(FEAT_TRAINS, SELF, sw_HKT7300_start_sound_1, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartInverter.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn06.wav");
 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load03.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_HKT7300_start_sound_2, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartInverter.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn06.wav");
 SOUND_EVENT_RUNNING_16: return sound("sounds/Running03.wav");

 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load03.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_HKT7300_start_sound, param_sound_effect) {
 1: sw_HKT7300_start_sound_1;
 2: sw_HKT7300_start_sound_2;
 return CB_RESULT_NO_SOUND;
}



switch(FEAT_TRAINS, SELF, sw_HKT7250_start_sound_1, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartStandard.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn01.wav");
 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load02.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_HKT7250_start_sound_2, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartStandard.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn01.wav");
 SOUND_EVENT_RUNNING_16: return sound("sounds/Running02.wav");

 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load02.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_HKT7250_start_sound, param_sound_effect) {
 1: sw_HKT7250_start_sound_1;
 2: sw_HKT7250_start_sound_2;
 return CB_RESULT_NO_SOUND;
}



switch(FEAT_TRAINS, SELF, sw_HT7500_start_sound_1, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartModern.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn06.wav");
 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load03.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_HT7500_start_sound_2, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartModern.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn06.wav");
 SOUND_EVENT_RUNNING_16: return sound("sounds/Running03.wav");

 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load03.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_HT7500_start_sound, param_sound_effect) {
 1: sw_HT7500_start_sound_1;
 2: sw_HT7500_start_sound_2;
 return CB_RESULT_NO_SOUND;
}



switch(FEAT_TRAINS, SELF, sw_CNT9000_start_sound_1, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartStandard.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn06.wav");
 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load03.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_CNT9000_start_sound_2, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartStandard.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn06.wav");
 SOUND_EVENT_RUNNING_16: return sound("sounds/Running02.wav");

 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load03.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_CNT9000_start_sound, param_sound_effect) {
 1: sw_CNT9000_start_sound_1;
 2: sw_CNT9000_start_sound_2;
 return CB_RESULT_NO_SOUND;
}



switch(FEAT_TRAINS, SELF, sw_CNT9100_start_sound_1, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartInverter.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn06.wav");
 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load03.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_CNT9100_start_sound_2, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartInverter.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn06.wav");
 SOUND_EVENT_RUNNING_16: return sound("sounds/Running03.wav");

 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load03.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_CNT9100_start_sound, param_sound_effect) {
 1: sw_CNT9100_start_sound_1;
 2: sw_CNT9100_start_sound_2;
 return CB_RESULT_NO_SOUND;
}



switch(FEAT_TRAINS, SELF, sw_TOEI5000_start_sound_1, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartStandard.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn01.wav");
 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load02.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_TOEI5000_start_sound_2, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartStandard.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn01.wav");
 SOUND_EVENT_RUNNING_16: return sound("sounds/Running02.wav");

 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load02.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_TOEI5000_start_sound, param_sound_effect) {
 1: sw_TOEI5000_start_sound_1;
 2: sw_TOEI5000_start_sound_2;
 return CB_RESULT_NO_SOUND;
}



switch(FEAT_TRAINS, SELF, sw_TOEI5200_start_sound_1, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartStandard.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn03.wav");
 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load02.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_TOEI5200_start_sound_2, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartStandard.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn03.wav");
 SOUND_EVENT_RUNNING_16: return sound("sounds/Running02.wav");

 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load02.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_TOEI5200_start_sound, param_sound_effect) {
 1: sw_TOEI5200_start_sound_1;
 2: sw_TOEI5200_start_sound_2;
 return CB_RESULT_NO_SOUND;
}



switch(FEAT_TRAINS, SELF, sw_TOEI5300_start_sound_1, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartInverter.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn07.wav");
 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load03.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_TOEI5300_start_sound_2, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartInverter.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn07.wav");
 SOUND_EVENT_RUNNING_16: return sound("sounds/Running03.wav");

 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load03.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_TOEI5300_start_sound, param_sound_effect) {
 1: sw_TOEI5300_start_sound_1;
 2: sw_TOEI5300_start_sound_2;
 return CB_RESULT_NO_SOUND;
}



switch(FEAT_TRAINS, SELF, sw_SKS33_start_sound_1, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartGear.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn02.wav");
 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load01.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_SKS33_start_sound_2, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartGear.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn02.wav");
 SOUND_EVENT_RUNNING_16: return sound("sounds/Running01.wav");

 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load01.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_SKS33_start_sound, param_sound_effect) {
 1: sw_SKS33_start_sound_1;
 2: sw_SKS33_start_sound_2;
 return CB_RESULT_NO_SOUND;
}



switch(FEAT_TRAINS, SELF, sw_SKS300_start_sound_1, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartGear.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn01.wav");
 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load01.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_SKS300_start_sound_2, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartGear.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn01.wav");
 SOUND_EVENT_RUNNING_16: return sound("sounds/Running01.wav");

 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load01.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_SKS300_start_sound, param_sound_effect) {
 1: sw_SKS300_start_sound_1;
 2: sw_SKS300_start_sound_2;
 return CB_RESULT_NO_SOUND;
}



switch(FEAT_TRAINS, SELF, sw_SKS20_start_sound_1, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartGear.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn02.wav");
 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load01.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_SKS20_start_sound_2, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartGear.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn02.wav");
 SOUND_EVENT_RUNNING_16: return sound("sounds/Running02.wav");

 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load01.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_SKS20_start_sound, param_sound_effect) {
 1: sw_SKS20_start_sound_1;
 2: sw_SKS20_start_sound_2;
 return CB_RESULT_NO_SOUND;
}



switch(FEAT_TRAINS, SELF, sw_SKS800_start_sound_1, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartStandard.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn01.wav");
 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load02.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_SKS800_start_sound_2, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartStandard.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn01.wav");
 SOUND_EVENT_RUNNING_16: return sound("sounds/Running02.wav");

 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load02.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_SKS800_start_sound, param_sound_effect) {
 1: sw_SKS800_start_sound_1;
 2: sw_SKS800_start_sound_2;
 return CB_RESULT_NO_SOUND;
}



switch(FEAT_TRAINS, SELF, sw_SKS8000_start_sound_1, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartStandard.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn01.wav");
 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load02.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_SKS8000_start_sound_2, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartStandard.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn01.wav");
 SOUND_EVENT_RUNNING_16: return sound("sounds/Running03.wav");

 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load02.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_SKS8000_start_sound, param_sound_effect) {
 1: sw_SKS8000_start_sound_1;
 2: sw_SKS8000_start_sound_2;
 return CB_RESULT_NO_SOUND;
}



switch(FEAT_TRAINS, SELF, sw_SKS8800_start_sound_1, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartInverter.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn02.wav");
 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load02.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_SKS8800_start_sound_2, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartInverter.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn02.wav");
 SOUND_EVENT_RUNNING_16: return sound("sounds/Running02.wav");

 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load02.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_SKS8800_start_sound, param_sound_effect) {
 1: sw_SKS8800_start_sound_1;
 2: sw_SKS8800_start_sound_2;
 return CB_RESULT_NO_SOUND;
}



switch(FEAT_TRAINS, SELF, sw_SKS8900_start_sound_1, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartInverter.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn07.wav");
 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load02.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_SKS8900_start_sound_2, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartInverter.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn07.wav");
 SOUND_EVENT_RUNNING_16: return sound("sounds/Running02.wav");

 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load02.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_SKS8900_start_sound, param_sound_effect) {
 1: sw_SKS8900_start_sound_1;
 2: sw_SKS8900_start_sound_2;
 return CB_RESULT_NO_SOUND;
}



switch(FEAT_TRAINS, SELF, sw_SKSN800_start_sound_1, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartModern.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn07.wav");
 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load03.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_SKSN800_start_sound_2, extra_callback_info1) {
 SOUND_EVENT_START: return sound("sounds/StartModern.wav");
 SOUND_EVENT_TUNNEL: return sound("sounds/Horn07.wav");
 SOUND_EVENT_RUNNING_16: return sound("sounds/Running03.wav");

 SOUND_EVENT_LOAD_UNLOAD: return sound("sounds/Load03.wav");
 return CB_RESULT_NO_SOUND;
}

switch(FEAT_TRAINS, SELF, sw_SKSN800_start_sound, param_sound_effect) {
 1: sw_SKSN800_start_sound_1;
 2: sw_SKSN800_start_sound_2;
 return CB_RESULT_NO_SOUND;
}
# 10 "JPprivate.pnml" 2
# 1 "src/controllers/logos.pnml" 1
template tmpl_purchase_1c(x,y) {
    [x +120, y,32, 17, 7, -13]
}
template tmpl_purchase_2c(x,y) {
    [x +32, y, 8, 17, 39, -13]
}
template tmpl_purchase_1c_7(x,y) {
    [x +120, y,28, 17, 7, -13]
}
template tmpl_purchase_2c_7(x,y) {
    [x +32, y, 12, 17, 35, -13]
}
template tmpl_lines(x,y) {
    [x, y, 15, 15, -14, -10]
}
template tmpl_logo_metro(x,y) {
    [x, y, 15, 15, -32, -10]
}
template tmpl_logo_private(x,y) {
    [x, y, 35, 15, -32, -10]
}
spriteset (sprite_logo_tokyo_metro, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,"gfx/logos/m_operators_tokyo.png") { tmpl_logo_metro(0, 0) }
spriteset (sprite_logo_toei, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,"gfx/logos/m_operators_tokyo.png") { tmpl_logo_metro(0, 15) }

spriteset (sprite_logo_line_tk_ginza, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,"gfx/logos/m_lines_tokyo.png") { tmpl_lines(0, 0) }
spriteset (sprite_logo_line_tk_maru, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,"gfx/logos/m_lines_tokyo.png") { tmpl_lines(15, 0) }
spriteset (sprite_logo_line_tk_maru_branch, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,"gfx/logos/m_lines_tokyo.png") { tmpl_lines(30, 0) }
spriteset (sprite_logo_line_tk_hibiya, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,"gfx/logos/m_lines_tokyo.png") { tmpl_lines(45, 0) }
spriteset (sprite_logo_line_tk_tozai, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,"gfx/logos/m_lines_tokyo.png") { tmpl_lines(60, 0) }
spriteset (sprite_logo_line_tk_chiyoda, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,"gfx/logos/m_lines_tokyo.png") { tmpl_lines(75, 0) }
spriteset (sprite_logo_line_tk_yurakucho, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,"gfx/logos/m_lines_tokyo.png") { tmpl_lines(90, 0) }
spriteset (sprite_logo_line_tk_fuku, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,"gfx/logos/m_lines_tokyo.png") { tmpl_lines(105, 0) }
spriteset (sprite_logo_line_tk_hanzomon, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,"gfx/logos/m_lines_tokyo.png") { tmpl_lines(120, 0) }
spriteset (sprite_logo_line_tk_namboku, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,"gfx/logos/m_lines_tokyo.png") { tmpl_lines(135, 0) }
spriteset (sprite_logo_line_tk_asakusa, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,"gfx/logos/m_lines_tokyo.png") { tmpl_lines(150, 0) }
spriteset (sprite_logo_line_tk_mita, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,"gfx/logos/m_lines_tokyo.png") { tmpl_lines(165, 0) }
spriteset (sprite_logo_line_tk_shinjuku, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,"gfx/logos/m_lines_tokyo.png") { tmpl_lines(180, 0) }
spriteset (sprite_logo_line_tk_oedo, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,"gfx/logos/m_lines_tokyo.png") { tmpl_lines(195, 0) }

spriteset (sprite_logo_toyo, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,"gfx/logos/p_operators_tokyo_s.png") { tmpl_logo_private(0, 0) }
spriteset (sprite_logo_saitama, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,"gfx/logos/p_operators_tokyo_s.png") { tmpl_logo_private(0, 15) }
spriteset (sprite_logo_minatomirai, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,"gfx/logos/p_operators_tokyo_s.png") { tmpl_logo_private(0, 30) }

spriteset (sprite_logo_yokohama_subway, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,"gfx/logos/m_operators_yokohama.png") { tmpl_logo_metro(0,0) }
spriteset (sprite_logo_line_yk_blue, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,"gfx/logos/m_lines_yokohama.png") { tmpl_lines(0, 0) }
spriteset (sprite_logo_line_yk_green, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,"gfx/logos/m_lines_yokohama.png") { tmpl_lines(15, 0) }

spriteset (sprite_logo_osaka_metro, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,"gfx/logos/m_operators_osaka.png") { tmpl_logo_metro(0,0) }
spriteset (sprite_logo_osaka_kitakyu, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,"gfx/logos/m_operators_osaka.png") { tmpl_logo_metro(0,15) }

spriteset (sprite_logo_line_os_midosuji, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,"gfx/logos/m_lines_osaka.png") { tmpl_lines(0, 0) }
spriteset (sprite_logo_line_os_tani, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,"gfx/logos/m_lines_osaka.png") { tmpl_lines(15, 0) }
spriteset (sprite_logo_line_os_yotsu, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,"gfx/logos/m_lines_osaka.png") { tmpl_lines(30, 0) }
spriteset (sprite_logo_line_os_chuo, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,"gfx/logos/m_lines_osaka.png") { tmpl_lines(45, 0) }
spriteset (sprite_logo_line_os_sennichi, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,"gfx/logos/m_lines_osaka.png") { tmpl_lines(60, 0) }
spriteset (sprite_logo_line_os_sakai, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,"gfx/logos/m_lines_osaka.png") { tmpl_lines(75, 0) }
spriteset (sprite_logo_line_os_tsurumi, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,"gfx/logos/m_lines_osaka.png") { tmpl_lines(90, 0) }
spriteset (sprite_logo_line_os_imazatosuji, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,"gfx/logos/m_lines_osaka.png") { tmpl_lines(105, 0) }

spriteset (sprite_logo_kintetsu, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,"gfx/logos/p_operators_osaka_m.png") { tmpl_logo_private(0, 0) }
spriteset (sprite_logo_hankyu, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,"gfx/logos/p_operators_osaka_m.png") { tmpl_logo_private(0, 15) }

spriteset (sprite_logo_kyoto_subway, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,"gfx/logos/m_operators_kyoto.png") { tmpl_logo_metro(0,0) }
spriteset (sprite_logo_line_kt_karasuma, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,"gfx/logos/m_lines_kyoto.png") { tmpl_lines(0, 0) }
spriteset (sprite_logo_line_kt_tozai, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,"gfx/logos/m_lines_kyoto.png") { tmpl_lines(15, 0) }

spriteset (sprite_logo_nagoya_subway, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,"gfx/logos/m_operators_nagoya.png") { tmpl_logo_metro(0,0) }
spriteset (sprite_logo_line_ng_higashiyama, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,"gfx/logos/m_lines_nagoya.png") { tmpl_lines(0, 0) }
spriteset (sprite_logo_line_ng_meijo, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,"gfx/logos/m_lines_nagoya.png") { tmpl_lines(15, 0) }
spriteset (sprite_logo_line_ng_tsurumirai, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,"gfx/logos/m_lines_nagoya.png") { tmpl_lines(30, 0) }
spriteset (sprite_logo_line_ng_sakura, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,"gfx/logos/m_lines_nagoya.png") { tmpl_lines(45, 0) }
spriteset (sprite_logo_line_ng_kamiida, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,"gfx/logos/m_lines_nagoya.png") { tmpl_lines(60, 0) }

spriteset (sprite_logo_sendai_subway, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,"gfx/logos/m_operators_sendai.png") { tmpl_logo_metro(0,0) }
spriteset (sprite_logo_line_sn_namboku, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,"gfx/logos/m_lines_sendai.png") { tmpl_lines(0, 0) }
spriteset (sprite_logo_line_sn_tozai, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,"gfx/logos/m_lines_sendai.png") { tmpl_lines(15, 0) }

spriteset (sprite_logo_kobe_subway, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,"gfx/logos/m_operators_kobe.png") { tmpl_logo_metro(0,0) }
spriteset (sprite_logo_line_kb_seishin, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,"gfx/logos/m_lines_kobe.png") { tmpl_lines(0, 0) }
spriteset (sprite_logo_line_kb_kaigan, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,"gfx/logos/m_lines_kobe.png") { tmpl_lines(15, 0) }

spriteset (sprite_logo_fukuoka_subway, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,"gfx/logos/m_operators_fukuoka.png") { tmpl_logo_metro(0,0) }
spriteset (sprite_logo_line_fk_kukou, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,"gfx/logos/m_lines_fukuoka.png") { tmpl_lines(0, 0) }
spriteset (sprite_logo_line_fk_nanakuma, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,"gfx/logos/m_lines_fukuoka.png") { tmpl_lines(15, 0) }

spriteset (sprite_logo_tokyu, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,"gfx/logos/p_operators_tokyo_m.png") { tmpl_logo_private(0, 0) }
spriteset (sprite_logo_tobu, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,"gfx/logos/p_operators_tokyo_m.png") { tmpl_logo_private(0, 15) }
spriteset (sprite_logo_seibu, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,"gfx/logos/p_operators_tokyo_m.png") { tmpl_logo_private(0, 30) }
spriteset (sprite_logo_odakyu, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,"gfx/logos/p_operators_tokyo_m.png") { tmpl_logo_private(0, 45) }
spriteset (sprite_logo_sotetsu, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,"gfx/logos/p_operators_tokyo_m.png") { tmpl_logo_private(0, 60) }
spriteset (sprite_logo_keikyu, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,"gfx/logos/p_operators_tokyo_m.png") { tmpl_logo_private(0, 75) }
spriteset (sprite_logo_keisei, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,"gfx/logos/p_operators_tokyo_m.png") { tmpl_logo_private(0, 90) }
spriteset (sprite_logo_shin_keisei, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,"gfx/logos/p_operators_tokyo_m.png") { tmpl_logo_private(0, 105) }
spriteset (sprite_logo_hokuso, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,"gfx/logos/p_operators_tokyo_m.png") { tmpl_logo_private(0, 120) }

spriteset (sprite_logo_twr, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,"gfx/logos/p_operators_tokyo_s.png") { tmpl_logo_private(0, 45) }
spriteset (sprite_logo_tsukuba, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,"gfx/logos/p_operators_tokyo_s.png") { tmpl_logo_private(0, 60) }
spriteset (sprite_logo_chiba_nt, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,"gfx/logos/p_operators_tokyo_s.png") { tmpl_logo_private(0, 75) }
spriteset (sprite_logo_chiba_e, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,"gfx/logos/p_operators_tokyo_s.png") { tmpl_logo_private(0, 90) }
spriteset (sprite_logo_shibayama, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,"gfx/logos/p_operators_tokyo_s.png") { tmpl_logo_private(0, 105) }

switch(FEAT_TRAINS, SELF, logo_tokyo_metro, param_hide_logo) {0:sprite_logo_tokyo_metro;}
switch(FEAT_TRAINS, SELF, logo_toei, param_hide_logo) {0:sprite_logo_toei;}

switch(FEAT_TRAINS, SELF, logo_line_tk_ginza, param_hide_logo) {0:sprite_logo_line_tk_ginza;}
switch(FEAT_TRAINS, SELF, logo_line_tk_maru, param_hide_logo) {0:sprite_logo_line_tk_maru;}
switch(FEAT_TRAINS, SELF, logo_line_tk_maru_branch, param_hide_logo) {0:sprite_logo_line_tk_maru_branch;}
switch(FEAT_TRAINS, SELF, logo_line_tk_hibiya, param_hide_logo) {0:sprite_logo_line_tk_hibiya;}
switch(FEAT_TRAINS, SELF, logo_line_tk_tozai, param_hide_logo) {0:sprite_logo_line_tk_tozai;}
switch(FEAT_TRAINS, SELF, logo_line_tk_chiyoda, param_hide_logo) {0:sprite_logo_line_tk_chiyoda;}
switch(FEAT_TRAINS, SELF, logo_line_tk_yurakucho, param_hide_logo) {0:sprite_logo_line_tk_yurakucho;}
switch(FEAT_TRAINS, SELF, logo_line_tk_fuku, param_hide_logo) {0:sprite_logo_line_tk_fuku;}
switch(FEAT_TRAINS, SELF, logo_line_tk_hanzomon, param_hide_logo) {0:sprite_logo_line_tk_hanzomon;}
switch(FEAT_TRAINS, SELF, logo_line_tk_namboku, param_hide_logo) {0:sprite_logo_line_tk_namboku;}
switch(FEAT_TRAINS, SELF, logo_line_tk_asakusa, param_hide_logo) {0:sprite_logo_line_tk_asakusa;}
switch(FEAT_TRAINS, SELF, logo_line_tk_mita, param_hide_logo) {0:sprite_logo_line_tk_mita;}
switch(FEAT_TRAINS, SELF, logo_line_tk_shinjuku, param_hide_logo) {0:sprite_logo_line_tk_shinjuku;}
switch(FEAT_TRAINS, SELF, logo_line_tk_oedo, param_hide_logo) {0:sprite_logo_line_tk_oedo;}

switch(FEAT_TRAINS, SELF, logo_toyo, param_hide_logo) {0:sprite_logo_toyo;}
switch(FEAT_TRAINS, SELF, logo_saitama, param_hide_logo) {0:sprite_logo_saitama;}
switch(FEAT_TRAINS, SELF, logo_minatomirai, param_hide_logo) {0:sprite_logo_minatomirai;}

switch(FEAT_TRAINS, SELF, logo_yokohama_subway, param_hide_logo) {0:sprite_logo_yokohama_subway;}
switch(FEAT_TRAINS, SELF, logo_line_yk_blue, param_hide_logo) {0:sprite_logo_line_yk_blue;}
switch(FEAT_TRAINS, SELF, logo_line_yk_green, param_hide_logo) {0:sprite_logo_line_yk_green;}

switch(FEAT_TRAINS, SELF, logo_osaka_metro, param_hide_logo) {0:sprite_logo_osaka_metro;}
switch(FEAT_TRAINS, SELF, logo_osaka_kitakyu, param_hide_logo) {0:sprite_logo_osaka_kitakyu;}

switch(FEAT_TRAINS, SELF, logo_line_os_midosuji, param_hide_logo) {0:sprite_logo_line_os_midosuji;}
switch(FEAT_TRAINS, SELF, logo_line_os_tani, param_hide_logo) {0:sprite_logo_line_os_tani;}
switch(FEAT_TRAINS, SELF, logo_line_os_yotsu, param_hide_logo) {0:sprite_logo_line_os_yotsu;}
switch(FEAT_TRAINS, SELF, logo_line_os_chuo, param_hide_logo) {0:sprite_logo_line_os_chuo;}
switch(FEAT_TRAINS, SELF, logo_line_os_sennichi, param_hide_logo) {0:sprite_logo_line_os_sennichi;}
switch(FEAT_TRAINS, SELF, logo_line_os_sakai, param_hide_logo) {0:sprite_logo_line_os_sakai;}
switch(FEAT_TRAINS, SELF, logo_line_os_tsurumi, param_hide_logo) {0:sprite_logo_line_os_tsurumi;}
switch(FEAT_TRAINS, SELF, logo_line_os_imazatosuji, param_hide_logo) {0:sprite_logo_line_os_imazatosuji;}

switch(FEAT_TRAINS, SELF, logo_kintetsu, param_hide_logo) {0:sprite_logo_kintetsu;}
switch(FEAT_TRAINS, SELF, logo_hankyu, param_hide_logo) {0:sprite_logo_hankyu;}

switch(FEAT_TRAINS, SELF, logo_kyoto_subway, param_hide_logo) {0:sprite_logo_kyoto_subway;}
switch(FEAT_TRAINS, SELF, logo_line_kt_karasuma, param_hide_logo) {0:sprite_logo_line_kt_karasuma;}
switch(FEAT_TRAINS, SELF, logo_line_kt_tozai, param_hide_logo) {0:sprite_logo_line_kt_tozai;}

switch(FEAT_TRAINS, SELF, logo_nagoya_subway, param_hide_logo) {0:sprite_logo_nagoya_subway;}
switch(FEAT_TRAINS, SELF, logo_line_ng_higashiyama, param_hide_logo) {0:sprite_logo_line_ng_higashiyama;}
switch(FEAT_TRAINS, SELF, logo_line_ng_meijo, param_hide_logo) {0:sprite_logo_line_ng_meijo;}
switch(FEAT_TRAINS, SELF, logo_line_ng_tsurumirai, param_hide_logo) {0:sprite_logo_line_ng_tsurumirai;}
switch(FEAT_TRAINS, SELF, logo_line_ng_sakura, param_hide_logo) {0:sprite_logo_line_ng_sakura;}
switch(FEAT_TRAINS, SELF, logo_line_ng_kamiida, param_hide_logo) {0:sprite_logo_line_ng_kamiida;}

switch(FEAT_TRAINS, SELF, logo_sendai_subway, param_hide_logo) {0:sprite_logo_sendai_subway;}
switch(FEAT_TRAINS, SELF, logo_line_sn_namboku, param_hide_logo) {0:sprite_logo_line_sn_namboku;}
switch(FEAT_TRAINS, SELF, logo_line_sn_tozai, param_hide_logo) {0:sprite_logo_line_sn_tozai;}

switch(FEAT_TRAINS, SELF, logo_kobe_subway, param_hide_logo) {0:sprite_logo_kobe_subway;}
switch(FEAT_TRAINS, SELF, logo_line_kb_seishin, param_hide_logo) {0:sprite_logo_line_kb_seishin;}
switch(FEAT_TRAINS, SELF, logo_line_kb_kaigan, param_hide_logo) {0:sprite_logo_line_kb_kaigan;}

switch(FEAT_TRAINS, SELF, logo_fukuoka_subway, param_hide_logo) {0:sprite_logo_fukuoka_subway;}
switch(FEAT_TRAINS, SELF, logo_line_fk_kukou, param_hide_logo) {0:sprite_logo_line_fk_kukou;}
switch(FEAT_TRAINS, SELF, logo_line_fk_nanakuma, param_hide_logo) {0:sprite_logo_line_fk_nanakuma;}

switch(FEAT_TRAINS, SELF, logo_tokyu, param_hide_logo) {0:sprite_logo_tokyu;}
switch(FEAT_TRAINS, SELF, logo_tobu, param_hide_logo) {0:sprite_logo_tobu;}
switch(FEAT_TRAINS, SELF, logo_seibu, param_hide_logo) {0:sprite_logo_seibu;}
switch(FEAT_TRAINS, SELF, logo_odakyu, param_hide_logo) {0:sprite_logo_odakyu;}
switch(FEAT_TRAINS, SELF, logo_sotetsu, param_hide_logo) {0:sprite_logo_sotetsu;}
switch(FEAT_TRAINS, SELF, logo_keikyu, param_hide_logo) {0:sprite_logo_keikyu;}
switch(FEAT_TRAINS, SELF, logo_keisei, param_hide_logo) {0:sprite_logo_keisei;}
switch(FEAT_TRAINS, SELF, logo_shin_keisei, param_hide_logo) {0:sprite_logo_shin_keisei;}
switch(FEAT_TRAINS, SELF, logo_hokuso, param_hide_logo) {0:sprite_logo_hokuso;}

switch(FEAT_TRAINS, SELF, logo_twr, param_hide_logo) {0:sprite_logo_twr;}
switch(FEAT_TRAINS, SELF, logo_tsukuba, param_hide_logo) {0:sprite_logo_tsukuba;}
switch(FEAT_TRAINS, SELF, logo_chiba_nt, param_hide_logo) {0:sprite_logo_chiba_nt;}
switch(FEAT_TRAINS, SELF, logo_chiba_e, param_hide_logo) {0:sprite_logo_chiba_e;}
switch(FEAT_TRAINS, SELF, logo_shibayama, param_hide_logo) {0:sprite_logo_shibayama;}
# 11 "JPprivate.pnml" 2
# 1 "src/controllers/parts.pnml" 1


    spriteset(ac_vents_1_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/parts/ac/ac_vents_1.png"){ tmpl_purchase_1c(0, 0) }
    spriteset(ac_vents_1_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/parts/ac/ac_vents_1.png"){ tmpl_purchase_2c(0, 0) }
    spriteset(ac_vents_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/parts/ac/ac_vents_1.png"){ tmpl_std(0, 0) }
    spriteset(ac_vents_1_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/parts/ac/ac_vents_1.png"){ tmpl_std_rev(0, 0) }

    spriteset(ac_vents_1_mot_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/parts/ac/ac_vents_1.png"){ tmpl_purchase_1c(0, 25) }
    spriteset(ac_vents_1_mot_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/parts/ac/ac_vents_1.png"){ tmpl_purchase_2c(0, 25) }
    spriteset(ac_vents_1_mot_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/parts/ac/ac_vents_1.png"){ tmpl_std(0, 25) }
    spriteset(ac_vents_1_mot_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/parts/ac/ac_vents_1.png"){ tmpl_std_rev(0, 25) }

    switch(FEAT_TRAINS, PARENT, ac_vents_1_mot_rev, vehicle_is_reversed){1: ac_vents_1_mot_2; ac_vents_1_mot_1;}

    spriteset(ac_vents_ac_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/parts/ac/ac_vents_ac_1.png"){ tmpl_symm(0, 50) }

    spriteset(ac_vents_ac_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/parts/ac/ac_vents_ac_1.png"){ tmpl_std(0, 0) }
    spriteset(ac_vents_ac_1_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/parts/ac/ac_vents_ac_1.png"){ tmpl_std_rev(0, 0) }

    spriteset(ac_vents_ac_1_mot_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/parts/ac/ac_vents_ac_1.png"){ tmpl_std(0, 25) }
    spriteset(ac_vents_ac_1_mot_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/parts/ac/ac_vents_ac_1.png"){ tmpl_std_rev(0, 25) }

    switch(FEAT_TRAINS, PARENT, ac_vents_ac_1_mot_rev, vehicle_is_reversed){1: ac_vents_ac_1_mot_2; ac_vents_ac_1_mot_1;}

    spriteset(ac_vents_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/parts/ac/ac_vents_1.png"){ tmpl_symm(0, 50) }

    spriteset(ac_long_toshiba_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/parts/ac/ac_long_toshiba.png"){ tmpl_purchase_1c(0, 0) }
    spriteset(ac_long_toshiba_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/parts/ac/ac_long_toshiba.png"){ tmpl_purchase_2c(0, 0) }
    spriteset(ac_long_toshiba, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/parts/ac/ac_long_toshiba.png"){ tmpl_symm(0, 0) }

    spriteset(ac_super_long_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/parts/ac/ac_super_long.png"){ tmpl_purchase_1c(0, 5) }
    spriteset(ac_super_long_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/parts/ac/ac_super_long.png"){ tmpl_purchase_2c(0, 5) }
    spriteset(ac_super_long_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/parts/ac/ac_super_long.png"){ tmpl_std(0, 5) }
    spriteset(ac_super_long_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/parts/ac/ac_super_long.png"){ tmpl_std_rev(0, 5) }
    switch(FEAT_TRAINS, PARENT, ac_super_long, vehicle_is_reversed){1: ac_super_long_f; ac_super_long_rev;}

    spriteset(ac_super_long_h_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/parts/ac/ac_super_long_h.png"){ tmpl_purchase_1c(0, 0) }
    spriteset(ac_super_long_h, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/parts/ac/ac_super_long_h.png"){ tmpl_std(0, 0) }
    spriteset(ac_super_long_h_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/parts/ac/ac_super_long_h.png"){ tmpl_std_rev(0, 0) }



    spriteset(panto_d_arm, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/parts/panto/panto_d_arm.png"){ tmpl_symm(0, 0) }
    spriteset(panto_d_arm_single, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/parts/panto/panto_d_arm_single.png"){ tmpl_std(0, 0) }
    spriteset(panto_d_arm_single_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/parts/panto/panto_d_arm_single.png"){ tmpl_std_rev(0, 0) }



    spriteset(panto_arm, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/parts/panto/panto_arm.png"){ tmpl_symm(0, 0) }
    spriteset(panto_arm_single, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/parts/panto/panto_arm_single.png"){ tmpl_std(0, 0) }
    spriteset(panto_arm_single_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/parts/panto/panto_arm_single.png"){ tmpl_std_rev(0, 0) }


    spriteset(panto_arm_n, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/parts/panto/panto_arm.png"){ tmpl_symm(0, 0) }
    spriteset(panto_arm_n_single, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/parts/panto/panto_arm_single.png"){ tmpl_std(0, 0) }
    spriteset(panto_arm_n_single_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/parts/panto/panto_arm_single.png"){ tmpl_std_rev(0, 0) }





    spriteset(roof_gray_med_gfx, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/parts/roof/roof_gray_med.png"){ tmpl_symm(0, 0) }

    spriteset(roof_gray_med_h1_gfx, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/parts/roof/roof_gray_med.png"){ tmpl_roof_h1(0, 0) }
    spriteset(roof_gray_med_h1_rev_gfx, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/parts/roof/roof_gray_med.png"){ tmpl_roof_h1_rev(0, 0) }

    spriteset(roof_gray_med_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/parts/roof/roof_gray_med.png"){ tmpl_purchase_1c(0, 0) }
    spriteset(roof_gray_med_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/parts/roof/roof_gray_med.png"){ tmpl_purchase_2c(0, 0) }
    spriteset(roof_gray_med_h1_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/parts/roof/roof_gray_med.png"){ tmpl_purchase_roof_h1(0, 0) }

    spriteset(roof_gray_w_med_gfx, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/parts/roof/roof_gray_med_weathered_s1.png"){ tmpl_symm(0, 0) }

    spriteset(roof_gray_w_med_h1_gfx, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/parts/roof/roof_gray_med_weathered_s1.png"){ tmpl_roof_h1(0, 0) }
    spriteset(roof_gray_w_med_h1_rev_gfx, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/parts/roof/roof_gray_med_weathered_s1.png"){ tmpl_roof_h1_rev(0, 0) }

    switch(FEAT_TRAINS, PARENT, roof_gray_med, age_in_days>15*365){1:roof_gray_w_med_gfx; roof_gray_med_gfx;}
    switch(FEAT_TRAINS, PARENT, roof_gray_med_h1, age_in_days>15*365){1:roof_gray_w_med_h1_gfx; roof_gray_med_h1_gfx;}
    switch(FEAT_TRAINS, PARENT, roof_gray_med_h1_rev, age_in_days>15*365){1:roof_gray_w_med_h1_rev_gfx; roof_gray_med_h1_rev_gfx;}
# 12 "JPprivate.pnml" 2


# 1 "src/_metro.pnml" 1



# 1 "src/metro/Tokyo/ginza/tk_gz_type1000.pnml" 1

spriteset(tk_gz_type1000_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/ginza/type1000/type1000.png"){ tmpl_purchase_1c(0, 0) }
spriteset(tk_gz_type1000_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/ginza/type1000/type1000.png"){ tmpl_purchase_2c(0, 25) }
switch(FEAT_TRAINS, SELF, tk_gz_type1000_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_tokyo_metro; 1: logo_line_tk_ginza; 2: tk_gz_type1000_purchase_c1; 3: tk_gz_type1000_purchase_c2;}

spriteset(tk_gz_type1000_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/ginza/type1000/type1000.png"){ tmpl_std(0, 0) }
spriteset(tk_gz_type1000_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/ginza/type1000/type1000.png"){ tmpl_std(0, 25) }
spriteset(tk_gz_type1000_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/ginza/type1000/type1000.png"){ tmpl_std_rev(0, 50) }
spriteset(tk_gz_type1000_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/ginza/type1000/type1000.png"){ tmpl_std(0, 75) }
spriteset(tk_gz_type1000_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/ginza/type1000/type1000.png"){ tmpl_std(0, 100) }
spriteset(tk_gz_type1000_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/ginza/type1000/type1000.png"){ tmpl_std_rev(0, 125) }



switch(FEAT_TRAINS, SELF, sw_tk_gz_t1000_end_gfx,position_in_consist_from_end){
    0: tk_gz_type1000_end;
    tk_gz_type1000_wag;
}
switch(FEAT_TRAINS, SELF, sw_tk_gz_t1000_livery_1,position_in_consist){
    0: tk_gz_type1000_front;
    sw_tk_gz_t1000_end_gfx;
}

switch(FEAT_TRAINS, SELF, sw_tk_gz_t1000_end_1_gfx,position_in_consist_from_end){
    0: tk_gz_type1000_1_end;
    tk_gz_type1000_1_wag;
}
switch(FEAT_TRAINS, SELF, sw_tk_gz_t1000_livery_2,position_in_consist){
    0: tk_gz_type1000_1_front;
    sw_tk_gz_t1000_end_1_gfx;
}

random_switch(FEAT_TRAINS, PARENT, sw_tk_gz_t1000_livery_0){
    3: sw_tk_gz_t1000_livery_1;
    1: sw_tk_gz_t1000_livery_2;
}

switch(FEAT_TRAINS, PARENT, sw_tk_gz_t1000_lv, cargo_subtype){
    0: sw_tk_gz_t1000_livery_0;
    1: sw_tk_gz_t1000_livery_1;
    2: sw_tk_gz_t1000_livery_2;
}
switch(FEAT_TRAINS, SELF, sw_tk_gz_t1000_lv_desc, cargo_subtype){
    0: string(LV_RANDOM);
    1: string(LV_tk_gz_type1000_1);
    2: string(LV_tk_gz_type1000_2);
}

switch(FEAT_TRAINS, SELF, sw_tk_gz_t1000_attach_vehid, vehicle_type_id) {
    mu_car: return string(STR_ATTACH_1435_M_ERROR);
    mu_car_narrow: return string(STR_ATTACH_1435_M_ERROR);
    return CB_RESULT_ATTACH_ALLOW;
  }

item(FEAT_TRAINS, tk_gz_t1000, 1000) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_EIDAN), "1000", string(STR_NAME_TYPE));
        introduction_date: date(1927, 1, 1);
        model_life: 11;
        vehicle_life: 48;

        cargo_capacity: 90;
        loading_speed: param_loading_3D;
        cost_factor: 15;
        running_cost_factor: 45;

        speed: 55 km/h;
        track_type: TR_1435_M;
        power: 180 kW;
        weight: 35 ton;

        climates_available: param_disable_tokyo == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        default: sw_tk_gz_t1000_lv;
        purchase: tk_gz_type1000_purchase;
        can_attach_wagon: sw_tk_gz_t1000_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 600)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_RANGE, 1, 4)),
  string(STR_OPERATOR, string(STR_TOKYOMETRO)),
  string(STR_LINES_USED, string(STR_TOKYO_GINZA)));

        cargo_subtype_text: sw_tk_gz_t1000_lv_desc;
        length: 8;
        cargo_capacity: 90*param_capacity_mod/3;
    }
    livery_override(mu_car_metro){
        cargo_subtype_text: sw_tk_gz_t1000_lv_desc;
        default: sw_tk_gz_t1000_lv;
        cargo_capacity: 80*param_capacity_mod/3;
        loading_speed: param_loading_3D;
        power: 241;
        weight: 30;
        length: 8;
      }
}
# 5 "src/_metro.pnml" 2
# 1 "src/metro/Tokyo/ginza/tk_gz_type1100.pnml" 1

spriteset(tk_gz_type1100_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/ginza/type1100/type1100.png"){ tmpl_purchase_1c(0, 0) }
spriteset(tk_gz_type1100_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/ginza/type1100/type1100.png"){ tmpl_purchase_2c(0, 25) }
switch(FEAT_TRAINS, SELF, tk_gz_type1100_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_tokyo_metro; 1: logo_line_tk_ginza; 2: tk_gz_type1100_purchase_c1; 3: tk_gz_type1100_purchase_c2;}

spriteset(tk_gz_type1100_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/ginza/type1100/type1100.png"){ tmpl_std(0, 0) }
spriteset(tk_gz_type1100_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/ginza/type1100/type1100.png"){ tmpl_std(0, 25) }
spriteset(tk_gz_type1100_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/ginza/type1100/type1100.png"){ tmpl_std_rev(0, 50) }




switch(FEAT_TRAINS, SELF, sw_tk_gz_t1100_end_gfx,position_in_consist_from_end){
    0: tk_gz_type1100_end;
    tk_gz_type1100_wag;
}
switch(FEAT_TRAINS, SELF, sw_tk_gz_t1100_livery_1,position_in_consist){
    0: tk_gz_type1100_front;
    sw_tk_gz_t1100_end_gfx;
}


switch(FEAT_TRAINS, SELF, sw_tk_gz_t1100_attach_vehid, vehicle_type_id) {
  mu_car_metro: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}

item(FEAT_TRAINS, tk_gz_t1100, 1001) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_EIDAN), "1100", string(STR_NAME_TYPE));
        introduction_date: date(1933, 1, 1);
        model_life: 9;
        vehicle_life: 51;

        cargo_capacity: 90;
        loading_speed: param_loading_3D;
        cost_factor: 15;
        running_cost_factor: 45;

        speed: 55 km/h;
        track_type: TR_1435_M;
        power: 180 kW;
        weight: 35 ton;

        climates_available: param_disable_tokyo == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        default: sw_tk_gz_t1100_livery_1;
        purchase: tk_gz_type1100_purchase;
        can_attach_wagon: sw_tk_gz_t1100_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 600)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_RANGE, 1, 4)),
  string(STR_OPERATOR, string(STR_TOKYOMETRO)),
  string(STR_LINES_USED, string(STR_TOKYO_GINZA)));

        length: 8;
        cargo_capacity: 90*param_capacity_mod/3;
    }
    livery_override(mu_car_metro){
        default: sw_tk_gz_t1100_livery_1;
        cargo_capacity: 80*param_capacity_mod/3;
        loading_speed: param_loading_3D;
        power: 550;
        weight: 30;
        length: 8;
      }
}
# 6 "src/_metro.pnml" 2
# 1 "src/metro/Tokyo/ginza/tk_gz_type100.pnml" 1

spriteset(tk_gz_type100_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/ginza/type100/type100.png"){ tmpl_purchase_1c(0, 0) }
spriteset(tk_gz_type100_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/ginza/type100/type100.png"){ tmpl_purchase_2c(0, 25) }
switch(FEAT_TRAINS, SELF, tk_gz_type100_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_tokyo_metro; 1: logo_line_tk_ginza; 2: tk_gz_type100_purchase_c1; 3: tk_gz_type100_purchase_c2;}

spriteset(tk_gz_type100_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/ginza/type100/type100.png"){ tmpl_std(0, 0) }
spriteset(tk_gz_type100_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/ginza/type100/type100.png"){ tmpl_std(0, 25) }
spriteset(tk_gz_type100_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/ginza/type100/type100.png"){ tmpl_std(0, 50) }



switch(FEAT_TRAINS, SELF, sw_tk_gz_t100_end_gfx,position_in_consist_from_end){
    0: tk_gz_type100_end;
    tk_gz_type100_wag;
}
switch(FEAT_TRAINS, SELF, sw_tk_gz_t100_livery_1,position_in_consist){
    0: tk_gz_type100_front;
    sw_tk_gz_t100_end_gfx;
}


switch(FEAT_TRAINS, SELF, sw_tk_gz_t100_attach_vehid, vehicle_type_id) {
  mu_car: return string(STR_ATTACH_1435_M_ERROR);
    mu_car_narrow: return string(STR_ATTACH_1435_M_ERROR);
    return CB_RESULT_ATTACH_ALLOW;
  }

item(FEAT_TRAINS, tk_gz_t100, 1002) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_EIDAN), "100", string(STR_NAME_TYPE));
        introduction_date: date(1937, 1, 1);
        model_life: 17;
        vehicle_life: 44;

        cargo_capacity: 85;
        loading_speed: param_loading_3D;
        cost_factor: 15;
        running_cost_factor: 45;

        speed: 60 km/h;
        track_type: TR_1435_M;
        power: 180 kW;
        weight: 35 ton;

        climates_available: param_disable_tokyo == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        default: sw_tk_gz_t100_livery_1;
        purchase: tk_gz_type100_purchase;
        can_attach_wagon: sw_tk_gz_t100_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 600)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_RANGE, 1, 4)),
  string(STR_OPERATOR, string(STR_TOKYOMETRO)),
  string(STR_LINES_USED, string(STR_TOKYO_GINZA)));

        length: 8;
        cargo_capacity: 85*param_capacity_mod/3;
    }
    livery_override(mu_car_metro){
        default: sw_tk_gz_t100_livery_1;
        cargo_capacity: 70*param_capacity_mod/3;
        loading_speed: param_loading_3D;
        power: 241;
        weight: 34;
        length: 8;
      }
}
# 7 "src/_metro.pnml" 2
# 1 "src/metro/Tokyo/ginza/tk_gz_type1300.pnml" 1

spriteset(tk_gz_type1300_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/ginza/type1300/type1300.png"){ tmpl_purchase_1c(0, 0) }
spriteset(tk_gz_type1300_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/ginza/type1300/type1300.png"){ tmpl_purchase_2c(0, 25) }
switch(FEAT_TRAINS, SELF, tk_gz_type1300_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_tokyo_metro; 1: logo_line_tk_ginza; 2: tk_gz_type1300_purchase_c1; 3: tk_gz_type1300_purchase_c2;}

spriteset(tk_gz_type1300_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/ginza/type1300/type1300.png"){ tmpl_std(0, 75) }
spriteset(tk_gz_type1300_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/ginza/type1300/type1300.png"){ tmpl_std(0, 100) }
spriteset(tk_gz_type1300_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/ginza/type1300/type1300.png"){ tmpl_std_rev(0, 125) }
spriteset(tk_gz_type1400_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/ginza/type1300/type1300.png"){ tmpl_std(0, 0) }
spriteset(tk_gz_type1400_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/ginza/type1300/type1300.png"){ tmpl_std(0, 25) }
spriteset(tk_gz_type1400_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/ginza/type1300/type1300.png"){ tmpl_std_rev(0, 50) }
spriteset(tk_gz_type1500_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/ginza/type1300/type1500.png"){ tmpl_std(0, 0) }
spriteset(tk_gz_type1500_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/ginza/type1300/type1500.png"){ tmpl_std(0, 25) }
spriteset(tk_gz_type1500_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/ginza/type1300/type1500.png"){ tmpl_std_rev(0, 50) }
spriteset(tk_gz_type1700_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/ginza/type1700/type1700.png"){ tmpl_std(0, 0) }
spriteset(tk_gz_type1700_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/ginza/type1700/type1700.png"){ tmpl_std(0, 25) }
spriteset(tk_gz_type1700_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/ginza/type1700/type1700.png"){ tmpl_std_rev(0, 50) }







switch(FEAT_TRAINS, SELF, sw_tk_gz_t1300_end_gfx,position_in_consist_from_end){
    0: tk_gz_type1300_end;
    tk_gz_type1300_wag;
}
switch(FEAT_TRAINS, SELF, sw_tk_gz_t1300_livery_1,position_in_consist){
    0: tk_gz_type1300_front;
    sw_tk_gz_t1300_end_gfx;
}

switch(FEAT_TRAINS, SELF, sw_tk_gz_t1400_end_gfx,position_in_consist_from_end){
    0: tk_gz_type1400_end;
    tk_gz_type1400_wag;
}
switch(FEAT_TRAINS, SELF, sw_tk_gz_t1300_livery_2,position_in_consist){
    0: tk_gz_type1400_front;
    sw_tk_gz_t1400_end_gfx;
}

switch(FEAT_TRAINS, SELF, sw_tk_gz_t1500_end_gfx,position_in_consist_from_end){
    0: tk_gz_type1500_end;
    tk_gz_type1500_wag;
}
switch(FEAT_TRAINS, SELF, sw_tk_gz_t1300_livery_3,position_in_consist){
    0: tk_gz_type1500_front;
    sw_tk_gz_t1500_end_gfx;
}

switch(FEAT_TRAINS, SELF, sw_tk_gz_t1700_end_gfx,position_in_consist_from_end){
    0: tk_gz_type1700_end;
    tk_gz_type1700_wag;
}
switch(FEAT_TRAINS, SELF, sw_tk_gz_t1300_livery_4,position_in_consist){
    0: tk_gz_type1700_front;
    sw_tk_gz_t1700_end_gfx;
}

random_switch(FEAT_TRAINS, PARENT, sw_tk_gz_t1300_livery_0){
    1: sw_tk_gz_t1300_livery_1;
    1: sw_tk_gz_t1300_livery_2;
    2: sw_tk_gz_t1300_livery_3;
    1: sw_tk_gz_t1300_livery_4;
}

switch(FEAT_TRAINS, PARENT, sw_tk_gz_t1300_lv, cargo_subtype){
    0: sw_tk_gz_t1300_livery_0;
    1: sw_tk_gz_t1300_livery_1;
    2: sw_tk_gz_t1300_livery_2;
}
switch(FEAT_TRAINS, SELF, sw_tk_gz_t1300_lv_desc, cargo_subtype){
    0: string(LV_RANDOM);
    1: string(LV_tk_gz_type1300_1);
    2: string(LV_tk_gz_type1300_2);
    3: string(LV_tk_gz_type1300_3);
    4: string(LV_tk_gz_type1300_4);
}

switch(FEAT_TRAINS, SELF, sw_tk_gz_t1300_attach_vehid, vehicle_type_id) {
  mu_car_metro: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}

item(FEAT_TRAINS, tk_gz_t1300, 1003) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_EIDAN), "1300~1700", string(STR_NAME_TYPE));
        introduction_date: date(1957, 1, 1);
        model_life: 10;
        vehicle_life: 30;
        reliability_decay: 10;

        cargo_capacity: 98;
        loading_speed: param_loading_3D;
        cost_factor: 16;
        running_cost_factor: 46;

        speed: 65 km/h;
        track_type: TR_1435_M;
        power: 180 kW;
        weight: 35 ton;

        climates_available: param_disable_tokyo == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        default: sw_tk_gz_t1300_lv;
        purchase: tk_gz_type1300_purchase;
        can_attach_wagon: sw_tk_gz_t1300_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 600)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_RANGE, 1, 4)),
  string(STR_OPERATOR, string(STR_TOKYOMETRO)),
  string(STR_LINES_USED, string(STR_TOKYO_GINZA)));

        cargo_subtype_text: sw_tk_gz_t1300_lv_desc;
        length: 8;
        cargo_capacity: 98*param_capacity_mod/3;
    }
    livery_override(mu_car_metro){
        cargo_subtype_text: sw_tk_gz_t1300_lv_desc;
        default: sw_tk_gz_t1300_lv;
        cargo_capacity: 98*param_capacity_mod/3;
        loading_speed: param_loading_3D;
        power: 241;
        weight: 30;
        length: 8;
      }
}
# 8 "src/_metro.pnml" 2
# 1 "src/metro/Tokyo/ginza/tk_gz_type1900.pnml" 1

spriteset(tk_gz_type1900_purchase_c1_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/ginza/type1900/type1900.png"){ tmpl_purchase_1c(0, 0) }
spriteset(tk_gz_type1900_purchase_c2_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/ginza/type1900/type1900.png"){ tmpl_purchase_2c(0, 25) }
spriteset(tk_gz_type2000_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/ginza/type1900/type1900.png"){ tmpl_purchase_1c(0, 75) }
spriteset(tk_gz_type2000_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/ginza/type1900/type1900.png"){ tmpl_purchase_2c(0, 100) }
switch(FEAT_TRAINS, SELF, tk_gz_type1900_purchase_c1, current_year){
    0..1958: tk_gz_type1900_purchase_c1_1;
    tk_gz_type2000_purchase_c1;
}
switch(FEAT_TRAINS, SELF, tk_gz_type1900_purchase_c2, current_year){
    0..1958: tk_gz_type1900_purchase_c2_1;
    tk_gz_type2000_purchase_c2;
}
switch(FEAT_TRAINS, SELF, tk_gz_type1900_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_tokyo_metro; 1: logo_line_tk_ginza; 2: tk_gz_type1900_purchase_c1; 3: tk_gz_type1900_purchase_c2;}

spriteset(tk_gz_type1900_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/ginza/type1900/type1900.png"){ tmpl_std(0, 0) }
spriteset(tk_gz_type1900_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/ginza/type1900/type1900.png"){ tmpl_std(0, 25) }
spriteset(tk_gz_type1900_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/ginza/type1900/type1900.png"){ tmpl_std_rev(0, 50) }
spriteset(tk_gz_type2000_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/ginza/type1900/type1900.png"){ tmpl_std(0, 75) }
spriteset(tk_gz_type2000_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/ginza/type1900/type1900.png"){ tmpl_std(0, 100) }
spriteset(tk_gz_type2000_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/ginza/type1900/type1900.png"){ tmpl_std_rev(0, 125) }



switch(FEAT_TRAINS, SELF, sw_tk_gz_t1900_end_gfx,position_in_consist_from_end){
    0: tk_gz_type1900_end;
    tk_gz_type1900_wag;
}
switch(FEAT_TRAINS, SELF, sw_tk_gz_t1900_livery_1,position_in_consist){
    0: tk_gz_type1900_front;
    sw_tk_gz_t1900_end_gfx;
}

switch(FEAT_TRAINS, SELF, sw_tk_gz_t2000_end_gfx,position_in_consist_from_end){
    0: tk_gz_type2000_end;
    tk_gz_type2000_wag;
}
switch(FEAT_TRAINS, SELF, sw_tk_gz_t1900_livery_2,position_in_consist){
    0: tk_gz_type2000_front;
    sw_tk_gz_t2000_end_gfx;
}

random_switch(FEAT_TRAINS, PARENT, sw_tk_gz_t1900_livery_0){
    3: sw_tk_gz_t1900_livery_1;
    1: sw_tk_gz_t1900_livery_2;
}

switch(FEAT_TRAINS, PARENT, sw_tk_gz_t1900_lv, cargo_subtype){
    0: sw_tk_gz_t1900_livery_0;
    1: sw_tk_gz_t1900_livery_1;
    2: sw_tk_gz_t1900_livery_2;
}
switch(FEAT_TRAINS, SELF, sw_tk_gz_t1900_lv_desc, cargo_subtype){
    0: string(LV_RANDOM);
    1: string(LV_tk_gz_type1900_1);
    2: string(LV_tk_gz_type1900_2);
}

switch(FEAT_TRAINS, SELF, sw_tk_gz_t1900_attach_vehid, vehicle_type_id) {
  mu_car_metro: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}

item(FEAT_TRAINS, tk_gz_t1900, 1004) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_EIDAN), "1900", string(STR_NAME_TYPE));
        introduction_date: date(1959, 1, 1);
        model_life: 29;
        vehicle_life: 34;
        reliability_decay:23;

        cargo_capacity: 95;
        loading_speed: param_loading_3D;
        cost_factor: 17;
        running_cost_factor: 47;

        speed: 70 km/h;
        track_type: TR_1435_M;
        power: 220 kW;
        weight: 29 ton;

        climates_available: param_disable_tokyo == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        default: sw_tk_gz_t1900_lv;
        purchase: tk_gz_type1900_purchase;
        can_attach_wagon: sw_tk_gz_t1900_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 600)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_2, 3,6)),
  string(STR_OPERATOR, string(STR_TOKYOMETRO)),
  string(STR_LINES_USED, string(STR_TOKYO_GINZA)));

        cargo_subtype_text: sw_tk_gz_t1900_lv_desc;
        length: 8;
        cargo_capacity: 95*param_capacity_mod/3;
    }
    livery_override(mu_car_metro){
        cargo_subtype_text: sw_tk_gz_t1900_lv_desc;
        default: sw_tk_gz_t1900_lv;
        cargo_capacity: 95*param_capacity_mod/3;
        loading_speed: param_loading_3D;
        power: 550;
        weight: 24;
        length: 8;
      }
}
# 9 "src/_metro.pnml" 2
# 1 "src/metro/Tokyo/ginza/tk_gz_01series.pnml" 1

spriteset(tk_gz_eidan01_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/ginza/eidan01/eidan01.png"){ tmpl_purchase_1c(0, 0) }
spriteset(tk_gz_eidan01_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/ginza/eidan01/eidan01.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, tk_gz_eidan01_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_tokyo_metro; 1: logo_line_tk_ginza; 2: tk_gz_eidan01_purchase_c1; 3: tk_gz_eidan01_purchase_c2;}

spriteset(tk_gz_eidan01_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/ginza/eidan01/eidan01.png"){ tmpl_std(0, 0) }
spriteset(tk_gz_eidan01_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/ginza/eidan01/eidan01.png"){ tmpl_std_rev(0, 25) }
spriteset(tk_gz_eidan01_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/ginza/eidan01/eidan01.png"){ tmpl_symm(0, 50) }


    switch(FEAT_TRAINS, SELF, sw_tk_gz_eidan01_gfx_main,position_in_vehid_chain_from_end){
      0: tk_gz_eidan01_end;
      default: tk_gz_eidan01_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_gz_eidan01_lv,vehicle_type_id){
      tk_gz_eidan01: tk_gz_eidan01_front;
      default: sw_tk_gz_eidan01_gfx_main;
    }


  switch(FEAT_TRAINS, SELF, sw_tk_gz_eidan01_capacity,position_in_vehid_chain_from_end){
    0: 100;
    default: 102;
  }
  switch(FEAT_TRAINS, SELF, sw_tk_gz_eidan01_capacity_1,position_in_vehid_chain){
    0: 100;
    default: sw_tk_gz_eidan01_capacity;
  }
  switch(FEAT_TRAINS, SELF, sw_tk_gz_eidan01_capacity_main,vehicle_type_id){
    mu_car_metro: sw_tk_gz_eidan01_capacity;
    sw_tk_gz_eidan01_capacity_1;
  }

    switch(FEAT_TRAINS, SELF, sw_tk_gz_eidan01_power,position_in_vehid_chain_from_end%5){
      1..2:return 120;
      4:return 120;
      return 0;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_gz_eidan01_head_power,num_vehs_in_consist){
      39: return 120;
      return 0;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_gz_eidan01_power_main,vehicle_type_id){
      mu_car_metro:sw_tk_gz_eidan01_power;
      sw_tk_gz_eidan01_head_power;
    }

    switch(FEAT_TRAINS, SELF, sw_tk_gz_01s_attach_vehid, vehicle_type_id) {
      mu_car: return string(STR_ATTACH_1435_M_ERROR);
      mu_car_narrow: return string(STR_ATTACH_1435_M_ERROR);
      return CB_RESULT_ATTACH_ALLOW;
    }

item(FEAT_TRAINS, tk_gz_eidan01, 1005) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_EIDAN), "01", string(STR_NAME_SERIES));
        introduction_date: date(1983, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay:21;

        cargo_capacity: 100;
        loading_speed: param_loading_3D;
        cost_factor: 18;
        running_cost_factor: 18;

        speed: 80 km/h;
        track_type: TR_1435_M;
        power: 240 kW;
        weight: 29 ton;

        climates_available: param_disable_tokyo == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

    }
 graphics {
        power: sw_tk_gz_eidan01_power_main()*4*1342/1000;
        default: sw_tk_gz_eidan01_lv;
        purchase: tk_gz_eidan01_purchase;
        can_attach_wagon: sw_tk_gz_01s_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 600)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 6)),
  string(STR_OPERATOR, string(STR_TOKYOMETRO)),
  string(STR_LINES_USED, string(STR_TOKYO_GINZA)));

        length: 8;
        start_stop: sw_stop_start_3;
        cargo_capacity: sw_tk_gz_eidan01_capacity_main()*param_capacity_mod/3;
    }
    livery_override(mu_car_metro){
        default: sw_tk_gz_eidan01_lv;
        cargo_capacity: sw_tk_gz_eidan01_capacity_main()*param_capacity_mod/3;
        loading_speed: param_loading_3D;
        power: sw_tk_gz_eidan01_power_main()*4*1342/1000;
        weight: 24;
        length: 8;
      }
}
# 10 "src/_metro.pnml" 2
# 1 "src/metro/Tokyo/ginza/tk_gz_1000series.pnml" 1

spriteset(tk_gz_1000series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/ginza/1000series/1000series.png"){ tmpl_purchase_1c(0, 0) }
spriteset(tk_gz_1000series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/ginza/1000series/1000series.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, tk_gz_1000series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_tokyo_metro; 1: logo_line_tk_ginza; 2: tk_gz_1000series_purchase_c1; 3: tk_gz_1000series_purchase_c2;}

spriteset(tk_gz_1000series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/ginza/1000series/1000series.png"){ tmpl_std(0, 0) }
spriteset(tk_gz_1000series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/ginza/1000series/1000series.png"){ tmpl_std_rev(0, 25) }
spriteset(tk_gz_1000series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/ginza/1000series/1000series.png"){ tmpl_symm(0, 50) }



    switch(FEAT_TRAINS, SELF, sw_tk_gz_1000series_gfx_main,position_in_vehid_chain_from_end){
      0: tk_gz_1000series_end;
      default: tk_gz_1000series_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_gz_1000series_lv,vehicle_type_id){
      tk_gz_1000s: tk_gz_1000series_front;
      default: sw_tk_gz_1000series_gfx_main;
    }


  switch(FEAT_TRAINS, SELF, sw_tk_gz_1000series_capacity,position_in_vehid_chain_from_end){
    0: 93;
    default: 106;
  }
  switch(FEAT_TRAINS, SELF, sw_tk_gz_1000series_capacity_1,position_in_vehid_chain){
    0: 93;
    default: sw_tk_gz_1000series_capacity;
  }
  switch(FEAT_TRAINS, SELF, sw_tk_gz_1000series_capacity_main,vehicle_type_id){
    mu_car_metro: sw_tk_gz_1000series_capacity;
    sw_tk_gz_1000series_capacity_1;
  }

  switch(FEAT_TRAINS, SELF, sw_tk_gz_1000s_attach_vehid, vehicle_type_id) {
    mu_car: return string(STR_ATTACH_1435_M_ERROR);
    mu_car_narrow: return string(STR_ATTACH_1435_M_ERROR);
    return CB_RESULT_ATTACH_ALLOW;
  }

item(FEAT_TRAINS, tk_gz_1000s, 1006) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_TOKYO_METRO), "1000", string(STR_NAME_SERIES));
        introduction_date: date(2011, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cargo_capacity: 93;
        loading_speed: param_loading_3D;
        cost_factor: 18;
        running_cost_factor: 48;

        speed: 90 km/h;
        track_type: TR_1435_M;
        power: 480 kW;
        weight: 30 ton;

        climates_available: param_disable_tokyo == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        default: sw_tk_gz_1000series_lv;
        purchase: tk_gz_1000series_purchase;
        can_attach_wagon: sw_tk_gz_1000s_attach_vehid;
    additional_text:
    string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 600)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 6)),
  string(STR_OPERATOR, string(STR_TOKYOMETRO)),
  string(STR_LINES_USED, string(STR_TOKYO_GINZA)));

        length: 8;
        start_stop: sw_stop_start_3;
        cargo_capacity: sw_tk_gz_1000series_capacity_main()*param_capacity_mod/3;
    }
    livery_override(mu_car_metro){
        default: sw_tk_gz_1000series_lv;
        cargo_capacity: sw_tk_gz_1000series_capacity_main()*param_capacity_mod/3;
        loading_speed: param_loading_3D;
        power: 480*1342/1000;
        weight: 27;
        length: 8;
      }
}
# 11 "src/_metro.pnml" 2


# 1 "src/metro/Tokyo/marunouchi/eidan2000.pnml" 1

spriteset(tk_mn_eidan2000_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/marunouchi/eidan2000/eidan2000.png"){ tmpl_purchase_1c(0, 0) }
spriteset(tk_mn_eidan2000_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/marunouchi/eidan2000/eidan2000.png"){ tmpl_purchase_2c(0, 25) }
switch(FEAT_TRAINS, SELF, tk_mn_eidan2000_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_tokyo_metro; 1: logo_line_tk_maru_branch; 2: tk_mn_eidan2000_purchase_c1; 3: tk_mn_eidan2000_purchase_c2;}

spriteset(tk_mn_eidan2000_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/marunouchi/eidan2000/eidan2000.png"){ tmpl_std(0, 0) }
spriteset(tk_mn_eidan2000_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/marunouchi/eidan2000/eidan2000.png"){ tmpl_std(0, 25) }
spriteset(tk_mn_eidan2000_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/marunouchi/eidan2000/eidan2000.png"){ tmpl_std_rev(0, 50) }




switch(FEAT_TRAINS, SELF, sw_tk_mn_eidan2000_end_gfx,position_in_consist_from_end){
    0: tk_mn_eidan2000_end;
    tk_mn_eidan2000_wag;
}
switch(FEAT_TRAINS, SELF, sw_tk_mn_eidan2000_livery_1,position_in_consist){
    0: tk_mn_eidan2000_front;
    sw_tk_mn_eidan2000_end_gfx;
}


switch(FEAT_TRAINS, SELF, sw_tk_mn_eidan2000_attach_vehid, vehicle_type_id) {
  mu_car_metro: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}

item(FEAT_TRAINS, tk_mn_eidan2000,1020) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_EIDAN), "2000", string(STR_NAME_TYPE));
        introduction_date: date(1962, 1, 1);
        model_life: 21;
        vehicle_life: 24;

        cargo_capacity: 99;
        loading_speed: param_loading_3D;
        cost_factor: 16;
        running_cost_factor: 46;

        speed: 70 km/h;
        track_type: TR_1435_M;
        power: 180 kW;
        weight: 35 ton;

        climates_available: param_disable_tokyo == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
        length: 8;
    }
 graphics {
        default: sw_tk_mn_eidan2000_livery_1;
        purchase: tk_mn_eidan2000_purchase;
        can_attach_wagon: sw_tk_mn_eidan2000_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 600)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 3)),
  string(STR_OPERATOR, string(STR_TOKYOMETRO)),
  string(STR_LINES_USED, string(STR_TOKYO_MARU_BR)));

        length: 8;
        cargo_capacity: 99*param_capacity_mod/3;

    }
    livery_override(mu_car_metro){
        default: sw_tk_mn_eidan2000_livery_1;
        cargo_capacity: 99*param_capacity_mod/3;
        loading_speed: param_loading_3D;
        power: 241;
        weight: 30;
        length: 8;
      }


}
# 14 "src/_metro.pnml" 2
# 1 "src/metro/Tokyo/marunouchi/eidan500.pnml" 1

spriteset(tk_mn_eidan500_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/marunouchi/eidan500/eidan500.png"){ tmpl_purchase_1c(0, 0) }
spriteset(tk_mn_eidan500_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/marunouchi/eidan500/eidan500.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, tk_mn_eidan500_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_tokyo_metro; 1: logo_line_tk_maru; 2: tk_mn_eidan500_purchase_c1; 3: tk_mn_eidan500_purchase_c2;}

spriteset(tk_mn_eidan500_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/marunouchi/eidan500/eidan500.png"){ tmpl_std(0, 0) }
spriteset(tk_mn_eidan500_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/marunouchi/eidan500/eidan500.png"){ tmpl_std(0, 50) }
spriteset(tk_mn_eidan500_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/marunouchi/eidan500/eidan500.png"){ tmpl_std_rev(0, 25) }




switch(FEAT_TRAINS, SELF, sw_tk_mn_eidan500_end_gfx,position_in_consist_from_end){
    0: tk_mn_eidan500_end;
    tk_mn_eidan500_wag;
}
switch(FEAT_TRAINS, SELF, sw_tk_mn_eidan500_livery_1,position_in_consist){
    0: tk_mn_eidan500_front;
    sw_tk_mn_eidan500_end_gfx;
}

switch(FEAT_TRAINS, SELF, sw_tk_mn_eidan500_main_capacity,position_in_consist_from_end){
    0: 122*param_capacity_mod/3;
    default: 137*param_capacity_mod/3;
}

switch(FEAT_TRAINS, SELF, sw_tk_mn_eidan500_attach_vehid, vehicle_type_id) {
  mu_car_metro: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}

item(FEAT_TRAINS, eidan500,1021) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_EIDAN), "300~900", string(STR_NAME_TYPE));
        introduction_date: date(1953, 1, 1);
        model_life: 40;
        vehicle_life: 30;
        reliability_decay: 10;

        cargo_capacity: 122;
        loading_speed: param_loading_3D;
        cost_factor: 18;
        running_cost_factor: 48;

        speed: 70 km/h;
        track_type: TR_1435_M;
        power: 300 kW;
        weight: 35 ton;

        climates_available: param_disable_tokyo == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        default: sw_tk_mn_eidan500_livery_1;
        purchase: tk_mn_eidan500_purchase;
        can_attach_wagon: sw_tk_mn_eidan500_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 600)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_RANGE, 2,6)),
  string(STR_OPERATOR, string(STR_TOKYOMETRO)),
  string(STR_LINES_USED, string(STR_TOKYO_MARU)));

        length: 8;
        start_stop: sw_stop_start_2;
        cargo_capacity: 122*param_capacity_mod/3;
    }
    livery_override(mu_car_metro){
        default: sw_tk_mn_eidan500_livery_1;
        cargo_capacity: sw_tk_mn_eidan500_main_capacity;
        loading_speed: param_loading_3D;
        power: 402;
        weight: 30;
        length: 8;
      }
}
# 15 "src/_metro.pnml" 2
# 1 "src/metro/Tokyo/marunouchi/eidan02.pnml" 1

spriteset(tk_mn_eidan02_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/marunouchi/eidan02/eidan02.png"){ tmpl_purchase_1c(0, 0) }
spriteset(tk_mn_eidan02_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/marunouchi/eidan02/eidan02.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, tk_mn_eidan02_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_tokyo_metro; 1: logo_line_tk_maru; 2: tk_mn_eidan02_purchase_c1; 3: tk_mn_eidan02_purchase_c2;}

spriteset(tk_mn_eidan02_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/marunouchi/eidan02/eidan02.png"){ tmpl_std(0, 0) }
spriteset(tk_mn_eidan02_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/marunouchi/eidan02/eidan02.png"){ tmpl_symm(0, 50) }
spriteset(tk_mn_eidan02_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/marunouchi/eidan02/eidan02.png"){ tmpl_std_rev(0, 25) }
spriteset(tk_mn_eidan02_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/marunouchi/eidan02/eidan02_2.png"){ tmpl_std(0, 0) }
spriteset(tk_mn_eidan02_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/marunouchi/eidan02/eidan02_2.png"){ tmpl_symm(0, 50) }
spriteset(tk_mn_eidan02_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/marunouchi/eidan02/eidan02_2.png"){ tmpl_std_rev(0, 25) }



switch(FEAT_TRAINS, SELF, sw_tk_mn_eidan02_end_gfx,position_in_consist_from_end){
    0: tk_mn_eidan02_end;
    tk_mn_eidan02_wag;
}
switch(FEAT_TRAINS, SELF, sw_tk_mn_eidan02_livery_1,position_in_consist){
    0: tk_mn_eidan02_front;
    sw_tk_mn_eidan02_end_gfx;
}

switch(FEAT_TRAINS, SELF, sw_tk_mn_eidan02_1_end_gfx,position_in_consist_from_end){
    0: tk_mn_eidan02_1_end;
    tk_mn_eidan02_1_wag;
}
switch(FEAT_TRAINS, SELF, sw_tk_mn_eidan02_livery_2,position_in_consist){
    0: tk_mn_eidan02_1_front;
    sw_tk_mn_eidan02_1_end_gfx;
}

random_switch(FEAT_TRAINS, PARENT, sw_tk_mn_eidan02_livery_0){
    5: sw_tk_mn_eidan02_livery_1;
    1: sw_tk_mn_eidan02_livery_2;
}

switch(FEAT_TRAINS, PARENT, sw_tk_mn_eidan02_lv, cargo_subtype){
    0: sw_tk_mn_eidan02_livery_0;
    1: sw_tk_mn_eidan02_livery_1;
    2: sw_tk_mn_eidan02_livery_2;
}
switch(FEAT_TRAINS, SELF, sw_tk_mn_eidan02_lv_desc, cargo_subtype){
    0: string(LV_RANDOM);
    1: string(LV_tk_mn_eidan02_1);
    2: string(LV_tk_mn_eidan02_2);
}

switch(FEAT_TRAINS, SELF, sw_tk_mn_eidan02_main_capacity,position_in_consist_from_end){
    0: 124*param_capacity_mod/3;
    default: 136*param_capacity_mod/3;
}

switch(FEAT_TRAINS, SELF, sw_tk_mn_eidan02_attach_vehid, vehicle_type_id) {
  mu_car_metro: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}

item(FEAT_TRAINS, tk_mn_eidan02,1022) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_EIDAN), "02", string(STR_NAME_SERIES));
        introduction_date: date(1988, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 34;
        reliability_decay:22;

        cargo_capacity: 124;
        loading_speed: param_loading_3D;
        cost_factor: 19;
        running_cost_factor: 49;

        speed: 80 km/h;
        track_type: TR_1435_M;
        power: 480 kW;
        weight: 29 ton;

        climates_available: param_disable_tokyo == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        default: sw_tk_mn_eidan02_lv;
        purchase: tk_mn_eidan02_purchase;
        can_attach_wagon: sw_tk_mn_eidan02_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 600)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_2, 3,6)),
  string(STR_OPERATOR, string(STR_TOKYOMETRO)),
  string(STR_LINES_USED, string(STR_TOKYO_MARU)));

        cargo_subtype_text: sw_tk_mn_eidan02_lv_desc;
        length: 8;
        start_stop: sw_stop_start_3;
        cargo_capacity: 124*param_capacity_mod/3;
    }
    livery_override(mu_car_metro){
        cargo_subtype_text: sw_tk_mn_eidan02_lv_desc;
        default: sw_tk_mn_eidan02_lv;
        cargo_capacity: sw_tk_mn_eidan02_main_capacity;
        loading_speed: param_loading_3D;
        power: 644/2;
        weight: 26;
        length: 8;
      }
}
# 16 "src/_metro.pnml" 2
# 1 "src/metro/Tokyo/marunouchi/2000series.pnml" 1

spriteset(tk_mn_2000series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/marunouchi/2000series/2000series.png"){ tmpl_purchase_1c(0, 0) }
spriteset(tk_mn_2000series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/marunouchi/2000series/2000series.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, tk_mn_2000series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_tokyo_metro; 1: logo_line_tk_maru; 2: tk_mn_2000series_purchase_c1; 3: tk_mn_2000series_purchase_c2;}

spriteset(tk_mn_2000series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/marunouchi/2000series/2000series.png"){ tmpl_std(0, 0) }
spriteset(tk_mn_2000series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/marunouchi/2000series/2000series.png"){ tmpl_std(0, 25) }
spriteset(tk_mn_2000series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/marunouchi/2000series/2000series.png"){ tmpl_std_rev(0, 50) }




switch(FEAT_TRAINS, SELF, sw_tk_mn_2000series_end_gfx,position_in_consist_from_end){
    0: tk_mn_2000series_end;
    tk_mn_2000series_wag;
}
switch(FEAT_TRAINS, SELF, sw_tk_mn_2000series_livery_1,position_in_consist){
    0: tk_mn_2000series_front;
    sw_tk_mn_2000series_end_gfx;
}

switch(FEAT_TRAINS, SELF, sw_tk_mn_2000series_main_capacity,position_in_consist_from_end){
    0: 120*param_capacity_mod/3;
    default: 122*param_capacity_mod/3;
}

switch(FEAT_TRAINS, SELF, sw_tk_mn_2000series_attach_vehid, vehicle_type_id) {
  mu_car_metro: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}

item(FEAT_TRAINS, tk_mn_2000series,1023) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_TOKYO_METRO), "2000", string(STR_NAME_SERIES));
        introduction_date: date(2018, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cargo_capacity: 123;
        loading_speed: param_loading_3D;
        cost_factor: 19;
        running_cost_factor: 49;

        speed: 90 km/h;
        track_type: TR_1435_M;
        power: 200 kW;
        weight: 30 ton;

        climates_available: param_disable_tokyo == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        default: sw_tk_mn_2000series_livery_1;
        purchase: tk_mn_2000series_purchase;
        can_attach_wagon: sw_tk_mn_2000series_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 600)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 6)),
  string(STR_OPERATOR, string(STR_TOKYOMETRO)),
  string(STR_LINES_USED, string(STR_TOKYO_MARU)));

        length: 8;
        start_stop: sw_stop_start_3;
        cargo_capacity: 123*param_capacity_mod/3;
    }
    livery_override(mu_car_metro){
        default: sw_tk_mn_2000series_livery_1;
        cargo_capacity: sw_tk_mn_2000series_main_capacity;
        loading_speed: param_loading_3D;
        power: 268;
        weight: 30;
        length: 8;
      }
}
# 17 "src/_metro.pnml" 2


# 1 "src/metro/Tokyo/hibiya/eidan3000.pnml" 1

spriteset(tk_hb_eidan3000_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/hibiya/eidan3000/eidan3000.png"){ tmpl_purchase_1c(0, 0) }
spriteset(tk_hb_eidan3000_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/hibiya/eidan3000/eidan3000.png"){ tmpl_purchase_2c(0, 75) }
switch(FEAT_TRAINS, SELF, tk_hb_eidan3000_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_tokyo_metro; 1: logo_line_tk_hibiya; 2: tk_hb_eidan3000_purchase_c1; 3: tk_hb_eidan3000_purchase_c2;}

spriteset(tk_hb_eidan3000_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/hibiya/eidan3000/eidan3000.png"){ tmpl_std(0, 0) }
spriteset(tk_hb_eidan3000_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/hibiya/eidan3000/eidan3000.png"){ tmpl_std_rev(0, 25) }
spriteset(tk_hb_eidan3000_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/hibiya/eidan3000/eidan3000.png"){ tmpl_std(0, 25) }
spriteset(tk_hb_eidan3000_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/hibiya/eidan3000/eidan3000.png"){ tmpl_std(0, 50) }
spriteset(tk_hb_eidan3000_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/hibiya/eidan3000/eidan3000.png"){ tmpl_std_rev(0, 50) }
spriteset(tk_hb_eidan3000_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/hibiya/eidan3000/eidan3000.png"){ tmpl_symm(0, 75) }




    switch(FEAT_TRAINS, SELF, sw_tk_hb_eidan3000_panto_placer_1,position_in_vehid_chain %4){
      1: tk_hb_eidan3000_mot;
      tk_hb_eidan3000_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_hb_eidan3000_panto_placer_1_rev,position_in_vehid_chain_from_end %4 -1){
      1: tk_hb_eidan3000_mot_rev;
      tk_hb_eidan3000_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_tk_hb_eidan3000_panto_placer_main_1,vehicle_is_reversed){
      1: sw_tk_hb_eidan3000_panto_placer_1_rev;
      sw_tk_hb_eidan3000_panto_placer_1;
    }

      switch(FEAT_TRAINS, SELF, sw_tk_hb_eidan3000_panto_placer_2,position_in_vehid_chain %5){
        1: tk_hb_eidan3000_mot;
        3: tk_hb_eidan3000_mot;
        tk_hb_eidan3000_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_tk_hb_eidan3000_panto_placer_2_rev,position_in_vehid_chain_from_end %5 -1){
        1: tk_hb_eidan3000_mot_rev;
        3: tk_hb_eidan3000_mot_rev;
        tk_hb_eidan3000_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_tk_hb_eidan3000_panto_placer_main_2,vehicle_is_reversed){
        1: sw_tk_hb_eidan3000_panto_placer_2_rev;
        sw_tk_hb_eidan3000_panto_placer_2;
      }

    switch(FEAT_TRAINS, SELF, sw_tk_hb_eidan3000_panto_placer_main,num_vehs_in_vehid_chain+1){
      0..4: tk_hb_eidan3000_wag;
      5..6: sw_tk_hb_eidan3000_panto_placer_main_1;
      sw_tk_hb_eidan3000_panto_placer_main_2;
    }

    switch(FEAT_TRAINS, SELF, sw_tk_hb_eidan3000_fake_placer,position_in_vehid_chain +1){
      3: tk_hb_eidan3000_end;
      4: tk_hb_eidan3000_end_rev;
      tk_hb_eidan3000_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_hb_eidan3000_fake_placer_rev,position_in_vehid_chain_from_end ){
      3: tk_hb_eidan3000_end_rev;
      4: tk_hb_eidan3000_end;
      tk_hb_eidan3000_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_tk_hb_eidan3000_fake_placer_gfx,vehicle_is_reversed){
      1: sw_tk_hb_eidan3000_fake_placer_rev;
      sw_tk_hb_eidan3000_fake_placer;
    }

    random_switch(FEAT_TRAINS, PARENT, sw_tk_hb_eidan3000_fake_placer_main_1){
      3:sw_tk_hb_eidan3000_panto_placer_main;
      1:sw_tk_hb_eidan3000_fake_placer_gfx;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_hb_eidan3000_fake_placer_main,num_vehs_in_vehid_chain==7){
      1: sw_tk_hb_eidan3000_fake_placer_main_1;
      sw_tk_hb_eidan3000_panto_placer_main;
    }


    switch(FEAT_TRAINS, SELF, sw_tk_hb_eidan3000_gfx_main,position_in_vehid_chain_from_end){
      0: tk_hb_eidan3000_end;
      default: sw_tk_hb_eidan3000_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_hb_eidan3000_lv,vehicle_type_id){
      tk_hb_eidan3000: tk_hb_eidan3000_front;
      default: sw_tk_hb_eidan3000_gfx_main;
    }



  switch(FEAT_TRAINS, SELF, sw_tk_hb_eidan3000_capacity,position_in_vehid_chain_from_end){
    0: 120;
    default: 128;
  }
  switch(FEAT_TRAINS, SELF, sw_tk_hb_eidan3000_capacity_1,position_in_vehid_chain){
    0: 120;
    default: sw_tk_hb_eidan3000_capacity;
  }
  switch(FEAT_TRAINS, SELF, sw_tk_hb_eidan3000_capacity_main,vehicle_type_id){
    mu_car_narrow: sw_tk_hb_eidan3000_capacity;
    sw_tk_hb_eidan3000_capacity_1;
  }

  switch(FEAT_TRAINS, SELF, sw_tk_hb_eidan3000_power_main,position_in_vehid_chain_from_end%9){
    0..6:return 75;
    return 0;
  }

  switch(FEAT_TRAINS, SELF, tk_hb_eidan3000_attach_vehid, vehicle_type_id) {
    mu_car: return string(STR_ATTACH_1067_ERROR);
    mu_car_metro: return string(STR_ATTACH_1067_ERROR);
    return CB_RESULT_ATTACH_ALLOW;
  }



item(FEAT_TRAINS, tk_hb_eidan3000, 1030) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_EIDAN), "3000", string(STR_NAME_SERIES));
        introduction_date: date(1961, 1, 1);
        model_life: 32;
        vehicle_life: 33;

        speed: 100 km/h;
        track_type: TR_1067_DC;
        power: 300 kW;
        weight: 33 ton;

        cargo_capacity: 120;
        loading_speed: param_loading_3D;

        reliability_decay: 10;
        cost_factor: 19;
        running_cost_factor: 49;

        climates_available: param_disable_tokyo == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        power: sw_tk_hb_eidan3000_power_main()*2*1342/1000;
        default: sw_tk_hb_eidan3000_lv;
        purchase: tk_hb_eidan3000_purchase;
        can_attach_wagon: tk_hb_eidan3000_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_4, 2,4,6,8)),
  string(STR_OPERATOR, string(STR_TOKYOMETRO)),
  string(STR_LINES_USED, string(STR_TOKYO_HIBIYA)));

        length: 8;
        start_stop: sw_stop_start_2;
        cargo_capacity: sw_tk_hb_eidan3000_capacity_main()*param_capacity_mod/3;
    }
    livery_override(mu_car_narrow){
        default: sw_tk_hb_eidan3000_lv;
        cargo_capacity: sw_tk_hb_eidan3000_capacity_main()*param_capacity_mod/3;
        loading_speed: param_loading_3D;

        power: sw_tk_hb_eidan3000_power_main()*2*1342/1000;
        weight: 31;
        length: 8;
      }
}
# 20 "src/_metro.pnml" 2
# 1 "src/metro/Tokyo/hibiya/eidan03.pnml" 1

spriteset(tk_hb_eidan03_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/hibiya/eidan03/eidan03.png"){ tmpl_purchase_1c(0, 0) }
spriteset(tk_hb_eidan03_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/hibiya/eidan03/eidan03.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, tk_hb_eidan03_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_tokyo_metro; 1: logo_line_tk_hibiya; 2: tk_hb_eidan03_purchase_c1; 3: tk_hb_eidan03_purchase_c2;}

spriteset(tk_hb_eidan03_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/hibiya/eidan03/eidan03.png"){ tmpl_std(0, 0) }
spriteset(tk_hb_eidan03_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/hibiya/eidan03/eidan03.png"){ tmpl_std_rev(0, 25) }
spriteset(tk_hb_eidan03_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/hibiya/eidan03/eidan03.png"){ tmpl_symm(0, 50) }
spriteset(tk_hb_eidan03_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/hibiya/eidan03/eidan03.png"){ tmpl_symm(0, 75) }

spriteset(tk_hb_eidan03_5d_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/hibiya/eidan03/eidan03_5d.png"){ tmpl_std(0, 0) }
spriteset(tk_hb_eidan03_5d_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/hibiya/eidan03/eidan03_5d.png"){ tmpl_std_rev(0, 25) }
spriteset(tk_hb_eidan03_5d_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/hibiya/eidan03/eidan03_5d.png"){ tmpl_std(0, 50) }
spriteset(tk_hb_eidan03_5d_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/hibiya/eidan03/eidan03_5d.png"){ tmpl_std_rev(0, 50) }
spriteset(tk_hb_eidan03_5d_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/hibiya/eidan03/eidan03_5d.png"){ tmpl_std(0, 75) }
spriteset(tk_hb_eidan03_5d_wag_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/hibiya/eidan03/eidan03_5d.png"){ tmpl_std_rev(0, 75) }




      switch(FEAT_TRAINS, SELF, sw_tk_hb_eidan03_panto_placer_1,position_in_vehid_chain %4){
        0: tk_hb_eidan03_mot;
        tk_hb_eidan03_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_tk_hb_eidan03_panto_placer_1_rev,position_in_vehid_chain_from_end %4 -1){
        0: tk_hb_eidan03_mot;
        tk_hb_eidan03_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_tk_hb_eidan03_panto_placer_main_1,vehicle_is_reversed){
        1: sw_tk_hb_eidan03_panto_placer_1_rev;
        sw_tk_hb_eidan03_panto_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_tk_hb_eidan03_panto_placer_2,position_in_vehid_chain %3){
        1: tk_hb_eidan03_mot;
        tk_hb_eidan03_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_tk_hb_eidan03_panto_placer_2_rev,position_in_vehid_chain_from_end %3 -1){
        1: tk_hb_eidan03_mot;
        tk_hb_eidan03_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_tk_hb_eidan03_panto_placer_main_2,vehicle_is_reversed){
        1: sw_tk_hb_eidan03_panto_placer_2_rev;
        sw_tk_hb_eidan03_panto_placer_2;
      }
    switch(FEAT_TRAINS, SELF, sw_tk_hb_eidan03_panto_placer_main,num_vehs_in_vehid_chain+1){
      5..6: sw_tk_hb_eidan03_panto_placer_main_2;
      sw_tk_hb_eidan03_panto_placer_main_1;
    }

    switch(FEAT_TRAINS, SELF, sw_tk_hb_eidan03_gfx_main,position_in_vehid_chain_from_end){
      0: tk_hb_eidan03_end;
      default: sw_tk_hb_eidan03_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_hb_eidan03_livery_1,vehicle_type_id){
      tk_hb_eidan03: tk_hb_eidan03_front;
      default: sw_tk_hb_eidan03_gfx_main;
    }


    switch(FEAT_TRAINS, PARENT, sw_tk_hb_eidan03_5d_mot,vehicle_is_reversed==1){
      1: tk_hb_eidan03_5d_mot_rev;
      tk_hb_eidan03_5d_mot;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_hb_eidan03_5d_mot_gfx,position_in_vehid_chain==0||position_in_vehid_chain_from_end==1){
      1: sw_tk_hb_eidan03_5d_mot;
      tk_hb_eidan03_mot;
    }
    switch(FEAT_TRAINS, PARENT, sw_tk_hb_eidan03_5d_wag,vehicle_is_reversed==1){
      1: tk_hb_eidan03_5d_wag_rev;
      tk_hb_eidan03_5d_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_hb_eidan03_5d_wag_gfx,position_in_vehid_chain==0||position_in_vehid_chain_from_end==1){
      1: sw_tk_hb_eidan03_5d_wag;
      tk_hb_eidan03_wag;
    }


      switch(FEAT_TRAINS, SELF, sw_tk_hb_eidan03_5d_panto_placer_1,position_in_vehid_chain %4){
        0: sw_tk_hb_eidan03_5d_mot_gfx;
        sw_tk_hb_eidan03_5d_wag_gfx;
      }
      switch(FEAT_TRAINS, SELF, sw_tk_hb_eidan03_5d_panto_placer_1_rev,position_in_vehid_chain_from_end %4 -1){
        0: sw_tk_hb_eidan03_5d_mot_gfx;
        sw_tk_hb_eidan03_5d_wag_gfx;
      }
      switch(FEAT_TRAINS, PARENT, sw_tk_hb_eidan03_5d_panto_placer_main_1,vehicle_is_reversed){
        1: sw_tk_hb_eidan03_5d_panto_placer_1_rev;
        sw_tk_hb_eidan03_5d_panto_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_tk_hb_eidan03_5d_panto_placer_2,position_in_vehid_chain %3){
        1: sw_tk_hb_eidan03_5d_mot_gfx;
        sw_tk_hb_eidan03_5d_wag_gfx;
      }
      switch(FEAT_TRAINS, SELF, sw_tk_hb_eidan03_5d_panto_placer_2_rev,position_in_vehid_chain_from_end %3 -1){
        1: sw_tk_hb_eidan03_5d_mot_gfx;
        sw_tk_hb_eidan03_5d_wag_gfx;
      }
      switch(FEAT_TRAINS, PARENT, sw_tk_hb_eidan03_5d_panto_placer_main_2,vehicle_is_reversed){
        1: sw_tk_hb_eidan03_5d_panto_placer_2_rev;
        sw_tk_hb_eidan03_5d_panto_placer_2;
      }
    switch(FEAT_TRAINS, SELF, sw_tk_hb_eidan03_5d_panto_placer_main,num_vehs_in_vehid_chain+1){
      5..6: sw_tk_hb_eidan03_5d_panto_placer_main_2;
      sw_tk_hb_eidan03_5d_panto_placer_main_1;
    }

    switch(FEAT_TRAINS, SELF, sw_tk_hb_eidan03_5d_gfx_main,position_in_vehid_chain_from_end){
      0: tk_hb_eidan03_5d_end;
      default: sw_tk_hb_eidan03_5d_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_hb_eidan03_livery_2,vehicle_type_id){
      tk_hb_eidan03: tk_hb_eidan03_5d_front;
      default: sw_tk_hb_eidan03_5d_gfx_main;
    }

random_switch(FEAT_TRAINS, PARENT, sw_tk_hb_eidan03_livery_0_1){
    1: sw_tk_hb_eidan03_livery_1;
    1: sw_tk_hb_eidan03_livery_2;
}
switch(FEAT_TRAINS, SELF, sw_tk_hb_eidan03_livery_0, build_year>1990&&build_year<1993){
  1: sw_tk_hb_eidan03_livery_0_1;
  default: sw_tk_hb_eidan03_livery_1;
}

switch(FEAT_TRAINS, PARENT, sw_tk_hb_eidan03_lv, cargo_subtype){
    0: sw_tk_hb_eidan03_livery_0;
    1: sw_tk_hb_eidan03_livery_1;
    2: sw_tk_hb_eidan03_livery_2;
}
switch(FEAT_TRAINS, SELF, sw_tk_hb_eidan03_lv_desc, cargo_subtype){
    0: string(LV_RANDOM);
    1: string(LV_tk_hn_eidan03_1);
    2: string(LV_tk_hn_eidan03_2);
}


  switch(FEAT_TRAINS, SELF, sw_tk_hb_eidan03_capacity,position_in_vehid_chain_from_end){
    0: 124;
    default: 137;
  }
  switch(FEAT_TRAINS, SELF, sw_tk_hb_eidan03_capacity_1,position_in_vehid_chain){
    0: 124;
    default: sw_tk_hb_eidan03_capacity;
  }
  switch(FEAT_TRAINS, SELF, sw_tk_hb_eidan03_capacity_main,vehicle_type_id){
    mu_car_narrow: sw_tk_hb_eidan03_capacity;
    sw_tk_hb_eidan03_capacity_1;
  }

  switch(FEAT_TRAINS, SELF, sw_tk_hb_eidan03_5d_loading,position_in_vehid_chain_from_end<2||position_in_vehid_chain==0){
    1:param_loading_5D;
    param_loading_3D;
  }

  switch(FEAT_TRAINS, SELF, sw_tk_hb_eidan03_loading, cargo_subtype){
    0: param_loading_3D;
    1: param_loading_3D;
    2: sw_tk_hb_eidan03_5d_loading;
  }

  switch(FEAT_TRAINS, SELF, sw_tk_hb_eidan03_power_year,build_year<1992){
    1:return 160;
    return 190;
  }
  switch(FEAT_TRAINS, SELF, sw_tk_hb_eidan03_power,position_in_vehid_chain_from_end%9){
    1:sw_tk_hb_eidan03_power_year;
    3:sw_tk_hb_eidan03_power_year;
    6:sw_tk_hb_eidan03_power_year;
    8:sw_tk_hb_eidan03_power_year;
    return 0;
  }
  switch(FEAT_TRAINS, SELF, sw_tk_hb_eidan03_head_power,num_vehs_in_consist){
    39: sw_tk_hb_eidan03_power_year;
    return 0;
  }
  switch(FEAT_TRAINS, SELF, sw_tk_hb_eidan03_power_main,vehicle_type_id){
    mu_car_narrow:sw_tk_hb_eidan03_power;
    sw_tk_hb_eidan03_head_power;
  }

  switch(FEAT_TRAINS, SELF, tk_hb_eidan03_attach_vehid, vehicle_type_id) {
    mu_car: return string(STR_ATTACH_1067_ERROR);
    mu_car_metro: return string(STR_ATTACH_1067_ERROR);
    return CB_RESULT_ATTACH_ALLOW;
  }


item(FEAT_TRAINS, tk_hb_eidan03,1031) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_EIDAN), "03", string(STR_NAME_SERIES));
        introduction_date: date(1988, 1, 1);
        model_life: 32;
        vehicle_life: 33;

        speed: 110 km/h;
        track_type: TR_1067_DC;
        power: 300 kW;
        weight: 33 ton;

        cargo_capacity: 132;
        loading_speed: param_loading_3D;

        reliability_decay: 10;
        cost_factor: 20;
        running_cost_factor: 50;

        climates_available: param_disable_tokyo == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
         power: sw_tk_hb_eidan03_power_main()*4*1342/1000;
        default: sw_tk_hb_eidan03_lv;
        purchase: tk_hb_eidan03_purchase;
        can_attach_wagon: tk_hb_eidan03_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS_REFIT, 3, 5)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 8)),
  string(STR_OPERATOR, string(STR_TOKYOMETRO)),
  string(STR_LINES_USED, string(STR_TOKYO_HIBIYA)));

        cargo_subtype_text: sw_tk_hb_eidan03_lv_desc;
        length: 8;
        start_stop: sw_stop_start_3;
       cargo_capacity: sw_tk_hb_eidan03_capacity_main()*param_capacity_mod/3;
    }
    livery_override(mu_car_narrow){
        cargo_subtype_text: sw_tk_hb_eidan03_lv_desc;
        default: sw_tk_hb_eidan03_lv;
        cargo_capacity: sw_tk_hb_eidan03_capacity_main()*param_capacity_mod/3;
        loading_speed: sw_tk_hb_eidan03_loading;

         power: sw_tk_hb_eidan03_power_main()*4*1342/1000;
        weight: 31;
        length: 8;
      }
}
# 21 "src/_metro.pnml" 2
# 1 "src/metro/Tokyo/hibiya/13000series.pnml" 1

spriteset(tk_hb_13000series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/hibiya/13000series/13000series.png"){ tmpl_purchase_1c(0, 0) }
spriteset(tk_hb_13000series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/hibiya/13000series/13000series.png"){ tmpl_purchase_2c(0, 75) }
switch(FEAT_TRAINS, SELF, tk_hb_13000series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_tokyo_metro; 1: logo_line_tk_hibiya; 2: tk_hb_13000series_purchase_c1; 3: tk_hb_13000series_purchase_c2;}

spriteset(tk_hb_13000series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/hibiya/13000series/13000series.png"){ tmpl_high_skirt(0, 0) }
spriteset(tk_hb_13000series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/hibiya/13000series/13000series.png"){ tmpl_high_skirt_rev(0, 25) }
spriteset(tk_hb_13000series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/hibiya/13000series/13000series.png"){ tmpl_symm(0, 50) }
spriteset(tk_hb_13000series_mot_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/hibiya/13000series/13000series.png"){ tmpl_symm(0, 75) }
spriteset(tk_hb_13000series_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/hibiya/13000series/13000series.png"){ tmpl_std(0, 100) }
spriteset(tk_hb_13000series_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/hibiya/13000series/13000series.png"){ tmpl_std_rev(0, 100) }




    switch(FEAT_TRAINS, SELF, sw_tk_hb_13000series_panto_placer_1,position_in_vehid_chain %4){
      0: tk_hb_13000series_mot;
      2: tk_hb_13000series_mot_2;
      tk_hb_13000series_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_hb_13000series_panto_placer_1_rev,position_in_vehid_chain_from_end %4 -1){
      0: tk_hb_13000series_mot_rev;
      2: tk_hb_13000series_mot_2;
      tk_hb_13000series_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_tk_hb_13000series_panto_placer_main_1,vehicle_is_reversed){
      1: sw_tk_hb_13000series_panto_placer_1_rev;
      sw_tk_hb_13000series_panto_placer_1;
    }

    switch(FEAT_TRAINS, SELF, sw_tk_hb_13000series_panto_placer_2,position_in_vehid_chain %3){
      0: tk_hb_13000series_mot_2;
      tk_hb_13000series_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_hb_13000series_panto_placer_2_rev,position_in_vehid_chain_from_end %3 -1){
      0: tk_hb_13000series_mot_2;
      tk_hb_13000series_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_tk_hb_13000series_panto_placer_main_2,vehicle_is_reversed){
      1: sw_tk_hb_13000series_panto_placer_2_rev;
      sw_tk_hb_13000series_panto_placer_2;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_hb_13000series_panto_placer_main,num_vehs_in_vehid_chain+1){
      3..4: sw_tk_hb_13000series_panto_placer_main_2;
      sw_tk_hb_13000series_panto_placer_main_1;
    }

    switch(FEAT_TRAINS, SELF, sw_tk_hb_13000series_gfx_main,position_in_vehid_chain_from_end){
      0: tk_hb_13000series_end;
      default: sw_tk_hb_13000series_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_hb_13000series_lv,vehicle_type_id){
      tk_hb_13000series: tk_hb_13000series_front;
      default: sw_tk_hb_13000series_gfx_main;
    }


  switch(FEAT_TRAINS, SELF, sw_tk_hb_13000series_capacity,position_in_vehid_chain_from_end){
    0: 140;
    default: 151;
  }
  switch(FEAT_TRAINS, SELF, sw_tk_hb_13000series_capacity_1,position_in_vehid_chain){
    0: 140;
    default: sw_tk_hb_13000series_capacity;
  }
  switch(FEAT_TRAINS, SELF, sw_tk_hb_13000series_capacity_main,vehicle_type_id){
    mu_car_narrow: sw_tk_hb_13000series_capacity;
    sw_tk_hb_13000series_capacity_1;
  }

  switch(FEAT_TRAINS, SELF, sw_tk_hb_13000series_power_main,position_in_vehid_chain_from_end%9){
    0..5:return 205;
    return 0;
  }

    switch(FEAT_TRAINS, SELF, tk_hb_13000series_attach_vehid, vehicle_type_id) {
      mu_car: return string(STR_ATTACH_1067_ERROR);
      mu_car_metro: return string(STR_ATTACH_1067_ERROR);
      return CB_RESULT_ATTACH_ALLOW;
    }

item(FEAT_TRAINS, tk_hb_13000series,1032) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_TOKYO_METRO), "13000", string(STR_NAME_SERIES));
        introduction_date: date(2016, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;

        cargo_capacity: 140;
        loading_speed: param_loading_4D;
        cost_factor: 21;
        running_cost_factor: 51;

        speed: 120 km/h;
        track_type: TR_1067_DC;
        power: 410 kW;
        weight: 35 ton;

        climates_available: param_disable_tokyo == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        power: sw_tk_hb_13000series_power_main()*2*1342/1000;
        default: sw_tk_hb_13000series_lv;
        purchase: tk_hb_13000series_purchase;
        can_attach_wagon: tk_hb_13000series_attach_vehid;
        start_stop: sw_stop_start_3;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 7)),
  string(STR_OPERATOR, string(STR_TOKYOMETRO)),
  string(STR_LINES_USED, string(STR_TOKYO_HIBIYA)));

        length: 8;
        cargo_capacity: sw_tk_hb_13000series_capacity_main()*param_capacity_mod/3;
    }
    livery_override(mu_car_narrow){
        default: sw_tk_hb_13000series_lv;
        cargo_capacity: sw_tk_hb_13000series_capacity_main()*param_capacity_mod/3;
        loading_speed: param_loading_4D;

        power: sw_tk_hb_13000series_power_main()*2*1342/1000;
        weight: 34;
        length: 8;
      }
}
# 22 "src/_metro.pnml" 2


# 1 "src/metro/Tokyo/tozai/5000series.pnml" 1

spriteset(tk_tz_5000series_purchase_c1_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/tozai/5000series/5000series_1.png"){ tmpl_purchase_1c(0, 0) }
spriteset(tk_tz_5000series_purchase_c2_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/tozai/5000series/5000series_1.png"){ tmpl_purchase_2c(0, 50) }
spriteset(tk_tz_5000series_purchase_c1_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/tozai/5000series/5000series_2.png"){ tmpl_purchase_1c(0, 0) }
spriteset(tk_tz_5000series_purchase_c2_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/tozai/5000series/5000series_2.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, tk_tz_5000series_purchase_c1,current_year<1987){
   1: tk_tz_5000series_purchase_c1_1;
   tk_tz_5000series_purchase_c1_2;
  }
switch(FEAT_TRAINS, SELF, tk_tz_5000series_purchase_c2,current_year<1987){
   1: tk_tz_5000series_purchase_c2_1;
   tk_tz_5000series_purchase_c2_2;
  }
switch(FEAT_TRAINS, SELF, tk_tz_5000series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_tokyo_metro; 1: logo_line_tk_tozai; 2: tk_tz_5000series_purchase_c1; 3: tk_tz_5000series_purchase_c2;}


spriteset(tk_tz_5000series_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/tozai/5000series/5000series_1.png"){ tmpl_std(0, 0) }
spriteset(tk_tz_5000series_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/tozai/5000series/5000series_1.png"){ tmpl_std_rev(0, 25) }
spriteset(tk_tz_5000series_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/tozai/5000series/5000series_1.png"){ tmpl_symm(0, 50) }
spriteset(tk_tz_5000series_1_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/tozai/5000series/5000series_1.png"){ tmpl_std(0, 75) }
spriteset(tk_tz_5000series_1_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/tozai/5000series/5000series_1.png"){ tmpl_std_rev(0, 75) }

spriteset(tk_tz_5000series_2_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/tozai/5000series/5000series_2.png"){ tmpl_std(0, 0) }
spriteset(tk_tz_5000series_2_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/tozai/5000series/5000series_2.png"){ tmpl_std_rev(0, 25) }
spriteset(tk_tz_5000series_2_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/tozai/5000series/5000series_2.png"){ tmpl_symm(0, 50) }
spriteset(tk_tz_5000series_2_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/tozai/5000series/5000series_2.png"){ tmpl_std(0, 75) }
spriteset(tk_tz_5000series_2_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/tozai/5000series/5000series_2.png"){ tmpl_std_rev(0, 75) }

spriteset(tk_tz_5000series_3_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/tozai/5000series/5000series_3.png"){ tmpl_std(0, 0) }
spriteset(tk_tz_5000series_3_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/tozai/5000series/5000series_3.png"){ tmpl_std_rev(0, 25) }
spriteset(tk_tz_5000series_3_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/tozai/5000series/5000series_3.png"){ tmpl_symm(0, 50) }
spriteset(tk_tz_5000series_3_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/tozai/5000series/5000series_3.png"){ tmpl_std(0, 75) }
spriteset(tk_tz_5000series_3_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/tozai/5000series/5000series_3.png"){ tmpl_std_rev(0, 75) }

spriteset(tk_tz_5000series_4_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/tozai/5000series/5000series_4.png"){ tmpl_std(0, 0) }
spriteset(tk_tz_5000series_4_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/tozai/5000series/5000series_4.png"){ tmpl_std_rev(0, 25) }
spriteset(tk_tz_5000series_4_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/tozai/5000series/5000series_4.png"){ tmpl_symm(0, 50) }
spriteset(tk_tz_5000series_4_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/tozai/5000series/5000series_4.png"){ tmpl_std(0, 75) }
spriteset(tk_tz_5000series_4_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/tozai/5000series/5000series_4.png"){ tmpl_std_rev(0, 75) }



  switch(FEAT_TRAINS, SELF, tk_tz_5000series_1_front_gfx,current_year<1987){
   1: tk_tz_5000series_1_front;
   default: tk_tz_5000series_2_front;
  }
  switch(FEAT_TRAINS, SELF, tk_tz_5000series_1_end_gfx,current_year<1987){
   1: tk_tz_5000series_1_end;
   default: tk_tz_5000series_2_end;
  }
  switch(FEAT_TRAINS, SELF, tk_tz_5000series_1_mot_gfx,current_year<1987){
   1: tk_tz_5000series_1_mot;
   default: tk_tz_5000series_2_mot;
  }
  switch(FEAT_TRAINS, SELF, tk_tz_5000series_1_mot_rev_gfx,current_year<1987){
   1: tk_tz_5000series_1_mot_rev;
   default: tk_tz_5000series_2_mot_rev;
  }
  switch(FEAT_TRAINS, SELF, tk_tz_5000series_1_wag_gfx,current_year<1987){
   1: tk_tz_5000series_1_wag;
   default: tk_tz_5000series_2_wag;
  }


  switch(FEAT_TRAINS, SELF, sw_tk_tz_5000series_1_panto_placer_1,position_in_vehid_chain %2){
      0: tk_tz_5000series_1_mot_gfx;
      tk_tz_5000series_1_wag_gfx;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_tz_5000series_1_panto_placer_1_rev,position_in_vehid_chain_from_end %2 -1){
      0: tk_tz_5000series_1_mot_rev_gfx;
      tk_tz_5000series_1_wag_gfx;
    }
    switch(FEAT_TRAINS, PARENT, sw_tk_tz_5000series_1_panto_placer_main_1,vehicle_is_reversed){
      1: sw_tk_tz_5000series_1_panto_placer_1_rev;
      sw_tk_tz_5000series_1_panto_placer_1;
    }

  switch(FEAT_TRAINS, SELF, sw_tk_tz_5000series_1_panto_placer_2,position_in_vehid_chain %5){
      0: tk_tz_5000series_1_mot_gfx;
      2: tk_tz_5000series_1_mot_gfx;
      tk_tz_5000series_1_wag_gfx;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_tz_5000series_1_panto_placer_2_rev,position_in_vehid_chain_from_end %5 -1){
      0: tk_tz_5000series_1_mot_rev_gfx;
      2: tk_tz_5000series_1_mot_rev_gfx;
      tk_tz_5000series_1_wag_gfx;
    }
    switch(FEAT_TRAINS, PARENT, sw_tk_tz_5000series_1_panto_placer_main_2,vehicle_is_reversed){
      1: sw_tk_tz_5000series_1_panto_placer_2_rev;
      sw_tk_tz_5000series_1_panto_placer_2;
    }

  switch(FEAT_TRAINS, SELF, sw_tk_tz_5000series_1_panto_placer_main,num_vehs_in_vehid_chain+1){
      0..9: sw_tk_tz_5000series_1_panto_placer_main_1;
      sw_tk_tz_5000series_1_panto_placer_main_2;
    }

    switch(FEAT_TRAINS, SELF, sw_tk_tz_5000series_1_gfx_main,position_in_vehid_chain_from_end){
      0: tk_tz_5000series_1_end_gfx;
      default: sw_tk_tz_5000series_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_tz_5000series_livery_1,vehicle_type_id){
      tk_tz_5000series: tk_tz_5000series_1_front_gfx;
      default: sw_tk_tz_5000series_1_gfx_main;
    }


  switch(FEAT_TRAINS, SELF, tk_tz_5000series_3_front_gfx,current_year<1986){
   1: tk_tz_5000series_3_front;
   default: tk_tz_5000series_4_front;
  }
  switch(FEAT_TRAINS, SELF, tk_tz_5000series_3_end_gfx,current_year<1986){
   1: tk_tz_5000series_3_end;
   default: tk_tz_5000series_4_end;
  }
  switch(FEAT_TRAINS, SELF, tk_tz_5000series_3_mot_gfx,current_year<1986){
   1: tk_tz_5000series_3_mot;
   default: tk_tz_5000series_4_mot;
  }
  switch(FEAT_TRAINS, SELF, tk_tz_5000series_3_mot_rev_gfx,current_year<1986){
   1: tk_tz_5000series_3_mot_rev;
   default: tk_tz_5000series_4_mot_rev;
  }
  switch(FEAT_TRAINS, SELF, tk_tz_5000series_3_wag_gfx,current_year<1986){
   1: tk_tz_5000series_3_wag;
   default: tk_tz_5000series_4_wag;
  }


  switch(FEAT_TRAINS, SELF, sw_tk_tz_5000series_3_panto_placer_1,position_in_vehid_chain %2){
      0: tk_tz_5000series_3_mot_gfx;
      tk_tz_5000series_3_wag_gfx;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_tz_5000series_3_panto_placer_1_rev,position_in_vehid_chain_from_end %2 -1){
      0: tk_tz_5000series_3_mot_rev_gfx;
      tk_tz_5000series_3_wag_gfx;
    }
    switch(FEAT_TRAINS, PARENT, sw_tk_tz_5000series_3_panto_placer_main_1,vehicle_is_reversed){
      1: sw_tk_tz_5000series_3_panto_placer_1_rev;
      sw_tk_tz_5000series_3_panto_placer_1;
    }

  switch(FEAT_TRAINS, SELF, sw_tk_tz_5000series_3_panto_placer_2,position_in_vehid_chain %5){
      0: tk_tz_5000series_3_mot_gfx;
      2: tk_tz_5000series_3_mot_gfx;
      tk_tz_5000series_3_wag_gfx;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_tz_5000series_3_panto_placer_2_rev,position_in_vehid_chain_from_end %5 -1){
      0: tk_tz_5000series_3_mot_rev_gfx;
      2: tk_tz_5000series_3_mot_rev_gfx;
      tk_tz_5000series_3_wag_gfx;
    }
    switch(FEAT_TRAINS, PARENT, sw_tk_tz_5000series_3_panto_placer_main_2,vehicle_is_reversed){
      1: sw_tk_tz_5000series_3_panto_placer_2_rev;
      sw_tk_tz_5000series_3_panto_placer_2;
    }

  switch(FEAT_TRAINS, SELF, sw_tk_tz_5000series_3_panto_placer_main,num_vehs_in_vehid_chain+1){
      0..9: sw_tk_tz_5000series_3_panto_placer_main_1;
      sw_tk_tz_5000series_3_panto_placer_main_2;
    }

    switch(FEAT_TRAINS, SELF, sw_tk_tz_5000series_3_gfx_main,position_in_vehid_chain_from_end){
      0: tk_tz_5000series_3_end_gfx;
      default: sw_tk_tz_5000series_3_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_tz_5000series_livery_3,vehicle_type_id){
      tk_tz_5000series: tk_tz_5000series_3_front_gfx;
      default: sw_tk_tz_5000series_3_gfx_main;
    }


 random_switch(FEAT_TRAINS, PARENT, sw_tk_tz_5000series_livery_0_1){
  1: sw_tk_tz_5000series_livery_1;
  1: sw_tk_tz_5000series_livery_3;
 }
 switch(FEAT_TRAINS, PARENT, sw_tk_tz_5000series_livery_0, build_year>1965){
    1: sw_tk_tz_5000series_livery_0_1;
    sw_tk_tz_5000series_livery_1;
 }

 switch(FEAT_TRAINS, PARENT, sw_tk_tz_5000series_lv, cargo_subtype){
   0: sw_tk_tz_5000series_livery_0;
   1: sw_tk_tz_5000series_livery_1;
   2: sw_tk_tz_5000series_livery_3;
 }
 switch(FEAT_TRAINS, SELF, sw_tk_tz_5000series_lv_desc, cargo_subtype){
   0: string(LV_RANDOM);
   1: string(LV_STEEL);
   2: string(LV_ALUMI);
 }


    switch(FEAT_TRAINS, SELF, sw_tk_tz_5000series_capacity,position_in_vehid_chain_from_end){
      0: 136;
      144;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_tz_5000series_capacity_1,position_in_vehid_chain){
      0: 136;
      default: sw_tk_tz_5000series_capacity;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_tz_5000series_capacity_main,vehicle_type_id){
      mu_car_narrow: sw_tk_tz_5000series_capacity;
      sw_tk_tz_5000series_capacity_1;
    }

  switch(FEAT_TRAINS, SELF, sw_tk_tz_5000series_power_main,position_in_vehid_chain_from_end%10){
      0:return 100;
      2..5:return 100;
      7..8:return 100;
      return 0;
    }

 switch(FEAT_TRAINS, SELF, tk_tz_5000series_attach_vehid, vehicle_type_id) {
   mu_car: return string(STR_ATTACH_1067_ERROR);
  mu_car_metro: return string(STR_ATTACH_1067_ERROR);
  return CB_RESULT_ATTACH_ALLOW;
 }


item(FEAT_TRAINS, tk_tz_5000series,1040) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_EIDAN), "5000", string(STR_NAME_SERIES));
        introduction_date: date(1964, 1, 1);
        model_life: 29;
        vehicle_life: 43;
        reliability_decay: 10;

        cargo_capacity: 136;
        loading_speed: param_loading_4D;
        cost_factor: 19;
        running_cost_factor: 49;

        speed: 100 km/h;
        track_type: TR_1067_DC;
        power: 400 kW;
        weight: 35 ton;

        climates_available: param_disable_tokyo == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
        length: 8;
    }
 graphics {
        power: sw_tk_tz_5000series_power_main()*4*1342/1000;
        default: sw_tk_tz_5000series_lv;
        purchase: tk_tz_5000series_purchase;
        can_attach_wagon: tk_tz_5000series_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_4, 3,7,8,10)),
  string(STR_OPERATOR, string(STR_TOKYOMETRO)),
  string(STR_LINES_USED, string(STR_TOKYO_TOZAI)));

        cargo_subtype_text: sw_tk_tz_5000series_lv_desc;
        start_stop: sw_stop_start_3;
        cargo_capacity: sw_tk_tz_5000series_capacity_main()*param_capacity_mod/3;
    }
    livery_override(mu_car_narrow){
        cargo_subtype_text: sw_tk_tz_5000series_lv_desc;
        loading_speed: param_loading_4D;
        cargo_capacity: sw_tk_tz_5000series_capacity_main()*param_capacity_mod/3;
        default: sw_tk_tz_5000series_lv;
        power: sw_tk_tz_5000series_power_main()*4*1342/1000;
        weight: 36;
        length: 8;
      }
}
# 25 "src/_metro.pnml" 2
# 1 "src/metro/Tokyo/tozai/05series.pnml" 1

spriteset(tk_tz_05series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/tozai/05series/05series_1.png"){ tmpl_purchase_1c(0, 0) }
spriteset(tk_tz_05series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/tozai/05series/05series_1.png"){ tmpl_purchase_2c(0, 75) }
switch(FEAT_TRAINS, SELF, tk_tz_05series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_tokyo_metro; 1: logo_line_tk_tozai; 2: tk_tz_05series_purchase_c1; 3: tk_tz_05series_purchase_c2;}

spriteset(tk_tz_05series_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/tozai/05series/05series_1.png"){ tmpl_std(0, 0) }
spriteset(tk_tz_05series_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/tozai/05series/05series_1.png"){ tmpl_std_rev(0, 25) }
spriteset(tk_tz_05series_2_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/tozai/05series/05series_2.png"){ tmpl_high_skirt(0, 0) }
spriteset(tk_tz_05series_2_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/tozai/05series/05series_2.png"){ tmpl_high_skirt_rev(0, 25) }
spriteset(tk_tz_05series_3_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/tozai/05series/05series_2.png"){ tmpl_high_skirt(0, 50) }
spriteset(tk_tz_05series_3_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/tozai/05series/05series_2.png"){ tmpl_high_skirt_rev(0, 75) }

spriteset(tk_tz_05series_mot_2_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/tozai/05series/05series_1.png"){ tmpl_symm(0, 50) }
spriteset(tk_tz_05series_mot_2_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/tozai/05series/05series_1.png"){ tmpl_symm(0, 75) }
spriteset(tk_tz_05series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/tozai/05series/05series_1.png"){ tmpl_symm(0, 100) }
spriteset(tk_tz_05series_mot_1_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/tozai/05series/05series_1.png"){ tmpl_std(0, 125) }
spriteset(tk_tz_05series_mot_1_1_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/tozai/05series/05series_1.png"){ tmpl_std_rev(0, 125) }
spriteset(tk_tz_05series_mot_1_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/tozai/05series/05series_1.png"){ tmpl_std(0, 150) }
spriteset(tk_tz_05series_mot_1_2_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/tozai/05series/05series_1.png"){ tmpl_std_rev(0, 150) }




    switch(FEAT_TRAINS, SELF, sw_tk_tz_05series_1_panto_placer_1,position_in_vehid_chain %6){
      0: tk_tz_05series_mot_2_1;
      3: tk_tz_05series_mot_1_1;
      tk_tz_05series_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_tz_05series_1_panto_placer_1_rev,position_in_vehid_chain_from_end %6 -1){
      0: tk_tz_05series_mot_2_1;
      3: tk_tz_05series_mot_1_1_rev;
      tk_tz_05series_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_tk_tz_05series_1_panto_placer_main_1,vehicle_is_reversed){
      1: sw_tk_tz_05series_1_panto_placer_1_rev;
      sw_tk_tz_05series_1_panto_placer_1;
    }

    switch(FEAT_TRAINS, SELF, sw_tk_tz_05series_1_panto_placer_2,position_in_vehid_chain %6){
      0: tk_tz_05series_mot_2_1;
      tk_tz_05series_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_tz_05series_1_panto_placer_2_rev,position_in_vehid_chain_from_end %6 -1){
      0: tk_tz_05series_mot_2_1;
      tk_tz_05series_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_tk_tz_05series_1_panto_placer_main_2,vehicle_is_reversed){
      1: sw_tk_tz_05series_1_panto_placer_2_rev;
      sw_tk_tz_05series_1_panto_placer_2;
    }

    switch(FEAT_TRAINS, SELF, sw_tk_tz_05series_1_panto_placer_3,position_in_vehid_chain %5){
      0: tk_tz_05series_mot_1_1;
      2: tk_tz_05series_mot_1_1;
      tk_tz_05series_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_tz_05series_1_panto_placer_3_rev,position_in_vehid_chain_from_end %5 -1){
      0: tk_tz_05series_mot_1_1_rev;
      2: tk_tz_05series_mot_1_1_rev;
      tk_tz_05series_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_tk_tz_05series_1_panto_placer_main_3,vehicle_is_reversed){
      1: sw_tk_tz_05series_1_panto_placer_3_rev;
      sw_tk_tz_05series_1_panto_placer_3;
    }

    switch(FEAT_TRAINS, SELF, sw_tk_tz_05series_1_panto_placer_4,position_in_vehid_chain %6){
      0: tk_tz_05series_mot_2_2;
      3: tk_tz_05series_mot_1_2;
      tk_tz_05series_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_tz_05series_1_panto_placer_4_rev,position_in_vehid_chain_from_end %6 -1){
      0: tk_tz_05series_mot_2_2;
      3: tk_tz_05series_mot_1_2_rev;
      tk_tz_05series_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_tk_tz_05series_1_panto_placer_main_4,vehicle_is_reversed){
      1: sw_tk_tz_05series_1_panto_placer_4_rev;
      sw_tk_tz_05series_1_panto_placer_4;
    }

    switch(FEAT_TRAINS, SELF, sw_tk_tz_05series_1_panto_placer_5,position_in_vehid_chain %3){
      0: tk_tz_05series_mot_1_2;
      tk_tz_05series_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_tz_05series_1_panto_placer_5_rev,position_in_vehid_chain_from_end %3 -1){
      0: tk_tz_05series_mot_1_2_rev;
      tk_tz_05series_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_tk_tz_05series_1_panto_placer_main_5,vehicle_is_reversed){
      1: sw_tk_tz_05series_1_panto_placer_5_rev;
      sw_tk_tz_05series_1_panto_placer_5;
    }

    switch(FEAT_TRAINS, SELF, sw_tk_tz_05series_1_panto_placer_6,position_in_vehid_chain %4){
      1: tk_tz_05series_mot_2_1;
      tk_tz_05series_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_tz_05series_1_panto_placer_6_rev,position_in_vehid_chain_from_end %4 -1){
      1: tk_tz_05series_mot_2_1;
      tk_tz_05series_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_tk_tz_05series_1_panto_placer_main_6,vehicle_is_reversed){
      1: sw_tk_tz_05series_1_panto_placer_6_rev;
      sw_tk_tz_05series_1_panto_placer_6;
    }

    switch(FEAT_TRAINS, SELF, sw_tk_tz_05series_1_panto_placer_7,position_in_vehid_chain %4){
      1: tk_tz_05series_mot_2_2;
      tk_tz_05series_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_tz_05series_1_panto_placer_7_rev,position_in_vehid_chain_from_end %4 -1){
      1: tk_tz_05series_mot_2_2;
      tk_tz_05series_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_tk_tz_05series_1_panto_placer_main_7,vehicle_is_reversed){
      1: sw_tk_tz_05series_1_panto_placer_7_rev;
      sw_tk_tz_05series_1_panto_placer_7;
    }

    random_switch(FEAT_TRAINS, PARENT, sw_tk_tz_05series_1_panto_placer_0){
      3: sw_tk_tz_05series_1_panto_placer_main_1;
      1: sw_tk_tz_05series_1_panto_placer_main_2;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_tz_05series_1_panto_placer_gfx, build_year){
      0..1990: sw_tk_tz_05series_1_panto_placer_main_1;
      1991: sw_tk_tz_05series_1_panto_placer_0;
      1992: sw_tk_tz_05series_1_panto_placer_main_1;
      1993..2002: sw_tk_tz_05series_1_panto_placer_main_3;
      2003: sw_tk_tz_05series_1_panto_placer_main_4;
      sw_tk_tz_05series_1_panto_placer_main_5;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_tz_05series_1_panto_placer_5car_gfx, build_year){
      0..2002: sw_tk_tz_05series_1_panto_placer_main_6;
      sw_tk_tz_05series_1_panto_placer_main_7;
    }

    switch(FEAT_TRAINS, SELF, sw_tk_tz_05series_1_panto_placer_main,num_vehs_in_vehid_chain+1){
      5: sw_tk_tz_05series_1_panto_placer_5car_gfx;
      8: sw_tk_tz_05series_1_panto_placer_5car_gfx;
      sw_tk_tz_05series_1_panto_placer_gfx;
    }


    switch(FEAT_TRAINS, SELF, sw_tk_tz_05series_1_gfx_main,position_in_vehid_chain_from_end){
      0: tk_tz_05series_1_end;
      default: sw_tk_tz_05series_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_tz_05series_livery_1,vehicle_type_id){
      tk_tz_05series: tk_tz_05series_1_front;
      default: sw_tk_tz_05series_1_gfx_main;
    }


    switch(FEAT_TRAINS, SELF, sw_tk_tz_05series_2_gfx_main,position_in_vehid_chain_from_end){
      0: tk_tz_05series_2_end;
      default: sw_tk_tz_05series_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_tz_05series_livery_2,vehicle_type_id){
      tk_tz_05series: tk_tz_05series_2_front;
      default: sw_tk_tz_05series_2_gfx_main;
    }


    switch(FEAT_TRAINS, SELF, sw_tk_tz_05series_3_gfx_main,position_in_vehid_chain_from_end){
      0: tk_tz_05series_3_end;
      default: sw_tk_tz_05series_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_tz_05series_livery_3,vehicle_type_id){
      tk_tz_05series: tk_tz_05series_3_front;
      default: sw_tk_tz_05series_3_gfx_main;
    }



  random_switch(FEAT_TRAINS, SELF, sw_tk_tz_05series_livery_0_1){
      4: sw_tk_tz_05series_livery_1;
      1: sw_tk_tz_05series_livery_2;
    }
  switch(FEAT_TRAINS, PARENT, sw_tk_tz_05series_livery_0_2, current_year){
    0..2013: sw_tk_tz_05series_livery_1;
    sw_tk_tz_05series_livery_0_1;
  }

  switch(FEAT_TRAINS, PARENT, sw_tk_tz_05series_livery_0, build_year){
    0..1998: sw_tk_tz_05series_livery_0_2;
    sw_tk_tz_05series_livery_3;
  }

  switch(FEAT_TRAINS, PARENT, sw_tk_tz_05series_lv, cargo_subtype){
    0: sw_tk_tz_05series_livery_0;
    1: sw_tk_tz_05series_livery_1;
    2: sw_tk_tz_05series_livery_2;
    3: sw_tk_tz_05series_livery_3;
  }
  switch(FEAT_TRAINS, SELF, sw_tk_tz_05series_lv_desc, cargo_subtype){
    0: string(LV_RANDOM);
    1: string(LV_tk_tz_05series_1);
    2: string(LV_tk_tz_05series_2);
    3: string(LV_tk_tz_05series_3);
  }




    switch(FEAT_TRAINS, SELF, sw_tk_tz_05series_1_capacity,position_in_vehid_chain_from_end){
      0: 142;
      default: 154;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_tz_05series_1_capacity_1,position_in_vehid_chain){
      0: 142;
      default: sw_tk_tz_05series_1_capacity;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_tz_05series_capacity_main_1,vehicle_type_id){
      mu_car_narrow: sw_tk_tz_05series_1_capacity;
      sw_tk_tz_05series_1_capacity_1;
    }

    switch(FEAT_TRAINS, SELF, sw_tk_tz_05series_2_capacity,position_in_vehid_chain_from_end){
      0: 141;
      1: 153;
      8: 153;
      default: 151;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_tz_05series_2_capacity_1,position_in_vehid_chain){
      0: 141;
      default: sw_tk_tz_05series_2_capacity;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_tz_05series_capacity_main_2,vehicle_type_id){
      mu_car_narrow: sw_tk_tz_05series_2_capacity;
      sw_tk_tz_05series_2_capacity_1;
    }

    switch(FEAT_TRAINS, SELF, sw_tk_tz_05series_3_capacity,position_in_vehid_chain_from_end){
      0: 143;
      1: 155;
      8: 155;
      default: 154;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_tz_05series_3_capacity_1,position_in_vehid_chain){
      0: 143;
      default: sw_tk_tz_05series_3_capacity;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_tz_05series_capacity_main_3,vehicle_type_id){
      mu_car_narrow: sw_tk_tz_05series_3_capacity;
      sw_tk_tz_05series_3_capacity_1;
    }

    switch(FEAT_TRAINS, SELF, sw_tk_tz_05series_4_capacity,position_in_vehid_chain_from_end){
      0: 143;
      default: 154;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_tz_05series_4_capacity_1,position_in_vehid_chain){
      0: 143;
      default: sw_tk_tz_05series_4_capacity;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_tz_05series_capacity_main_4,vehicle_type_id){
      mu_car_narrow: sw_tk_tz_05series_4_capacity;
      sw_tk_tz_05series_4_capacity_1;
    }

    switch(FEAT_TRAINS, SELF, sw_tk_tz_05series_capacity_main, build_year){
      0..1992: sw_tk_tz_05series_capacity_main_1;
      1993..2002: sw_tk_tz_05series_capacity_main_2;
      2003: sw_tk_tz_05series_capacity_main_3;
      sw_tk_tz_05series_capacity_main_4;
    }





    switch(FEAT_TRAINS, SELF, sw_tk_tz_05series_power_main_1,position_in_vehid_chain_from_end%10){
      1..2:return 160;
      5:return 160;
      7..8:return 160;
      return 0;
    }

    switch(FEAT_TRAINS, SELF, sw_tk_tz_05series_power_main_2,position_in_vehid_chain_from_end%6){
      1:return 205;
      3:return 205;
      6:return 205;
      8:return 205;
      return 0;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_tz_05series_power_main_3,position_in_vehid_chain_from_end%6){
      1..2:return 165;
      5:return 165;
      7..8:return 165;
      return 0;
    }

    switch(FEAT_TRAINS, SELF, sw_tk_tz_05series_power_main, build_year){
      0..1998: sw_tk_tz_05series_power_main_1;
      1999..2002: sw_tk_tz_05series_power_main_2;
      sw_tk_tz_05series_power_main_3;
    }

    switch(FEAT_TRAINS, SELF, sw_tk_tz_05series_speed_main, build_year){
      0..1999: return 110;
      return 120;
    }

    switch(FEAT_TRAINS, SELF, tk_tz_05series_attach_vehid, vehicle_type_id) {
      mu_car: return string(STR_ATTACH_1067_ERROR);
      mu_car_metro: return string(STR_ATTACH_1067_ERROR);
      return CB_RESULT_ATTACH_ALLOW;
    }


item(FEAT_TRAINS, tk_tz_05series,1041) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_TOKYO_METRO), "05/05N", string(STR_NAME_SERIES));
        introduction_date: date(1988, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cargo_capacity: 138;
        loading_speed: param_loading_4D;
        cost_factor: 20;
        running_cost_factor: 49;

        speed: 110 km/h;
        track_type: TR_1067_DC;
        power: 740 kW;
        weight: 35 ton;

        climates_available: param_disable_tokyo == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
        length: 8;
    }
 graphics {
        power: sw_tk_tz_05series_power_main()*4*1342/1000;
        default: sw_tk_tz_05series_lv;
        purchase: tk_tz_05series_purchase;
        can_attach_wagon: tk_tz_05series_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 10)),
  string(STR_OPERATOR, string(STR_TOKYOMETRO)),
  string(STR_LINES_USED, string(STR_TOKYO_TOZAI)));

        cargo_subtype_text: sw_tk_tz_05series_lv_desc;
        start_stop: sw_stop_start_3;
        cargo_capacity: sw_tk_tz_05series_capacity_main()*param_capacity_mod/3;
        speed: sw_tk_tz_05series_speed_main;
    }
    livery_override(mu_car_narrow){
        cargo_subtype_text: sw_tk_tz_05series_lv_desc;
        loading_speed: param_loading_4D;
        cargo_capacity: sw_tk_tz_05series_capacity_main()*param_capacity_mod/3;
        default: sw_tk_tz_05series_lv;
        power: sw_tk_tz_05series_power_main()*4*1342/1000;
        weight: 31;
        length: 8;
      }
}
# 26 "src/_metro.pnml" 2
# 1 "src/metro/Tokyo/tozai/07series.pnml" 1

spriteset(tk_tz_07series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/tozai/07series/07series.png"){ tmpl_purchase_1c(0, 0) }
spriteset(tk_tz_07series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/tozai/07series/07series.png"){ tmpl_purchase_2c(0, 75) }
switch(FEAT_TRAINS, SELF, tk_tz_07series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_tokyo_metro; 1: logo_line_tk_tozai; 2: tk_tz_07series_purchase_c1; 3: tk_tz_07series_purchase_c2;}

spriteset(tk_tz_07series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/tozai/07series/07series.png"){ tmpl_high_skirt(0, 0) }
spriteset(tk_tz_07series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/tozai/07series/07series.png"){ tmpl_high_skirt_rev(0, 25) }
spriteset(tk_tz_07series_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/tozai/07series/07series.png"){ tmpl_std(0, 50) }
spriteset(tk_tz_07series_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/tozai/07series/07series.png"){ tmpl_std_rev(0, 50) }
spriteset(tk_tz_07series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/tozai/07series/07series.png"){ tmpl_symm(0, 75) }




  switch(FEAT_TRAINS, SELF, sw_tk_tz_07series_panto_placer_1,position_in_vehid_chain %5){
      0: tk_tz_07series_mot;
      2: tk_tz_07series_mot;
      tk_tz_07series_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_tz_07series_panto_placer_1_rev,position_in_vehid_chain_from_end %5 -1){
      0: tk_tz_07series_mot_rev;
      2: tk_tz_07series_mot_rev;
      tk_tz_07series_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_tk_tz_07series_panto_placer_main,vehicle_is_reversed){
      1: sw_tk_tz_07series_panto_placer_1_rev;
      sw_tk_tz_07series_panto_placer_1;
    }

    switch(FEAT_TRAINS, SELF, sw_tk_tz_07series_gfx_main,position_in_vehid_chain_from_end){
      0: tk_tz_07series_end;
      default: sw_tk_tz_07series_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_tz_07series_lv,vehicle_type_id){
      tk_tz_07series: tk_tz_07series_front;
      default: sw_tk_tz_07series_gfx_main;
    }


    switch(FEAT_TRAINS, SELF, sw_tk_tz_07series_capacity,position_in_vehid_chain_from_end){
      0: 138;
      1: 153;
      8: 153;
      152;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_tz_07series_capacity_1,position_in_vehid_chain){
      0: 138;
      default: sw_tk_tz_07series_capacity;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_tz_07series_capacity_main,vehicle_type_id){
      mu_car_narrow: sw_tk_tz_07series_capacity;
      sw_tk_tz_07series_capacity_1;
    }

  switch(FEAT_TRAINS, SELF, sw_tk_tz_07series_power_main,position_in_vehid_chain_from_end%10){
      1:return 205;
      3:return 205;
      6:return 205;
      8:return 205;
      return 0;
    }

 switch(FEAT_TRAINS, SELF, tk_tz_07series_attach_vehid, vehicle_type_id) {
   mu_car: return string(STR_ATTACH_1067_ERROR);
  mu_car_metro: return string(STR_ATTACH_1067_ERROR);
  return CB_RESULT_ATTACH_ALLOW;
 }

item(FEAT_TRAINS, tk_tz_07series,1042) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_EIDAN), "07", string(STR_NAME_SERIES));
        introduction_date: date(1992, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cargo_capacity: 138;
        loading_speed: param_loading_4D;
        cost_factor: 20;
        running_cost_factor: 50;

        speed: 110 km/h;
        track_type: TR_1067_DC;
        power: 820 kW;
        weight: 35 ton;

        climates_available: param_disable_tokyo == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
        length: 8;
    }
 graphics {
        power: sw_tk_tz_07series_power_main()*4*1342/1000;
        default: sw_tk_tz_07series_lv;
        purchase: tk_tz_07series_purchase;
        can_attach_wagon: tk_tz_07series_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 10)),
  string(STR_OPERATOR, string(STR_TOKYOMETRO)),
  string(STR_LINES_USED, string(STR_TOKYO_TOZAI)));

        start_stop: sw_stop_start_3;
        cargo_capacity: sw_tk_tz_07series_capacity_main()*param_capacity_mod/3;
    }
    livery_override(mu_car_narrow){
        loading_speed: param_loading_4D;
        cargo_capacity: sw_tk_tz_07series_capacity_main()*param_capacity_mod/3;
        default: sw_tk_tz_07series_lv;
        power: sw_tk_tz_07series_power_main()*4*1342/1000;
        weight: 31;
        length: 8;
      }
}
# 27 "src/_metro.pnml" 2
# 1 "src/metro/Tokyo/tozai/15000series.pnml" 1

spriteset(tk_tz_15000series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/tozai/15000series/15000series.png"){ tmpl_purchase_1c(0, 0) }
spriteset(tk_tz_15000series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/tozai/15000series/15000series.png"){ tmpl_purchase_2c(0, 75) }
switch(FEAT_TRAINS, SELF, tk_tz_15000series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_tokyo_metro; 1: logo_line_tk_tozai; 2: tk_tz_15000series_purchase_c1; 3: tk_tz_15000series_purchase_c2;}

spriteset(tk_tz_15000series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/tozai/15000series/15000series.png"){ tmpl_high_skirt(0, 0) }
spriteset(tk_tz_15000series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/tozai/15000series/15000series.png"){ tmpl_high_skirt_rev(0, 25) }
spriteset(tk_tz_15000series_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/tozai/15000series/15000series.png"){ tmpl_std(0, 50) }
spriteset(tk_tz_15000series_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/tozai/15000series/15000series.png"){ tmpl_std_rev(0, 50) }
spriteset(tk_tz_15000series_mot_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/tozai/15000series/15000series.png"){ tmpl_symm(0, 75) }
spriteset(tk_tz_15000series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/tozai/15000series/15000series.png"){ tmpl_symm(0, 100) }




  switch(FEAT_TRAINS, SELF, sw_tk_tz_15000series_panto_placer_1,position_in_vehid_chain %6){
      0: tk_tz_15000series_mot_2;
      3: tk_tz_15000series_mot;
      tk_tz_15000series_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_tz_15000series_panto_placer_1_rev,position_in_vehid_chain_from_end %6 -1){
      0: tk_tz_15000series_mot_2;
      3: tk_tz_15000series_mot_rev;
      tk_tz_15000series_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_tk_tz_15000series_panto_placer_main_1,vehicle_is_reversed){
      1: sw_tk_tz_15000series_panto_placer_1_rev;
      sw_tk_tz_15000series_panto_placer_1;
    }

    switch(FEAT_TRAINS, SELF, sw_tk_tz_15000series_panto_placer_2,position_in_vehid_chain %4){
      1: tk_tz_15000series_mot_2;
      tk_tz_15000series_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_tz_15000series_panto_placer_2_rev,position_in_vehid_chain_from_end %4 -1){
      1: tk_tz_15000series_mot_2;
      tk_tz_15000series_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_tk_tz_15000series_panto_placer_main_2,vehicle_is_reversed){
      1: sw_tk_tz_15000series_panto_placer_2_rev;
      sw_tk_tz_15000series_panto_placer_2;
    }

  switch(FEAT_TRAINS, SELF, sw_tk_tz_15000series_panto_placer_main,num_vehs_in_vehid_chain+1){
      5: sw_tk_tz_15000series_panto_placer_main_2;
      8: sw_tk_tz_15000series_panto_placer_main_2;
      sw_tk_tz_15000series_panto_placer_main_1;
    }

    switch(FEAT_TRAINS, SELF, sw_tk_tz_15000series_gfx_main,position_in_vehid_chain_from_end){
      0: tk_tz_15000series_end;
      default: sw_tk_tz_15000series_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_tz_15000series_lv,vehicle_type_id){
      tk_tz_15000series: tk_tz_15000series_front;
      default: sw_tk_tz_15000series_gfx_main;
    }


    switch(FEAT_TRAINS, SELF, sw_tk_tz_15000series_capacity,position_in_vehid_chain_from_end){
      0: 143;
   1: 155;
   8: 155;
      154;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_tz_15000series_capacity_1,position_in_vehid_chain){
      0: 143;
      default: sw_tk_tz_15000series_capacity;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_tz_15000series_capacity_main,vehicle_type_id){
      mu_car_narrow: sw_tk_tz_15000series_capacity;
      sw_tk_tz_15000series_capacity_1;
    }

  switch(FEAT_TRAINS, SELF, sw_tk_tz_15000series_power_main,position_in_vehid_chain_from_end%10){
      1..2:return 225;
      5:return 225;
      7..8:return 225;
      return 0;
    }

 switch(FEAT_TRAINS, SELF, tk_tz_15000series_attach_vehid, vehicle_type_id) {
   mu_car: return string(STR_ATTACH_1067_ERROR);
  mu_car_metro: return string(STR_ATTACH_1067_ERROR);
  return CB_RESULT_ATTACH_ALLOW;
 }

item(FEAT_TRAINS, tk_tz_15000series,1043) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_TOKYO_METRO), "15000", string(STR_NAME_SERIES));
        introduction_date: date(2010, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cargo_capacity: 143*param_capacity_mod/3;
        loading_speed: param_loading_4D;
        cost_factor: 22;
        running_cost_factor: 52;

        speed: 120 km/h;
        track_type: TR_1067_DC;
        power: 900 kW;
        weight: 34 ton;

        climates_available: param_disable_tokyo == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.15000;
        bitmask_vehicle_info: 0;
        length: 8;
    }
 graphics {
        power: sw_tk_tz_15000series_power_main()*4*1342/1000;
        default: sw_tk_tz_15000series_lv;
        purchase: tk_tz_15000series_purchase;
        can_attach_wagon: tk_tz_15000series_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 10)),
  string(STR_OPERATOR, string(STR_TOKYOMETRO)),
  string(STR_LINES_USED, string(STR_TOKYO_TOZAI)));

        start_stop: sw_stop_start_3;
        cargo_capacity: sw_tk_tz_15000series_capacity_main()*param_capacity_mod/3;
    }
    livery_override(mu_car_narrow){
        loading_speed: param_loading_4D;
        cargo_capacity: sw_tk_tz_15000series_capacity_main()*param_capacity_mod/3;
        default: sw_tk_tz_15000series_lv;
        power: sw_tk_tz_15000series_power_main()*4*1342/1000;
        weight: 25;
        length: 8;
      }
}
# 28 "src/_metro.pnml" 2
# 1 "src/metro/Tokyo/tozai/toyo1000.pnml" 1

spriteset(tk_tz_toyo1000_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/tozai/toyo1000/toyo1000.png"){ tmpl_purchase_1c(0, 0) }
spriteset(tk_tz_toyo1000_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/tozai/toyo1000/toyo1000.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, tk_tz_toyo1000_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_toyo; 1: tk_tz_toyo1000_purchase_c1; 2: tk_tz_toyo1000_purchase_c2;}

spriteset(tk_tz_toyo1000_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/tozai/toyo1000/toyo1000.png"){ tmpl_std(0, 0) }
spriteset(tk_tz_toyo1000_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/tozai/toyo1000/toyo1000.png"){ tmpl_std_rev(0, 25) }
spriteset(tk_tz_toyo1000_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/tozai/toyo1000/toyo1000.png"){ tmpl_symm(0, 50) }
spriteset(tk_tz_toyo1000_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/tozai/toyo1000/toyo1000.png"){ tmpl_std(0, 75) }
spriteset(tk_tz_toyo1000_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/tozai/toyo1000/toyo1000.png"){ tmpl_std_rev(0, 75) }




  switch(FEAT_TRAINS, SELF, sw_tk_tz_toyo1000_panto_placer_1,position_in_vehid_chain %2){
      0: tk_tz_toyo1000_mot;
      tk_tz_toyo1000_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_tz_toyo1000_panto_placer_1_rev,position_in_vehid_chain_from_end %2 -1){
      0: tk_tz_toyo1000_mot_rev;
      tk_tz_toyo1000_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_tk_tz_toyo1000_panto_placer_main_1,vehicle_is_reversed){
      1: sw_tk_tz_toyo1000_panto_placer_1_rev;
      sw_tk_tz_toyo1000_panto_placer_1;
    }

  switch(FEAT_TRAINS, SELF, sw_tk_tz_toyo1000_panto_placer_2,position_in_vehid_chain %5){
      0: tk_tz_toyo1000_mot;
      2: tk_tz_toyo1000_mot;
      tk_tz_toyo1000_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_tz_toyo1000_panto_placer_2_rev,position_in_vehid_chain_from_end %5 -1){
      0: tk_tz_toyo1000_mot_rev;
      2: tk_tz_toyo1000_mot_rev;
      tk_tz_toyo1000_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_tk_tz_toyo1000_panto_placer_main_2,vehicle_is_reversed){
      1: sw_tk_tz_toyo1000_panto_placer_2_rev;
      sw_tk_tz_toyo1000_panto_placer_2;
    }

  switch(FEAT_TRAINS, SELF, sw_tk_tz_toyo1000_panto_placer_main,num_vehs_in_vehid_chain+1){
      0..9: sw_tk_tz_toyo1000_panto_placer_main_1;
      sw_tk_tz_toyo1000_panto_placer_main_2;
    }

    switch(FEAT_TRAINS, SELF, sw_tk_tz_toyo1000_gfx_main,position_in_vehid_chain_from_end){
      0: tk_tz_toyo1000_end;
      default: sw_tk_tz_toyo1000_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_tz_toyo1000_lv,vehicle_type_id){
      tk_tz_toyo1000: tk_tz_toyo1000_front;
      default: sw_tk_tz_toyo1000_gfx_main;
    }


    switch(FEAT_TRAINS, SELF, sw_tk_tz_toyo1000_capacity,position_in_vehid_chain_from_end){
      0: 136;
      144;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_tz_toyo1000_capacity_1,position_in_vehid_chain){
      0: 136;
      default: sw_tk_tz_toyo1000_capacity;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_tz_toyo1000_capacity_main,vehicle_type_id){
      mu_car_narrow: sw_tk_tz_toyo1000_capacity;
      sw_tk_tz_toyo1000_capacity_1;
    }

  switch(FEAT_TRAINS, SELF, sw_tk_tz_toyo1000_power_main,position_in_vehid_chain_from_end%10){
      0:return 100;
      2..5:return 100;
      7..8:return 100;
      return 0;
    }

 switch(FEAT_TRAINS, SELF, tk_tz_toyo1000_attach_vehid, vehicle_type_id) {
   mu_car: return string(STR_ATTACH_1067_ERROR);
  mu_car_metro: return string(STR_ATTACH_1067_ERROR);
  return CB_RESULT_ATTACH_ALLOW;
 }



item(FEAT_TRAINS, tk_tz_toyo1000,1050) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_TOYO_RAPID), "1000", string(STR_NAME_TYPE));
        introduction_date: date(1995, 1, 1);
        model_life: 14;
        vehicle_life: 20;
        reliability_decay: 10;

        cargo_capacity: 136;
        loading_speed: param_loading_4D;
        cost_factor: 19;
        running_cost_factor: 49;

        speed: 100 km/h;
        track_type: TR_1067_DC;
        power: 400 kW;
        weight: 35 ton;

        climates_available: param_disable_tokyo == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
        length: 8;
    }
 graphics {
        power: sw_tk_tz_toyo1000_power_main()*4*1342/1000;
        default: sw_tk_tz_toyo1000_lv;
        purchase: tk_tz_toyo1000_purchase;
        can_attach_wagon: tk_tz_toyo1000_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 10)),
  string(STR_OPERATOR, string(STR_TOKYOMETRO)),
  string(STR_LINES_USED, string(STR_TOKYO_TOZAI_TOYO)));

        start_stop: sw_stop_start_3;
        cargo_capacity: sw_tk_tz_toyo1000_capacity_main()*param_capacity_mod/3;
    }
    livery_override(mu_car_narrow){
        loading_speed: param_loading_4D;
        cargo_capacity: sw_tk_tz_toyo1000_capacity_main()*param_capacity_mod/3;
        default: sw_tk_tz_toyo1000_lv;
        power: sw_tk_tz_toyo1000_power_main()*4*1342/1000;
        weight: 36;
        length: 8;
      }
}
# 29 "src/_metro.pnml" 2
# 1 "src/metro/Tokyo/tozai/toyo2000.pnml" 1

spriteset(tk_tz_toyo2000_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/tozai/toyo2000/toyo2000.png"){ tmpl_purchase_1c(0, 0) }
spriteset(tk_tz_toyo2000_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/tozai/toyo2000/toyo2000.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, tk_tz_toyo2000_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_toyo; 1: tk_tz_toyo2000_purchase_c1; 2: tk_tz_toyo2000_purchase_c2;}

spriteset(tk_tz_toyo2000_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/tozai/toyo2000/toyo2000.png"){ tmpl_high_skirt(0, 0) }
spriteset(tk_tz_toyo2000_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/tozai/toyo2000/toyo2000.png"){ tmpl_high_skirt_rev(0, 25) }
spriteset(tk_tz_toyo2000_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/tozai/toyo2000/toyo2000.png"){ tmpl_symm(0, 50) }
spriteset(tk_tz_toyo2000_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/tozai/toyo2000/toyo2000.png"){ tmpl_std(0, 75) }
spriteset(tk_tz_toyo2000_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/tozai/toyo2000/toyo2000.png"){ tmpl_std_rev(0, 75) }




  switch(FEAT_TRAINS, SELF, sw_tk_tz_toyo2000_panto_placer_1,position_in_vehid_chain %3){
      0: tk_tz_toyo2000_mot;
      tk_tz_toyo2000_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_tz_toyo2000_panto_placer_1_rev,position_in_vehid_chain_from_end %3 -1){
      0: tk_tz_toyo2000_mot_rev;
      tk_tz_toyo2000_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_tk_tz_toyo2000_panto_placer_main_1,vehicle_is_reversed){
      1: sw_tk_tz_toyo2000_panto_placer_1_rev;
      sw_tk_tz_toyo2000_panto_placer_1;
    }

  switch(FEAT_TRAINS, SELF, sw_tk_tz_toyo2000_panto_placer_2,position_in_vehid_chain %2){
      0: tk_tz_toyo2000_mot;
      tk_tz_toyo2000_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_tz_toyo2000_panto_placer_2_rev,position_in_vehid_chain_from_end %2 -1){
      0: tk_tz_toyo2000_mot_rev;
      tk_tz_toyo2000_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_tk_tz_toyo2000_panto_placer_main_2,vehicle_is_reversed){
      1: sw_tk_tz_toyo2000_panto_placer_2_rev;
      sw_tk_tz_toyo2000_panto_placer_2;
    }

  switch(FEAT_TRAINS, SELF, sw_tk_tz_toyo2000_panto_placer_main,num_vehs_in_vehid_chain+1){
      5: sw_tk_tz_toyo2000_panto_placer_main_2;
      8: sw_tk_tz_toyo2000_panto_placer_main_2;
      sw_tk_tz_toyo2000_panto_placer_main_1;
    }

    switch(FEAT_TRAINS, SELF, sw_tk_tz_toyo2000_gfx_main,position_in_vehid_chain_from_end){
      0: tk_tz_toyo2000_end;
      default: sw_tk_tz_toyo2000_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_tz_toyo2000_lv,vehicle_type_id){
      tk_tz_toyo2000: tk_tz_toyo2000_front;
      default: sw_tk_tz_toyo2000_gfx_main;
    }


    switch(FEAT_TRAINS, SELF, sw_tk_tz_toyo2000_capacity,position_in_vehid_chain_from_end){
      0: 143;
      154;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_tz_toyo2000_capacity_1,position_in_vehid_chain){
      0: 143;
      default: sw_tk_tz_toyo2000_capacity;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_tz_toyo2000_capacity_main,vehicle_type_id){
      mu_car_narrow: sw_tk_tz_toyo2000_capacity;
      sw_tk_tz_toyo2000_capacity_1;
    }

  switch(FEAT_TRAINS, SELF, sw_tk_tz_toyo2000_power_main,position_in_vehid_chain_from_end%10){
      1..2:return 165;
      5:return 165;
      6..7:return 165;
      return 0;
    }

 switch(FEAT_TRAINS, SELF, tk_tz_toyo2000_attach_vehid, vehicle_type_id) {
   mu_car: return string(STR_ATTACH_1067_ERROR);
  mu_car_metro: return string(STR_ATTACH_1067_ERROR);
  return CB_RESULT_ATTACH_ALLOW;
 }

item(FEAT_TRAINS, tk_tz_toyo2000,1051) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_TOYO_RAPID), "2000", string(STR_NAME_SERIES));
        introduction_date: date(2004, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cargo_capacity: 143*param_capacity_mod/3;
        loading_speed: param_loading_4D;
        cost_factor: 20;
        running_cost_factor: 50;

        speed: 120 km/h;
        track_type: TR_1067_DC;
        power: 660 kW;
        weight: 27 ton;

        climates_available: param_disable_tokyo == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
        length: 8;
    }
 graphics {
        power: sw_tk_tz_toyo2000_power_main()*4*1342/1000;
        default: sw_tk_tz_toyo2000_lv;
        purchase: tk_tz_toyo2000_purchase;
        can_attach_wagon: tk_tz_toyo2000_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 10)),
  string(STR_OPERATOR, string(STR_TOKYOMETRO)),
  string(STR_LINES_USED, string(STR_TOKYO_TOZAI_TOYO)));

        start_stop: sw_stop_start_3;
        cargo_capacity: sw_tk_tz_toyo2000_capacity_main()*param_capacity_mod/3;
    }
    livery_override(mu_car_narrow){
        loading_speed: param_loading_4D;
        cargo_capacity: sw_tk_tz_toyo2000_capacity_main()*param_capacity_mod/3;
        default: sw_tk_tz_toyo2000_lv;
        power: sw_tk_tz_toyo2000_power_main()*4*1342/1000;
        weight: 27;
        length: 8;
      }
}
# 30 "src/_metro.pnml" 2


# 1 "src/metro/Tokyo/chiyoda/5000series.pnml" 1

spriteset(tk_ch_5000series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/chiyoda/5000series/5000series.png"){ tmpl_purchase_1c(0, 0) }
spriteset(tk_ch_5000series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/chiyoda/5000series/5000series.png"){ tmpl_purchase_2c(0, 75) }
switch(FEAT_TRAINS, SELF, tk_ch_5000series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_tokyo_metro; 1: logo_line_tk_chiyoda; 2: tk_ch_5000series_purchase_c1; 3: tk_ch_5000series_purchase_c2;}

spriteset(tk_ch_5000series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/chiyoda/5000series/5000series.png"){ tmpl_std(0, 0) }
spriteset(tk_ch_5000series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/chiyoda/5000series/5000series.png"){ tmpl_std_rev(0, 25) }
spriteset(tk_ch_5000series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/chiyoda/5000series/5000series.png"){ tmpl_std(0, 50) }
spriteset(tk_ch_5000series_wag_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/chiyoda/5000series/5000series.png"){ tmpl_std_rev(0, 50) }
spriteset(tk_ch_5000series_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/chiyoda/5000series/5000series.png"){ tmpl_std(0, 75) }
spriteset(tk_ch_5000series_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/chiyoda/5000series/5000series.png"){ tmpl_std_rev(0, 75) }
spriteset(tk_ch_5000series_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/chiyoda/5000series/5000series.png"){ tmpl_std(0, 100) }
spriteset(tk_ch_5000series_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/chiyoda/5000series/5000series.png"){ tmpl_std_rev(0, 125) }
spriteset(tk_ch_5000series_mot_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/chiyoda/5000series/5000series.png"){ tmpl_std(0, 150) }
spriteset(tk_ch_5000series_mot_1_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/chiyoda/5000series/5000series.png"){ tmpl_std_rev(0, 150) }
spriteset(tk_ch_5000series_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/chiyoda/5000series/5000series.png"){ tmpl_std(0, 175) }
spriteset(tk_ch_5000series_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/chiyoda/5000series/5000series.png"){ tmpl_std_rev(0, 175) }




    switch(FEAT_TRAINS, PARENT, sw_tk_ch_5000series_front_mot_gfx,vehicle_is_reversed){
      1: tk_ch_5000series_front_mot;
      tk_ch_5000series_front;
    }
    switch(FEAT_TRAINS, PARENT, sw_tk_ch_5000series_front_gfx,num_vehs_in_consist<5){
      1: sw_tk_ch_5000series_front_mot_gfx;
      tk_ch_5000series_front;
    }
    switch(FEAT_TRAINS, PARENT, sw_tk_ch_5000series_end_mot_gfx,vehicle_is_reversed){
      1: tk_ch_5000series_end;
      tk_ch_5000series_end_mot;
    }
    switch(FEAT_TRAINS, PARENT, sw_tk_ch_5000series_end_gfx,num_vehs_in_consist<5){
      1: sw_tk_ch_5000series_end_mot_gfx;
      tk_ch_5000series_end;
    }

      switch(FEAT_TRAINS, SELF, sw_tk_ch_5000series_mot_gfx,(current_year>1999&&num_vehs_in_vehid_chain<4)){
        1: tk_ch_5000series_mot_1;
        tk_ch_5000series_mot;
      }
      switch(FEAT_TRAINS, SELF, sw_tk_ch_5000series_mot_rev_gfx,(current_year>1999&&num_vehs_in_vehid_chain<4)){
        1: tk_ch_5000series_mot_1_rev;
        tk_ch_5000series_mot_rev;
      }


      switch(FEAT_TRAINS, SELF, sw_tk_ch_5000series_panto_placer_1,position_in_vehid_chain %5){
        0: tk_ch_5000series_mot;
        2: tk_ch_5000series_mot;
        tk_ch_5000series_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_tk_ch_5000series_panto_placer_1_rev,position_in_vehid_chain_from_end %5 -1){
        0: tk_ch_5000series_mot_rev;
        2: tk_ch_5000series_mot_rev;
        tk_ch_5000series_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_tk_ch_5000series_panto_placer_main_1,vehicle_is_reversed){
        1: sw_tk_ch_5000series_panto_placer_1_rev;
        sw_tk_ch_5000series_panto_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_tk_ch_5000series_panto_placer_2,position_in_vehid_chain %2){
        0: tk_ch_5000series_mot;
        tk_ch_5000series_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_tk_ch_5000series_panto_placer_2_rev,position_in_vehid_chain_from_end %2 -1){
        0: tk_ch_5000series_mot_rev;
        tk_ch_5000series_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_tk_ch_5000series_panto_placer_main_2,vehicle_is_reversed){
        1: sw_tk_ch_5000series_panto_placer_2_rev;
        sw_tk_ch_5000series_panto_placer_2;
      }

      switch(FEAT_TRAINS, SELF, sw_tk_ch_5000series_panto_placer_3,position_in_vehid_chain %2){
        0: sw_tk_ch_5000series_mot_rev_gfx;
        tk_ch_5000series_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_tk_ch_5000series_panto_placer_3_rev,position_in_vehid_chain_from_end %2 -1){
        0: sw_tk_ch_5000series_mot_gfx;
        tk_ch_5000series_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_tk_ch_5000series_panto_placer_main_3,vehicle_is_reversed){
        1: sw_tk_ch_5000series_panto_placer_3_rev;
        sw_tk_ch_5000series_panto_placer_3;
      }
    switch(FEAT_TRAINS, SELF, sw_tk_ch_5000series_panto_placer_main,num_vehs_in_vehid_chain+1){
      3..4: sw_tk_ch_5000series_panto_placer_main_3;
      7: sw_tk_ch_5000series_panto_placer_main_2;
      sw_tk_ch_5000series_panto_placer_main_1;
    }

    switch(FEAT_TRAINS, SELF, sw_tk_ch_5000series_fake_placer,position_in_vehid_chain +1){
      4: tk_ch_5000series_end_f;
      5: tk_ch_5000series_front_f;
      sw_tk_ch_5000series_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_ch_5000series_fake_placer_rev,position_in_vehid_chain_from_end ){
      4: tk_ch_5000series_front_f;
      5: tk_ch_5000series_end_f;
      sw_tk_ch_5000series_panto_placer_main;
    }
    switch(FEAT_TRAINS, PARENT, sw_tk_ch_5000series_fake_placer_gfx,vehicle_is_reversed){
      1: sw_tk_ch_5000series_fake_placer_rev;
      sw_tk_ch_5000series_fake_placer;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_ch_5000series_fake_placer_main,num_vehs_in_vehid_chain>8 - 1){
      1: sw_tk_ch_5000series_fake_placer_gfx;
      sw_tk_ch_5000series_panto_placer_main;
    }

    switch(FEAT_TRAINS, SELF, sw_tk_ch_5000series_gfx_main,position_in_vehid_chain_from_end){
      0: sw_tk_ch_5000series_end_gfx;
      default: sw_tk_ch_5000series_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_ch_5000series_lv,vehicle_type_id){
      tk_ch_5000series: sw_tk_ch_5000series_front_gfx;
      default: sw_tk_ch_5000series_gfx_main;
    }


  switch(FEAT_TRAINS, SELF, sw_tk_ch_5000series_capacity,position_in_vehid_chain_from_end){
    0: 136;
    default: 144;
  }
  switch(FEAT_TRAINS, SELF, sw_tk_ch_5000series_capacity_1,position_in_vehid_chain){
    0: 136;
    default: sw_tk_ch_5000series_capacity;
  }
  switch(FEAT_TRAINS, SELF, sw_tk_ch_5000series_capacity_main,vehicle_type_id){
    mu_car_narrow: sw_tk_ch_5000series_capacity;
    sw_tk_ch_5000series_capacity_1;
  }

  switch(FEAT_TRAINS, SELF, sw_tk_ch_5000series_power,position_in_vehid_chain_from_end%9){
    0..3:return 100;
    return 0;
  }
  switch(FEAT_TRAINS, SELF, sw_tk_ch_5000series_head_power,num_vehs_in_consist){
    39: return 100;
    return 0;
  }
  switch(FEAT_TRAINS, SELF, sw_tk_ch_5000series_power_main,vehicle_type_id){
    mu_car_narrow:sw_tk_ch_5000series_power;
    sw_tk_ch_5000series_head_power;
  }

  switch(FEAT_TRAINS, SELF, tk_ch_5000series_attach_vehid, vehicle_type_id) {
      mu_car: return string(STR_ATTACH_1067_ERROR);
      mu_car_metro: return string(STR_ATTACH_1067_ERROR);
      return CB_RESULT_ATTACH_ALLOW;
    }


item(FEAT_TRAINS, tk_ch_5000series,1060) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_EIDAN), "5000", string(STR_NAME_SERIES));
        introduction_date: date(1969, 1, 1);
        model_life: 10;
        vehicle_life: 38;
        reliability_decay: 10;

        cargo_capacity: 136;
        loading_speed: param_loading_4D;
        cost_factor: 19;
        running_cost_factor: 49;

        speed: 100 km/h;
        track_type: TR_1067_DC;
        power: 400 kW;
        weight: 27 ton;

        climates_available: param_disable_tokyo == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
        length: 8;
    }
 graphics {
        power: sw_tk_ch_5000series_power_main()*4*1342/1000;
        default: sw_tk_ch_5000series_lv;
        purchase: tk_ch_5000series_purchase;
        can_attach_wagon: tk_ch_5000series_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_2, 3,10)),
  string(STR_OPERATOR, string(STR_TOKYOMETRO)),
  string(STR_LINES_USED, string(STR_TOKYO_CHIYODA)));

        start_stop: sw_stop_start_2;
        cargo_capacity: sw_tk_ch_5000series_capacity_main()*param_capacity_mod/3;
    }
    livery_override(mu_car_narrow){
        loading_speed: param_loading_4D;
        cargo_capacity: sw_tk_ch_5000series_capacity_main()*param_capacity_mod/3;
        default: sw_tk_ch_5000series_lv;
        power: sw_tk_ch_5000series_power_main()*4*1342/1000;
        weight: 27;
        length: 8;
      }
}
# 33 "src/_metro.pnml" 2
# 1 "src/metro/Tokyo/chiyoda/6000series.pnml" 1

spriteset(tk_ch_6000series_purchase_c1_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/chiyoda/6000series/6000series_old.png"){ tmpl_purchase_1c(0, 0) }
spriteset(tk_ch_6000series_purchase_c2_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/chiyoda/6000series/6000series_old.png"){ tmpl_purchase_2c(0, 50) }
spriteset(tk_ch_6000series_purchase_c1_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/chiyoda/6000series/6000series.png"){ tmpl_purchase_1c(0, 0) }
spriteset(tk_ch_6000series_purchase_c2_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/chiyoda/6000series/6000series.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, tk_ch_6000series_purchase_c1,current_year>1980){
   1: tk_ch_6000series_purchase_c1_2;
   tk_ch_6000series_purchase_c1_1;
  }
switch(FEAT_TRAINS, SELF, tk_ch_6000series_purchase_c2,current_year>1980){
   1: tk_ch_6000series_purchase_c2_2;
   tk_ch_6000series_purchase_c2_1;
  }
switch(FEAT_TRAINS, SELF, tk_ch_6000series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_tokyo_metro; 1: logo_line_tk_chiyoda; 2: tk_ch_6000series_purchase_c1; 3: tk_ch_6000series_purchase_c2;}


spriteset(tk_ch_6000series_old_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/chiyoda/6000series/6000series_old.png"){ tmpl_std(0, 0) }
spriteset(tk_ch_6000series_old_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/chiyoda/6000series/6000series_old.png"){ tmpl_std_rev(0, 25) }
spriteset(tk_ch_6000series_old_mot_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/chiyoda/6000series/6000series_old.png"){ tmpl_symm(0, 50) }
spriteset(tk_ch_6000series_old_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/chiyoda/6000series/6000series_old.png"){ tmpl_symm(0, 75) }
spriteset(tk_ch_6000series_old_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/chiyoda/6000series/6000series_old.png"){ tmpl_std(0, 100) }
spriteset(tk_ch_6000series_old_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/chiyoda/6000series/6000series_old.png"){ tmpl_std_rev(0, 125) }
spriteset(tk_ch_6000series_old_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/chiyoda/6000series/6000series_old.png"){ tmpl_std_rev(0, 150) }
spriteset(tk_ch_6000series_old_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/chiyoda/6000series/6000series_old.png"){ tmpl_std(0, 150) }



spriteset(tk_ch_6000series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/chiyoda/6000series/6000series.png"){ tmpl_std(0, 0) }
spriteset(tk_ch_6000series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/chiyoda/6000series/6000series.png"){ tmpl_std_rev(0, 25) }
spriteset(tk_ch_6000series_mot_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/chiyoda/6000series/6000series.png"){ tmpl_symm(0, 50) }
spriteset(tk_ch_6000series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/chiyoda/6000series/6000series.png"){ tmpl_symm(0, 75) }
spriteset(tk_ch_6000series_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/chiyoda/6000series/6000series.png"){ tmpl_std(0, 100) }
spriteset(tk_ch_6000series_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/chiyoda/6000series/6000series.png"){ tmpl_std_rev(0, 125) }
spriteset(tk_ch_6000series_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/chiyoda/6000series/6000series.png"){ tmpl_std_rev(0, 150) }
spriteset(tk_ch_6000series_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/chiyoda/6000series/6000series.png"){ tmpl_std(0, 150) }




      switch(FEAT_TRAINS, SELF, sw_tk_ch_6000series_front,current_year>1980){
        1: tk_ch_6000series_front;
        tk_ch_6000series_old_front;
      }
      switch(FEAT_TRAINS, SELF, sw_tk_ch_6000series_end,current_year>1980){
        1: tk_ch_6000series_end;
        tk_ch_6000series_old_end;
      }
      switch(FEAT_TRAINS, SELF, sw_tk_ch_6000series_mot_2,current_year>1980){
        1: tk_ch_6000series_mot_2;
        tk_ch_6000series_old_mot_2;
      }
      switch(FEAT_TRAINS, SELF, sw_tk_ch_6000series_wag,current_year>1980){
        1: tk_ch_6000series_wag;
        tk_ch_6000series_old_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_tk_ch_6000series_front_mot,current_year>1980){
        1: tk_ch_6000series_front_mot;
        tk_ch_6000series_old_front_mot;
      }
      switch(FEAT_TRAINS, SELF, sw_tk_ch_6000series_end_mot,current_year>1980){
        1: tk_ch_6000series_end_mot;
        tk_ch_6000series_old_end_mot;
      }
      switch(FEAT_TRAINS, SELF, sw_tk_ch_6000series_mot,current_year>1980){
        1: tk_ch_6000series_mot;
        tk_ch_6000series_old_mot;
      }
      switch(FEAT_TRAINS, SELF, sw_tk_ch_6000series_mot_rev,current_year>1980){
        1: tk_ch_6000series_mot_rev;
        tk_ch_6000series_old_mot_rev;
      }

    switch(FEAT_TRAINS, PARENT, sw_tk_ch_6000series_front_gfx,vehicle_is_reversed==1&&num_vehs_in_consist!=6){
      1: sw_tk_ch_6000series_front_mot;
      sw_tk_ch_6000series_front;
    }
    switch(FEAT_TRAINS, PARENT, sw_tk_ch_6000series_end_gfx,vehicle_is_reversed==0&&num_vehs_in_consist!=6){
      1: sw_tk_ch_6000series_end_mot;
      sw_tk_ch_6000series_end;
    }


      switch(FEAT_TRAINS, SELF, sw_tk_ch_6000series_panto_placer_1,position_in_vehid_chain %6){
        0: sw_tk_ch_6000series_mot_2;
        2: sw_tk_ch_6000series_mot_2;
        sw_tk_ch_6000series_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_tk_ch_6000series_panto_placer_1_rev,position_in_vehid_chain_from_end %6 -1){
        0: sw_tk_ch_6000series_mot_2;
        2: sw_tk_ch_6000series_mot_2;
        sw_tk_ch_6000series_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_tk_ch_6000series_panto_placer_main_1,vehicle_is_reversed){
        1: sw_tk_ch_6000series_panto_placer_1_rev;
        sw_tk_ch_6000series_panto_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_tk_ch_6000series_panto_placer_2,position_in_vehid_chain %2){
        1: sw_tk_ch_6000series_mot_2;
        sw_tk_ch_6000series_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_tk_ch_6000series_panto_placer_2_rev,position_in_vehid_chain_from_end %2){
        0: sw_tk_ch_6000series_mot_2;
        sw_tk_ch_6000series_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_tk_ch_6000series_panto_placer_main_2,vehicle_is_reversed){
        1: sw_tk_ch_6000series_panto_placer_2_rev;
        sw_tk_ch_6000series_panto_placer_2;
      }

      switch(FEAT_TRAINS, SELF, sw_tk_ch_6000series_panto_placer_3,position_in_vehid_chain %2){
        0: sw_tk_ch_6000series_mot;
        sw_tk_ch_6000series_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_tk_ch_6000series_panto_placer_3_rev,position_in_vehid_chain_from_end %2 -1){
        0: sw_tk_ch_6000series_mot_rev;
        sw_tk_ch_6000series_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_tk_ch_6000series_panto_placer_main_3,vehicle_is_reversed){
        1: sw_tk_ch_6000series_panto_placer_3_rev;
        sw_tk_ch_6000series_panto_placer_3;
      }
    switch(FEAT_TRAINS, SELF, sw_tk_ch_6000series_panto_placer_main,num_vehs_in_vehid_chain+1){
      3..4: sw_tk_ch_6000series_panto_placer_main_3;
      5..7: sw_tk_ch_6000series_panto_placer_main_2;
      9: sw_tk_ch_6000series_panto_placer_main_2;
      sw_tk_ch_6000series_panto_placer_main_1;
    }

    switch(FEAT_TRAINS, SELF, sw_tk_ch_6000series_gfx_main,position_in_vehid_chain_from_end){
      0: sw_tk_ch_6000series_end_gfx;
      default: sw_tk_ch_6000series_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_ch_6000series_lv,vehicle_type_id){
      tk_ch_6000series: sw_tk_ch_6000series_front_gfx;
      default: sw_tk_ch_6000series_gfx_main;
    }


  switch(FEAT_TRAINS, SELF, sw_tk_ch_6000series_capacity,position_in_vehid_chain_from_end){
    0: 136;
    default: 144;
  }
  switch(FEAT_TRAINS, SELF, sw_tk_ch_6000series_capacity_1,position_in_vehid_chain){
    0: 136;
    default: sw_tk_ch_6000series_capacity;
  }
  switch(FEAT_TRAINS, SELF, sw_tk_ch_6000series_capacity_main,vehicle_type_id){
    mu_car_narrow: sw_tk_ch_6000series_capacity;
    sw_tk_ch_6000series_capacity_1;
  }

  switch(FEAT_TRAINS, SELF, sw_tk_ch_6000series_power_main,position_in_vehid_chain_from_end%10){
    0..3:return 145;
    6:return 145;
    return 0;
  }

  switch(FEAT_TRAINS, SELF, tk_ch_6000series_attach_vehid, vehicle_type_id) {
    mu_car: return string(STR_ATTACH_1067_ERROR);
    mu_car_metro: return string(STR_ATTACH_1067_ERROR);
    return CB_RESULT_ATTACH_ALLOW;
  }

item(FEAT_TRAINS, tk_ch_6000series,1061) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_EIDAN), "6000", string(STR_NAME_SERIES));
        introduction_date: date(1968, 1, 1);
        model_life: 30;
        vehicle_life: 32;
        reliability_decay: 10;

        cargo_capacity: 136;
        loading_speed: param_loading_4D;
        cost_factor: 19;
        running_cost_factor: 49;

        speed: 100 km/h;
        track_type: TR_1067_DC;
        power: 580 kW;
        weight: 28 ton;

        climates_available: param_disable_tokyo == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
        length: 8;
    }
 graphics {
        power: sw_tk_ch_6000series_power_main()*4*1342/1000;
        default: sw_tk_ch_6000series_lv;
        purchase: tk_ch_6000series_purchase;
        can_attach_wagon: tk_ch_6000series_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_3, 3,6,10)),
  string(STR_OPERATOR, string(STR_TOKYOMETRO)),
  string(STR_LINES_USED, string(STR_TOKYO_CHIYODA)));


        start_stop: sw_stop_start_2;
        cargo_capacity: sw_tk_ch_6000series_capacity_main()*param_capacity_mod/3;
    }
    livery_override(mu_car_narrow){
        loading_speed: param_loading_4D;
        cargo_capacity: sw_tk_ch_6000series_capacity_main()*param_capacity_mod/3;
        default: sw_tk_ch_6000series_lv;
        power: sw_tk_ch_6000series_power_main()*4*1342/1000;
        weight: 28;
        length: 8;
      }
}
# 34 "src/_metro.pnml" 2
# 1 "src/metro/Tokyo/chiyoda/06series.pnml" 1

spriteset(tk_ch_06series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/chiyoda/06series/06series.png"){ tmpl_purchase_1c(0, 0) }
spriteset(tk_ch_06series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/chiyoda/06series/06series.png"){ tmpl_purchase_2c(0, 75) }
switch(FEAT_TRAINS, SELF, tk_ch_06series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_tokyo_metro; 1: logo_line_tk_chiyoda; 2: tk_ch_06series_purchase_c1; 3: tk_ch_06series_purchase_c2;}

spriteset(tk_ch_06series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/chiyoda/06series/06series.png"){ tmpl_high_skirt(0, 0) }
spriteset(tk_ch_06series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/chiyoda/06series/06series.png"){ tmpl_high_skirt_rev(0, 25) }
spriteset(tk_ch_06series_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/chiyoda/06series/06series.png"){ tmpl_std(0, 50) }
spriteset(tk_ch_06series_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/chiyoda/06series/06series.png"){ tmpl_std_rev(0, 50) }
spriteset(tk_ch_06series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/chiyoda/06series/06series.png"){ tmpl_symm(0, 75) }




    switch(FEAT_TRAINS, SELF, sw_tk_ch_06series_panto_placer_1,position_in_vehid_chain %5){
        0: tk_ch_06series_mot;
        2: tk_ch_06series_mot;
        tk_ch_06series_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_ch_06series_panto_placer_1_rev,position_in_vehid_chain_from_end %5 -1){
        0: tk_ch_06series_mot_rev;
        2: tk_ch_06series_mot_rev;
        tk_ch_06series_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_tk_ch_06series_panto_placer_main_1,vehicle_is_reversed){
        1: sw_tk_ch_06series_panto_placer_1_rev;
        sw_tk_ch_06series_panto_placer_1;
    }

    switch(FEAT_TRAINS, SELF, sw_tk_ch_06series_panto_placer_2,position_in_vehid_chain %3){
        0: tk_ch_06series_mot;
        3: tk_ch_06series_mot;
        tk_ch_06series_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_ch_06series_panto_placer_2_rev,position_in_vehid_chain_from_end %3 -1){
        0: tk_ch_06series_mot_rev;
        3: tk_ch_06series_mot_rev;
        tk_ch_06series_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_tk_ch_06series_panto_placer_main_2,vehicle_is_reversed){
        1: sw_tk_ch_06series_panto_placer_2_rev;
        sw_tk_ch_06series_panto_placer_2;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_ch_06series_panto_placer_main,num_vehs_in_vehid_chain+1){
        6..7: sw_tk_ch_06series_panto_placer_main_2;
        sw_tk_ch_06series_panto_placer_main_1;
    }

  switch(FEAT_TRAINS, SELF, sw_tk_ch_06series_gfx_main,position_in_vehid_chain_from_end){
      0: tk_ch_06series_end;
      default: sw_tk_ch_06series_panto_placer_main;
  }
  switch(FEAT_TRAINS, SELF, sw_tk_ch_06series_lv,vehicle_type_id){
      tk_ch_06series: tk_ch_06series_front;
      default: sw_tk_ch_06series_gfx_main;
  }


  switch(FEAT_TRAINS, SELF, sw_tk_ch_06series_capacity,position_in_vehid_chain_from_end){
    0: 138;
    default: 152;
  }
  switch(FEAT_TRAINS, SELF, sw_tk_ch_06series_capacity_1,position_in_vehid_chain){
    0: 138;
    default: sw_tk_ch_06series_capacity;
  }
  switch(FEAT_TRAINS, SELF, sw_tk_ch_06series_capacity_main,vehicle_type_id){
    mu_car_narrow: sw_tk_ch_06series_capacity;
    sw_tk_ch_06series_capacity_1;
  }

  switch(FEAT_TRAINS, SELF, sw_tk_ch_06series_power,position_in_vehid_chain_from_end%9){
    1:return 205;
    3:return 205;
    6:return 205;
    8:return 205;
    return 0;
  }
  switch(FEAT_TRAINS, SELF, sw_tk_ch_06series_head_power,num_vehs_in_consist){
    39: return 205;
    return 0;
  }
  switch(FEAT_TRAINS, SELF, sw_tk_ch_06series_power_main,vehicle_type_id){
      mu_car_narrow:sw_tk_ch_06series_power;
      sw_tk_ch_06series_head_power;
  }

switch(FEAT_TRAINS, SELF, tk_ch_06series_attach_vehid, vehicle_type_id) {
  mu_car: return string(STR_ATTACH_1067_ERROR);
  mu_car_metro: return string(STR_ATTACH_1067_ERROR);
  return CB_RESULT_ATTACH_ALLOW;
}

item(FEAT_TRAINS, tk_ch_06series,1062) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_EIDAN), "06", string(STR_NAME_SERIES));
        introduction_date: date(1992, 1, 1);
        model_life: 22;
        vehicle_life: 30;
        reliability_decay: 10;

        cargo_capacity: 138;
        loading_speed: param_loading_4D;
        cost_factor: 20;
        running_cost_factor: 50;

        speed: 110 km/h;
        track_type: TR_1067_DC;
        power: 820 kW;
        weight: 27 ton;

        climates_available: param_disable_tokyo == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
        length: 8;
    }
 graphics {
        power: sw_tk_ch_06series_power_main()*4*1342/1000;
        default: sw_tk_ch_06series_lv;
        purchase: tk_ch_06series_purchase;
        can_attach_wagon: tk_ch_06series_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 10)),
  string(STR_OPERATOR, string(STR_TOKYOMETRO)),
  string(STR_LINES_USED, string(STR_TOKYO_CHIYODA)));

        start_stop: sw_stop_start_3;
        cargo_capacity: sw_tk_ch_06series_capacity_main()*param_capacity_mod/3;
    }
    livery_override(mu_car_narrow){
        loading_speed: param_loading_4D;
        cargo_capacity: sw_tk_ch_06series_capacity_main()*param_capacity_mod/3;
        default: sw_tk_ch_06series_lv;
        power: sw_tk_ch_06series_power_main()*4*1342/1000;
        weight: 27;
        length: 8;
      }
}
# 35 "src/_metro.pnml" 2
# 1 "src/metro/Tokyo/chiyoda/16000series.pnml" 1

spriteset(tk_ch_16000series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/chiyoda/16000series/16000series.png"){ tmpl_purchase_1c(0, 0) }
spriteset(tk_ch_16000series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/chiyoda/16000series/16000series.png"){ tmpl_purchase_2c(0, 75) }
switch(FEAT_TRAINS, SELF, tk_ch_16000series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_tokyo_metro; 1: logo_line_tk_chiyoda; 2: tk_ch_16000series_purchase_c1; 3: tk_ch_16000series_purchase_c2;}





  spriteset(tk_ch_16000series_2_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/chiyoda/16000series/16000series.png"){ tmpl_high_skirt(0, 0) }
  spriteset(tk_ch_16000series_2_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/chiyoda/16000series/16000series.png"){ tmpl_high_skirt_rev(0, 25) }
  spriteset(tk_ch_16000series_2_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/chiyoda/16000series/16000series.png"){ tmpl_std(0, 50) }
  spriteset(tk_ch_16000series_2_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/chiyoda/16000series/16000series.png"){ tmpl_std_rev(0, 50) }
  spriteset(tk_ch_16000series_2_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/chiyoda/16000series/16000series.png"){ tmpl_symm(0, 75) }





    switch(FEAT_TRAINS, SELF, sw_tk_ch_16000series_2_panto_placer_1,position_in_vehid_chain %9){
      0: tk_ch_16000series_2_mot;
      2: tk_ch_16000series_2_mot;
      5: tk_ch_16000series_2_mot;
      7: tk_ch_16000series_2_mot;
      tk_ch_16000series_2_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_ch_16000series_2_panto_placer_1_rev,position_in_vehid_chain_from_end %9 -1){
      0: tk_ch_16000series_2_mot_rev;
      2: tk_ch_16000series_2_mot_rev;
      5: tk_ch_16000series_2_mot_rev;
      7: tk_ch_16000series_2_mot_rev;
      tk_ch_16000series_2_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_tk_ch_16000series_2_panto_placer_main_1,vehicle_is_reversed){
      1: sw_tk_ch_16000series_2_panto_placer_1_rev;
      sw_tk_ch_16000series_2_panto_placer_1;
    }

    switch(FEAT_TRAINS, SELF, sw_tk_ch_16000series_2_panto_placer_2,position_in_vehid_chain %3){
      1: tk_ch_16000series_2_mot;
      tk_ch_16000series_2_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_ch_16000series_2_panto_placer_2_rev,position_in_vehid_chain_from_end %3 -1){
      1: tk_ch_16000series_2_mot_rev;
      tk_ch_16000series_2_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_tk_ch_16000series_2_panto_placer_main_2,vehicle_is_reversed){
      1: sw_tk_ch_16000series_2_panto_placer_2_rev;
      sw_tk_ch_16000series_2_panto_placer_2;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_ch_16000series_2_panto_placer_main,num_vehs_in_vehid_chain+1){
      7: sw_tk_ch_16000series_2_panto_placer_main_2;
      sw_tk_ch_16000series_2_panto_placer_main_1;
    }

    switch(FEAT_TRAINS, SELF, sw_tk_ch_16000series_2_gfx_main,position_in_vehid_chain_from_end){
      0: tk_ch_16000series_2_end;
      default: sw_tk_ch_16000series_2_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_ch_16000series_lv,vehicle_type_id){
      tk_ch_16000series: tk_ch_16000series_2_front;
      default: sw_tk_ch_16000series_2_gfx_main;
    }


  switch(FEAT_TRAINS, SELF, sw_tk_ch_16000series_capacity,position_in_vehid_chain_from_end){
    0: 143;
    default: 154;
  }
  switch(FEAT_TRAINS, SELF, sw_tk_ch_16000series_capacity_1,position_in_vehid_chain){
    0: 143;
    default: sw_tk_ch_16000series_capacity;
  }
  switch(FEAT_TRAINS, SELF, sw_tk_ch_16000series_capacity_main,vehicle_type_id){
    mu_car_narrow: sw_tk_ch_16000series_capacity;
    sw_tk_ch_16000series_capacity_1;
  }

  switch(FEAT_TRAINS, SELF, sw_tk_ch_16000series_power,position_in_vehid_chain_from_end%9){
    1:return 205;
    3:return 205;
    6:return 205;
    8:return 205;
    return 0;
  }
  switch(FEAT_TRAINS, SELF, sw_tk_ch_16000series_head_power,num_vehs_in_consist){
    39: return 205;
    return 0;
  }
  switch(FEAT_TRAINS, SELF, sw_tk_ch_16000series_power_main,vehicle_type_id){
    mu_car_narrow:sw_tk_ch_16000series_power;
    sw_tk_ch_16000series_head_power;
  }

    switch(FEAT_TRAINS, SELF, tk_ch_16000series_attach_vehid, vehicle_type_id) {
      mu_car: return string(STR_ATTACH_1067_ERROR);
      mu_car_metro: return string(STR_ATTACH_1067_ERROR);
      return CB_RESULT_ATTACH_ALLOW;
    }

item(FEAT_TRAINS, tk_ch_16000series,1063) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_TOKYO_METRO), "16000", string(STR_NAME_SERIES));
        introduction_date: date(2010, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cargo_capacity: 143;
        loading_speed: param_loading_4D;
        cost_factor: 22;
        running_cost_factor: 52;

        speed: 120 km/h;
        track_type: TR_1067_DC;
        power: 328 kW;
        weight: 30 ton;

        climates_available: param_disable_tokyo == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
        length: 8;
    }
 graphics {
        power: sw_tk_ch_16000series_power_main()*4*1342/1000;
        default: sw_tk_ch_16000series_lv;
        purchase: tk_ch_16000series_purchase;
        can_attach_wagon: tk_ch_16000series_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 10)),
  string(STR_OPERATOR, string(STR_TOKYOMETRO)),
  string(STR_LINES_USED, string(STR_TOKYO_CHIYODA)));

        start_stop: sw_stop_start_3;
        cargo_capacity: sw_tk_ch_16000series_capacity_main()*param_capacity_mod/3;
    }
    livery_override(mu_car_narrow){
        loading_speed: param_loading_4D;
        cargo_capacity: sw_tk_ch_16000series_capacity_main()*param_capacity_mod/3;
        default: sw_tk_ch_16000series_lv;
        power: sw_tk_ch_16000series_power_main()*4*1342/1000;
        weight: 30;
        length: 8;
      }
}
# 36 "src/_metro.pnml" 2
# 1 "src/metro/Tokyo/chiyoda/05series.pnml" 1

spriteset(tk_ch_05series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/chiyoda/05series/05series.png"){ tmpl_purchase_1c(0, 0) }
spriteset(tk_ch_05series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/chiyoda/05series/05series.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, tk_ch_05series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_tokyo_metro; 1: logo_line_tk_chiyoda; 2: tk_ch_05series_purchase_c1; 3: tk_ch_05series_purchase_c2;}

spriteset(tk_ch_05series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/chiyoda/05series/05series.png"){ tmpl_std(0, 0) }
spriteset(tk_ch_05series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/chiyoda/05series/05series.png"){ tmpl_std_rev(0, 25) }
spriteset(tk_ch_05series_mot_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/chiyoda/05series/05series.png"){ tmpl_symm(0, 50) }
spriteset(tk_ch_05series_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/chiyoda/05series/05series.png"){ tmpl_std(0, 75) }
spriteset(tk_ch_05series_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/chiyoda/05series/05series.png"){ tmpl_std_rev(0, 75) }
spriteset(tk_ch_05series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/chiyoda/05series/05series.png"){ tmpl_symm(0, 100) }




  switch(FEAT_TRAINS, SELF, sw_tk_ch_05series_panto_placer_1,position_in_vehid_chain %6){
    0: tk_ch_05series_mot_2;
    3: tk_ch_05series_mot;
    tk_ch_05series_wag;
  }
  switch(FEAT_TRAINS, SELF, sw_tk_ch_05series_panto_placer_1_rev,position_in_vehid_chain_from_end %6 -1){
    0: tk_ch_05series_mot_2;
    3: tk_ch_05series_mot_rev;
    tk_ch_05series_wag;
  }
  switch(FEAT_TRAINS, PARENT, sw_tk_ch_05series_panto_placer_main_1,vehicle_is_reversed){
    1: sw_tk_ch_05series_panto_placer_1_rev;
    sw_tk_ch_05series_panto_placer_1;
  }

  switch(FEAT_TRAINS, SELF, sw_tk_ch_05series_panto_placer_2,position_in_vehid_chain %3){
    1: tk_ch_05series_mot_2;
    tk_ch_05series_wag;
  }
  switch(FEAT_TRAINS, SELF, sw_tk_ch_05series_panto_placer_2_rev,position_in_vehid_chain_from_end %3){
    2: tk_ch_05series_mot_2;
    tk_ch_05series_wag;
  }
  switch(FEAT_TRAINS, PARENT, sw_tk_ch_05series_panto_placer_main_2,vehicle_is_reversed){
    1: sw_tk_ch_05series_panto_placer_2_rev;
    sw_tk_ch_05series_panto_placer_2;
  }
  switch(FEAT_TRAINS, SELF, sw_tk_ch_05series_panto_placer_main,num_vehs_in_vehid_chain+1){
    5: sw_tk_ch_05series_panto_placer_main_2;
    7..8: sw_tk_ch_05series_panto_placer_main_2;
    sw_tk_ch_05series_panto_placer_main_1;
  }

  switch(FEAT_TRAINS, SELF, sw_tk_ch_05series_gfx_main,position_in_vehid_chain_from_end){
    0: tk_ch_05series_end;
    default: sw_tk_ch_05series_panto_placer_main;
  }
  switch(FEAT_TRAINS, SELF, sw_tk_ch_05series_livery_1,vehicle_type_id){
    tk_ch_05series: tk_ch_05series_front;
    default: sw_tk_ch_05series_gfx_main;
  }


  switch(FEAT_TRAINS, SELF, sw_tk_ch_05series_capacity,position_in_vehid_chain_from_end){
    0: 143;
    default: 154;
  }
  switch(FEAT_TRAINS, SELF, sw_tk_ch_05series_capacity_1,position_in_vehid_chain){
    0: 143;
    default: sw_tk_ch_05series_capacity;
  }
  switch(FEAT_TRAINS, SELF, sw_tk_ch_05series_capacity_main,vehicle_type_id){
    mu_car_narrow: sw_tk_ch_05series_capacity;
    sw_tk_ch_05series_capacity_1;
  }

  switch(FEAT_TRAINS, SELF, sw_tk_ch_05series_power,position_in_vehid_chain_from_end%5){
    0..1:return 185;
    4:return 185;
    6..7:return 185;
    return 0;
  }
  switch(FEAT_TRAINS, SELF, sw_tk_ch_05series_head_power,num_vehs_in_consist){
    39: return 185;
    return 0;
  }
  switch(FEAT_TRAINS, SELF, sw_tk_ch_05series_power_main,vehicle_type_id){
      mu_car_narrow:sw_tk_ch_05series_power;
      sw_tk_ch_05series_head_power;
  }

switch(FEAT_TRAINS, SELF, tk_ch_05series_attach_vehid, vehicle_type_id) {
  mu_car: return string(STR_ATTACH_1067_ERROR);
  mu_car_metro: return string(STR_ATTACH_1067_ERROR);
  return CB_RESULT_ATTACH_ALLOW;
}

item(FEAT_TRAINS, tk_ch_05series,1070) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_EIDAN), "05", string(STR_NAME_SERIES));
        introduction_date: date(2014, 1, 1) ;
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cargo_capacity: 138;
        loading_speed: param_loading_4D;
        cost_factor: 20;
        running_cost_factor: 50;

        speed: 110 km/h;
        track_type: TR_1067_DC;
        power: 740 kW;
        weight: 35 ton;

        climates_available: param_disable_tokyo == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
        length: 8;
    }
 graphics {
        power: sw_tk_ch_05series_power_main()*4*1342/1000;
        default: sw_tk_ch_05series_livery_1;
        purchase: tk_ch_05series_purchase;
        can_attach_wagon: tk_ch_05series_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 3)),
  string(STR_OPERATOR, string(STR_TOKYOMETRO)),
  string(STR_LINES_USED, string(STR_TOKYO_CHIYODA_BR)));

        start_stop: sw_stop_start_3;
        cargo_capacity: sw_tk_ch_05series_capacity_main()*param_capacity_mod/3;
    }
    livery_override(mu_car_narrow){
        loading_speed: param_loading_4D;
        cargo_capacity: sw_tk_ch_05series_capacity_main()*param_capacity_mod/3;
        default: sw_tk_ch_05series_livery_1;
        power: sw_tk_ch_05series_power_main()*4*1342/1000;
        weight: 31;
        length: 8;
      }
}
# 37 "src/_metro.pnml" 2


# 1 "src/metro/Tokyo/yurakucho_fukutoshin/07series.pnml" 1

spriteset(tk_yk_07series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/yurakucho_fukutoshin/07series/07series.png"){ tmpl_purchase_1c(0, 0) }
spriteset(tk_yk_07series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/yurakucho_fukutoshin/07series/07series.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, tk_yk_07series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_tokyo_metro; 1: logo_line_tk_yurakucho; 2: tk_yk_07series_purchase_c1; 3: tk_yk_07series_purchase_c2;}

spriteset(tk_yk_07series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/yurakucho_fukutoshin/07series/07series.png"){ tmpl_high_skirt(0, 0) }
spriteset(tk_yk_07series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/yurakucho_fukutoshin/07series/07series.png"){ tmpl_high_skirt_rev(0, 25) }
spriteset(tk_yk_07series_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/yurakucho_fukutoshin/07series/07series.png"){ tmpl_std(0, 50) }
spriteset(tk_yk_07series_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/yurakucho_fukutoshin/07series/07series.png"){ tmpl_std_rev(0, 50) }
spriteset(tk_yk_07series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/yurakucho_fukutoshin/07series/07series.png"){ tmpl_symm(0, 75) }




  switch(FEAT_TRAINS, SELF, sw_tk_yk_07series_panto_placer_1,position_in_vehid_chain %5){
      0: tk_yk_07series_mot;
      2: tk_yk_07series_mot;
      tk_yk_07series_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_yk_07series_panto_placer_1_rev,position_in_vehid_chain_from_end %5 -1){
      0: tk_yk_07series_mot_rev;
      2: tk_yk_07series_mot_rev;
      tk_yk_07series_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_tk_yk_07series_panto_placer_main,vehicle_is_reversed){
      1: sw_tk_yk_07series_panto_placer_1_rev;
      sw_tk_yk_07series_panto_placer_1;
    }

    switch(FEAT_TRAINS, SELF, sw_tk_yk_07series_gfx_main,position_in_vehid_chain_from_end){
      0: tk_yk_07series_end;
      default: sw_tk_yk_07series_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_yk_07series_lv,vehicle_type_id){
      tk_yk_07series: tk_yk_07series_front;
      default: sw_tk_yk_07series_gfx_main;
    }
item(FEAT_TRAINS, tk_yk_07series, 1081) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_EIDAN), "07", string(STR_NAME_SERIES));
        introduction_date: date(1992, 1, 1);
        model_life: 19;
        vehicle_life: 20;
        reliability_decay: 10;

        cargo_capacity: 138;
        loading_speed: param_loading_4D;
        cost_factor: 20;
        running_cost_factor: 51;

        speed: 110 km/h;
        track_type: TR_1067_DC;
        power: 820 kW;
        weight: 35 ton;

        climates_available: param_disable_tokyo == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
        length: 8;
    }
 graphics {

        power: sw_tk_tz_07series_power_main()*4*1342/1000;
        default: sw_tk_yk_07series_lv;
        purchase: tk_yk_07series_purchase;
        can_attach_wagon: tk_tz_07series_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 10)),
  string(STR_OPERATOR, string(STR_TOKYOMETRO)),
  string(STR_LINES_USED, string(STR_TOKYO_YURA)));

        start_stop: sw_stop_start_3;
        cargo_capacity: sw_tk_tz_07series_capacity_main()*param_capacity_mod/3;
    }
    livery_override(mu_car_narrow){
        loading_speed: param_loading_4D;
        cargo_capacity: sw_tk_tz_07series_capacity_main()*param_capacity_mod/3;
        default: sw_tk_yk_07series_lv;
        power: sw_tk_tz_07series_power_main()*4*1342/1000;
        weight: 27;
        length: 8;
      }
}
# 40 "src/_metro.pnml" 2
# 1 "src/metro/Tokyo/yurakucho_fukutoshin/7000series.pnml" 1

spriteset(tk_yk_7000series_purchase_c1_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/yurakucho_fukutoshin/7000series/7000series_1.png"){ tmpl_purchase_1c(0, 0) }
spriteset(tk_yk_7000series_purchase_c2_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/yurakucho_fukutoshin/7000series/7000series_1.png"){ tmpl_purchase_2c(0, 50) }
spriteset(tk_yk_7000series_purchase_c1_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/yurakucho_fukutoshin/7000series/7000series_2.png"){ tmpl_purchase_1c(0, 0) }
spriteset(tk_yk_7000series_purchase_c2_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/yurakucho_fukutoshin/7000series/7000series_2.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, tk_yk_7000series_purchase_c1,current_year){
      0..2007: tk_yk_7000series_purchase_c1_1;
      tk_yk_7000series_purchase_c1_2;
 }
switch(FEAT_TRAINS, SELF, tk_yk_7000series_purchase_c2,current_year){
      0..2007: tk_yk_7000series_purchase_c2_1;
      tk_yk_7000series_purchase_c2_2;
 }
switch(FEAT_TRAINS, SELF, tk_yk_7000series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_tokyo_metro; 1: logo_line_tk_fuku; 2: tk_yk_7000series_purchase_c1; 3: tk_yk_7000series_purchase_c2;}



spriteset(tk_yk_7000series_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/yurakucho_fukutoshin/7000series/7000series_1.png"){ tmpl_std(0, 0) }
spriteset(tk_yk_7000series_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/yurakucho_fukutoshin/7000series/7000series_1.png"){ tmpl_std_rev(0, 25) }
spriteset(tk_yk_7000series_1_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/yurakucho_fukutoshin/7000series/7000series_1.png"){ tmpl_std(0, 50) }
spriteset(tk_yk_7000series_1_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/yurakucho_fukutoshin/7000series/7000series_1.png"){ tmpl_std_rev(0, 75) }
spriteset(tk_yk_7000series_1_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/yurakucho_fukutoshin/7000series/7000series_1.png"){ tmpl_symm(0, 100) }
spriteset(tk_yk_7000series_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/yurakucho_fukutoshin/7000series/7000series_1.png"){ tmpl_symm(0, 125) }



spriteset(tk_yk_7000series_2_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/yurakucho_fukutoshin/7000series/7000series_2.png"){ tmpl_std(0, 0) }
spriteset(tk_yk_7000series_2_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/yurakucho_fukutoshin/7000series/7000series_2.png"){ tmpl_std_rev(0, 25) }
spriteset(tk_yk_7000series_2_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/yurakucho_fukutoshin/7000series/7000series_2.png"){ tmpl_symm(0, 50) }
spriteset(tk_yk_7000series_2_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/yurakucho_fukutoshin/7000series/7000series_2.png"){ tmpl_symm(0, 75) }





      switch(FEAT_TRAINS, SELF, sw_tk_yk_7000series_1_panto_placer_1,position_in_vehid_chain %7){
        1: tk_yk_7000series_1_mot;
        5: tk_yk_7000series_1_mot;
        tk_yk_7000series_1_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_tk_yk_7000series_1_panto_placer_1_rev,position_in_vehid_chain_from_end %7 -1){
        1: tk_yk_7000series_1_mot;
        5: tk_yk_7000series_1_mot;
        tk_yk_7000series_1_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_tk_yk_7000series_1_panto_placer_main_1,vehicle_is_reversed){
        1: sw_tk_yk_7000series_1_panto_placer_1_rev;
        sw_tk_yk_7000series_1_panto_placer_1;
      }

   switch(FEAT_TRAINS, SELF, sw_tk_yk_7000series_1_panto_placer_2,position_in_vehid_chain %6){
        0: tk_yk_7000series_1_mot;
        2: tk_yk_7000series_1_mot;
        tk_yk_7000series_1_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_tk_yk_7000series_1_panto_placer_2_rev,position_in_vehid_chain_from_end %6 -1){
        0: tk_yk_7000series_1_mot;
        2: tk_yk_7000series_1_mot;
        tk_yk_7000series_1_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_tk_yk_7000series_1_panto_placer_main_2,vehicle_is_reversed){
        1: sw_tk_yk_7000series_1_panto_placer_2_rev;
        sw_tk_yk_7000series_1_panto_placer_2;
      }

      switch(FEAT_TRAINS, SELF, sw_tk_yk_7000series_1_panto_placer_3,position_in_vehid_chain %3){
        0: tk_yk_7000series_1_mot;
        tk_yk_7000series_1_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_tk_yk_7000series_1_panto_placer_3_rev,position_in_vehid_chain_from_end %3 -1){
        0: tk_yk_7000series_1_mot;
        tk_yk_7000series_1_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_tk_yk_7000series_1_panto_placer_main_3,vehicle_is_reversed){
        1: sw_tk_yk_7000series_1_panto_placer_3_rev;
        sw_tk_yk_7000series_1_panto_placer_3;
      }

      switch(FEAT_TRAINS, SELF, sw_tk_yk_7000series_1_panto_placer_4,position_in_vehid_chain %2){
        0: tk_yk_7000series_1_mot;
        tk_yk_7000series_1_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_tk_yk_7000series_1_panto_placer_4_rev,position_in_vehid_chain_from_end %2 -1){
        0: tk_yk_7000series_1_mot;
        tk_yk_7000series_1_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_tk_yk_7000series_1_panto_placer_main_4,vehicle_is_reversed){
        1: sw_tk_yk_7000series_1_panto_placer_4_rev;
        sw_tk_yk_7000series_1_panto_placer_4;
      }

  switch(FEAT_TRAINS, SELF, sw_tk_yk_7000series_1_panto_placer_main,num_vehs_in_vehid_chain+1){
      5: sw_tk_yk_7000series_1_panto_placer_main_1;
   6..7: sw_tk_yk_7000series_1_panto_placer_main_3;
   8: sw_tk_yk_7000series_1_panto_placer_main_1;
      sw_tk_yk_7000series_1_panto_placer_main_2;
    }

    switch(FEAT_TRAINS, SELF, sw_tk_yk_7000series_1_gfx_main,position_in_vehid_chain_from_end){
      0: tk_yk_7000series_1_end;
      default: sw_tk_yk_7000series_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_yk_7000series_livery_1_0,vehicle_type_id){
      tk_yk_7000series: tk_yk_7000series_1_front;
      default: sw_tk_yk_7000series_1_gfx_main;
    }



   switch(FEAT_TRAINS, PARENT, sw_tk_yk_7000series_15_front_gfx,vehicle_is_reversed==1&&(num_vehs_in_consist==6||num_vehs_in_consist==10)){
    1: tk_yk_7000series_1_front_mot;
    tk_yk_7000series_1_front;
   }
   switch(FEAT_TRAINS, PARENT, sw_tk_yk_7000series_15_end_gfx,vehicle_is_reversed==0&&(num_vehs_in_consist==6||num_vehs_in_consist==10)){
    1: tk_yk_7000series_1_end_mot;
    tk_yk_7000series_1_end;
   }

  switch(FEAT_TRAINS, SELF, sw_tk_yk_7000series_15_panto_placer_main,num_vehs_in_vehid_chain+1){
   5: sw_tk_yk_7000series_1_panto_placer_main_1;
   6: sw_tk_yk_7000series_1_panto_placer_main_4;
   7: sw_tk_yk_7000series_1_panto_placer_main_3;
   8: sw_tk_yk_7000series_1_panto_placer_main_1;
   10: sw_tk_yk_7000series_1_panto_placer_main_3;
      sw_tk_yk_7000series_1_panto_placer_main_2;
    }

    switch(FEAT_TRAINS, SELF, sw_tk_yk_7000series_15_gfx_main,position_in_vehid_chain_from_end){
      0: sw_tk_yk_7000series_15_end_gfx;
      default: sw_tk_yk_7000series_15_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_yk_7000series_livery_1_1,vehicle_type_id){
      tk_yk_7000series: sw_tk_yk_7000series_15_front_gfx;
      default: sw_tk_yk_7000series_15_gfx_main;
    }

  random_switch(FEAT_TRAINS, PARENT, sw_tk_yk_7000series_livery_1_r){
   3: sw_tk_yk_7000series_livery_1_0;
   1: sw_tk_yk_7000series_livery_1_1;
  }
  switch(FEAT_TRAINS, SELF, sw_tk_yk_7000series_livery_1,num_vehs_in_consist){
      6: sw_tk_yk_7000series_livery_1_1;
   sw_tk_yk_7000series_livery_1_r;
    }



      switch(FEAT_TRAINS, SELF, sw_tk_yk_7000series_2_panto_placer_1,position_in_vehid_chain %7){
        0: tk_yk_7000series_2_mot;
        4: tk_yk_7000series_2_mot;
        tk_yk_7000series_2_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_tk_yk_7000series_2_panto_placer_1_rev,position_in_vehid_chain_from_end %7 -1 ){
        0: tk_yk_7000series_2_mot;
        4: tk_yk_7000series_2_mot;
        tk_yk_7000series_2_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_tk_yk_7000series_2_panto_placer_main_1,vehicle_is_reversed){
        1: sw_tk_yk_7000series_2_panto_placer_1_rev;
        sw_tk_yk_7000series_2_panto_placer_1;
      }

   switch(FEAT_TRAINS, SELF, sw_tk_yk_7000series_2_panto_placer_2,position_in_vehid_chain %6){
        0: tk_yk_7000series_2_mot;
        2: tk_yk_7000series_2_mot;
        tk_yk_7000series_2_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_tk_yk_7000series_2_panto_placer_2_rev,position_in_vehid_chain_from_end %6 -1){
        0: tk_yk_7000series_2_mot;
        2: tk_yk_7000series_2_mot;
        tk_yk_7000series_2_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_tk_yk_7000series_2_panto_placer_main_2,vehicle_is_reversed){
        1: sw_tk_yk_7000series_2_panto_placer_2_rev;
        sw_tk_yk_7000series_2_panto_placer_2;
      }

  switch(FEAT_TRAINS, SELF, sw_tk_yk_7000series_2_panto_placer_main,num_vehs_in_vehid_chain+1){
      0..5: sw_tk_yk_7000series_2_panto_placer_main_1;
   7..8: sw_tk_yk_7000series_2_panto_placer_main_1;
      sw_tk_yk_7000series_2_panto_placer_main_2;
    }

    switch(FEAT_TRAINS, SELF, sw_tk_yk_7000series_2_gfx_main,position_in_vehid_chain_from_end){
      0: tk_yk_7000series_2_end;
      default: sw_tk_yk_7000series_2_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_yk_7000series_livery_2,vehicle_type_id){
      tk_yk_7000series: tk_yk_7000series_2_front;
      default: sw_tk_yk_7000series_2_gfx_main;
    }

 switch(FEAT_TRAINS, SELF, sw_tk_yk_7000series_livery_0,build_year){
      0..2007: sw_tk_yk_7000series_livery_1;
      sw_tk_yk_7000series_livery_2;
 }
 switch(FEAT_TRAINS, PARENT, sw_tk_yk_7000series_lv, cargo_subtype){
      0: sw_tk_yk_7000series_livery_0;
   1: sw_tk_yk_7000series_livery_1;
      2: sw_tk_yk_7000series_livery_2;
 }
 switch(FEAT_TRAINS, SELF, sw_tk_yk_7000series_lv_desc, cargo_subtype){
      0: string(LV_RANDOM);
   1: string(LV_tk_yk_7000series_1);
      2: string(LV_tk_yk_7000series_2);
 }


  switch(FEAT_TRAINS, SELF, sw_tk_yk_7000series_capacity,position_in_vehid_chain_from_end){
    0: 136;
    default: 144;
  }
  switch(FEAT_TRAINS, SELF, sw_tk_yk_7000series_capacity_1,position_in_vehid_chain){
    0: 136;
    default: sw_tk_yk_7000series_capacity;
  }
  switch(FEAT_TRAINS, SELF, sw_tk_yk_7000series_capacity_main,vehicle_type_id){
    mu_car_narrow: sw_tk_yk_7000series_capacity;
    sw_tk_yk_7000series_capacity_1;
  }

  switch(FEAT_TRAINS, SELF, sw_tk_yk_7000series_power_main,position_in_vehid_chain_from_end%10){
    1..3:return 160;
  6..7:return 160;
    return 0;
  }

  switch(FEAT_TRAINS, SELF, tk_yk_7000series_attach_vehid, vehicle_type_id) {
    mu_car: return string(STR_ATTACH_1067_ERROR);
    mu_car_metro: return string(STR_ATTACH_1067_ERROR);
    return CB_RESULT_ATTACH_ALLOW;
  }


item(FEAT_TRAINS, tk_yk_7000series,1080) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_EIDAN), "7000", string(STR_NAME_SERIES));
        introduction_date: date(1974, 1, 1);
        model_life: 23;
        vehicle_life: 48;
        reliability_decay: 10;

        cargo_capacity: 136;
        loading_speed: param_loading_4D;
        cost_factor: 19;
        running_cost_factor: 49;

        speed: 110 km/h;
        track_type: TR_1067_DC;
        power: 660 kW;
        weight: 32 ton;

        climates_available: param_disable_tokyo == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
        length: 8;
    }
 graphics {
        power: sw_tk_yk_7000series_power_main()*4*1342/1000;
        default: sw_tk_yk_7000series_lv;
        purchase: tk_yk_7000series_purchase;
        can_attach_wagon: tk_yk_7000series_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_2, 8,10)),
  string(STR_OPERATOR, string(STR_TOKYOMETRO)),
  string(STR_LINES_USED, string(STR_TOKYO_YURA_FUKU)));

        start_stop: sw_stop_start_3;
        cargo_subtype_text: sw_tk_yk_7000series_lv_desc;
        cargo_capacity: sw_tk_yk_7000series_capacity_main()*param_capacity_mod/3;
    }
    livery_override(mu_car_narrow){
        cargo_subtype_text: sw_tk_yk_7000series_lv_desc;
        loading_speed: param_loading_4D;
        cargo_capacity: sw_tk_yk_7000series_capacity_main()*param_capacity_mod/3;
        default: sw_tk_yk_7000series_lv;
        power: sw_tk_yk_7000series_power_main()*4*1342/1000;
        weight: 31;
        length: 8;
      }
}
# 41 "src/_metro.pnml" 2
# 1 "src/metro/Tokyo/yurakucho_fukutoshin/10000series.pnml" 1

spriteset(tk_yk_10000series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/yurakucho_fukutoshin/10000series/10000series.png"){ tmpl_purchase_1c(0, 0) }
spriteset(tk_yk_10000series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/yurakucho_fukutoshin/10000series/10000series.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, tk_yk_10000series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_tokyo_metro; 1: logo_line_tk_fuku; 2: tk_yk_10000series_purchase_c1; 3: tk_yk_10000series_purchase_c2;}

spriteset(tk_yk_10000series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/yurakucho_fukutoshin/10000series/10000series.png"){ tmpl_high_skirt(0, 0) }
spriteset(tk_yk_10000series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/yurakucho_fukutoshin/10000series/10000series.png"){ tmpl_high_skirt_rev(0, 25) }
spriteset(tk_yk_10000series_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/yurakucho_fukutoshin/10000series/10000series.png"){ tmpl_std(0, 50) }
spriteset(tk_yk_10000series_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/yurakucho_fukutoshin/10000series/10000series.png"){ tmpl_std_rev(0, 50) }
spriteset(tk_yk_10000series_mot_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/yurakucho_fukutoshin/10000series/10000series.png"){ tmpl_symm(0, 75) }
spriteset(tk_yk_10000series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/yurakucho_fukutoshin/10000series/10000series.png"){ tmpl_symm(0, 100) }




  switch(FEAT_TRAINS, SELF, sw_tk_yk_10000series_panto_placer_1,position_in_vehid_chain %8){
      0: tk_yk_10000series_mot_2;
      4: tk_yk_10000series_mot_2;
      tk_yk_10000series_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_yk_10000series_panto_placer_1_rev,position_in_vehid_chain_from_end %8 -1){
      0: tk_yk_10000series_mot_2;
      4: tk_yk_10000series_mot_2;
      tk_yk_10000series_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_tk_yk_10000series_panto_placer_main_1,vehicle_is_reversed){
      1: sw_tk_yk_10000series_panto_placer_1_rev;
      sw_tk_yk_10000series_panto_placer_1;
    }

  switch(FEAT_TRAINS, SELF, sw_tk_yk_10000series_panto_placer_2,position_in_vehid_chain %6){
      0: tk_yk_10000series_mot_2;
      3: tk_yk_10000series_mot;
      tk_yk_10000series_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_yk_10000series_panto_placer_2_rev,position_in_vehid_chain_from_end %6 -1){
      0: tk_yk_10000series_mot_2;
      3: tk_yk_10000series_mot_rev;
      tk_yk_10000series_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_tk_yk_10000series_panto_placer_main_2,vehicle_is_reversed){
      1: sw_tk_yk_10000series_panto_placer_2_rev;
      sw_tk_yk_10000series_panto_placer_2;
    }
  switch(FEAT_TRAINS, SELF, sw_tk_yk_10000series_panto_placer_main,num_vehs_in_vehid_chain+1){
   7..8: sw_tk_yk_10000series_panto_placer_main_1;
      sw_tk_yk_10000series_panto_placer_main_2;
    }

    switch(FEAT_TRAINS, SELF, sw_tk_yk_10000series_gfx_main,position_in_vehid_chain_from_end){
      0: tk_yk_10000series_end;
      default: sw_tk_yk_10000series_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_yk_10000series_lv,vehicle_type_id){
      tk_yk_10000series: tk_yk_10000series_front;
      default: sw_tk_yk_10000series_gfx_main;
    }


  switch(FEAT_TRAINS, SELF, sw_tk_yk_10000series_capacity,position_in_vehid_chain_from_end){
    0: 143;
    default: 154;
  }
  switch(FEAT_TRAINS, SELF, sw_tk_yk_10000series_capacity_1,position_in_vehid_chain){
    0: 143;
    default: sw_tk_yk_10000series_capacity;
  }
  switch(FEAT_TRAINS, SELF, sw_tk_yk_10000series_capacity_main,vehicle_type_id){
    mu_car_narrow: sw_tk_yk_10000series_capacity;
    sw_tk_yk_10000series_capacity_1;
  }

  switch(FEAT_TRAINS, SELF, sw_tk_yk_10000series_power_main,position_in_vehid_chain_from_end%10){
    1..2:return 165;
    5..7:return 165;
    return 0;
  }

  switch(FEAT_TRAINS, SELF, tk_yk_10000series_attach_vehid, vehicle_type_id) {
    mu_car: return string(STR_ATTACH_1067_ERROR);
    mu_car_metro: return string(STR_ATTACH_1067_ERROR);
    return CB_RESULT_ATTACH_ALLOW;
  }


item(FEAT_TRAINS, tk_yk_10000series,1082) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_TOKYO_METRO), "10000", string(STR_NAME_SERIES));
        introduction_date: date(2006, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cargo_capacity: 143;
        loading_speed: param_loading_4D;
        cost_factor: 21;
        running_cost_factor: 51;

        speed: 120 km/h;
        track_type: TR_1067_DC;
        power: 660 kW;
        weight: 30 ton;

        climates_available: param_disable_tokyo == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
        length: 8;
    }
 graphics {
        power: sw_tk_yk_10000series_power_main()*4*1342/1000;
    default: sw_tk_yk_10000series_lv;
        purchase: tk_yk_10000series_purchase;
        can_attach_wagon: tk_yk_10000series_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_2, 8,10)),
  string(STR_OPERATOR, string(STR_TOKYOMETRO)),
  string(STR_LINES_USED, string(STR_TOKYO_YURA_FUKU)));

        start_stop: sw_stop_start_3;

        cargo_capacity: sw_tk_yk_10000series_capacity_main()*param_capacity_mod/3;
    }
    livery_override(mu_car_narrow){
        loading_speed: param_loading_4D;
        cargo_capacity: sw_tk_yk_10000series_capacity_main()*param_capacity_mod/3;
        default: sw_tk_yk_10000series_lv;
        power: sw_tk_yk_10000series_power_main()*4*1342/1000;
        weight: 29;
        length: 8;
      }
}
# 42 "src/_metro.pnml" 2
# 1 "src/metro/Tokyo/yurakucho_fukutoshin/17000series.pnml" 1

spriteset(tk_yk_17000series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/yurakucho_fukutoshin/17000series/17000series.png"){ tmpl_purchase_1c(0, 0) }
spriteset(tk_yk_17000series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/yurakucho_fukutoshin/17000series/17000series.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, tk_yk_17000series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_tokyo_metro; 1: logo_line_tk_fuku; 2: tk_yk_17000series_purchase_c1; 3: tk_yk_17000series_purchase_c2;}

spriteset(tk_yk_17000series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/yurakucho_fukutoshin/17000series/17000series.png"){ tmpl_high_skirt(0, 0) }
spriteset(tk_yk_17000series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/yurakucho_fukutoshin/17000series/17000series.png"){ tmpl_high_skirt_rev(0, 25) }
spriteset(tk_yk_17000series_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/yurakucho_fukutoshin/17000series/17000series.png"){ tmpl_std(0, 50) }
spriteset(tk_yk_17000series_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/yurakucho_fukutoshin/17000series/17000series.png"){ tmpl_std_rev(0, 50) }
spriteset(tk_yk_17000series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/yurakucho_fukutoshin/17000series/17000series.png"){ tmpl_symm(0, 75) }




  switch(FEAT_TRAINS, SELF, sw_tk_yk_17000series_panto_placer_1,position_in_vehid_chain %3){
      0: tk_yk_17000series_mot_rev;
      2: tk_yk_17000series_mot_rev;
      tk_yk_17000series_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_yk_17000series_panto_placer_1_rev,position_in_vehid_chain_from_end %3){
      0: tk_yk_17000series_mot;
      1: tk_yk_17000series_mot;
      tk_yk_17000series_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_tk_yk_17000series_panto_placer_main_1,vehicle_is_reversed){
      1: sw_tk_yk_17000series_panto_placer_1_rev;
      sw_tk_yk_17000series_panto_placer_1;
    }

  switch(FEAT_TRAINS, SELF, sw_tk_yk_17000series_panto_placer_2,position_in_vehid_chain %5){
      0: tk_yk_17000series_mot_rev;
      2: tk_yk_17000series_mot_rev;
      tk_yk_17000series_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_yk_17000series_panto_placer_2_rev,position_in_vehid_chain_from_end %5 -1){
      0: tk_yk_17000series_mot;
      2: tk_yk_17000series_mot;
      tk_yk_17000series_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_tk_yk_17000series_panto_placer_main_2,vehicle_is_reversed){
      1: sw_tk_yk_17000series_panto_placer_2_rev;
      sw_tk_yk_17000series_panto_placer_2;
    }
  switch(FEAT_TRAINS, SELF, sw_tk_yk_17000series_panto_placer_main,num_vehs_in_vehid_chain+1){
   7..8: sw_tk_yk_17000series_panto_placer_main_1;
      sw_tk_yk_17000series_panto_placer_main_2;
    }

    switch(FEAT_TRAINS, SELF, sw_tk_yk_17000series_gfx_main,position_in_vehid_chain_from_end){
      0: tk_yk_17000series_end;
      default: sw_tk_yk_17000series_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_yk_17000series_lv,vehicle_type_id){
      tk_yk_17000series: tk_yk_17000series_front;
      default: sw_tk_yk_17000series_gfx_main;
    }


  switch(FEAT_TRAINS, SELF, sw_tk_yk_17000series_capacity,position_in_vehid_chain_from_end){
    0: 143;
    default: 154;
  }
  switch(FEAT_TRAINS, SELF, sw_tk_yk_17000series_capacity_1,position_in_vehid_chain){
    0: 143;
    default: sw_tk_yk_17000series_capacity;
  }
  switch(FEAT_TRAINS, SELF, sw_tk_yk_17000series_capacity_main,vehicle_type_id){
    mu_car_narrow: sw_tk_yk_17000series_capacity;
    sw_tk_yk_17000series_capacity_1;
  }

  switch(FEAT_TRAINS, SELF, sw_tk_yk_17000series_power_main,position_in_vehid_chain_from_end%10){
    1:return 165;
    3..4:return 165;
    6:return 165;
    return 0;
  }

  switch(FEAT_TRAINS, SELF, tk_yk_17000series_attach_vehid, vehicle_type_id) {
    mu_car: return string(STR_ATTACH_1067_ERROR);
    mu_car_metro: return string(STR_ATTACH_1067_ERROR);
    return CB_RESULT_ATTACH_ALLOW;
  }


item(FEAT_TRAINS, tk_yk_17000series,1083) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_TOKYO_METRO), "17000", string(STR_NAME_SERIES));
        introduction_date: date(2020, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cargo_capacity: 143;
        loading_speed: param_loading_4D;
        cost_factor: 22;
        running_cost_factor: 52;

        speed: 120 km/h;
        track_type: TR_1067_DC;
        power: 820 kW;
        weight: 29 ton;

        climates_available: param_disable_tokyo == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
        length: 8;
    }
 graphics {
        power: sw_tk_yk_17000series_power_main()*4*1342/1000;
    default: sw_tk_yk_17000series_lv;
        purchase: tk_yk_17000series_purchase;
        can_attach_wagon: tk_yk_17000series_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_2, 8,10)),
  string(STR_OPERATOR, string(STR_TOKYOMETRO)),
  string(STR_LINES_USED, string(STR_TOKYO_YURA_FUKU)));

        start_stop: sw_stop_start_3;

        cargo_capacity: sw_tk_yk_17000series_capacity_main()*param_capacity_mod/3;
    }
    livery_override(mu_car_narrow){
        loading_speed: param_loading_4D;
        cargo_capacity: sw_tk_yk_17000series_capacity_main()*param_capacity_mod/3;
        default: sw_tk_yk_17000series_lv;
        power: sw_tk_yk_17000series_power_main()*4*1342/1000;
        weight: 30;
        length: 8;
      }
}
# 43 "src/_metro.pnml" 2


# 1 "src/metro/Tokyo/hanzomon/8000series.pnml" 1

spriteset(tk_hz_8000series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/hanzomon/8000series/8000series.png"){ tmpl_purchase_1c(0, 0) }
spriteset(tk_hz_8000series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/hanzomon/8000series/8000series.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, tk_hz_8000series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_tokyo_metro; 1: logo_line_tk_hanzomon; 2: tk_hz_8000series_purchase_c1; 3: tk_hz_8000series_purchase_c2;}

spriteset(tk_hz_8000series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/hanzomon/8000series/8000series.png"){ tmpl_std(0, 0) }
spriteset(tk_hz_8000series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/hanzomon/8000series/8000series.png"){ tmpl_std_rev(0, 25) }
spriteset(tk_hz_8000series_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/hanzomon/8000series/8000series.png"){ tmpl_symm(0, 50) }
spriteset(tk_hz_8000series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/hanzomon/8000series/8000series.png"){ tmpl_symm(0, 75) }




      switch(FEAT_TRAINS, SELF, sw_tk_hz_8000series_panto_placer_1,position_in_vehid_chain %6){
          0: tk_hz_8000series_mot;
          2: tk_hz_8000series_mot;
          tk_hz_8000series_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_tk_hz_8000series_panto_placer_1_rev,position_in_vehid_chain_from_end %6 -1){
          0: tk_hz_8000series_mot;
          2: tk_hz_8000series_mot;
          tk_hz_8000series_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_tk_hz_8000series_panto_placer_main_1,vehicle_is_reversed){
          1: sw_tk_hz_8000series_panto_placer_1_rev;
          sw_tk_hz_8000series_panto_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_tk_hz_8000series_panto_placer_2,position_in_vehid_chain %6){
          0: tk_hz_8000series_mot;
          4: tk_hz_8000series_mot;
          tk_hz_8000series_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_tk_hz_8000series_panto_placer_2_rev,position_in_vehid_chain_from_end %6 -1){
          0: tk_hz_8000series_mot;
          4: tk_hz_8000series_mot;
          tk_hz_8000series_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_tk_hz_8000series_panto_placer_main_2,vehicle_is_reversed){
          1: sw_tk_hz_8000series_panto_placer_2_rev;
          sw_tk_hz_8000series_panto_placer_2;
      }
    switch(FEAT_TRAINS, SELF, sw_tk_hz_8000series_panto_placer_main,num_vehs_in_vehid_chain+1){
        7..8: sw_tk_hz_8000series_panto_placer_main_2;
        sw_tk_hz_8000series_panto_placer_main_1;
    }

  switch(FEAT_TRAINS, SELF, sw_tk_hz_8000series_gfx_main,position_in_vehid_chain_from_end){
      0: tk_hz_8000series_end;
      default: sw_tk_hz_8000series_panto_placer_main;
  }
  switch(FEAT_TRAINS, SELF, sw_tk_hz_8000series_lv,vehicle_type_id){
      tk_hz_8000series: tk_hz_8000series_front;
      default: sw_tk_hz_8000series_gfx_main;
  }


  switch(FEAT_TRAINS, SELF, sw_tk_hz_8000series_capacity,position_in_vehid_chain_from_end){
    0: 136;
    default: 144;
  }
  switch(FEAT_TRAINS, SELF, sw_tk_hz_8000series_capacity_1,position_in_vehid_chain){
    0: 136;
    default: sw_tk_hz_8000series_capacity;
  }
  switch(FEAT_TRAINS, SELF, sw_tk_hz_8000series_capacity_main,vehicle_type_id){
    mu_car_narrow: sw_tk_hz_8000series_capacity;
    sw_tk_hz_8000series_capacity_1;
  }

    switch(FEAT_TRAINS, SELF, sw_tk_hz_8000series_power_1,position_in_vehid_chain_from_end%11){
      1..2:return 160;
      5..8:return 160;
      return 0;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_hz_8000series_head_power_1,num_vehs_in_consist){
      39: return 160;
      return 0;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_hz_8000series_power_main_1,vehicle_type_id){
      mu_car_narrow:sw_tk_hz_8000series_power_1;
      sw_tk_hz_8000series_head_power_1;
    }

    switch(FEAT_TRAINS, SELF, sw_tk_hz_8000series_power_2,position_in_vehid_chain_from_end%11){
      1..2:return 165;
      5..6:return 165;
      8:return 165;
      return 0;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_hz_8000series_head_power_2,num_vehs_in_consist){
      39: return 165;
      return 0;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_hz_8000series_power_main_2,vehicle_type_id){
      mu_car_narrow:sw_tk_hz_8000series_power_2;
      sw_tk_hz_8000series_head_power_2;
    }

    switch(FEAT_TRAINS, SELF, sw_tk_hz_8000series_power_main,build_year>2003){
      1: sw_tk_hz_8000series_power_main_2;
      sw_tk_hz_8000series_power_main_1;
    }

    switch(FEAT_TRAINS, SELF, tk_hz_8000series_attach_vehid, vehicle_type_id) {
      mu_car: return string(STR_ATTACH_1067_ERROR);
      mu_car_metro: return string(STR_ATTACH_1067_ERROR);
      return CB_RESULT_ATTACH_ALLOW;
    }

item(FEAT_TRAINS, tk_hz_8000series,1100) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_EIDAN), "8000", string(STR_NAME_SERIES));
        introduction_date: date(1980, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cargo_capacity: 136;
        loading_speed: param_loading_4D;
        cost_factor: 19;
        running_cost_factor: 49;

        speed: 110 km/h;
        track_type: TR_1067_DC;
        power: 384 kW;
        weight: 32 ton;

        climates_available: param_disable_tokyo == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
        length: 8;
    }
 graphics {
        power: sw_tk_hz_8000series_power_main()*4*1342/1000;
        default: sw_tk_hz_8000series_lv;
        purchase: tk_hz_8000series_purchase;
        can_attach_wagon: tk_hz_8000series_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 10)),
  string(STR_OPERATOR, string(STR_TOKYOMETRO)),
  string(STR_LINES_USED, string(STR_TOKYO_HANZO)));

        start_stop: sw_stop_start_3;
        cargo_capacity: sw_tk_hz_8000series_capacity_main()*param_capacity_mod/3;
    }
    livery_override(mu_car_narrow){
        loading_speed: param_loading_4D;
        cargo_capacity: sw_tk_hz_8000series_capacity_main()*param_capacity_mod/3;
        default: sw_tk_hz_8000series_lv;
        power: sw_tk_hz_8000series_power_main()*4*1342/1000;
        weight: 31;
        length: 8;
      }
}
# 46 "src/_metro.pnml" 2
# 1 "src/metro/Tokyo/hanzomon/08series.pnml" 1

spriteset(tk_hz_08series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/hanzomon/08series/08series.png"){ tmpl_purchase_1c(0, 0) }
spriteset(tk_hz_08series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/hanzomon/08series/08series.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, tk_hz_08series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_tokyo_metro; 1: logo_line_tk_hanzomon; 2: tk_hz_08series_purchase_c1; 3: tk_hz_08series_purchase_c2;}

spriteset(tk_hz_08series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/hanzomon/08series/08series.png"){ tmpl_high_skirt(0, 0) }
spriteset(tk_hz_08series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/hanzomon/08series/08series.png"){ tmpl_high_skirt_rev(0, 25) }
spriteset(tk_hz_08series_mot_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/hanzomon/08series/08series.png"){ tmpl_symm(0, 50) }
spriteset(tk_hz_08series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/hanzomon/08series/08series.png"){ tmpl_symm(0, 75) }
spriteset(tk_hz_08series_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/hanzomon/08series/08series.png"){ tmpl_std(0, 100) }
spriteset(tk_hz_08series_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/hanzomon/08series/08series.png"){ tmpl_std_rev(0, 100) }




      switch(FEAT_TRAINS, SELF, sw_tk_hz_08series_panto_placer_1,position_in_vehid_chain %6){
          0: tk_hz_08series_mot_2;
          3: tk_hz_08series_mot;
          tk_hz_08series_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_tk_hz_08series_panto_placer_1_rev,position_in_vehid_chain_from_end %6 -1){
          0: tk_hz_08series_mot_2;
          3: tk_hz_08series_mot_rev;
          tk_hz_08series_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_tk_hz_08series_panto_placer_main_1,vehicle_is_reversed){
          1: sw_tk_hz_08series_panto_placer_1_rev;
          sw_tk_hz_08series_panto_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_tk_hz_08series_panto_placer_2,position_in_vehid_chain %6){
          0: tk_hz_08series_mot_2;
          4: tk_hz_08series_mot_2;
          tk_hz_08series_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_tk_hz_08series_panto_placer_2_rev,position_in_vehid_chain_from_end %6 -1){
          0: tk_hz_08series_mot_2;
          4: tk_hz_08series_mot_2;
          tk_hz_08series_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_tk_hz_08series_panto_placer_main_2,vehicle_is_reversed){
          1: sw_tk_hz_08series_panto_placer_2_rev;
          sw_tk_hz_08series_panto_placer_2;
      }
    switch(FEAT_TRAINS, SELF, sw_tk_hz_08series_panto_placer_main,num_vehs_in_vehid_chain+1){
        7..8: sw_tk_hz_08series_panto_placer_main_2;
        sw_tk_hz_08series_panto_placer_main_1;
    }

    switch(FEAT_TRAINS, SELF, sw_tk_hz_08series_gfx_main,position_in_vehid_chain_from_end){
        0: tk_hz_08series_end;
        default: sw_tk_hz_08series_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_hz_08series_lv,vehicle_type_id){
        tk_hz_08series: tk_hz_08series_front;
        default: sw_tk_hz_08series_gfx_main;
    }


    switch(FEAT_TRAINS, SELF, sw_tk_hz_08series_capacity,position_in_vehid_chain_from_end){
      0: 141;
      default: 152;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_hz_08series_capacity_1,position_in_vehid_chain){
      0: 141;
      default: sw_tk_hz_08series_capacity;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_hz_08series_capacity_main,vehicle_type_id){
      mu_car_narrow: sw_tk_hz_08series_capacity;
      sw_tk_hz_08series_capacity_1;
    }

    switch(FEAT_TRAINS, SELF, sw_tk_hz_08series_power,position_in_vehid_chain_from_end%11){
      1..2:return 165;
      5:return 165;
      7..8:return 165;
      return 0;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_hz_08series_head_power,num_vehs_in_consist){
      39: return 165;
      return 0;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_hz_08series_power_main,vehicle_type_id){
        mu_car_narrow:sw_tk_hz_08series_power;
        sw_tk_hz_08series_head_power;
    }

    switch(FEAT_TRAINS, SELF, tk_hz_08series_attach_vehid, vehicle_type_id) {
      mu_car: return string(STR_ATTACH_1067_ERROR);
      mu_car_metro: return string(STR_ATTACH_1067_ERROR);
      return CB_RESULT_ATTACH_ALLOW;
    }

item(FEAT_TRAINS, tk_hz_08series,1101) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_EIDAN), "08", string(STR_NAME_SERIES));
        introduction_date: date(2002, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cargo_capacity: 141;
        loading_speed: param_loading_4D;
        cost_factor: 20;
        running_cost_factor: 50;

        speed: 110 km/h;
        track_type: TR_1067_DC;
        power: 660 kW;
        weight: 27 ton;

        climates_available: param_disable_tokyo == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
        length: 8;
    }
 graphics {
        power: sw_tk_hz_08series_power_main()*4*1342/1000;
        default: sw_tk_hz_08series_lv;
        purchase: tk_hz_08series_purchase;
        can_attach_wagon: tk_hz_08series_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 10)),
  string(STR_OPERATOR, string(STR_TOKYOMETRO)),
  string(STR_LINES_USED, string(STR_TOKYO_HANZO)));

        start_stop: sw_stop_start_3;
        cargo_capacity: sw_tk_hz_08series_capacity_main()*param_capacity_mod/3;
    }
    livery_override(mu_car_narrow){
        loading_speed: param_loading_4D;
        cargo_capacity: sw_tk_hz_08series_capacity_main()*param_capacity_mod/3;
        default: sw_tk_hz_08series_lv;
        power: sw_tk_hz_08series_power_main()*4*1342/1000;
        weight: 28;
        length: 8;
      }
}
# 47 "src/_metro.pnml" 2
# 1 "src/metro/Tokyo/hanzomon/18000series.pnml" 1

spriteset(tk_hz_18000series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/hanzomon/18000series/18000series.png"){ tmpl_purchase_1c(0, 0) }
spriteset(tk_hz_18000series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/hanzomon/18000series/18000series.png"){ tmpl_purchase_2c(0, 75) }
switch(FEAT_TRAINS, SELF, tk_hz_18000series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_tokyo_metro; 1: logo_line_tk_hanzomon; 2: tk_hz_18000series_purchase_c1; 3: tk_hz_18000series_purchase_c2;}

spriteset(tk_hz_18000series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/hanzomon/18000series/18000series.png"){ tmpl_high_skirt(0, 0) }
spriteset(tk_hz_18000series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/hanzomon/18000series/18000series.png"){ tmpl_high_skirt_rev(0, 25) }
spriteset(tk_hz_18000series_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/hanzomon/18000series/18000series.png"){ tmpl_std(0, 50) }
spriteset(tk_hz_18000series_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/hanzomon/18000series/18000series.png"){ tmpl_std_rev(0, 50) }
spriteset(tk_hz_18000series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/hanzomon/18000series/18000series.png"){ tmpl_symm(0, 75) }




      switch(FEAT_TRAINS, SELF, sw_tk_hz_18000series_panto_placer_1,position_in_vehid_chain %5){
          0: tk_hz_18000series_mot;
          2: tk_hz_18000series_mot;
          tk_hz_18000series_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_tk_hz_18000series_panto_placer_1_rev,position_in_vehid_chain_from_end %5 -1){
          0: tk_hz_18000series_mot_rev;
          2: tk_hz_18000series_mot_rev;
          tk_hz_18000series_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_tk_hz_18000series_panto_placer_main_1,vehicle_is_reversed){
          1: sw_tk_hz_18000series_panto_placer_1_rev;
          sw_tk_hz_18000series_panto_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_tk_hz_18000series_panto_placer_2,position_in_vehid_chain %3){
          0: tk_hz_18000series_mot;
          tk_hz_18000series_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_tk_hz_18000series_panto_placer_2_rev,position_in_vehid_chain_from_end %3 -1){
          0: tk_hz_18000series_mot_rev;
          tk_hz_18000series_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_tk_hz_18000series_panto_placer_main_2,vehicle_is_reversed){
          1: sw_tk_hz_18000series_panto_placer_2_rev;
          sw_tk_hz_18000series_panto_placer_2;
      }
    switch(FEAT_TRAINS, SELF, sw_tk_hz_18000series_panto_placer_main,num_vehs_in_vehid_chain+1){
        7: sw_tk_hz_18000series_panto_placer_main_2;
        sw_tk_hz_18000series_panto_placer_main_1;
    }

    switch(FEAT_TRAINS, SELF, sw_tk_hz_18000series_gfx_main,position_in_vehid_chain_from_end){
        0: tk_hz_18000series_end;
        default: sw_tk_hz_18000series_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_hz_18000series_lv,vehicle_type_id){
        tk_hz_18000series: tk_hz_18000series_front;
        default: sw_tk_hz_18000series_gfx_main;
    }


    switch(FEAT_TRAINS, SELF, sw_tk_hz_18000series_capacity,position_in_vehid_chain_from_end){
      0: 142;
      default: 152;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_hz_18000series_capacity_1,position_in_vehid_chain){
      0: 142;
      default: sw_tk_hz_18000series_capacity;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_hz_18000series_capacity_main,vehicle_type_id){
      mu_car_narrow: sw_tk_hz_18000series_capacity;
      sw_tk_hz_18000series_capacity_1;
    }

    switch(FEAT_TRAINS, SELF, sw_tk_hz_18000series_power,position_in_vehid_chain_from_end%10){
      1:return 205;
      3:return 205;
      6:return 205;
      8:return 205;
      return 0;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_hz_18000series_head_power,num_vehs_in_consist){
      39: return 205;
      return 0;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_hz_18000series_power_main,vehicle_type_id){
        mu_car_narrow:sw_tk_hz_18000series_power;
        sw_tk_hz_18000series_head_power;
    }

    switch(FEAT_TRAINS, SELF, tk_hz_18000series_attach_vehid, vehicle_type_id) {
      mu_car: return string(STR_ATTACH_1067_ERROR);
      mu_car_metro: return string(STR_ATTACH_1067_ERROR);
      return CB_RESULT_ATTACH_ALLOW;
    }


item(FEAT_TRAINS, tk_hz_18000series,1102) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_TOKYO_METRO), "18000", string(STR_NAME_SERIES));
        introduction_date: date(2020, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cargo_capacity: 142;
        loading_speed: param_loading_4D;
        cost_factor: 22;
        running_cost_factor: 52;

        speed: 120 km/h;
        track_type: TR_1067_DC;
        power: 820 kW;
        weight: 30 ton;

        climates_available: param_disable_tokyo == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
        length: 8;
    }
 graphics {
        power: sw_tk_hz_18000series_power_main()*4*1342/1000;
        default: sw_tk_hz_18000series_lv;
        purchase: tk_hz_18000series_purchase;
        can_attach_wagon: tk_hz_18000series_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 10)),
  string(STR_OPERATOR, string(STR_TOKYOMETRO)),
  string(STR_LINES_USED, string(STR_TOKYO_HANZO)));

        start_stop: sw_stop_start_3;
        cargo_capacity: sw_tk_hz_18000series_capacity_main()*param_capacity_mod/3;
    }
    livery_override(mu_car_narrow){
        loading_speed: param_loading_4D;
        cargo_capacity: sw_tk_hz_18000series_capacity_main()*param_capacity_mod/3;
        default: sw_tk_hz_18000series_lv;
        power: sw_tk_hz_18000series_power_main()*4*1342/1000;
        weight: 30;
        length: 8;
      }
}
# 48 "src/_metro.pnml" 2


# 1 "src/metro/Tokyo/namboku/9000series.pnml" 1

spriteset(tk_nm_eidan9000_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/namboku/eidan9000/eidan9000_1.png"){ tmpl_purchase_1c(0, 0) }
spriteset(tk_nm_eidan9000_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/namboku/eidan9000/eidan9000_1.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, tk_nm_eidan9000_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_tokyo_metro; 1: logo_line_tk_namboku; 2: tk_nm_eidan9000_purchase_c1; 3: tk_nm_eidan9000_purchase_c2;}



spriteset(tk_nm_eidan9000_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/namboku/eidan9000/eidan9000_1.png"){ tmpl_std(0, 0) }
spriteset(tk_nm_eidan9000_1_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/namboku/eidan9000/eidan9000_1.png"){ tmpl_symm(0, 50) }
spriteset(tk_nm_eidan9000_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/namboku/eidan9000/eidan9000_1.png"){ tmpl_symm(0, 75) }
spriteset(tk_nm_eidan9000_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/namboku/eidan9000/eidan9000_1.png"){ tmpl_std_rev(0, 25) }


spriteset(tk_nm_eidan9000_2_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/namboku/eidan9000/eidan9000_2.png"){ tmpl_high_skirt(0, 0) }
spriteset(tk_nm_eidan9000_2_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/namboku/eidan9000/eidan9000_2.png"){ tmpl_symm(0, 50) }
spriteset(tk_nm_eidan9000_2_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/namboku/eidan9000/eidan9000_2.png"){ tmpl_symm(0, 75) }
spriteset(tk_nm_eidan9000_2_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/namboku/eidan9000/eidan9000_2.png"){ tmpl_high_skirt_rev(0, 25) }


spriteset(tk_nm_eidan9000_3_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/namboku/eidan9000/eidan9000_3.png"){ tmpl_std(0, 0) }
spriteset(tk_nm_eidan9000_3_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/namboku/eidan9000/eidan9000_3.png"){ tmpl_std_rev(0, 25) }
spriteset(tk_nm_eidan9000_3_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/namboku/eidan9000/eidan9000_3.png"){ tmpl_std(0, 50) }
spriteset(tk_nm_eidan9000_3_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/namboku/eidan9000/eidan9000_3.png"){ tmpl_std_rev(0, 50) }
spriteset(tk_nm_eidan9000_3_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/namboku/eidan9000/eidan9000_3.png"){ tmpl_std(0, 75) }
spriteset(tk_nm_eidan9000_3_wag_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/namboku/eidan9000/eidan9000_3.png"){ tmpl_std_rev(0, 75) }




    switch(FEAT_TRAINS, SELF, sw_tk_nm_eidan9000_1_panto_placer_1,position_in_vehid_chain %5){
      0: tk_nm_eidan9000_1_mot;
      2: tk_nm_eidan9000_1_mot;
      tk_nm_eidan9000_1_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_nm_eidan9000_1_panto_placer_1_rev,position_in_vehid_chain_from_end %5 -1){
      0: tk_nm_eidan9000_1_mot;
      2: tk_nm_eidan9000_1_mot;
      tk_nm_eidan9000_1_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_tk_nm_eidan9000_1_panto_placer_main_1,vehicle_is_reversed){
      1: sw_tk_nm_eidan9000_1_panto_placer_1_rev;
      sw_tk_nm_eidan9000_1_panto_placer_1;
    }

    switch(FEAT_TRAINS, SELF, sw_tk_nm_eidan9000_1_panto_placer_2,position_in_vehid_chain %3){
      1: tk_nm_eidan9000_1_mot;
      tk_nm_eidan9000_1_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_nm_eidan9000_1_panto_placer_2_rev,position_in_vehid_chain_from_end %3 -1){
      1: tk_nm_eidan9000_1_mot;
      tk_nm_eidan9000_1_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_tk_nm_eidan9000_1_panto_placer_main_2,vehicle_is_reversed){
      1: sw_tk_nm_eidan9000_1_panto_placer_2_rev;
      sw_tk_nm_eidan9000_1_panto_placer_2;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_nm_eidan9000_1_panto_placer_main,num_vehs_in_vehid_chain+1){
      1..3: sw_tk_nm_eidan9000_1_panto_placer_main_1;
      6: sw_tk_nm_eidan9000_1_panto_placer_main_1;
      sw_tk_nm_eidan9000_1_panto_placer_main_2;
    }

    switch(FEAT_TRAINS, SELF, sw_tk_nm_eidan9000_1_gfx_main,position_in_vehid_chain_from_end){
      0: tk_nm_eidan9000_1_end;
      default: sw_tk_nm_eidan9000_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_nm_eidan9000_livery_1,vehicle_type_id){
      tk_nm_eidan9000: tk_nm_eidan9000_1_front;
      default: sw_tk_nm_eidan9000_1_gfx_main;
    }



    switch(FEAT_TRAINS, SELF, sw_tk_nm_eidan9000_2_panto_placer_1,position_in_vehid_chain %5){
      0: tk_nm_eidan9000_2_mot;
      2: tk_nm_eidan9000_2_mot;
      tk_nm_eidan9000_2_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_nm_eidan9000_2_panto_placer_1_rev,position_in_vehid_chain_from_end %5 -1){
      0: tk_nm_eidan9000_2_mot;
      2: tk_nm_eidan9000_2_mot;
      tk_nm_eidan9000_2_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_tk_nm_eidan9000_2_panto_placer_main_1,vehicle_is_reversed){
      1: sw_tk_nm_eidan9000_2_panto_placer_1_rev;
      sw_tk_nm_eidan9000_2_panto_placer_1;
    }

    switch(FEAT_TRAINS, SELF, sw_tk_nm_eidan9000_2_panto_placer_2,position_in_vehid_chain %3){
      1: tk_nm_eidan9000_2_mot;
      tk_nm_eidan9000_2_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_nm_eidan9000_2_panto_placer_2_rev,position_in_vehid_chain_from_end %3 -1){
      1: tk_nm_eidan9000_2_mot;
      tk_nm_eidan9000_2_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_tk_nm_eidan9000_2_panto_placer_main_2,vehicle_is_reversed){
      1: sw_tk_nm_eidan9000_2_panto_placer_2_rev;
      sw_tk_nm_eidan9000_2_panto_placer_2;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_nm_eidan9000_2_panto_placer_main,num_vehs_in_vehid_chain+1){
      1..4: sw_tk_nm_eidan9000_2_panto_placer_main_1;
      6: sw_tk_nm_eidan9000_2_panto_placer_main_1;
      sw_tk_nm_eidan9000_2_panto_placer_main_2;
    }

    switch(FEAT_TRAINS, SELF, sw_tk_nm_eidan9000_2_gfx_main,position_in_vehid_chain_from_end){
      0: tk_nm_eidan9000_2_end;
      default: sw_tk_nm_eidan9000_2_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_nm_eidan9000_livery_2,vehicle_type_id){
      tk_nm_eidan9000: tk_nm_eidan9000_2_front;
      default: sw_tk_nm_eidan9000_2_gfx_main;
    }


    switch(FEAT_TRAINS, SELF, sw_tk_nm_eidan9000_3_wag_gfx_1, position_in_vehid_chain<num_vehs_in_vehid_chain/2){
      1:tk_nm_eidan9000_3_wag;
      tk_nm_eidan9000_3_wag_rev;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_nm_eidan9000_3_wag_gfx_2, position_in_vehid_chain_from_end<num_vehs_in_vehid_chain/2+1){
        1:tk_nm_eidan9000_3_wag_rev;
        tk_nm_eidan9000_3_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_tk_nm_eidan9000_3_wag,vehicle_is_reversed){
      1: sw_tk_nm_eidan9000_3_wag_gfx_1;
      sw_tk_nm_eidan9000_3_wag_gfx_2;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_nm_eidan9000_3_mot_gfx_1, position_in_vehid_chain<num_vehs_in_vehid_chain/2){
      1:tk_nm_eidan9000_3_mot;
      tk_nm_eidan9000_3_mot_rev;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_nm_eidan9000_3_mot_gfx_2, position_in_vehid_chain_from_end<num_vehs_in_vehid_chain/2+1){
        1:tk_nm_eidan9000_3_mot_rev;
        tk_nm_eidan9000_3_mot;
    }
    switch(FEAT_TRAINS, PARENT, sw_tk_nm_eidan9000_3_mot,vehicle_is_reversed){
      1: sw_tk_nm_eidan9000_3_mot_gfx_1;
      sw_tk_nm_eidan9000_3_mot_gfx_2;
    }


    switch(FEAT_TRAINS, SELF, sw_tk_nm_eidan9000_3_panto_placer_1,position_in_vehid_chain %5){
      0: sw_tk_nm_eidan9000_3_mot;
      2: sw_tk_nm_eidan9000_3_mot;
      sw_tk_nm_eidan9000_3_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_nm_eidan9000_3_panto_placer_1_rev,position_in_vehid_chain_from_end %5 -1){
      0: sw_tk_nm_eidan9000_3_mot;
      2: sw_tk_nm_eidan9000_3_mot;
      sw_tk_nm_eidan9000_3_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_tk_nm_eidan9000_3_panto_placer_main_1,vehicle_is_reversed){
      1: sw_tk_nm_eidan9000_3_panto_placer_1_rev;
      sw_tk_nm_eidan9000_3_panto_placer_1;
    }

    switch(FEAT_TRAINS, SELF, sw_tk_nm_eidan9000_3_panto_placer_2,position_in_vehid_chain %3){
      1: sw_tk_nm_eidan9000_3_mot;
      sw_tk_nm_eidan9000_3_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_nm_eidan9000_3_panto_placer_2_rev,position_in_vehid_chain_from_end %3 -1){
      1: sw_tk_nm_eidan9000_3_mot;
      sw_tk_nm_eidan9000_3_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_tk_nm_eidan9000_3_panto_placer_main_2,vehicle_is_reversed){
      1: sw_tk_nm_eidan9000_3_panto_placer_2_rev;
      sw_tk_nm_eidan9000_3_panto_placer_2;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_nm_eidan9000_3_panto_placer_main,num_vehs_in_vehid_chain+1){
      1..4: sw_tk_nm_eidan9000_3_panto_placer_main_1;
      6: sw_tk_nm_eidan9000_3_panto_placer_main_1;
      sw_tk_nm_eidan9000_3_panto_placer_main_2;
    }

    switch(FEAT_TRAINS, SELF, sw_tk_nm_eidan9000_3_gfx_main,position_in_vehid_chain_from_end){
      0: tk_nm_eidan9000_3_end;
      default: sw_tk_nm_eidan9000_3_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_nm_eidan9000_livery_3,vehicle_type_id){
      tk_nm_eidan9000: tk_nm_eidan9000_3_front;
      default: sw_tk_nm_eidan9000_3_gfx_main;
    }

random_switch(FEAT_TRAINS, PARENT, sw_tk_nm_eidan9000_livery_1_0){
  1:sw_tk_nm_eidan9000_livery_1;
  1:sw_tk_nm_eidan9000_livery_3;
}
switch(FEAT_TRAINS, PARENT, sw_tk_nm_eidan9000_livery_0_2, current_year>2015){
    1: sw_tk_nm_eidan9000_livery_1_0;
    sw_tk_nm_eidan9000_livery_1;
}
switch(FEAT_TRAINS, PARENT, sw_tk_nm_eidan9000_livery_0, build_year){
    0..2008: sw_tk_nm_eidan9000_livery_0_2;
    sw_tk_nm_eidan9000_livery_2;
}

switch(FEAT_TRAINS, PARENT, sw_tk_nm_eidan9000_lv, cargo_subtype){
    0: sw_tk_nm_eidan9000_livery_0;
    1: sw_tk_nm_eidan9000_livery_1;
    2: sw_tk_nm_eidan9000_livery_2;
    3: sw_tk_nm_eidan9000_livery_3;
}
switch(FEAT_TRAINS, SELF, sw_tk_nm_eidan9000_lv_desc, cargo_subtype){
    0: string(LV_RANDOM);
    1: string(LV_tk_nm_eidan9000_1);
    2: string(LV_tk_nm_eidan9000_2);
    3: string(LV_tk_nm_eidan9000_3);
}


  switch(FEAT_TRAINS, SELF, sw_tk_nm_eidan9000_capacity,position_in_vehid_chain_from_end){
    0: 140;
    default: 151;
  }
  switch(FEAT_TRAINS, SELF, sw_tk_nm_eidan9000_capacity_1,position_in_vehid_chain){
    0: 140;
    default: sw_tk_nm_eidan9000_capacity;
  }
  switch(FEAT_TRAINS, SELF, sw_tk_nm_eidan9000_capacity_main,vehicle_type_id){
    mu_car_narrow: sw_tk_nm_eidan9000_capacity;
    sw_tk_nm_eidan9000_capacity_1;
  }

  switch(FEAT_TRAINS, SELF, sw_tk_nm_eidan9000_power_1,position_in_vehid_chain_from_end%6){
    1..2:return 190;
    4:return 190;
    return 0;
  }
  switch(FEAT_TRAINS, SELF, sw_tk_nm_eidan9000_power_2,position_in_vehid_chain_from_end%6){
    1..2:return 225;
    4:return 225;
    return 0;
  }
  switch(FEAT_TRAINS, SELF, sw_tk_nm_eidan9000_power_main,build_year){
    0..2015: sw_tk_nm_eidan9000_power_1;
    sw_tk_nm_eidan9000_power_2;
  }

  switch(FEAT_TRAINS, SELF, tk_nm_eidan9000_attach_vehid, vehicle_type_id) {
    mu_car: return string(STR_ATTACH_1067_ERROR);
    mu_car_metro: return string(STR_ATTACH_1067_ERROR);
    return CB_RESULT_ATTACH_ALLOW;
  }


item(FEAT_TRAINS, tk_nm_eidan9000,1110) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_EIDAN), "9000", string(STR_NAME_SERIES));
        introduction_date: date(1990, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cargo_capacity: 140;
        loading_speed: param_loading_4D;
        cost_factor: 20;
        running_cost_factor: 50;

        speed: 110 km/h;
        track_type: TR_1067_DC;
        power: 800 kW;
        weight: 30 ton;

        climates_available: param_disable_tokyo == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
        length: 8;
    }
 graphics {
        power: sw_tk_nm_eidan9000_power_main()*4*1342/1000;
        default: sw_tk_nm_eidan9000_lv;
        purchase: tk_nm_eidan9000_purchase;
        can_attach_wagon: tk_nm_eidan9000_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_2, 4,6)),
  string(STR_OPERATOR, string(STR_TOKYOMETRO)),
  string(STR_LINES_USED, string(STR_TOKYO_NAMBOKU)));

        start_stop: sw_stop_start_3;
        cargo_subtype_text: sw_tk_nm_eidan9000_lv_desc;
        cargo_capacity: sw_tk_nm_eidan9000_capacity_main()*param_capacity_mod/3;
    }
    livery_override(mu_car_narrow){
        cargo_subtype_text: sw_tk_nm_eidan9000_lv_desc;
        loading_speed: param_loading_4D;
        cargo_capacity: sw_tk_nm_eidan9000_capacity_main()*param_capacity_mod/3;
        default: sw_tk_nm_eidan9000_lv;
        power: sw_tk_nm_eidan9000_power_main()*4*1342/1000;
        weight: 30;
        length: 8;
      }
}
# 51 "src/_metro.pnml" 2
# 1 "src/metro/Tokyo/namboku/saitama2000.pnml" 1

spriteset(tk_nm_saitama2000_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/namboku/saitama2000/saitama2000.png"){ tmpl_purchase_1c(0, 0) }
spriteset(tk_nm_saitama2000_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/namboku/saitama2000/saitama2000.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, tk_nm_saitama2000_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_saitama; 1: tk_nm_saitama2000_purchase_c1; 2: tk_nm_saitama2000_purchase_c2;}

spriteset(tk_nm_saitama2000_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/namboku/saitama2000/saitama2000.png"){ tmpl_std(0, 0) }
spriteset(tk_nm_saitama2000_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/namboku/saitama2000/saitama2000.png"){ tmpl_std_rev(0, 25) }
spriteset(tk_nm_saitama2000_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/namboku/saitama2000/saitama2000.png"){ tmpl_std_rev(0, 50) }
spriteset(tk_nm_saitama2000_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/namboku/saitama2000/saitama2000.png"){ tmpl_std(0, 50) }
spriteset(tk_nm_saitama2000_mot_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/namboku/saitama2000/saitama2000.png"){ tmpl_symm(0, 75) }
spriteset(tk_nm_saitama2000_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/namboku/saitama2000/saitama2000.png"){ tmpl_symm(0, 100) }




    switch(FEAT_TRAINS, SELF, sw_tk_nm_saitama2000_panto_placer_1,position_in_vehid_chain %5){
      0: tk_nm_saitama2000_mot;
      2: tk_nm_saitama2000_mot_2;
      tk_nm_saitama2000_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_nm_saitama2000_panto_placer_1_rev,position_in_vehid_chain_from_end %5 -1){
      0: tk_nm_saitama2000_mot_rev;
      2: tk_nm_saitama2000_mot_2;
      tk_nm_saitama2000_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_tk_nm_saitama2000_panto_placer_main_1,vehicle_is_reversed){
      1: sw_tk_nm_saitama2000_panto_placer_1_rev;
      sw_tk_nm_saitama2000_panto_placer_1;
    }

    switch(FEAT_TRAINS, SELF, sw_tk_nm_saitama2000_panto_placer_2,position_in_vehid_chain %3){
      1: tk_nm_saitama2000_mot_2;
      tk_nm_saitama2000_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_nm_saitama2000_panto_placer_2_rev,position_in_vehid_chain_from_end %3 -1){
      1: tk_nm_saitama2000_mot_2;
      tk_nm_saitama2000_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_tk_nm_saitama2000_panto_placer_main_2,vehicle_is_reversed){
      1: sw_tk_nm_saitama2000_panto_placer_2_rev;
      sw_tk_nm_saitama2000_panto_placer_2;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_nm_saitama2000_panto_placer_main,num_vehs_in_vehid_chain+1){
      5..6: sw_tk_nm_saitama2000_panto_placer_main_1;
      sw_tk_nm_saitama2000_panto_placer_main_2;
    }

    switch(FEAT_TRAINS, SELF, sw_tk_nm_saitama2000_gfx_main,position_in_vehid_chain_from_end){
      0: tk_nm_saitama2000_end;
      default: sw_tk_nm_saitama2000_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_nm_saitama2000_lv,vehicle_type_id){
      tk_nm_saitama2000: tk_nm_saitama2000_front;
      default: sw_tk_nm_saitama2000_gfx_main;
    }

  switch(FEAT_TRAINS, SELF, sw_tk_nm_saitama2000_capacity,position_in_vehid_chain_from_end){
    0: 140;
    150;
  }
  switch(FEAT_TRAINS, SELF, sw_tk_nm_saitama2000_capacity_1,position_in_vehid_chain){
    0: 140;
    sw_tk_nm_saitama2000_capacity;
  }
  switch(FEAT_TRAINS, SELF, sw_tk_nm_saitama2000_capacity_main,vehicle_type_id){
    mu_car_narrow: sw_tk_nm_saitama2000_capacity;
    sw_tk_nm_saitama2000_capacity_1;
  }

  switch(FEAT_TRAINS, SELF, sw_tk_nm_saitama2000_power_main,position_in_vehid_chain_from_end%6){
    1..2:return 190;
    4:return 190;
    return 0;
  }

  switch(FEAT_TRAINS, SELF, tk_nm_saitama2000_attach_vehid, vehicle_type_id) {
    mu_car: return string(STR_ATTACH_1067_ERROR);
    mu_car_metro: return string(STR_ATTACH_1067_ERROR);
    return CB_RESULT_ATTACH_ALLOW;
  }


item(FEAT_TRAINS, tk_nm_saitama2000,1115) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_SAITAMA), "2000", string(STR_NAME_SERIES));
        introduction_date: date(2000, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cargo_capacity: 146;
        loading_speed: param_loading_4D;
        cost_factor: 20;
        running_cost_factor: 50;

        speed: 110 km/h;
        track_type: TR_1067_DC;
        power: 800 kW;
        weight: 30 ton;

        climates_available: param_disable_tokyo == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
        length: 8;
    }
 graphics {
        power: sw_tk_nm_saitama2000_power_main()*4*1342/1000;
        default: sw_tk_nm_saitama2000_lv;
        purchase: tk_nm_saitama2000_purchase;
        can_attach_wagon: tk_nm_saitama2000_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 6)),
  string(STR_OPERATOR, string(STR_TOKYOMETRO)),
  string(STR_LINES_USED, string(STR_TOKYO_NAMBOKU_SAITAMA)));

        start_stop: sw_stop_start_3;
        cargo_capacity: sw_tk_nm_saitama2000_capacity_main()*param_capacity_mod/3;
    }
    livery_override(mu_car_narrow){
        loading_speed: param_loading_4D;
        cargo_capacity: sw_tk_nm_saitama2000_capacity_main()*param_capacity_mod/3;
        default: sw_tk_nm_saitama2000_lv;
        power: sw_tk_nm_saitama2000_power_main()*4*1342/1000;
        weight: 30;
        length: 8;
      }
}
# 52 "src/_metro.pnml" 2


# 1 "src/metro/Tokyo/asakusa/toei5000.pnml" 1

spriteset(tk_as_toei5000_purchase_c1_1, "gfx/metro/Tokyo/asakusa/toei5000/toei5000.png"){ tmpl_purchase_1c(0, 0) }
spriteset(tk_as_toei5000_purchase_c2_1, "gfx/metro/Tokyo/asakusa/toei5000/toei5000.png"){ tmpl_purchase_2c(0, 75) }
spriteset(tk_as_toei5000_purchase_c1_2, "gfx/metro/Tokyo/asakusa/toei5000/toei5000_1.png"){ tmpl_purchase_1c(0, 0) }
spriteset(tk_as_toei5000_purchase_c2_2, "gfx/metro/Tokyo/asakusa/toei5000/toei5000_1.png"){ tmpl_purchase_2c(0, 75) }
switch(FEAT_TRAINS, SELF, tk_as_toei5000_purchase_c1, current_year<1982){
   1: tk_as_toei5000_purchase_c1_1;
   tk_as_toei5000_purchase_c1_2;
 }
switch(FEAT_TRAINS, SELF, tk_as_toei5000_purchase_c2, current_year<1982){
   1: tk_as_toei5000_purchase_c2_1;
   tk_as_toei5000_purchase_c2_2;
 }
switch(FEAT_TRAINS, SELF, tk_as_toei5000_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_toei; 1: logo_line_tk_asakusa; 2: tk_as_toei5000_purchase_c1; 3: tk_as_toei5000_purchase_c2;}

spriteset (tk_as_toei5000_front, "gfx/metro/Tokyo/asakusa/toei5000/toei5000.png") { tmpl_std(0, 0) }
spriteset (tk_as_toei5000_end, "gfx/metro/Tokyo/asakusa/toei5000/toei5000.png") { tmpl_std_rev(0, 25) }
spriteset (tk_as_toei5000_mot, "gfx/metro/Tokyo/asakusa/toei5000/toei5000.png") { tmpl_std(0, 75) }
spriteset (tk_as_toei5000_mot_rev, "gfx/metro/Tokyo/asakusa/toei5000/toei5000.png") { tmpl_std_rev(0, 75) }
spriteset (tk_as_toei5000_wag, "gfx/metro/Tokyo/asakusa/toei5000/toei5000.png") { tmpl_std(0, 50) }
spriteset (tk_as_toei5000_front_mot, "gfx/metro/Tokyo/asakusa/toei5000/toei5000.png") { tmpl_std(0,100) }
spriteset (tk_as_toei5000_end_mot, "gfx/metro/Tokyo/asakusa/toei5000/toei5000.png") { tmpl_std_rev(0, 125) }

spriteset (tk_as_toei5000_1_front, "gfx/metro/Tokyo/asakusa/toei5000/toei5000_1.png") { tmpl_std(0, 0)}
spriteset (tk_as_toei5000_1_end, "gfx/metro/Tokyo/asakusa/toei5000/toei5000_1.png") { tmpl_std_rev(0, 25) }
spriteset (tk_as_toei5000_1_mot, "gfx/metro/Tokyo/asakusa/toei5000/toei5000_1.png") { tmpl_std(0, 75) }
spriteset (tk_as_toei5000_1_mot_rev, "gfx/metro/Tokyo/asakusa/toei5000/toei5000_1.png") { tmpl_std_rev(0, 75) }
spriteset (tk_as_toei5000_1_wag, "gfx/metro/Tokyo/asakusa/toei5000/toei5000_1.png") { tmpl_std(0, 50) }
spriteset (tk_as_toei5000_1_front_mot, "gfx/metro/Tokyo/asakusa/toei5000/toei5000_1.png") { tmpl_std(0, 100) }
spriteset (tk_as_toei5000_1_end_mot, "gfx/metro/Tokyo/asakusa/toei5000/toei5000_1.png") { tmpl_std_rev(0, 125) }




  switch(FEAT_TRAINS, PARENT, sw_tk_as_toei5000_front_gfx,vehicle_is_reversed){
   1: tk_as_toei5000_front;
   tk_as_toei5000_front_mot;
  }
  switch(FEAT_TRAINS, PARENT, sw_tk_as_toei5000_end_gfx,vehicle_is_reversed){
   1: tk_as_toei5000_end_mot;
   tk_as_toei5000_end;
  }

  switch(FEAT_TRAINS, SELF, sw_tk_as_toei5000_panto_placer_1,position_in_vehid_chain %2){
   1: tk_as_toei5000_mot;
   tk_as_toei5000_wag;
  }
  switch(FEAT_TRAINS, SELF, sw_tk_as_toei5000_panto_placer_1_rev,1- position_in_vehid_chain_from_end %2){
   1: tk_as_toei5000_mot_rev;
   tk_as_toei5000_wag;
  }
  switch(FEAT_TRAINS, PARENT, sw_toei5000_panto_placer_main,vehicle_is_reversed){
   1: sw_tk_as_toei5000_panto_placer_1_rev;
   sw_tk_as_toei5000_panto_placer_1;
  }

  switch(FEAT_TRAINS, SELF, sw_tk_as_toei5000_gfx_main,position_in_vehid_chain_from_end){
   0: sw_tk_as_toei5000_end_gfx;
   default: sw_toei5000_panto_placer_main;
  }
  switch(FEAT_TRAINS, SELF, sw_tk_as_toei5000_livery_1,vehicle_type_id){
   tk_as_toei5000: sw_tk_as_toei5000_front_gfx;
   default: sw_tk_as_toei5000_gfx_main;
  }





  switch(FEAT_TRAINS, PARENT, sw_tk_as_toei5000_1_front_gfx,vehicle_is_reversed){
   1: tk_as_toei5000_1_front;
   tk_as_toei5000_1_front_mot;
  }
  switch(FEAT_TRAINS, PARENT, sw_tk_as_toei5000_1_end_gfx,vehicle_is_reversed){
   1: tk_as_toei5000_1_end_mot;
   tk_as_toei5000_1_end;
  }

  switch(FEAT_TRAINS, SELF, sw_tk_as_toei5000_1_panto_placer_1,position_in_vehid_chain %2){
   1: tk_as_toei5000_1_mot;
   tk_as_toei5000_1_wag;
  }
  switch(FEAT_TRAINS, SELF, sw_tk_as_toei5000_1_panto_placer_1_rev,1- position_in_vehid_chain_from_end %2){
   1: tk_as_toei5000_1_mot_rev;
   tk_as_toei5000_1_wag;
  }
  switch(FEAT_TRAINS, PARENT, sw_toei5000_1_panto_placer_main,vehicle_is_reversed){
   1: sw_tk_as_toei5000_1_panto_placer_1_rev;
   sw_tk_as_toei5000_1_panto_placer_1;
  }

  switch(FEAT_TRAINS, SELF, sw_tk_as_toei5000_1_gfx_main,position_in_vehid_chain_from_end){
   0: sw_tk_as_toei5000_1_end_gfx;
   default: sw_toei5000_1_panto_placer_main;
  }
  switch(FEAT_TRAINS, SELF, sw_tk_as_toei5000_livery_2,vehicle_type_id){
   tk_as_toei5000: sw_tk_as_toei5000_1_front_gfx;
   default: sw_tk_as_toei5000_1_gfx_main;
  }




 switch(FEAT_TRAINS, PARENT, sw_tk_as_toei5000_livery_0, current_year<1982){
   1: sw_tk_as_toei5000_livery_1;
   sw_tk_as_toei5000_livery_2;
 }

 switch(FEAT_TRAINS, PARENT, sw_tk_as_toei5000_lv, cargo_subtype){
   0: sw_tk_as_toei5000_livery_0;
   1: sw_tk_as_toei5000_livery_1;
   2: sw_tk_as_toei5000_livery_2;
 }
 switch(FEAT_TRAINS, SELF, sw_tk_as_toei5000_lv_desc, cargo_subtype){
   0: string(LV_RANDOM);
   1: string(LV_OLD);
   2: string(LV_NEW);
 }


switch(FEAT_TRAINS, SELF, sw_tk_as_toei5000_capacity,position_in_vehid_chain_from_end){
    0: 140;
    default: 150;
}
switch(FEAT_TRAINS, SELF, sw_tk_as_toei5000_capacity_1,position_in_vehid_chain){
    0: 140;
    default: sw_tk_as_toei5000_capacity;
}
switch(FEAT_TRAINS, SELF, sw_tk_as_toei5000_capacity_main,vehicle_type_id){
    mu_car: sw_tk_as_toei5000_capacity;
    sw_tk_as_toei5000_capacity_1;
}

switch(FEAT_TRAINS, SELF, tk_as_toei5000_attach_vehid, vehicle_type_id) {
  mu_car_narrow: return string(STR_ATTACH_1435_ERROR);
  mu_car_metro: return string(STR_ATTACH_1435_ERROR);
  return CB_RESULT_ATTACH_ALLOW;
}

item(FEAT_TRAINS, tk_as_toei5000,1120) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_TOEI), "5000", string(STR_NAME_TYPE));
        introduction_date: date(1960, 1, 1);
        model_life: 30;
        vehicle_life: 35;
        reliability_decay: 10;

        cargo_capacity: 140;
        loading_speed: param_loading_3D;
        cost_factor: 19;
        running_cost_factor: 49;

        speed: 100 km/h;
        track_type: TR_1435_DC;
        power: 340 kW;
        weight: 34 ton;

        climates_available: param_disable_tokyo == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
        length: 8;
    }
 graphics {
        default: sw_tk_as_toei5000_lv;
        purchase: tk_as_toei5000_purchase;
        can_attach_wagon: tk_as_toei5000_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_2, 4,6)),
  string(STR_OPERATOR, string(STR_TOEI)),
  string(STR_LINES_USED, string(STR_TOKYO_ASAKUSA)));

        cargo_subtype_text: sw_tk_as_toei5000_lv_desc;
        start_stop: sw_stop_start_2;
        cargo_capacity: sw_tk_as_toei5000_capacity_main()*param_capacity_mod/3;
    sound_effect: sw_TOEI5000_start_sound;
    }
    livery_override(mu_car){
        cargo_subtype_text: sw_tk_as_toei5000_lv_desc;
        loading_speed: param_loading_3D;
        cargo_capacity: sw_tk_as_toei5000_capacity_main()*param_capacity_mod/3;
        default: sw_tk_as_toei5000_lv;
        power: 456;
        weight: 33;
        length: 8;
      }
}
# 55 "src/_metro.pnml" 2
# 1 "src/metro/Tokyo/asakusa/toei5200.pnml" 1

spriteset(tk_as_toei5200_purchase_c1_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/asakusa/toei5200/toei5200_old.png"){ tmpl_purchase_1c(0, 0) }
spriteset(tk_as_toei5200_purchase_c2_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/asakusa/toei5200/toei5200_old.png"){ tmpl_purchase_2c(0, 75) }
spriteset(tk_as_toei5200_purchase_c1_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/asakusa/toei5200/toei5200.png"){ tmpl_purchase_1c(0, 0) }
spriteset(tk_as_toei5200_purchase_c2_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/asakusa/toei5200/toei5200.png"){ tmpl_purchase_2c(0, 75) }
switch(FEAT_TRAINS, SELF, tk_as_toei5200_purchase_c1, current_year<1982){
   1: tk_as_toei5200_purchase_c1_1;
   tk_as_toei5200_purchase_c1_2;
 }
switch(FEAT_TRAINS, SELF, tk_as_toei5200_purchase_c2, current_year<1982){
   1: tk_as_toei5200_purchase_c2_1;
   tk_as_toei5200_purchase_c2_2;
 }
switch(FEAT_TRAINS, SELF, tk_as_toei5200_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_toei; 1: logo_line_tk_asakusa; 2: tk_as_toei5200_purchase_c1; 3: tk_as_toei5200_purchase_c2;}

spriteset(tk_as_toei5200_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/asakusa/toei5200/toei5200.png"){ tmpl_std(0, 0) }
spriteset(tk_as_toei5200_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/asakusa/toei5200/toei5200.png"){ tmpl_std_rev(0, 25) }
spriteset(tk_as_toei5200_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/asakusa/toei5200/toei5200.png"){ tmpl_std(0, 50) }
spriteset(tk_as_toei5200_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/asakusa/toei5200/toei5200.png"){ tmpl_std_rev(0, 50) }
spriteset(tk_as_toei5200_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/asakusa/toei5200/toei5200.png"){ tmpl_std(0, 75) }
spriteset(tk_as_toei5200_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/asakusa/toei5200/toei5200.png"){ tmpl_std(0, 100) }
spriteset(tk_as_toei5200_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/asakusa/toei5200/toei5200.png"){ tmpl_std_rev(0, 125) }

spriteset(tk_as_toei5200_old_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/asakusa/toei5200/toei5200_old.png"){ tmpl_std(0, 0) }
spriteset(tk_as_toei5200_old_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/asakusa/toei5200/toei5200_old.png"){ tmpl_std_rev(0, 25) }
spriteset(tk_as_toei5200_old_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/asakusa/toei5200/toei5200_old.png"){ tmpl_std_rev(0, 75) }
spriteset(tk_as_toei5200_old_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/asakusa/toei5200/toei5200_old.png"){ tmpl_std(0, 75) }
spriteset(tk_as_toei5200_old_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/asakusa/toei5200/toei5200_old.png"){ tmpl_std(0, 50) }
spriteset(tk_as_toei5200_old_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/asakusa/toei5200/toei5200_old.png"){ tmpl_std(0, 100) }
spriteset(tk_as_toei5200_old_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/asakusa/toei5200/toei5200_old.png"){ tmpl_std_rev(0, 125) }



  switch(FEAT_TRAINS, SELF, tk_as_toei5200_front_1_gfx, current_year<1988){
    1:tk_as_toei5200_old_front;
    tk_as_toei5200_front;
  }
  switch(FEAT_TRAINS, SELF, tk_as_toei5200_front_mot_gfx, current_year<1988){
    1:tk_as_toei5200_old_front_mot;
    tk_as_toei5200_front_mot;
  }
  switch(FEAT_TRAINS, PARENT, tk_as_toei5200_front_gfx, vehicle_is_reversed){
    1:tk_as_toei5200_front_1_gfx;
    tk_as_toei5200_front_mot_gfx;
  }
  switch(FEAT_TRAINS, SELF, tk_as_toei5200_end_1_gfx, current_year<1988){
    1:tk_as_toei5200_old_end;
    tk_as_toei5200_end;
  }
  switch(FEAT_TRAINS, SELF, tk_as_toei5200_end_mot_gfx, current_year<1988){
    1:tk_as_toei5200_old_end_mot;
    tk_as_toei5200_end_mot;
  }
  switch(FEAT_TRAINS, PARENT, tk_as_toei5200_end_gfx, vehicle_is_reversed){
    1:tk_as_toei5200_end_mot_gfx;
    tk_as_toei5200_end_1_gfx;
  }
  switch(FEAT_TRAINS, SELF, tk_as_toei5200_mot_gfx, current_year<1988){
    1:tk_as_toei5200_old_mot;
    tk_as_toei5200_mot;
  }
  switch(FEAT_TRAINS, SELF, tk_as_toei5200_mot_rev_gfx, current_year<1988){
    1:tk_as_toei5200_old_mot_rev;
    tk_as_toei5200_mot_rev;
  }
  switch(FEAT_TRAINS, SELF, tk_as_toei5200_wag_gfx, current_year<1988){
    1:tk_as_toei5200_old_wag;
    tk_as_toei5200_wag;
  }

  switch(FEAT_TRAINS, SELF, sw_tk_as_toei5200_panto_placer_1,position_in_vehid_chain %2){
    1: tk_as_toei5200_mot_gfx;
    tk_as_toei5200_wag_gfx;
  }
  switch(FEAT_TRAINS, SELF, sw_tk_as_toei5200_panto_placer_1_rev,1- position_in_vehid_chain_from_end %2){
    1: tk_as_toei5200_mot_rev_gfx;
    tk_as_toei5200_wag_gfx;
  }
  switch(FEAT_TRAINS, PARENT, sw_tk_as_toei5200_panto_placer_main,vehicle_is_reversed){
    1: sw_tk_as_toei5200_panto_placer_1_rev;
    sw_tk_as_toei5200_panto_placer_1;
  }

switch(FEAT_TRAINS, SELF, sw_tk_as_toei5200_gfx_main,position_in_vehid_chain_from_end){
    0: tk_as_toei5200_end_gfx;
    default: sw_tk_as_toei5200_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tk_as_toei5200_lv,vehicle_type_id){
    tk_as_toei5200: tk_as_toei5200_front_gfx;
    default: sw_tk_as_toei5200_gfx_main;
}


switch(FEAT_TRAINS, SELF, tk_as_toei5200_attach_vehid, vehicle_type_id) {
 mu_car_narrow: return string(STR_ATTACH_1435_ERROR);
  mu_car_metro: return string(STR_ATTACH_1435_ERROR);
  return CB_RESULT_ATTACH_ALLOW;
}

item(FEAT_TRAINS, tk_as_toei5200,1121) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_TOEI), "5200", string(STR_NAME_TYPE));
        introduction_date: date(1976, 1, 1);
        model_life: 25;
        vehicle_life: 30;
        reliability_decay: 10;

        cargo_capacity: 140;
        loading_speed: param_loading_3D;
        cost_factor: 20;
        running_cost_factor: 50;

        speed: 100 km/h;
        track_type: TR_1435_DC;
        power: 340 kW;
        weight: 34 ton;

        climates_available: param_disable_tokyo == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        default: sw_tk_as_toei5200_lv;
        purchase: tk_as_toei5200_purchase;
        can_attach_wagon: tk_as_toei5200_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_2, 6,8)),
  string(STR_OPERATOR, string(STR_TOEI)),
  string(STR_LINES_USED, string(STR_TOKYO_ASAKUSA)));


        start_stop: sw_stop_start_2;
        cargo_capacity: sw_tk_as_toei5000_capacity_main()*param_capacity_mod/3;
        sound_effect: sw_TOEI5200_start_sound;
    }
    livery_override(mu_car){
        loading_speed: param_loading_3D;
        cargo_capacity: sw_tk_as_toei5000_capacity_main()*param_capacity_mod/3;
        default: sw_tk_as_toei5200_lv;
        power: 456;
        weight: 33;
        length: 8;
      }
}
# 56 "src/_metro.pnml" 2
# 1 "src/metro/Tokyo/asakusa/toei5300.pnml" 1

spriteset(tk_as_toei5300_purchase_c1, "gfx/metro/Tokyo/asakusa/toei5300/toei5300.png"){ tmpl_purchase_1c(0, 0) }
spriteset(tk_as_toei5300_purchase_c2, "gfx/metro/Tokyo/asakusa/toei5300/toei5300.png"){ tmpl_purchase_2c(0, 75) }
switch(FEAT_TRAINS, SELF, tk_as_toei5300_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_toei; 1: logo_line_tk_asakusa; 2: tk_as_toei5300_purchase_c1; 3: tk_as_toei5300_purchase_c2;}

spriteset (tk_as_toei5300_front, "gfx/metro/Tokyo/asakusa/toei5300/toei5300.png") { tmpl_std(0, 0) }
spriteset (tk_as_toei5300_end, "gfx/metro/Tokyo/asakusa/toei5300/toei5300.png") { tmpl_std_rev(0, 25) }
spriteset (tk_as_toei5300_mot, "gfx/metro/Tokyo/asakusa/toei5300/toei5300.png") { tmpl_std(0, 50) }
spriteset (tk_as_toei5300_wag, "gfx/metro/Tokyo/asakusa/toei5300/toei5300.png") { tmpl_std(0, 75) }






    switch(FEAT_TRAINS, SELF, sw_tk_as_toei5300_panto_placer_1,position_in_vehid_chain %8){
      1: tk_as_toei5300_mot;
      4: tk_as_toei5300_mot;
      default: tk_as_toei5300_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_as_toei5300_panto_placer_1_rev,position_in_vehid_chain_from_end %8){
      2: tk_as_toei5300_mot;
      5: tk_as_toei5300_mot;
      default: tk_as_toei5300_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_toei5300_panto_placer_main_1,vehicle_is_reversed){
      1: sw_tk_as_toei5300_panto_placer_1_rev;
      sw_tk_as_toei5300_panto_placer_1;
    }

    switch(FEAT_TRAINS, SELF, sw_tk_as_toei5300_panto_placer_2,position_in_vehid_chain %3){
      0: tk_as_toei5300_mot;
      default: tk_as_toei5300_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_as_toei5300_panto_placer_2_rev,1-position_in_vehid_chain_from_end %3){
      0: tk_as_toei5300_mot;
      default: tk_as_toei5300_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_toei5300_panto_placer_main_2,vehicle_is_reversed){
      1: sw_tk_as_toei5300_panto_placer_2_rev;
      sw_tk_as_toei5300_panto_placer_2;
    }

    switch(FEAT_TRAINS, SELF, sw_toei5300_panto_placer_main,num_vehs_in_vehid_chain+1){
      3: sw_toei5300_panto_placer_main_2;
      6: sw_toei5300_panto_placer_main_2;
      10..11: sw_toei5300_panto_placer_main_2;
      sw_toei5300_panto_placer_main_1;
    }

    switch(FEAT_TRAINS, SELF, sw_tk_as_toei5300_gfx_main,position_in_vehid_chain_from_end){
        0: tk_as_toei5300_end;
        sw_toei5300_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_as_toei5300_livery_1,vehicle_type_id){
        mu_car: sw_tk_as_toei5300_gfx_main;
        tk_as_toei5300_front;
    }


    switch(FEAT_TRAINS, SELF, sw_tk_as_toei5300_capacity,position_in_vehid_chain_from_end){
      0: 123;
      default: 134;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_as_toei5300_capacity_1,position_in_vehid_chain){
      0: 123;
      default: sw_tk_as_toei5300_capacity;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_as_toei5300_capacity_main,vehicle_type_id){
      mu_car: sw_tk_as_toei5300_capacity;
      sw_tk_as_toei5300_capacity_1;
    }

    switch(FEAT_TRAINS, SELF, sw_tk_as_toei5300_power_main,position_in_vehid_chain_from_end%8){
      0:return 165;
      2:return 165;
      5:return 165;
      7:return 165;
      return 0;
    }

switch(FEAT_TRAINS, SELF, tk_as_toei5300_attach_vehid, vehicle_type_id) {
  mu_car_narrow: return string(STR_ATTACH_1435_ERROR);
  mu_car_metro: return string(STR_ATTACH_1435_ERROR);
  return CB_RESULT_ATTACH_ALLOW;
}

item(FEAT_TRAINS, tk_as_toei5300,1122) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_TOEI), "5300", string(STR_NAME_TYPE));
        introduction_date: date(1991, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cargo_capacity: 123;
        loading_speed: param_loading_3D;
        cost_factor: 19;
        running_cost_factor: 49;

        speed: 120 km/h;
        track_type: TR_1435_DC;
        power: 620 kW;
        weight: 24 ton;

        climates_available: param_disable_tokyo == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
    power: sw_tk_as_toei5300_power_main()*4*1342/1000;
        default: sw_tk_as_toei5300_livery_1;
        purchase: tk_as_toei5300_purchase;
        can_attach_wagon: tk_as_toei5300_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 8)),
  string(STR_OPERATOR, string(STR_TOEI)),
  string(STR_LINES_USED, string(STR_TOKYO_ASAKUSA)));

        start_stop: sw_stop_start_3;
        cargo_capacity: sw_tk_as_toei5300_capacity_main()*param_capacity_mod/3;
        sound_effect: sw_TOEI5300_start_sound;
    }
    livery_override(mu_car){
        loading_speed: param_loading_3D;
        cargo_capacity: sw_tk_as_toei5300_capacity_main()*param_capacity_mod/3;
        default: sw_tk_as_toei5300_livery_1;
        power: sw_tk_as_toei5300_power_main()*4*1342/1000;
        weight: 24;
        length: 8;
      }
}
# 57 "src/_metro.pnml" 2
# 1 "src/metro/Tokyo/asakusa/toei5500.pnml" 1

spriteset(tk_as_toei5500_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/asakusa/toei5500/toei5500.png"){ tmpl_purchase_1c(0, 0) }
spriteset(tk_as_toei5500_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/asakusa/toei5500/toei5500.png"){ tmpl_purchase_2c(0, 75) }
switch(FEAT_TRAINS, SELF, tk_as_toei5500_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_toei; 1: logo_line_tk_asakusa; 2: tk_as_toei5500_purchase_c1; 3: tk_as_toei5500_purchase_c2;}

spriteset(tk_as_toei5500_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/asakusa/toei5500/toei5500.png"){ tmpl_std(0, 0) }
spriteset(tk_as_toei5500_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/asakusa/toei5500/toei5500.png"){ tmpl_std_rev(0, 25) }
spriteset(tk_as_toei5500_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/asakusa/toei5500/toei5500.png"){ tmpl_symm(0, 50) }
spriteset(tk_as_toei5500_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/asakusa/toei5500/toei5500.png"){ tmpl_symm(0, 75) }




    switch(FEAT_TRAINS, SELF, sw_tk_as_toei5500_panto_placer_1,position_in_vehid_chain %8){
      1: tk_as_toei5500_mot;
      4: tk_as_toei5500_mot;
      default: tk_as_toei5500_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_as_toei5500_panto_placer_1_rev,position_in_vehid_chain_from_end %8){
      2: tk_as_toei5500_mot;
      5: tk_as_toei5500_mot;
      default: tk_as_toei5500_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_toei5500_panto_placer_main_1,vehicle_is_reversed){
      1: sw_tk_as_toei5500_panto_placer_1_rev;
      sw_tk_as_toei5500_panto_placer_1;
    }

    switch(FEAT_TRAINS, SELF, sw_tk_as_toei5500_panto_placer_2,position_in_vehid_chain %3){
      0: tk_as_toei5500_mot;
      default: tk_as_toei5500_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_as_toei5500_panto_placer_2_rev,1-position_in_vehid_chain_from_end %3){
      0: tk_as_toei5500_mot;
      default: tk_as_toei5500_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_toei5500_panto_placer_main_2,vehicle_is_reversed){
      1: sw_tk_as_toei5500_panto_placer_2_rev;
      sw_tk_as_toei5500_panto_placer_2;
    }

    switch(FEAT_TRAINS, SELF, sw_toei5500_panto_placer_main,num_vehs_in_vehid_chain+1){
      3: sw_toei5500_panto_placer_main_2;
      6: sw_toei5500_panto_placer_main_2;
      10..11: sw_toei5500_panto_placer_main_2;
      sw_toei5500_panto_placer_main_1;
    }

    switch(FEAT_TRAINS, SELF, sw_tk_as_toei5500_gfx_main,position_in_vehid_chain_from_end){
        0: tk_as_toei5500_end;
        sw_toei5500_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_as_toei5500_livery_1,vehicle_type_id){
        mu_car: sw_tk_as_toei5500_gfx_main;
        tk_as_toei5500_front;
    }


    switch(FEAT_TRAINS, SELF, sw_tk_as_toei5500_capacity,position_in_vehid_chain_from_end){
        0: 121;
        default: 134;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_as_toei5500_capacity_1,position_in_vehid_chain){
        0: 121;
        default: sw_tk_as_toei5500_capacity;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_as_toei5500_capacity_main,vehicle_type_id){
        mu_car: sw_tk_as_toei5500_capacity;
        sw_tk_as_toei5500_capacity_1;
    }

    switch(FEAT_TRAINS, SELF, sw_tk_as_toei5500_power_main,position_in_vehid_chain_from_end%8){
      0..2:return 155;
      5..7:return 155;
      return 0;
    }

switch(FEAT_TRAINS, SELF, tk_as_toei5500_attach_vehid, vehicle_type_id) {
  mu_car_narrow: return string(STR_ATTACH_1435_ERROR);
  mu_car_metro: return string(STR_ATTACH_1435_ERROR);
  return CB_RESULT_ATTACH_ALLOW;
}

item(FEAT_TRAINS, tk_as_toei5500,1123) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_TOEI), "5500", string(STR_NAME_TYPE));
        introduction_date: date(2017, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cargo_capacity: 121;
        loading_speed: param_loading_3D;
        cost_factor: 20;
        running_cost_factor: 50;

        speed: 130 km/h;
        track_type: TR_1435_DC;
        power: 620 kW;
        weight: 30 ton;

        climates_available: param_disable_tokyo == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        power: sw_tk_as_toei5500_power_main()*4*1342/1000;
        default: sw_tk_as_toei5500_livery_1;
        purchase: tk_as_toei5500_purchase;
        can_attach_wagon: tk_as_toei5500_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 8)),
  string(STR_OPERATOR, string(STR_TOEI)),
  string(STR_LINES_USED, string(STR_TOKYO_ASAKUSA)));

        start_stop: sw_stop_start_3;
        cargo_capacity: sw_tk_as_toei5500_capacity_main()*param_capacity_mod/3;
    }
    livery_override(mu_car){
        loading_speed: param_loading_3D;
        cargo_capacity: sw_tk_as_toei5500_capacity_main()*param_capacity_mod/3;
        default: sw_tk_as_toei5500_livery_1;
        power: sw_tk_as_toei5500_power_main()*4*1342/1000;
        weight: 30;
        length: 8;
      }
}
# 58 "src/_metro.pnml" 2


# 1 "src/metro/Tokyo/mita/toei6000.pnml" 1

spriteset(tk_mt_toei6000_purchase_c1_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/mita/toei6000/toei6000_1.png"){ tmpl_purchase_1c(0, 0) }
spriteset(tk_mt_toei6000_purchase_c2_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/mita/toei6000/toei6000_1.png"){ tmpl_purchase_2c(0, 75) }
spriteset(tk_mt_toei6000_purchase_c1_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/mita/toei6000/toei6000_2.png"){ tmpl_purchase_1c(0, 0) }
spriteset(tk_mt_toei6000_purchase_c2_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/mita/toei6000/toei6000_2.png"){ tmpl_purchase_2c(0, 75) }
spriteset(tk_mt_toei6000_purchase_c1_3, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/mita/toei6000/toei6000_3.png"){ tmpl_purchase_1c(0, 0) }
spriteset(tk_mt_toei6000_purchase_c2_3, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/mita/toei6000/toei6000_3.png"){ tmpl_purchase_2c(0, 75) }
spriteset(tk_mt_toei6000_purchase_c1_4, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/mita/toei6000/toei6000_4.png"){ tmpl_purchase_1c(0, 0) }
spriteset(tk_mt_toei6000_purchase_c2_4, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/mita/toei6000/toei6000_4.png"){ tmpl_purchase_2c(0, 75) }
switch(FEAT_TRAINS, SELF, tk_mt_toei6000_purchase_c1, current_year){
    0..1971: tk_mt_toei6000_purchase_c1_1;
    1972..1983: tk_mt_toei6000_purchase_c1_2;
    1984..1987: tk_mt_toei6000_purchase_c1_3;
    tk_mt_toei6000_purchase_c1_4;
 }
switch(FEAT_TRAINS, SELF, tk_mt_toei6000_purchase_c2, current_year){
    0..1971: tk_mt_toei6000_purchase_c2_1;
    1972..1983: tk_mt_toei6000_purchase_c2_2;
    1984..1987: tk_mt_toei6000_purchase_c2_3;
    tk_mt_toei6000_purchase_c2_4;
 }
switch(FEAT_TRAINS, SELF, tk_mt_toei6000_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_toei; 1: logo_line_tk_mita; 2: tk_mt_toei6000_purchase_c1; 3: tk_mt_toei6000_purchase_c2;}

spriteset(tk_mt_toei6000_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/mita/toei6000/toei6000_1.png"){ tmpl_std(0, 0) }
spriteset(tk_mt_toei6000_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/mita/toei6000/toei6000_1.png"){ tmpl_std_rev(0, 25) }
spriteset(tk_mt_toei6000_1_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/mita/toei6000/toei6000_1.png"){ tmpl_std(0, 50) }
spriteset(tk_mt_toei6000_1_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/mita/toei6000/toei6000_1.png"){ tmpl_std_rev(0, 50) }
spriteset(tk_mt_toei6000_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/mita/toei6000/toei6000_1.png"){ tmpl_symm(0, 75) }
spriteset(tk_mt_toei6000_1_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/mita/toei6000/toei6000_1.png"){ tmpl_std(0, 100) }
spriteset(tk_mt_toei6000_1_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/mita/toei6000/toei6000_1.png"){ tmpl_std_rev(0, 125) }


spriteset(tk_mt_toei6000_2_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/mita/toei6000/toei6000_2.png"){ tmpl_std(0, 0) }
spriteset(tk_mt_toei6000_2_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/mita/toei6000/toei6000_2.png"){ tmpl_std_rev(0, 25) }
spriteset(tk_mt_toei6000_2_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/mita/toei6000/toei6000_2.png"){ tmpl_std(0, 50) }
spriteset(tk_mt_toei6000_2_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/mita/toei6000/toei6000_2.png"){ tmpl_std_rev(0, 50) }
spriteset(tk_mt_toei6000_2_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/mita/toei6000/toei6000_2.png"){ tmpl_symm(0, 75) }
spriteset(tk_mt_toei6000_2_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/mita/toei6000/toei6000_2.png"){ tmpl_std(0, 100) }
spriteset(tk_mt_toei6000_2_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/mita/toei6000/toei6000_2.png"){ tmpl_std_rev(0, 125) }


spriteset(tk_mt_toei6000_3_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/mita/toei6000/toei6000_3.png"){ tmpl_std(0, 0) }
spriteset(tk_mt_toei6000_3_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/mita/toei6000/toei6000_3.png"){ tmpl_std_rev(0, 25) }
spriteset(tk_mt_toei6000_3_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/mita/toei6000/toei6000_3.png"){ tmpl_std(0, 50) }
spriteset(tk_mt_toei6000_3_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/mita/toei6000/toei6000_3.png"){ tmpl_std_rev(0, 75) }


spriteset(tk_mt_toei6000_4_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/mita/toei6000/toei6000_4.png"){ tmpl_std(0, 0) }
spriteset(tk_mt_toei6000_4_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/mita/toei6000/toei6000_4.png"){ tmpl_std_rev(0, 25) }
spriteset(tk_mt_toei6000_4_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/mita/toei6000/toei6000_4.png"){ tmpl_std(0, 50) }
spriteset(tk_mt_toei6000_4_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/mita/toei6000/toei6000_4.png"){ tmpl_std_rev(0, 50) }
spriteset(tk_mt_toei6000_4_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/mita/toei6000/toei6000_4.png"){ tmpl_symm(0, 75) }
spriteset(tk_mt_toei6000_4_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/mita/toei6000/toei6000_4.png"){ tmpl_std(0, 100) }
spriteset(tk_mt_toei6000_4_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/mita/toei6000/toei6000_4.png"){ tmpl_std_rev(0, 125) }



    switch(FEAT_TRAINS, PARENT, sw_tk_mt_toei6000_1_front_main,vehicle_is_reversed){
      1: tk_mt_toei6000_1_front;
      tk_mt_toei6000_1_front_mot;
    }
    switch(FEAT_TRAINS, PARENT, sw_tk_mt_toei6000_1_end_main,vehicle_is_reversed){
      1: tk_mt_toei6000_1_end_mot;
      tk_mt_toei6000_1_end;
    }


    switch(FEAT_TRAINS, SELF, sw_tk_mt_toei6000_1_panto_placer_1,position_in_vehid_chain %2){
      0: tk_mt_toei6000_1_mot_rev;
      tk_mt_toei6000_1_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_mt_toei6000_1_panto_placer_1_rev,position_in_vehid_chain_from_end %2){
      1: tk_mt_toei6000_1_mot;
      tk_mt_toei6000_1_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_tk_mt_toei6000_1_panto_placer_main,vehicle_is_reversed){
      1: sw_tk_mt_toei6000_1_panto_placer_1;
      sw_tk_mt_toei6000_1_panto_placer_1_rev;
    }

    switch(FEAT_TRAINS, SELF, sw_tk_mt_toei6000_1_gfx_main,position_in_vehid_chain_from_end){
      0: sw_tk_mt_toei6000_1_end_main;
      default: sw_tk_mt_toei6000_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_mt_toei6000_livery_1,vehicle_type_id){
      tk_mt_toei6000: sw_tk_mt_toei6000_1_front_main;
      default: sw_tk_mt_toei6000_1_gfx_main;
    }


    switch(FEAT_TRAINS, PARENT, sw_tk_mt_toei6000_2_front_main,vehicle_is_reversed){
      1: tk_mt_toei6000_2_front;
      tk_mt_toei6000_2_front_mot;
    }
    switch(FEAT_TRAINS, PARENT, sw_tk_mt_toei6000_2_end_main,vehicle_is_reversed){
      1: tk_mt_toei6000_2_end_mot;
      tk_mt_toei6000_2_end;
    }


    switch(FEAT_TRAINS, SELF, sw_tk_mt_toei6000_2_panto_placer_1,position_in_vehid_chain %2){
      0: tk_mt_toei6000_2_mot_rev;
      tk_mt_toei6000_2_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_mt_toei6000_2_panto_placer_1_rev,position_in_vehid_chain_from_end %2){
      1: tk_mt_toei6000_2_mot;
      tk_mt_toei6000_2_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_tk_mt_toei6000_2_panto_placer_main,vehicle_is_reversed){
      1: sw_tk_mt_toei6000_2_panto_placer_1;
      sw_tk_mt_toei6000_2_panto_placer_1_rev;
    }

    switch(FEAT_TRAINS, SELF, sw_tk_mt_toei6000_2_gfx_main,position_in_vehid_chain_from_end){
      0: sw_tk_mt_toei6000_2_end_main;
      default: sw_tk_mt_toei6000_2_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_mt_toei6000_livery_2,vehicle_type_id){
      tk_mt_toei6000: sw_tk_mt_toei6000_2_front_main;
      default: sw_tk_mt_toei6000_2_gfx_main;
    }


    switch(FEAT_TRAINS, SELF, sw_tk_mt_toei6000_3_front_gfx,current_year > 1984){
    1: tk_mt_toei6000_4_front;
    tk_mt_toei6000_3_front;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_mt_toei6000_3_end_gfx,current_year > 1984){
    1: tk_mt_toei6000_4_end;
    tk_mt_toei6000_3_end;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_mt_toei6000_3_front_mot_gfx,current_year > 1984){
    1: tk_mt_toei6000_4_front_mot;
    tk_mt_toei6000_3_front_mot;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_mt_toei6000_3_end_mot_gfx,current_year > 1984){
    1: tk_mt_toei6000_4_end_mot;
    tk_mt_toei6000_3_end_mot;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_mt_toei6000_3_mot_gfx,current_year > 1984){
    1: tk_mt_toei6000_4_mot;
    tk_mt_toei6000_2_mot;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_mt_toei6000_3_mot_rev_gfx,current_year > 1984){
    1: tk_mt_toei6000_4_mot_rev;
    tk_mt_toei6000_2_mot_rev;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_mt_toei6000_3_wag_gfx,current_year > 1984){
    1: tk_mt_toei6000_4_wag;
    tk_mt_toei6000_2_wag;
    }

    switch(FEAT_TRAINS, PARENT, sw_tk_mt_toei6000_3_front_main,vehicle_is_reversed){
      1: sw_tk_mt_toei6000_3_front_gfx;
      sw_tk_mt_toei6000_3_front_mot_gfx;
    }
    switch(FEAT_TRAINS, PARENT, sw_tk_mt_toei6000_3_end_main,vehicle_is_reversed){
      1: sw_tk_mt_toei6000_3_end_mot_gfx;
      sw_tk_mt_toei6000_3_end_gfx;
    }


    switch(FEAT_TRAINS, SELF, sw_tk_mt_toei6000_3_panto_placer_1,position_in_vehid_chain %2){
      0: sw_tk_mt_toei6000_3_mot_rev_gfx;
      sw_tk_mt_toei6000_3_wag_gfx;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_mt_toei6000_3_panto_placer_1_rev,position_in_vehid_chain_from_end %2){
      1: sw_tk_mt_toei6000_3_mot_gfx;
      sw_tk_mt_toei6000_3_wag_gfx;
    }
    switch(FEAT_TRAINS, PARENT, sw_tk_mt_toei6000_3_panto_placer_main,vehicle_is_reversed){
      1: sw_tk_mt_toei6000_3_panto_placer_1;
      sw_tk_mt_toei6000_3_panto_placer_1_rev;
    }

    switch(FEAT_TRAINS, SELF, sw_tk_mt_toei6000_3_gfx_main,position_in_vehid_chain_from_end){
      0: sw_tk_mt_toei6000_3_end_main;
      default: sw_tk_mt_toei6000_3_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_mt_toei6000_livery_3,vehicle_type_id){
      tk_mt_toei6000: sw_tk_mt_toei6000_3_front_main;
      default: sw_tk_mt_toei6000_3_gfx_main;
    }

  switch(FEAT_TRAINS, PARENT, sw_tk_mt_toei6000_livery_0, build_year){
    0..1971: sw_tk_mt_toei6000_livery_1;
    1972..1987: sw_tk_mt_toei6000_livery_2;
    sw_tk_mt_toei6000_livery_3;
  }

  switch(FEAT_TRAINS, PARENT, sw_tk_mt_toei6000_lv, cargo_subtype){
    0: sw_tk_mt_toei6000_livery_0;
    1: sw_tk_mt_toei6000_livery_1;
    2: sw_tk_mt_toei6000_livery_2;
    3: sw_tk_mt_toei6000_livery_3;
  }
  switch(FEAT_TRAINS, SELF, sw_tk_mt_toei6000_lv_desc, cargo_subtype){
    0: string(LV_RANDOM);
    1: string(LV_tk_mt_toei6000_1);
    2: string(LV_tk_mt_toei6000_2);
    3: string(LV_tk_mt_toei6000_3);
  }


  switch(FEAT_TRAINS, SELF, sw_tk_mt_toei6000_capacity,position_in_vehid_chain_from_end){
    0: 150;
    default: 170;
  }
  switch(FEAT_TRAINS, SELF, sw_tk_mt_toei6000_capacity_1,position_in_vehid_chain){
    0: 150;
    default: sw_tk_mt_toei6000_capacity;
  }
  switch(FEAT_TRAINS, SELF, sw_tk_mt_toei6000_capacity_main,vehicle_type_id){
    mu_car_narrow: sw_tk_mt_toei6000_capacity;
    sw_tk_mt_toei6000_capacity_1;
  }

  switch(FEAT_TRAINS, SELF, sw_tk_mt_toei6000_power_main,position_in_vehid_chain_from_end%8){
    0..5:return 100;
    return 0;
  }

  switch(FEAT_TRAINS, SELF, tk_mt_toei6000_attach_vehid, vehicle_type_id) {
    mu_car: return string(STR_ATTACH_1067_ERROR);
    mu_car_metro: return string(STR_ATTACH_1067_ERROR);
    return CB_RESULT_ATTACH_ALLOW;
  }


item(FEAT_TRAINS, tk_mt_toei6000,1130) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_TOEI), "6000", string(STR_NAME_TYPE));
        introduction_date: date(1968, 1, 1);
        model_life: 30;
        vehicle_life: 30;
        reliability_decay: 10;

        cargo_capacity: 150;
        loading_speed: param_loading_4D;
        cost_factor: 19;
        running_cost_factor: 49;

        speed: 100 km/h;
        track_type: TR_1067_DC;
        power: 240 kW;
        weight: 22 ton;

        climates_available: param_disable_tokyo == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

    }
 graphics {
        power: sw_tk_mt_toei6000_power_main()*4*1342/1000;
        default: sw_tk_mt_toei6000_lv;
        purchase: tk_mt_toei6000_purchase;
        can_attach_wagon: tk_mt_toei6000_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 6)),
  string(STR_OPERATOR, string(STR_TOEI)),
  string(STR_LINES_USED, string(STR_TOKYO_MITA)));

        start_stop: sw_stop_start_3;
        cargo_subtype_text: sw_tk_mt_toei6000_lv_desc;
        cargo_capacity: sw_tk_mt_toei6000_capacity_main()*param_capacity_mod/3;
    }
    livery_override(mu_car_narrow){
        cargo_subtype_text: sw_tk_mt_toei6000_lv_desc;
        loading_speed: param_loading_4D;
        cargo_capacity: sw_tk_mt_toei6000_capacity_main()*param_capacity_mod/3;
        default: sw_tk_mt_toei6000_lv;
        power: sw_tk_mt_toei6000_power_main()*4*1342/1000;
        weight: 21;
        length: 8;
      }
}
# 61 "src/_metro.pnml" 2
# 1 "src/metro/Tokyo/mita/toei6300.pnml" 1

spriteset(tk_mt_toei6300_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/mita/toei6300/toei6300_1.png"){ tmpl_purchase_1c(0, 0) }
spriteset(tk_mt_toei6300_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/mita/toei6300/toei6300_1.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, tk_mt_toei6300_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_toei; 1: logo_line_tk_mita; 2: tk_mt_toei6300_purchase_c1; 3: tk_mt_toei6300_purchase_c2;}

spriteset(tk_mt_toei6300_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/mita/toei6300/toei6300_1.png"){ tmpl_std(0, 0) }
spriteset(tk_mt_toei6300_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/mita/toei6300/toei6300_1.png"){ tmpl_std_rev(0, 25) }
spriteset(tk_mt_toei6300_1_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/mita/toei6300/toei6300_1.png"){ tmpl_symm(0, 50) }
spriteset(tk_mt_toei6300_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/mita/toei6300/toei6300_1.png"){ tmpl_symm(0, 75) }

spriteset(tk_mt_toei6300_2_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/mita/toei6300/toei6300_2.png"){ tmpl_high_skirt(0, 0) }
spriteset(tk_mt_toei6300_2_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/mita/toei6300/toei6300_2.png"){ tmpl_high_skirt_rev(0, 25) }

spriteset(tk_mt_toei6300_3_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/mita/toei6300/toei6300_2.png"){ tmpl_high_skirt(0, 50) }
spriteset(tk_mt_toei6300_3_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/mita/toei6300/toei6300_2.png"){ tmpl_high_skirt_rev(0, 75) }




    switch(FEAT_TRAINS, SELF, sw_tk_mt_toei6300_1_panto_placer_1,position_in_vehid_chain %3){
      0: tk_mt_toei6300_1_mot;
      tk_mt_toei6300_1_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_mt_toei6300_1_panto_placer_1_rev,position_in_vehid_chain_from_end %3 -1){
      0: tk_mt_toei6300_1_mot;
      tk_mt_toei6300_1_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_tk_mt_toei6300_1_panto_placer_main_1,vehicle_is_reversed){
      1: sw_tk_mt_toei6300_1_panto_placer_1_rev;
      sw_tk_mt_toei6300_1_panto_placer_1;
    }

    switch(FEAT_TRAINS, SELF, sw_tk_mt_toei6300_1_panto_placer_2,position_in_vehid_chain %4){
      0: tk_mt_toei6300_1_mot;
      tk_mt_toei6300_1_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_mt_toei6300_1_panto_placer_2_rev,position_in_vehid_chain_from_end %4 -1){
      0: tk_mt_toei6300_1_mot;
      tk_mt_toei6300_1_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_tk_mt_toei6300_1_panto_placer_main_2,vehicle_is_reversed){
      1: sw_tk_mt_toei6300_1_panto_placer_2_rev;
      sw_tk_mt_toei6300_1_panto_placer_2;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_mt_toei6300_1_panto_placer_main,num_vehs_in_vehid_chain+1){
      5: sw_tk_mt_toei6300_1_panto_placer_main_2;
      8: sw_tk_mt_toei6300_1_panto_placer_main_2;
      sw_tk_mt_toei6300_1_panto_placer_main_1;
    }

    switch(FEAT_TRAINS, SELF, sw_tk_mt_toei6300_1_gfx_main,position_in_vehid_chain_from_end){
      0: tk_mt_toei6300_1_end;
      default: sw_tk_mt_toei6300_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_mt_toei6300_livery_1,vehicle_type_id){
      tk_mt_toei6300: tk_mt_toei6300_1_front;
      default: sw_tk_mt_toei6300_1_gfx_main;
    }


    switch(FEAT_TRAINS, SELF, sw_tk_mt_toei6300_2_gfx_main,position_in_vehid_chain_from_end){
      0: tk_mt_toei6300_2_end;
      default: sw_tk_mt_toei6300_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_mt_toei6300_livery_2,vehicle_type_id){
      tk_mt_toei6300: tk_mt_toei6300_2_front;
      default: sw_tk_mt_toei6300_2_gfx_main;
    }


    switch(FEAT_TRAINS, SELF, sw_tk_mt_toei6300_3_gfx_main,position_in_vehid_chain_from_end){
      0: tk_mt_toei6300_3_end;
      default: sw_tk_mt_toei6300_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_mt_toei6300_livery_3,vehicle_type_id){
      tk_mt_toei6300: tk_mt_toei6300_3_front;
      default: sw_tk_mt_toei6300_3_gfx_main;
    }

  switch(FEAT_TRAINS, PARENT, sw_tk_mt_toei6300_livery_0, build_year){
    0..1992: sw_tk_mt_toei6300_livery_1;
    1993..1998: sw_tk_mt_toei6300_livery_2;
    sw_tk_mt_toei6300_livery_3;
  }

  switch(FEAT_TRAINS, PARENT, sw_tk_mt_toei6300_lv, cargo_subtype){
    0: sw_tk_mt_toei6300_livery_0;
    1: sw_tk_mt_toei6300_livery_1;
    2: sw_tk_mt_toei6300_livery_2;
    3: sw_tk_mt_toei6300_livery_3;
  }
  switch(FEAT_TRAINS, SELF, sw_tk_mt_toei6300_lv_desc, cargo_subtype){
    0: string(LV_RANDOM);
    1: string(LV_tk_mt_toei6300_1);
    2: string(LV_tk_mt_toei6300_2);
    3: string(LV_tk_mt_toei6300_3);
  }


    switch(FEAT_TRAINS, SELF, sw_tk_mt_toei6300_capacity,position_in_vehid_chain_from_end){
      0: 136;
      default: 148;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_mt_toei6300_capacity_1,position_in_vehid_chain){
      0: 136;
      default: sw_tk_mt_toei6300_capacity;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_mt_toei6300_capacity_main,vehicle_type_id){
      mu_car_narrow: sw_tk_mt_toei6300_capacity;
      sw_tk_mt_toei6300_capacity_1;
    }

    switch(FEAT_TRAINS, SELF, sw_tk_mt_toei6300_power_main,position_in_vehid_chain_from_end%6){
      1:return 180;
      3..4:return 180;
      return 0;
    }

    switch(FEAT_TRAINS, SELF, tk_mt_toei6300_attach_vehid, vehicle_type_id) {
      mu_car: return string(STR_ATTACH_1067_ERROR);
      mu_car_metro: return string(STR_ATTACH_1067_ERROR);
      return CB_RESULT_ATTACH_ALLOW;
    }


item(FEAT_TRAINS, tk_mt_toei6300,1131) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_TOEI), "6300", string(STR_NAME_TYPE));
        introduction_date: date(1993, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cargo_capacity: 145;
        loading_speed: param_loading_4D;
        cost_factor: 20;
        running_cost_factor: 50;

        speed: 120 km/h;
        track_type: TR_1067_DC;
        power: 480 kW;
        weight: 31 ton;

        climates_available: param_disable_tokyo == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
        length: 8;
    }
 graphics {
        power: sw_tk_mt_toei6300_power_main()*4*1342/1000;
        default: sw_tk_mt_toei6300_lv;
        purchase: tk_mt_toei6300_purchase;
        can_attach_wagon: tk_mt_toei6300_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 6)),
  string(STR_OPERATOR, string(STR_TOEI)),
  string(STR_LINES_USED, string(STR_TOKYO_MITA)));

        start_stop: sw_stop_start_3;
        cargo_subtype_text: sw_tk_mt_toei6300_lv_desc;
        cargo_capacity: sw_tk_mt_toei6300_capacity_main()*param_capacity_mod/3;
    }
    livery_override(mu_car_narrow){
        cargo_subtype_text: sw_tk_mt_toei6300_lv_desc;
        loading_speed: param_loading_4D;
        cargo_capacity: sw_tk_mt_toei6300_capacity_main()*param_capacity_mod/3;
        default: sw_tk_mt_toei6300_lv;
        power: sw_tk_mt_toei6300_power_main()*4*1342/1000;
        weight: 30;
        length: 8;
      }
}
# 62 "src/_metro.pnml" 2
# 1 "src/metro/Tokyo/mita/toei6500.pnml" 1

spriteset(tk_mt_toei6500_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/mita/toei6500/toei6500_1.png"){ tmpl_purchase_1c(0, 0) }
spriteset(tk_mt_toei6500_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/mita/toei6500/toei6500_1.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, tk_mt_toei6500_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_toei; 1: logo_line_tk_mita; 2: tk_mt_toei6500_purchase_c1; 3: tk_mt_toei6500_purchase_c2;}

spriteset(tk_mt_toei6500_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/mita/toei6500/toei6500_1.png"){ tmpl_std_rev(0, 25) }
spriteset(tk_mt_toei6500_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/mita/toei6500/toei6500_1.png"){ tmpl_std(0, 0) }
spriteset(tk_mt_toei6500_1_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/mita/toei6500/toei6500_1.png"){ tmpl_symm(0, 50) }
spriteset(tk_mt_toei6500_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/mita/toei6500/toei6500_1.png"){ tmpl_symm(0, 75) }




    switch(FEAT_TRAINS, SELF, sw_tk_mt_toei6500_1_panto_placer_1,position_in_vehid_chain %3){
      0: tk_mt_toei6500_1_mot;
      tk_mt_toei6500_1_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_mt_toei6500_1_panto_placer_1_rev,position_in_vehid_chain_from_end %3 -1){
      0: tk_mt_toei6500_1_mot;
      tk_mt_toei6500_1_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_tk_mt_toei6500_1_panto_placer_main_1,vehicle_is_reversed){
      1: sw_tk_mt_toei6500_1_panto_placer_1_rev;
      sw_tk_mt_toei6500_1_panto_placer_1;
    }

    switch(FEAT_TRAINS, SELF, sw_tk_mt_toei6500_1_panto_placer_2,position_in_vehid_chain %4){
      0: tk_mt_toei6500_1_mot;
      tk_mt_toei6500_1_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_mt_toei6500_1_panto_placer_2_rev,position_in_vehid_chain_from_end %4 -1){
      0: tk_mt_toei6500_1_mot;
      tk_mt_toei6500_1_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_tk_mt_toei6500_1_panto_placer_main_2,vehicle_is_reversed){
      1: sw_tk_mt_toei6500_1_panto_placer_2_rev;
      sw_tk_mt_toei6500_1_panto_placer_2;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_mt_toei6500_1_panto_placer_main,num_vehs_in_vehid_chain+1){
      5: sw_tk_mt_toei6500_1_panto_placer_main_2;
      8: sw_tk_mt_toei6500_1_panto_placer_main_2;
      sw_tk_mt_toei6500_1_panto_placer_main_1;
    }

    switch(FEAT_TRAINS, SELF, sw_tk_mt_toei6500_1_gfx_main,position_in_vehid_chain_from_end){
      0: tk_mt_toei6500_1_end;
      default: sw_tk_mt_toei6500_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_mt_toei6500_lv,vehicle_type_id){
      tk_mt_toei6500: tk_mt_toei6500_1_front;
      default: sw_tk_mt_toei6500_1_gfx_main;
    }


    switch(FEAT_TRAINS, SELF, sw_tk_mt_toei6500_capacity,position_in_vehid_chain_from_end){
      0: 139;
      default: 149;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_mt_toei6500_capacity_1,position_in_vehid_chain){
      0: 139;
      default: sw_tk_mt_toei6500_capacity;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_mt_toei6500_capacity_main,vehicle_type_id){
      mu_car_narrow: sw_tk_mt_toei6500_capacity;
      sw_tk_mt_toei6500_capacity_1;
    }

    switch(FEAT_TRAINS, SELF, sw_tk_mt_toei6500_power_main,position_in_vehid_chain_from_end%8){
      1..2:return 170;
      4..5:return 170;
      return 0;
    }

    switch(FEAT_TRAINS, SELF, tk_mt_toei6500_attach_vehid, vehicle_type_id) {
      mu_car: return string(STR_ATTACH_1067_ERROR);
      mu_car_metro: return string(STR_ATTACH_1067_ERROR);
      return CB_RESULT_ATTACH_ALLOW;
    }

item(FEAT_TRAINS, tk_mt_toei6500,1132) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_TOEI), "6500", string(STR_NAME_TYPE));
        introduction_date: date(2020, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cargo_capacity: 139;
        loading_speed: param_loading_4D;
        cost_factor: 21;
        running_cost_factor: 51;

        speed: 120 km/h;
        track_type: TR_1067_DC;
        power: 680 kW;
        weight: 26 ton;

        climates_available: param_disable_tokyo == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

    }
 graphics {
        power: sw_tk_mt_toei6500_power_main()*4*1342/1000;
        default: sw_tk_mt_toei6500_lv;
        purchase: tk_mt_toei6500_purchase;
        can_attach_wagon: tk_mt_toei6500_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 8)),
  string(STR_OPERATOR, string(STR_TOEI)),
  string(STR_LINES_USED, string(STR_TOKYO_MITA)));

        start_stop: sw_stop_start_3;
        cargo_capacity: sw_tk_mt_toei6500_capacity_main()*param_capacity_mod/3;
    }
    livery_override(mu_car_narrow){
        loading_speed: param_loading_4D;
        cargo_capacity: sw_tk_mt_toei6500_capacity_main()*param_capacity_mod/3;
        default: sw_tk_mt_toei6500_lv;
        power: sw_tk_mt_toei6500_power_main()*4*1342/1000;
        weight: 25;
        length: 8;
      }
}
# 63 "src/_metro.pnml" 2


# 1 "src/metro/Tokyo/shinjuku/toei10_000.pnml" 1

spriteset(tk_sj_toei10_000_purchase_c1_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/shinjuku/toei10_000/toei10_000_1.png"){ tmpl_purchase_1c(0, 0) }
spriteset(tk_sj_toei10_000_purchase_c2_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/shinjuku/toei10_000/toei10_000_1.png"){ tmpl_purchase_2c(0, 75) }
spriteset(tk_sj_toei10_000_purchase_c1_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/shinjuku/toei10_000/toei10_000_2.png"){ tmpl_purchase_1c(0, 0) }
spriteset(tk_sj_toei10_000_purchase_c2_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/shinjuku/toei10_000/toei10_000_2.png"){ tmpl_purchase_2c(0, 75) }
spriteset(tk_sj_toei10_000_purchase_c1_3, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/shinjuku/toei10_000/toei10_000_3.png"){ tmpl_purchase_1c(0, 0) }
spriteset(tk_sj_toei10_000_purchase_c2_3, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/shinjuku/toei10_000/toei10_000_3.png"){ tmpl_purchase_2c(0, 75) }
spriteset(tk_sj_toei10_000_purchase_c1_4, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/shinjuku/toei10_000/toei10_000_4.png"){ tmpl_purchase_1c(0, 0) }
spriteset(tk_sj_toei10_000_purchase_c2_4, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/shinjuku/toei10_000/toei10_000_4.png"){ tmpl_purchase_2c(0, 75) }
spriteset(tk_sj_toei10_000_purchase_c1_5, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/shinjuku/toei10_000/toei10_000_4.png"){ tmpl_purchase_1c(0, 0) }
spriteset(tk_sj_toei10_000_purchase_c2_5, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/shinjuku/toei10_000/toei10_000_4.png"){ tmpl_purchase_2c(0, 75) }
switch(FEAT_TRAINS, SELF, tk_sj_toei10_000_purchase_c1, current_year){
    0..1985: tk_sj_toei10_000_purchase_c1_1;
    1986..1987: tk_sj_toei10_000_purchase_c1_2;
    1987..1991: tk_sj_toei10_000_purchase_c1_3;
    1992..1996: tk_sj_toei10_000_purchase_c1_4;
    tk_sj_toei10_000_purchase_c1_5;
 }
switch(FEAT_TRAINS, SELF, tk_sj_toei10_000_purchase_c2, current_year){
    0..1985: tk_sj_toei10_000_purchase_c2_1;
    1986..1987: tk_sj_toei10_000_purchase_c2_2;
    1987..1991: tk_sj_toei10_000_purchase_c2_3;
    1992..1996: tk_sj_toei10_000_purchase_c2_4;
    tk_sj_toei10_000_purchase_c2_5;
 }
switch(FEAT_TRAINS, SELF, tk_sj_toei10_000_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_toei; 1: logo_line_tk_shinjuku; 2: tk_sj_toei10_000_purchase_c1; 3: tk_sj_toei10_000_purchase_c2;}


  spriteset(tk_sj_toei10_000_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/shinjuku/toei10_000/toei10_000_1.png"){ tmpl_std(0, 0) }
  spriteset(tk_sj_toei10_000_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/shinjuku/toei10_000/toei10_000_1.png"){ tmpl_std_rev(0, 25) }
  spriteset(tk_sj_toei10_000_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/shinjuku/toei10_000/toei10_000_1.png"){ tmpl_symm(0, 50) }
  spriteset(tk_sj_toei10_000_1_mot_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/shinjuku/toei10_000/toei10_000_1.png"){ tmpl_symm(0, 75) }
  spriteset(tk_sj_toei10_000_1_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/shinjuku/toei10_000/toei10_000_1.png"){ tmpl_std_rev(0, 100) }
  spriteset(tk_sj_toei10_000_1_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/shinjuku/toei10_000/toei10_000_1.png"){ tmpl_std(0, 100) }


  spriteset(tk_sj_toei10_000_1n_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/shinjuku/toei10_000/toei10_000_1n.png"){ tmpl_std(0, 0) }
  spriteset(tk_sj_toei10_000_1n_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/shinjuku/toei10_000/toei10_000_1n.png"){ tmpl_std_rev(0, 25) }
  spriteset(tk_sj_toei10_000_1n_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/shinjuku/toei10_000/toei10_000_1n.png"){ tmpl_symm(0, 50) }
  spriteset(tk_sj_toei10_000_1n_mot_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/shinjuku/toei10_000/toei10_000_1n.png"){ tmpl_symm(0, 75) }
  spriteset(tk_sj_toei10_000_1n_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/shinjuku/toei10_000/toei10_000_1n.png"){ tmpl_std_rev(0, 100) }
  spriteset(tk_sj_toei10_000_1n_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/shinjuku/toei10_000/toei10_000_1n.png"){ tmpl_std(0, 100) }


  spriteset(tk_sj_toei10_000_2_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/shinjuku/toei10_000/toei10_000_2.png"){ tmpl_std(0, 0) }
  spriteset(tk_sj_toei10_000_2_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/shinjuku/toei10_000/toei10_000_2.png"){ tmpl_std_rev(0, 25) }
  spriteset(tk_sj_toei10_000_2_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/shinjuku/toei10_000/toei10_000_2.png"){ tmpl_symm(0, 50) }
  spriteset(tk_sj_toei10_000_2_mot_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/shinjuku/toei10_000/toei10_000_2.png"){ tmpl_symm(0, 75) }
  spriteset(tk_sj_toei10_000_2_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/shinjuku/toei10_000/toei10_000_2.png"){ tmpl_std_rev(0, 100) }
  spriteset(tk_sj_toei10_000_2_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/shinjuku/toei10_000/toei10_000_2.png"){ tmpl_std(0, 100) }


  spriteset(tk_sj_toei10_000_2n_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/shinjuku/toei10_000/toei10_000_2n.png"){ tmpl_std(0, 0) }
  spriteset(tk_sj_toei10_000_2n_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/shinjuku/toei10_000/toei10_000_2n.png"){ tmpl_std_rev(0, 25) }
  spriteset(tk_sj_toei10_000_2n_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/shinjuku/toei10_000/toei10_000_2n.png"){ tmpl_symm(0, 50) }
  spriteset(tk_sj_toei10_000_2n_mot_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/shinjuku/toei10_000/toei10_000_2n.png"){ tmpl_symm(0, 75) }
  spriteset(tk_sj_toei10_000_2n_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/shinjuku/toei10_000/toei10_000_2n.png"){ tmpl_std_rev(0, 100) }
  spriteset(tk_sj_toei10_000_2n_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/shinjuku/toei10_000/toei10_000_2n.png"){ tmpl_std(0, 100) }



  spriteset(tk_sj_toei10_000_3_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/shinjuku/toei10_000/toei10_000_3.png"){ tmpl_std(0, 0) }
  spriteset(tk_sj_toei10_000_3_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/shinjuku/toei10_000/toei10_000_3.png"){ tmpl_std_rev(0, 25) }
  spriteset(tk_sj_toei10_000_3_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/shinjuku/toei10_000/toei10_000_3.png"){ tmpl_symm(0, 50) }
  spriteset(tk_sj_toei10_000_3_mot_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/shinjuku/toei10_000/toei10_000_3.png"){ tmpl_symm(0, 75) }
  spriteset(tk_sj_toei10_000_3_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/shinjuku/toei10_000/toei10_000_3.png"){ tmpl_std_rev(0, 100) }
  spriteset(tk_sj_toei10_000_3_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/shinjuku/toei10_000/toei10_000_3.png"){ tmpl_std(0, 100) }


  spriteset(tk_sj_toei10_000_4_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/shinjuku/toei10_000/toei10_000_4.png"){ tmpl_high_skirt(0, 0) }
  spriteset(tk_sj_toei10_000_4_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/shinjuku/toei10_000/toei10_000_4.png"){ tmpl_high_skirt_rev(0, 25) }
  spriteset(tk_sj_toei10_000_4_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/shinjuku/toei10_000/toei10_000_4.png"){ tmpl_symm(0, 50) }
  spriteset(tk_sj_toei10_000_4_mot_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/shinjuku/toei10_000/toei10_000_4.png"){ tmpl_symm(0, 75) }
  spriteset(tk_sj_toei10_000_4_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/shinjuku/toei10_000/toei10_000_4.png"){ tmpl_std_rev(0, 100) }
  spriteset(tk_sj_toei10_000_4_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/shinjuku/toei10_000/toei10_000_4.png"){ tmpl_std(0, 100) }



    switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_000_1_front,current_year>1987){
      1: tk_sj_toei10_000_1n_front;
      tk_sj_toei10_000_1_front;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_000_1_end,current_year>1987){
      1: tk_sj_toei10_000_1n_end;
      tk_sj_toei10_000_1_end;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_000_1_mot_2,current_year>1987){
      1: tk_sj_toei10_000_1n_mot_2;
      tk_sj_toei10_000_1_mot_2;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_000_1_wag,current_year>1987){
      1: tk_sj_toei10_000_1n_wag;
      tk_sj_toei10_000_1_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_000_1_mot,current_year>1987){
      1: tk_sj_toei10_000_1n_mot;
      tk_sj_toei10_000_1_mot;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_000_1_mot_rev,current_year>1987){
      1: tk_sj_toei10_000_1n_mot_rev;
      tk_sj_toei10_000_1_mot_rev;
    }


      switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_000_1_panto_placer_1,position_in_vehid_chain %4){
        0: sw_tk_sj_toei10_000_1_mot_2;
        2: sw_tk_sj_toei10_000_1_mot;
        sw_tk_sj_toei10_000_1_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_000_1_panto_placer_1_rev,position_in_vehid_chain_from_end %4 -1){
        0: sw_tk_sj_toei10_000_1_mot_2;
        2: sw_tk_sj_toei10_000_1_mot_rev;
        sw_tk_sj_toei10_000_1_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_tk_sj_toei10_000_1_panto_placer_main_1,vehicle_is_reversed){
        1: sw_tk_sj_toei10_000_1_panto_placer_1_rev;
        sw_tk_sj_toei10_000_1_panto_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_000_1_panto_placer_2,position_in_vehid_chain %3){
        0: sw_tk_sj_toei10_000_1_mot_2;
        sw_tk_sj_toei10_000_1_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_000_1_panto_placer_2_rev,position_in_vehid_chain_from_end %3 -1){
        0: sw_tk_sj_toei10_000_1_mot_2;
        sw_tk_sj_toei10_000_1_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_tk_sj_toei10_000_1_panto_placer_main_2,vehicle_is_reversed){
        1: sw_tk_sj_toei10_000_1_panto_placer_2_rev;
        sw_tk_sj_toei10_000_1_panto_placer_2;
      }
    switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_000_1_panto_placer_main,num_vehs_in_vehid_chain+1){
      6: sw_tk_sj_toei10_000_1_panto_placer_main_2;
      10: sw_tk_sj_toei10_000_1_panto_placer_main_2;
      sw_tk_sj_toei10_000_1_panto_placer_main_1;
    }

    switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_000_1_gfx_main,position_in_vehid_chain_from_end){
      0: sw_tk_sj_toei10_000_1_end;
      default: sw_tk_sj_toei10_000_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_000_livery_1,vehicle_type_id){
      tk_sj_toei10_000: sw_tk_sj_toei10_000_1_front;
      default: sw_tk_sj_toei10_000_1_gfx_main;
    }


    switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_000_2_front,current_year>1987){
      1: tk_sj_toei10_000_2n_front;
      tk_sj_toei10_000_2_front;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_000_2_end,current_year>1987){
      1: tk_sj_toei10_000_2n_end;
      tk_sj_toei10_000_2_end;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_000_2_mot_2,current_year>1987){
      1: tk_sj_toei10_000_2n_mot_2;
      tk_sj_toei10_000_2_mot_2;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_000_2_wag,current_year>1987){
      1: tk_sj_toei10_000_2n_wag;
      tk_sj_toei10_000_2_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_000_2_mot,current_year>1987){
      1: tk_sj_toei10_000_2n_mot;
      tk_sj_toei10_000_2_mot;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_000_2_mot_rev,current_year>1987){
      1: tk_sj_toei10_000_2n_mot_rev;
      tk_sj_toei10_000_2_mot_rev;
    }


      switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_000_2_panto_placer_1,position_in_vehid_chain %4){
        0: sw_tk_sj_toei10_000_2_mot_2;
        2: sw_tk_sj_toei10_000_2_mot;
        sw_tk_sj_toei10_000_2_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_000_2_panto_placer_1_rev,position_in_vehid_chain_from_end %4 -1){
        0: sw_tk_sj_toei10_000_2_mot_2;
        2: sw_tk_sj_toei10_000_2_mot_rev;
        sw_tk_sj_toei10_000_2_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_tk_sj_toei10_000_2_panto_placer_main_1,vehicle_is_reversed){
        1: sw_tk_sj_toei10_000_2_panto_placer_1_rev;
        sw_tk_sj_toei10_000_2_panto_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_000_2_panto_placer_2,position_in_vehid_chain %3){
        0: sw_tk_sj_toei10_000_2_mot_2;
        sw_tk_sj_toei10_000_2_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_000_2_panto_placer_2_rev,position_in_vehid_chain_from_end %3 -1){
        0: sw_tk_sj_toei10_000_2_mot_2;
        sw_tk_sj_toei10_000_2_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_tk_sj_toei10_000_2_panto_placer_main_2,vehicle_is_reversed){
        1: sw_tk_sj_toei10_000_2_panto_placer_2_rev;
        sw_tk_sj_toei10_000_2_panto_placer_2;
      }
    switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_000_2_panto_placer_main,num_vehs_in_vehid_chain+1){
      6: sw_tk_sj_toei10_000_2_panto_placer_main_2;
      10: sw_tk_sj_toei10_000_2_panto_placer_main_2;
      sw_tk_sj_toei10_000_2_panto_placer_main_1;
    }

    switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_000_2_gfx_main,position_in_vehid_chain_from_end){
      0: sw_tk_sj_toei10_000_2_end;
      default: sw_tk_sj_toei10_000_2_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_000_livery_2,vehicle_type_id){
      tk_sj_toei10_000: sw_tk_sj_toei10_000_2_front;
      default: sw_tk_sj_toei10_000_2_gfx_main;
    }



      switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_000_3_panto_placer_1,position_in_vehid_chain %4){
        0: tk_sj_toei10_000_3_mot_2;
        2: tk_sj_toei10_000_3_mot;
        tk_sj_toei10_000_3_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_000_3_panto_placer_1_rev,position_in_vehid_chain_from_end %4 -1){
        0: tk_sj_toei10_000_3_mot_2;
        2: tk_sj_toei10_000_3_mot_rev;
        tk_sj_toei10_000_3_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_tk_sj_toei10_000_3_panto_placer_main_1,vehicle_is_reversed){
        1: sw_tk_sj_toei10_000_3_panto_placer_1_rev;
        sw_tk_sj_toei10_000_3_panto_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_000_3_panto_placer_2,position_in_vehid_chain %3){
        0: tk_sj_toei10_000_3_mot_2;
        tk_sj_toei10_000_3_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_000_3_panto_placer_2_rev,position_in_vehid_chain_from_end %3 -1){
        0: tk_sj_toei10_000_3_mot_2;
        tk_sj_toei10_000_3_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_tk_sj_toei10_000_3_panto_placer_main_2,vehicle_is_reversed){
        1: sw_tk_sj_toei10_000_3_panto_placer_2_rev;
        sw_tk_sj_toei10_000_3_panto_placer_2;
      }
    switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_000_3_panto_placer_main,num_vehs_in_vehid_chain+1){
      6: sw_tk_sj_toei10_000_3_panto_placer_main_2;
      10: sw_tk_sj_toei10_000_3_panto_placer_main_2;
      sw_tk_sj_toei10_000_3_panto_placer_main_1;
    }

    switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_000_3_gfx_main,position_in_vehid_chain_from_end){
      0: tk_sj_toei10_000_3_end;
      default: sw_tk_sj_toei10_000_3_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_000_livery_3,vehicle_type_id){
      tk_sj_toei10_000: tk_sj_toei10_000_3_front;
      default: sw_tk_sj_toei10_000_3_gfx_main;
    }



      switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_000_4_panto_placer_1,position_in_vehid_chain %4){
        0: tk_sj_toei10_000_4_mot_2;
        2: tk_sj_toei10_000_4_mot;
        tk_sj_toei10_000_4_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_000_4_panto_placer_1_rev,position_in_vehid_chain_from_end %4 -1){
        0: tk_sj_toei10_000_4_mot_2;
        2: tk_sj_toei10_000_4_mot_rev;
        tk_sj_toei10_000_4_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_tk_sj_toei10_000_4_panto_placer_main_1,vehicle_is_reversed){
        1: sw_tk_sj_toei10_000_4_panto_placer_1_rev;
        sw_tk_sj_toei10_000_4_panto_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_000_4_panto_placer_2,position_in_vehid_chain %3){
        0: tk_sj_toei10_000_4_mot_2;
        tk_sj_toei10_000_4_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_000_4_panto_placer_2_rev,position_in_vehid_chain_from_end %3 -1){
        0: tk_sj_toei10_000_4_mot_2;
        tk_sj_toei10_000_4_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_tk_sj_toei10_000_4_panto_placer_main_2,vehicle_is_reversed){
        1: sw_tk_sj_toei10_000_4_panto_placer_2_rev;
        sw_tk_sj_toei10_000_4_panto_placer_2;
      }
    switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_000_4_panto_placer_main,num_vehs_in_vehid_chain+1){
      6: sw_tk_sj_toei10_000_4_panto_placer_main_2;
      10: sw_tk_sj_toei10_000_4_panto_placer_main_2;
      sw_tk_sj_toei10_000_4_panto_placer_main_1;
    }

    switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_000_4_gfx_main,position_in_vehid_chain_from_end){
      0: tk_sj_toei10_000_4_end;
      default: sw_tk_sj_toei10_000_4_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_000_livery_4,vehicle_type_id){
      tk_sj_toei10_000: tk_sj_toei10_000_4_front;
      default: sw_tk_sj_toei10_000_4_gfx_main;
    }


switch(FEAT_TRAINS, PARENT, sw_tk_sj_toei10_000_livery_0, build_year){
  0..1985: sw_tk_sj_toei10_000_livery_1;
  1986..1991: sw_tk_sj_toei10_000_livery_2;
  1992..1996: sw_tk_sj_toei10_000_livery_3;
  sw_tk_sj_toei10_000_livery_4;
}


switch(FEAT_TRAINS, PARENT, sw_tk_sj_toei10_000_lv, cargo_subtype){
    0: sw_tk_sj_toei10_000_livery_0;
    1: sw_tk_sj_toei10_000_livery_1;
    2: sw_tk_sj_toei10_000_livery_2;
    3: sw_tk_sj_toei10_000_livery_3;
    4: sw_tk_sj_toei10_000_livery_4;
}
switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_000_lv_desc, cargo_subtype){
    0: string(LV_RANDOM);
    1: string(LV_tk_sj_toei10_000_1);
    2: string(LV_tk_sj_toei10_000_2);
    3: string(LV_tk_sj_toei10_000_3);
    4: string(LV_tk_sj_toei10_000_4);
}


  switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_000_capacity,position_in_vehid_chain_from_end){
    0: 138;
    149;
  }
  switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_000_capacity_1,position_in_vehid_chain){
    0: 138;
    sw_tk_sj_toei10_000_capacity;
  }
  switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_000_capacity_main,vehicle_type_id){
    mu_car: sw_tk_sj_toei10_000_capacity;
    sw_tk_sj_toei10_000_capacity_1;
  }

  switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_000_power_main,position_in_vehid_chain_from_end%9){
    1..6:return 165;
    return 0;
  }

  switch(FEAT_TRAINS, SELF, tk_sj_toei10_000_attach_vehid, vehicle_type_id) {
    mu_car_narrow: return string(STR_ATTACH_1372_ERROR);
    mu_car_metro: return string(STR_ATTACH_1372_ERROR);
    return CB_RESULT_ATTACH_ALLOW;
  }

item(FEAT_TRAINS, tk_sj_toei10_000,1140) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_TOEI), "10-000", string(STR_NAME_TYPE));
        introduction_date: date(1971, 1, 1);
        cargo_capacity: 138;
        speed: 120 km/h;
        power:495 kW;
        weight: 25 ton;

        loading_speed: param_loading_4D;
        track_type: TR_1372;

        model_life: 47;
        vehicle_life: 30;
        reliability_decay: 10;

        cost_factor: 20;
        running_cost_factor: 50;

        climates_available: param_disable_tokyo == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

    }
 graphics {
        power: sw_tk_sj_toei10_000_power_main()*4*1342/1000;
        default: sw_tk_sj_toei10_000_lv;
        purchase: tk_sj_toei10_000_purchase;
        can_attach_wagon: tk_sj_toei10_000_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_SCOTCHGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 8)),
  string(STR_OPERATOR, string(STR_TOEI)),
  string(STR_LINES_USED, string(STR_TOKYO_SHINJUKU)));

        cargo_subtype_text: sw_tk_sj_toei10_000_lv_desc;
        start_stop: sw_stop_start_3;
        cargo_capacity: sw_tk_sj_toei10_000_capacity_main()*param_capacity_mod/3;
    }
      livery_override(mu_car){
        cargo_subtype_text: sw_tk_sj_toei10_000_lv_desc;
        loading_speed: param_loading_4D;
        cargo_capacity: sw_tk_sj_toei10_000_capacity_main()*param_capacity_mod/3;
        default: sw_tk_sj_toei10_000_lv;
        power: sw_tk_sj_toei10_000_power_main()*4*1342/1000;
        weight: 24;
        length: 8;
      }
}
# 66 "src/_metro.pnml" 2
# 1 "src/metro/Tokyo/shinjuku/toei10_300.pnml" 1

spriteset(tk_sj_toei10_300_purchase_c1_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/shinjuku/toei10_300/toei10_300_1.png"){ tmpl_purchase_1c(0, 0) }
spriteset(tk_sj_toei10_300_purchase_c2_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/shinjuku/toei10_300/toei10_300_1.png"){ tmpl_purchase_2c(0, 75) }
spriteset(tk_sj_toei10_300_purchase_c1_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/shinjuku/toei10_300/toei10_300_2.png"){ tmpl_purchase_1c(0, 0) }
spriteset(tk_sj_toei10_300_purchase_c2_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/shinjuku/toei10_300/toei10_300_2.png"){ tmpl_purchase_2c(0, 75) }
switch(FEAT_TRAINS, SELF, tk_sj_toei10_300_purchase_c1, current_year){
    0..2009: tk_sj_toei10_300_purchase_c1_1;
    tk_sj_toei10_300_purchase_c1_2;
 }
switch(FEAT_TRAINS, SELF, tk_sj_toei10_300_purchase_c2, current_year){
    0..2009: tk_sj_toei10_300_purchase_c2_1;
    tk_sj_toei10_300_purchase_c2_2;
 }
switch(FEAT_TRAINS, SELF, tk_sj_toei10_300_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_toei; 1: logo_line_tk_shinjuku; 2: tk_sj_toei10_300_purchase_c1; 3: tk_sj_toei10_300_purchase_c2;}



spriteset(tk_sj_toei10_300R_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/shinjuku/toei10_300/toei10_300R.png"){ tmpl_std(0, 0) }
spriteset(tk_sj_toei10_300R_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/shinjuku/toei10_300/toei10_300R.png"){ tmpl_std_rev(0, 25) }
spriteset(tk_sj_toei10_300R_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/shinjuku/toei10_300/toei10_300R.png"){ tmpl_symm(0, 50) }
spriteset(tk_sj_toei10_300R_mot_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/shinjuku/toei10_300/toei10_300R.png"){ tmpl_symm(0, 75) }
spriteset(tk_sj_toei10_300R_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/shinjuku/toei10_300/toei10_300R.png"){ tmpl_std(0, 100) }
spriteset(tk_sj_toei10_300R_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/shinjuku/toei10_300/toei10_300R.png"){ tmpl_std_rev(0, 100) }


spriteset(tk_sj_toei10_300_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/shinjuku/toei10_300/toei10_300_1.png"){ tmpl_std(0, 0) }
spriteset(tk_sj_toei10_300_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/shinjuku/toei10_300/toei10_300_1.png"){ tmpl_std_rev(0, 25) }
spriteset(tk_sj_toei10_300_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/shinjuku/toei10_300/toei10_300_1.png"){ tmpl_symm(0, 50) }
spriteset(tk_sj_toei10_300_1_mot_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/shinjuku/toei10_300/toei10_300_1.png"){ tmpl_symm(0, 75) }
spriteset(tk_sj_toei10_300_1_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/shinjuku/toei10_300/toei10_300_1.png"){ tmpl_std(0, 100) }
spriteset(tk_sj_toei10_300_1_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/shinjuku/toei10_300/toei10_300_1.png"){ tmpl_std_rev(0, 100) }


spriteset(tk_sj_toei10_300_2_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/shinjuku/toei10_300/toei10_300_2.png"){ tmpl_std(0, 0) }
spriteset(tk_sj_toei10_300_2_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/shinjuku/toei10_300/toei10_300_2.png"){ tmpl_std_rev(0, 25) }
spriteset(tk_sj_toei10_300_2_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/shinjuku/toei10_300/toei10_300_2.png"){ tmpl_std_rev(0, 50) }
spriteset(tk_sj_toei10_300_2_wag_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/shinjuku/toei10_300/toei10_300_2.png"){ tmpl_std(0, 50) }
spriteset(tk_sj_toei10_300_2_mot_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/shinjuku/toei10_300/toei10_300_2.png"){ tmpl_std(0, 75) }
spriteset(tk_sj_toei10_300_2_mot_2_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/shinjuku/toei10_300/toei10_300_2.png"){ tmpl_std_rev(0, 75) }
spriteset(tk_sj_toei10_300_2_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/shinjuku/toei10_300/toei10_300_2.png"){ tmpl_std(0, 100) }
spriteset(tk_sj_toei10_300_2_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/shinjuku/toei10_300/toei10_300_2.png"){ tmpl_std_rev(0, 100) }





      switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_300R_panto_placer_1,position_in_vehid_chain %4){
        0: tk_sj_toei10_300R_mot_2;
        2: tk_sj_toei10_300R_mot;
        tk_sj_toei10_300R_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_300R_panto_placer_1_rev,position_in_vehid_chain_from_end %4 -1){
        0: tk_sj_toei10_300R_mot_2;
        2: tk_sj_toei10_300R_mot_rev;
        tk_sj_toei10_300R_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_tk_sj_toei10_300R_panto_placer_main_1,vehicle_is_reversed){
        1: sw_tk_sj_toei10_300R_panto_placer_1_rev;
        sw_tk_sj_toei10_300R_panto_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_300R_panto_placer_2,position_in_vehid_chain %6){
        0: tk_sj_toei10_300R_mot_2;
        2: tk_sj_toei10_300R_mot_2;
        tk_sj_toei10_300R_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_300R_panto_placer_2_rev,position_in_vehid_chain_from_end %6 -1){
        0: tk_sj_toei10_300R_mot_2;
        2: tk_sj_toei10_300R_mot_2;
        tk_sj_toei10_300R_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_tk_sj_toei10_300R_panto_placer_main_2,vehicle_is_reversed){
        1: sw_tk_sj_toei10_300R_panto_placer_2_rev;
        sw_tk_sj_toei10_300R_panto_placer_2;
      }
    switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_300R_panto_placer_main,num_vehs_in_vehid_chain+1){
      6: sw_tk_sj_toei10_300R_panto_placer_main_2;
      9..10: sw_tk_sj_toei10_300R_panto_placer_main_2;
      sw_tk_sj_toei10_300R_panto_placer_main_1;
    }

    switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_300R_gfx_main,position_in_vehid_chain_from_end){
      0: tk_sj_toei10_300R_end;
      default: sw_tk_sj_toei10_300R_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_300_livery_1,vehicle_type_id){
      tk_sj_toei10_300: tk_sj_toei10_300R_front;
      default: sw_tk_sj_toei10_300R_gfx_main;
    }



      switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_300_1_panto_placer_1,position_in_vehid_chain %4){
        0: tk_sj_toei10_300_1_mot_2;
        2: tk_sj_toei10_300_1_mot;
        tk_sj_toei10_300_1_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_300_1_panto_placer_1_rev,position_in_vehid_chain_from_end %4 -1){
        0: tk_sj_toei10_300_1_mot_2;
        2: tk_sj_toei10_300_1_mot_rev;
        tk_sj_toei10_300_1_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_tk_sj_toei10_300_1_panto_placer_main_1,vehicle_is_reversed){
        1: sw_tk_sj_toei10_300_1_panto_placer_1_rev;
        sw_tk_sj_toei10_300_1_panto_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_300_1_panto_placer_2,position_in_vehid_chain %6){
        0: tk_sj_toei10_300_1_mot_2;
        2: tk_sj_toei10_300_1_mot_2;
        tk_sj_toei10_300_1_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_300_1_panto_placer_2_rev,position_in_vehid_chain_from_end %6 -1){
        0: tk_sj_toei10_300_1_mot_2;
        2: tk_sj_toei10_300_1_mot_2;
        tk_sj_toei10_300_1_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_tk_sj_toei10_300_1_panto_placer_main_2,vehicle_is_reversed){
        1: sw_tk_sj_toei10_300_1_panto_placer_2_rev;
        sw_tk_sj_toei10_300_1_panto_placer_2;
      }
    switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_300_1_panto_placer_main,num_vehs_in_vehid_chain+1){
      6: sw_tk_sj_toei10_300_1_panto_placer_main_2;
      9..10: sw_tk_sj_toei10_300_1_panto_placer_main_2;
      sw_tk_sj_toei10_300_1_panto_placer_main_1;
    }

    switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_300_1_gfx_main,position_in_vehid_chain_from_end){
      0: tk_sj_toei10_300_1_end;
      default: sw_tk_sj_toei10_300_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_300_livery_2,vehicle_type_id){
      tk_sj_toei10_300: tk_sj_toei10_300_1_front;
      default: sw_tk_sj_toei10_300_1_gfx_main;
    }


    switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_300_2_wag_gfx_1, position_in_vehid_chain<num_vehs_in_vehid_chain/2){
      1:tk_sj_toei10_300_2_wag_rev;
      tk_sj_toei10_300_2_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_300_2_wag_gfx_2, position_in_vehid_chain_from_end<num_vehs_in_vehid_chain/2+1){
        1:tk_sj_toei10_300_2_wag;
        tk_sj_toei10_300_2_wag_rev;
    }
    switch(FEAT_TRAINS, PARENT, sw_tk_sj_toei10_300_2_wag,vehicle_is_reversed){
      1: sw_tk_sj_toei10_300_2_wag_gfx_2;
      sw_tk_sj_toei10_300_2_wag_gfx_1;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_300_2_mot_2_gfx_1, position_in_vehid_chain<num_vehs_in_vehid_chain/2){
      1:tk_sj_toei10_300_2_mot_2_rev;
      tk_sj_toei10_300_2_mot_2;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_300_2_mot_2_gfx_2, position_in_vehid_chain_from_end<num_vehs_in_vehid_chain/2+1){
        1:tk_sj_toei10_300_2_mot_2;
        tk_sj_toei10_300_2_mot_2_rev;
    }
    switch(FEAT_TRAINS, PARENT, sw_tk_sj_toei10_300_2_mot_2,vehicle_is_reversed){
      1: sw_tk_sj_toei10_300_2_mot_2_gfx_2;
      sw_tk_sj_toei10_300_2_mot_2_gfx_1;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_300_2_mot_gfx_1, position_in_vehid_chain<num_vehs_in_vehid_chain/2){
      1:tk_sj_toei10_300_2_mot;
      tk_sj_toei10_300_2_mot_rev;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_300_2_mot_gfx_2, position_in_vehid_chain_from_end<num_vehs_in_vehid_chain/2+1){
        1:tk_sj_toei10_300_2_mot_rev;
        tk_sj_toei10_300_2_mot;
    }
    switch(FEAT_TRAINS, PARENT, sw_tk_sj_toei10_300_2_mot,vehicle_is_reversed){
      1: sw_tk_sj_toei10_300_2_mot_gfx_2;
      sw_tk_sj_toei10_300_2_mot_gfx_1;
    }


      switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_300_2_panto_placer_1,position_in_vehid_chain %4){
        0: sw_tk_sj_toei10_300_2_mot_2;
        2: sw_tk_sj_toei10_300_2_mot;
        sw_tk_sj_toei10_300_2_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_300_2_panto_placer_1_rev,position_in_vehid_chain_from_end %4 -1){
        0: sw_tk_sj_toei10_300_2_mot_2;
        2: sw_tk_sj_toei10_300_2_mot;
        sw_tk_sj_toei10_300_2_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_tk_sj_toei10_300_2_panto_placer_main_1,vehicle_is_reversed){
        1: sw_tk_sj_toei10_300_2_panto_placer_1_rev;
        sw_tk_sj_toei10_300_2_panto_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_300_2_panto_placer_2,position_in_vehid_chain %6){
        0: sw_tk_sj_toei10_300_2_mot_2;
        2: sw_tk_sj_toei10_300_2_mot_2;
        sw_tk_sj_toei10_300_2_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_300_2_panto_placer_2_rev,position_in_vehid_chain_from_end %6 -1){
        0: sw_tk_sj_toei10_300_2_mot_2;
        2: sw_tk_sj_toei10_300_2_mot_2;
        sw_tk_sj_toei10_300_2_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_tk_sj_toei10_300_2_panto_placer_main_2,vehicle_is_reversed){
        1: sw_tk_sj_toei10_300_2_panto_placer_2_rev;
        sw_tk_sj_toei10_300_2_panto_placer_2;
      }
    switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_300_2_panto_placer_main,num_vehs_in_vehid_chain+1){
      6: sw_tk_sj_toei10_300_2_panto_placer_main_2;
      9..10: sw_tk_sj_toei10_300_2_panto_placer_main_2;
      sw_tk_sj_toei10_300_2_panto_placer_main_1;
    }

    switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_300_2_gfx_main,position_in_vehid_chain_from_end){
      0: tk_sj_toei10_300_2_end;
      default: sw_tk_sj_toei10_300_2_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_300_livery_3,vehicle_type_id){
      tk_sj_toei10_300: tk_sj_toei10_300_2_front;
      default: sw_tk_sj_toei10_300_2_gfx_main;
    }


switch(FEAT_TRAINS, PARENT, sw_tk_sj_toei10_300_livery_0, build_year){
  0..2009: sw_tk_sj_toei10_300_livery_2;
  sw_tk_sj_toei10_300_livery_3;
}

switch(FEAT_TRAINS, PARENT, sw_tk_sj_toei10_300_lv, cargo_subtype){
    0: sw_tk_sj_toei10_300_livery_0;
    1: sw_tk_sj_toei10_300_livery_1;
    2: sw_tk_sj_toei10_300_livery_2;
    3: sw_tk_sj_toei10_300_livery_3;
}
switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_300_lv_desc, cargo_subtype){
    0: string(LV_RANDOM);
    1: string(LV_tk_sj_toei10_300_r);
    2: string(LV_tk_sj_toei10_300_1);
    3: string(LV_tk_sj_toei10_300_2);
}



      switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_300R_capacity,position_in_vehid_chain_from_end){
        0: 136;
        140;
      }
      switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_300R_capacity_1,position_in_vehid_chain){
        0: 136;
        sw_tk_sj_toei10_300R_capacity;
      }
      switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_300R_capacity_main,vehicle_type_id){
        mu_car: sw_tk_sj_toei10_300R_capacity;
        sw_tk_sj_toei10_300R_capacity_1;
      }

      switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_300_1_capacity,position_in_vehid_chain_from_end){
        0: 136;
        148;
      }
      switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_300_1_capacity_1,position_in_vehid_chain){
        0: 136;
        sw_tk_sj_toei10_300_1_capacity;
      }
      switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_300_1_capacity_main,vehicle_type_id){
        mu_car: sw_tk_sj_toei10_300_1_capacity;
        sw_tk_sj_toei10_300_1_capacity_1;
      }

      switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_300_2_capacity,position_in_vehid_chain_from_end){
        0: 133;
        144;
      }
      switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_300_2_capacity_1,position_in_vehid_chain){
        0: 133;
        sw_tk_sj_toei10_300_2_capacity;
      }
      switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_300_2_capacity_main,vehicle_type_id){
        mu_car: sw_tk_sj_toei10_300_2_capacity;
        sw_tk_sj_toei10_300_2_capacity_1;
      }

    switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_300_capacity_main_0,build_year){
      0..2009: sw_tk_sj_toei10_300_1_capacity_main;
      sw_tk_sj_toei10_300_2_capacity_main;
    }

  switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_300_capacity_main,cargo_subtype){
      0: sw_tk_sj_toei10_300_capacity_main_0;
      1: sw_tk_sj_toei10_300R_capacity_main;
      2: sw_tk_sj_toei10_300_1_capacity_main;
      3: sw_tk_sj_toei10_300_2_capacity_main;
    }


    switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_300R_power_main,position_in_vehid_chain_from_end%9){
      1..6:return 165;
      return 0;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_300_power_main_0,position_in_vehid_chain_from_end%9){
      1..3:return 95;
      5..6:return 95;
      8:return 95;

      return 0;
    }
    switch(FEAT_TRAINS, SELF, sw_tk_sj_toei10_300_power_main,cargo_subtype){
      0: sw_tk_sj_toei10_300_power_main_0;
      1: sw_tk_sj_toei10_300R_power_main;
      sw_tk_sj_toei10_300_power_main_0;
    }


    switch(FEAT_TRAINS, SELF, tk_sj_toei10_300_attach_vehid, vehicle_type_id) {
    mu_car_narrow: return string(STR_ATTACH_1372_ERROR);
    mu_car_metro: return string(STR_ATTACH_1372_ERROR);
    return CB_RESULT_ATTACH_ALLOW;
    }


item(FEAT_TRAINS, tk_sj_toei10_300,1141) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_TOEI), "10-300", string(STR_NAME_TYPE));
        introduction_date: date(2004, 1, 1);
        cargo_capacity: 138;
        speed: 120 km/h;
        power: 380 kW;
        weight: 23 ton;

        loading_speed: param_loading_4D;
        track_type: TR_1372;

        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cost_factor: 21;
        running_cost_factor: 51;

        climates_available: param_disable_tokyo == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

    }
    graphics {
        power: sw_tk_sj_toei10_300_power_main()*4*1342/1000;
        default: sw_tk_sj_toei10_300_lv;
        purchase: tk_sj_toei10_300_purchase;
        can_attach_wagon: tk_sj_toei10_300_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_SCOTCHGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_2, 8,10)),
  string(STR_OPERATOR, string(STR_TOEI)),
  string(STR_LINES_USED, string(STR_TOKYO_SHINJUKU)));

        cargo_subtype_text: sw_tk_sj_toei10_300_lv_desc;
        start_stop: sw_stop_start_3;
        cargo_capacity: sw_tk_sj_toei10_300_capacity_main()*param_capacity_mod/3;
    }
      livery_override(mu_car){
        cargo_subtype_text: sw_tk_sj_toei10_300_lv_desc;
        loading_speed: param_loading_4D;
        cargo_capacity: sw_tk_sj_toei10_300_capacity_main()*param_capacity_mod/3;
        default: sw_tk_sj_toei10_300_lv;
        power: sw_tk_sj_toei10_300_power_main()*4*1342/1000;
        weight: 22;
        length: 8;
      }
}
# 67 "src/_metro.pnml" 2


# 1 "src/metro/Tokyo/oedo/toei12_000.pnml" 1

spriteset(tk_od_toei12_000_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/oedo/toei12_000/toei12_000_1.png"){ tmpl_purchase_1c(0, 0) }
spriteset(tk_od_toei12_000_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/oedo/toei12_000/toei12_000_1.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, tk_od_toei12_000_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_toei; 1: logo_line_tk_oedo; 2: tk_od_toei12_000_purchase_c1; 3: tk_od_toei12_000_purchase_c2;}





spriteset(tk_od_toei12_000_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/oedo/toei12_000/toei12_000_1.png"){ tmpl_std(0, 0) }
spriteset(tk_od_toei12_000_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/oedo/toei12_000/toei12_000_1.png"){ tmpl_std_rev(0, 25) }
spriteset(tk_od_toei12_000_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/oedo/toei12_000/toei12_000_1.png"){ tmpl_std(0, 75) }
spriteset(tk_od_toei12_000_1_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/oedo/toei12_000/toei12_000_1.png"){ tmpl_std(0, 50) }


spriteset(tk_od_toei12_000_2_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/oedo/toei12_000/toei12_000_2.png"){ tmpl_std(0, 0) }
spriteset(tk_od_toei12_000_2_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/oedo/toei12_000/toei12_000_2.png"){ tmpl_std_rev(0, 25) }
spriteset(tk_od_toei12_000_2_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/oedo/toei12_000/toei12_000_2.png"){ tmpl_std(0, 75) }
spriteset(tk_od_toei12_000_2_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/oedo/toei12_000/toei12_000_2.png"){ tmpl_std(0, 50) }




spriteset(tk_od_toei12_600_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/oedo/toei12_000/toei12_600_1.png"){ tmpl_std(0, 0) }
spriteset(tk_od_toei12_600_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/oedo/toei12_000/toei12_600_1.png"){ tmpl_std_rev(0, 25) }
spriteset(tk_od_toei12_600_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/oedo/toei12_000/toei12_600_1.png"){ tmpl_std(0, 75) }
spriteset(tk_od_toei12_600_1_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/oedo/toei12_000/toei12_600_1.png"){ tmpl_std(0, 50) }
spriteset(tk_od_toei12_600_1_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/oedo/toei12_000/toei12_600_1.png"){ tmpl_std_rev(0, 50) }


spriteset(tk_od_toei12_600_2_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/oedo/toei12_000/toei12_600_2.png"){ tmpl_std(0, 0) }
spriteset(tk_od_toei12_600_2_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/oedo/toei12_000/toei12_600_2.png"){ tmpl_std_rev(0, 25) }
spriteset(tk_od_toei12_600_2_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/oedo/toei12_000/toei12_600_2.png"){ tmpl_std(0, 75) }
spriteset(tk_od_toei12_600_2_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/oedo/toei12_000/toei12_600_2.png"){ tmpl_std(0, 50) }
spriteset(tk_od_toei12_600_2_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/oedo/toei12_000/toei12_600_2.png"){ tmpl_std_rev(0, 50) }


spriteset(tk_od_toei12_600_3_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/oedo/toei12_000/toei12_600_3.png"){ tmpl_std(0, 0) }
spriteset(tk_od_toei12_600_3_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/oedo/toei12_000/toei12_600_3.png"){ tmpl_std_rev(0, 25) }
spriteset(tk_od_toei12_600_3_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/oedo/toei12_000/toei12_600_3.png"){ tmpl_std(0, 75) }
spriteset(tk_od_toei12_600_3_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/oedo/toei12_000/toei12_600_3.png"){ tmpl_std(0, 50) }
spriteset(tk_od_toei12_600_3_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/oedo/toei12_000/toei12_600_3.png"){ tmpl_std_rev(0, 50) }


spriteset(tk_od_toei12_600_4_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/oedo/toei12_000/toei12_600_4.png"){ tmpl_std(0, 0) }
spriteset(tk_od_toei12_600_4_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/oedo/toei12_000/toei12_600_4.png"){ tmpl_std_rev(0, 25) }
spriteset(tk_od_toei12_600_4_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/oedo/toei12_000/toei12_600_4.png"){ tmpl_std(0, 75) }
spriteset(tk_od_toei12_600_4_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/oedo/toei12_000/toei12_600_4.png"){ tmpl_std(0, 50) }
spriteset(tk_od_toei12_600_4_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Tokyo/oedo/toei12_000/toei12_600_4.png"){ tmpl_std_rev(0, 50) }

switch(FEAT_TRAINS, SELF, sw_tk_od_toei12_000_mot_f_1,position_in_consist %8){
    1: tk_od_toei12_000_1_mot;
    3: tk_od_toei12_000_1_mot;
    4: tk_od_toei12_000_1_mot;
    6: tk_od_toei12_000_1_mot;
    default: tk_od_toei12_000_1_wag;
}
switch(FEAT_TRAINS, SELF, sw_tk_od_toei12_000_mot_rev_1,position_in_consist_from_end %8){
    1: tk_od_toei12_000_1_mot;
    3: tk_od_toei12_000_1_mot;
    4: tk_od_toei12_000_1_mot;
    6: tk_od_toei12_000_1_mot;
    default: tk_od_toei12_000_1_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tk_od_toei12_000_mot_1,vehicle_is_reversed){
    1: sw_tk_od_toei12_000_mot_rev_1;
    sw_tk_od_toei12_000_mot_f_1;
}

switch(FEAT_TRAINS, SELF, sw_tk_od_toei12_000_1_end_gfx,position_in_consist_from_end){
    0: tk_od_toei12_000_1_end;
    default: sw_tk_od_toei12_000_mot_1;
}
switch(FEAT_TRAINS, SELF, sw_tk_od_toei12_000_livery_1,position_in_consist){
    0: tk_od_toei12_000_1_front;
    default: sw_tk_od_toei12_000_1_end_gfx;
}

switch(FEAT_TRAINS, SELF, sw_tk_od_toei12_000_mot_f_2,position_in_consist %8){
    1: tk_od_toei12_000_2_mot;
    3: tk_od_toei12_000_2_mot;
    4: tk_od_toei12_000_2_mot;
    6: tk_od_toei12_000_2_mot;
    default: tk_od_toei12_000_2_wag;
}
switch(FEAT_TRAINS, SELF, sw_tk_od_toei12_000_mot_rev_2,position_in_consist_from_end %8){
    1: tk_od_toei12_000_2_mot;
    3: tk_od_toei12_000_2_mot;
    4: tk_od_toei12_000_2_mot;
    6: tk_od_toei12_000_2_mot;
    default: tk_od_toei12_000_2_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tk_od_toei12_000_mot_2,vehicle_is_reversed){
    1: sw_tk_od_toei12_000_mot_rev_2;
    sw_tk_od_toei12_000_mot_f_2;
}

switch(FEAT_TRAINS, SELF, sw_tk_od_toei12_000_2_end_gfx,position_in_consist_from_end){
    0: tk_od_toei12_000_2_end;
    default: sw_tk_od_toei12_000_mot_2;
}
switch(FEAT_TRAINS, SELF, sw_tk_od_toei12_000_livery_2,position_in_consist){
    0: tk_od_toei12_000_2_front;
    default: sw_tk_od_toei12_000_2_end_gfx;
}


switch(FEAT_TRAINS, SELF, sw_tk_od_toei12_600_mot_f_1,position_in_consist %8){
    1: tk_od_toei12_600_1_mot_rev;
    3: tk_od_toei12_600_1_mot_rev;
    4: tk_od_toei12_600_1_mot;
    6: tk_od_toei12_600_1_mot;
    default: tk_od_toei12_600_1_wag;
}
switch(FEAT_TRAINS, SELF, sw_tk_od_toei12_600_mot_rev_1,position_in_consist_from_end %8){
    1: tk_od_toei12_600_1_mot;
    3: tk_od_toei12_600_1_mot;
    4: tk_od_toei12_600_1_mot_rev;
    6: tk_od_toei12_600_1_mot_rev;
    default: tk_od_toei12_600_1_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tk_od_toei12_600_mot_1,vehicle_is_reversed){
    1: sw_tk_od_toei12_600_mot_rev_1;
    sw_tk_od_toei12_600_mot_f_1;
}

switch(FEAT_TRAINS, SELF, sw_tk_od_toei12_600_1_end_gfx,position_in_consist_from_end){
    0: tk_od_toei12_600_1_end;
    default: sw_tk_od_toei12_600_mot_1;
}
switch(FEAT_TRAINS, SELF, sw_tk_od_toei12_600_livery_1,position_in_consist){
    0: tk_od_toei12_600_1_front;
    default: sw_tk_od_toei12_600_1_end_gfx;
}

switch(FEAT_TRAINS, SELF, sw_tk_od_toei12_600_mot_f_2,position_in_consist %8){
    1: tk_od_toei12_600_2_mot_rev;
    3: tk_od_toei12_600_2_mot_rev;
    4: tk_od_toei12_600_2_mot;
    6: tk_od_toei12_600_2_mot;
    default: tk_od_toei12_600_2_wag;
}
switch(FEAT_TRAINS, SELF, sw_tk_od_toei12_600_mot_rev_2,position_in_consist_from_end %8){
    1: tk_od_toei12_600_2_mot;
    3: tk_od_toei12_600_2_mot;
    4: tk_od_toei12_600_2_mot_rev;
    6: tk_od_toei12_600_2_mot_rev;
    default: tk_od_toei12_600_2_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tk_od_toei12_600_mot_2,vehicle_is_reversed){
    1: sw_tk_od_toei12_600_mot_rev_2;
    sw_tk_od_toei12_600_mot_f_2;
}

switch(FEAT_TRAINS, SELF, sw_tk_od_toei12_600_2_end_gfx,position_in_consist_from_end){
    0: tk_od_toei12_600_2_end;
    default: sw_tk_od_toei12_600_mot_2;
}
switch(FEAT_TRAINS, SELF, sw_tk_od_toei12_600_livery_2,position_in_consist){
    0: tk_od_toei12_600_2_front;
    default: sw_tk_od_toei12_600_2_end_gfx;
}
switch(FEAT_TRAINS, SELF, sw_tk_od_toei12_600_mot_f_3,position_in_consist %8){
    1: tk_od_toei12_600_3_mot_rev;
    3: tk_od_toei12_600_3_mot_rev;
    4: tk_od_toei12_600_3_mot;
    6: tk_od_toei12_600_3_mot;
    default: tk_od_toei12_600_3_wag;
}
switch(FEAT_TRAINS, SELF, sw_tk_od_toei12_600_mot_rev_3,position_in_consist_from_end %8){
    1: tk_od_toei12_600_3_mot;
    3: tk_od_toei12_600_3_mot;
    4: tk_od_toei12_600_3_mot_rev;
    6: tk_od_toei12_600_3_mot_rev;
    default: tk_od_toei12_600_3_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tk_od_toei12_600_mot_3,vehicle_is_reversed){
    1: sw_tk_od_toei12_600_mot_rev_3;
    sw_tk_od_toei12_600_mot_f_3;
}

switch(FEAT_TRAINS, SELF, sw_tk_od_toei12_600_3_end_gfx,position_in_consist_from_end){
    0: tk_od_toei12_600_3_end;
    default: sw_tk_od_toei12_600_mot_3;
}
switch(FEAT_TRAINS, SELF, sw_tk_od_toei12_600_livery_3,position_in_consist){
    0: tk_od_toei12_600_3_front;
    default: sw_tk_od_toei12_600_3_end_gfx;
}

switch(FEAT_TRAINS, SELF, sw_tk_od_toei12_600_mot_f_4,position_in_consist %8){
    1: tk_od_toei12_600_4_mot_rev;
    3: tk_od_toei12_600_4_mot_rev;
    4: tk_od_toei12_600_4_mot;
    6: tk_od_toei12_600_4_mot;
    default: tk_od_toei12_600_4_wag;
}
switch(FEAT_TRAINS, SELF, sw_tk_od_toei12_600_mot_rev_4,position_in_consist_from_end %8){
    1: tk_od_toei12_600_4_mot;
    3: tk_od_toei12_600_4_mot;
    4: tk_od_toei12_600_4_mot_rev;
    6: tk_od_toei12_600_4_mot_rev;
    default: tk_od_toei12_600_4_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tk_od_toei12_600_mot_4,vehicle_is_reversed){
    1: sw_tk_od_toei12_600_mot_rev_4;
    sw_tk_od_toei12_600_mot_f_4;
}

switch(FEAT_TRAINS, SELF, sw_tk_od_toei12_600_4_end_gfx,position_in_consist_from_end){
    0: tk_od_toei12_600_4_end;
    default: sw_tk_od_toei12_600_mot_4;
}
switch(FEAT_TRAINS, SELF, sw_tk_od_toei12_600_livery_4,position_in_consist){
    0: tk_od_toei12_600_4_front;
    default: sw_tk_od_toei12_600_4_end_gfx;
}


random_switch(FEAT_TRAINS, PARENT, sw_tk_od_toei12_000_consist_1){
    1: sw_tk_od_toei12_000_livery_1;
    1: sw_tk_od_toei12_000_livery_2;
}

random_switch(FEAT_TRAINS, PARENT, sw_tk_od_toei12_600_consist_1){
    1: sw_tk_od_toei12_600_livery_1;
    1: sw_tk_od_toei12_600_livery_2;
}

random_switch(FEAT_TRAINS, PARENT, sw_tk_od_toei12_600_consist_2){
    1: sw_tk_od_toei12_600_livery_3;
    1: sw_tk_od_toei12_600_livery_4;
}

switch(FEAT_TRAINS, SELF, sw_tk_od_toei12_000_lv_date_1, build_year<2012){
  1: sw_tk_od_toei12_000_consist_1;
  default: sw_tk_od_toei12_600_consist_1;
}
switch(FEAT_TRAINS, SELF, sw_tk_od_toei12_600_lv_date, build_year>2017){
  1: sw_tk_od_toei12_600_consist_2;
  default: sw_tk_od_toei12_000_lv_date_1;
}

switch(FEAT_TRAINS, SELF, sw_tk_od_toei12_000_lv_desc_1, cargo_subtype){
    0: string(LV_RANDOM);
    1: string(LV_tk_od_toei12_000_1);
    2: string(LV_tk_od_toei12_000_2);
}



switch(FEAT_TRAINS, PARENT, sw_tk_od_toei12_000_lv, cargo_subtype){
    0: sw_tk_od_toei12_600_lv_date;
    1: sw_tk_od_toei12_000_livery_1;
    2: sw_tk_od_toei12_000_livery_2;
    3: sw_tk_od_toei12_600_livery_1;
    4: sw_tk_od_toei12_600_livery_2;
    5: sw_tk_od_toei12_600_livery_3;
    6: sw_tk_od_toei12_600_livery_4;
}
switch(FEAT_TRAINS, SELF, sw_tk_od_toei12_000_lv_desc, cargo_subtype){
    0: string(LV_RANDOM);
    1: string(LV_tk_od_toei12_000_1);
    2: string(LV_tk_od_toei12_000_2);
    3: string(LV_tk_od_toei12_600_1);
    4: string(LV_tk_od_toei12_600_2);
    5: string(LV_tk_od_toei12_600_3);
    6: string(LV_tk_od_toei12_600_4);
}

switch(FEAT_TRAINS, SELF, sw_tk_od_toei12_000_lv_date_sel, build_year>2011){
  1: sw_tk_od_toei12_000_lv_desc;
  default: sw_tk_od_toei12_000_lv_desc_1;
}

switch(FEAT_TRAINS, SELF, sw_tk_od_toei12_000_main_capacity,position_in_consist_from_end){
    0: 90*param_capacity_mod/3;
    default: 100*param_capacity_mod/3;
}

switch(FEAT_TRAINS, SELF, tk_od_toei12_000_attach_vehid, vehicle_type_id) {
  mu_car: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}

item(FEAT_TRAINS, tk_od_toei12_000,1150) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_TOEI), "12-000/12-600", string(STR_NAME_TYPE));
        introduction_date: date(1990, 1, 1);
        cargo_capacity: 90;
        speed: 80 km/h;
        power: 240 kW;
        weight: 20 ton;

        loading_speed: param_loading_3D;
        track_type: TR_1435_LNR;

        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cost_factor: 19;
        running_cost_factor: 47;

        climates_available: param_disable_tokyo == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

    }
 graphics {
        default: sw_tk_od_toei12_000_lv;
        purchase: tk_od_toei12_000_purchase;
        can_attach_wagon: tk_od_toei12_000_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 8)),
  string(STR_OPERATOR, string(STR_TOEI)),
  string(STR_LINES_USED, string(STR_TOKYO_OEDO)));

        cargo_subtype_text: sw_tk_od_toei12_000_lv_date_sel;
        cargo_capacity: 90*param_capacity_mod/3;
    }
    livery_override(mu_car){
        loading_speed: param_loading_3D;
        cargo_capacity: sw_tk_od_toei12_000_main_capacity;
        default: sw_tk_od_toei12_000_lv;
        power: 322;
        weight: 20;
        length: 8;
      }
}
# 70 "src/_metro.pnml" 2





# 1 "src/metro/Yokohama/1000series.pnml" 1

spriteset(yk_bl_1000series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Yokohama/BlueLine/1000series/1000series.png"){ tmpl_purchase_1c(0, 0) }
spriteset(yk_bl_1000series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Yokohama/BlueLine/1000series/1000series.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, yk_bl_1000series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_yokohama_subway; 1: logo_line_yk_blue; 2: yk_bl_1000series_purchase_c1; 3: yk_bl_1000series_purchase_c2;}

spriteset(yk_bl_1000series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Yokohama/BlueLine/1000series/1000series.png"){ tmpl_std(0, 0) }
spriteset(yk_bl_1000series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Yokohama/BlueLine/1000series/1000series.png"){ tmpl_std_rev(0, 25) }
spriteset(yk_bl_1000series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Yokohama/BlueLine/1000series/1000series.png"){ tmpl_std(0, 50) }
spriteset(yk_bl_1000series_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Yokohama/BlueLine/1000series/1000series.png"){ tmpl_std(0, 75) }
spriteset(yk_bl_1000series_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Yokohama/BlueLine/1000series/1000series.png"){ tmpl_std_rev(0, 75) }

spriteset(yk_bl_2000series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Yokohama/BlueLine/1000series/2000series.png"){ tmpl_std(0, 0) }
spriteset(yk_bl_2000series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Yokohama/BlueLine/1000series/2000series.png"){ tmpl_std_rev(0, 25) }
spriteset(yk_bl_2000series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Yokohama/BlueLine/1000series/2000series.png"){ tmpl_std(0, 50) }
spriteset(yk_bl_2000series_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Yokohama/BlueLine/1000series/2000series.png"){ tmpl_std(0, 75) }
spriteset(yk_bl_2000series_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Yokohama/BlueLine/1000series/2000series.png"){ tmpl_std_rev(0, 75) }


switch(FEAT_TRAINS, SELF, sw_yk_bl_1000series_fake_placer,position_in_consist){
    3: yk_bl_1000series_end_f;
    4: yk_bl_1000series_front_f;
yk_bl_1000series_wag;
}
switch(FEAT_TRAINS, SELF, sw_yk_bl_1000series_fake_placer_rev,position_in_consist_from_end){
    3: yk_bl_1000series_front_f;
    4: yk_bl_1000series_end_f;
yk_bl_1000series_wag;
}
switch(FEAT_TRAINS, PARENT, sw_yk_bl_1000series_fake_placer_gfx,vehicle_is_reversed){
    1: sw_yk_bl_1000series_fake_placer_rev;
    sw_yk_bl_1000series_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_yk_bl_1000series_fake_placer_main,num_vehs_in_consist>8){
    1: sw_yk_bl_1000series_fake_placer_gfx;
yk_bl_1000series_wag;
}




switch(FEAT_TRAINS, SELF, sw_yk_bl_1000series_end_gfx,position_in_consist_from_end){
    0: yk_bl_1000series_end;
    default: sw_yk_bl_1000series_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_yk_bl_1000series_livery_1,position_in_consist){
    0: yk_bl_1000series_front;
    default: sw_yk_bl_1000series_end_gfx;
}


switch(FEAT_TRAINS, SELF, sw_yk_bl_2000series_fake_placer,position_in_consist){
    3: yk_bl_2000series_end_f;
    4: yk_bl_2000series_front_f;
yk_bl_2000series_wag;
}
switch(FEAT_TRAINS, SELF, sw_yk_bl_2000series_fake_placer_rev,position_in_consist_from_end){
    3: yk_bl_2000series_front_f;
    4: yk_bl_2000series_end_f;
yk_bl_2000series_wag;
}
switch(FEAT_TRAINS, PARENT, sw_yk_bl_2000series_fake_placer_gfx,vehicle_is_reversed){
    1: sw_yk_bl_2000series_fake_placer_rev;
    sw_yk_bl_2000series_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_yk_bl_2000series_fake_placer_main,num_vehs_in_consist>8){
    1: sw_yk_bl_2000series_fake_placer_gfx;
yk_bl_2000series_wag;
}



switch(FEAT_TRAINS, SELF, sw_yk_bl_2000series_end_gfx,position_in_consist_from_end){
    0: yk_bl_2000series_end;
    default: sw_yk_bl_2000series_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_yk_bl_2000series_livery_1,position_in_consist){
    0: yk_bl_2000series_front;
    default: sw_yk_bl_2000series_end_gfx;
}

random_switch(FEAT_TRAINS, PARENT, sw_yk_bl_1000series_livery_0){
    1: sw_yk_bl_1000series_livery_1;
    1: sw_yk_bl_2000series_livery_1;
}


switch(FEAT_TRAINS, SELF, sw_yk_bl_1000series_lv_desc, cargo_subtype){
    0: string(LV_RANDOM);
    1: string(LV_yk_bl_1000series_1);
    2: string(LV_yk_bl_2000series_1);
}

switch(FEAT_TRAINS, PARENT, sw_yk_bl_1000series_lv, cargo_subtype){
    0: sw_yk_bl_1000series_livery_0;
    1: sw_yk_bl_1000series_livery_1;
    2: sw_yk_bl_2000series_livery_1;
}

switch(FEAT_TRAINS, SELF, sw_yk_bl_1000series_main_capacity,position_in_consist_from_end){
    0: 140*param_capacity_mod/3;
    default: 150*param_capacity_mod/3;
}

switch(FEAT_TRAINS, SELF, yk_bl_1000series_attach_vehid, vehicle_type_id) {
  mu_car_metro: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}

item(FEAT_TRAINS, yk_bl_1000series,1200) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_YOKOHAMA), "1000", string(STR_NAME_TYPE));
        introduction_date: date(1972, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cargo_capacity: 140;
        loading_speed: param_loading_3D;
        cost_factor: 19;
        running_cost_factor: 49;

        speed: 90 km/h;
        track_type: TR_1435_M;
        power: 560 kW;
        weight: 27 ton;

        climates_available: param_disable_yokohama == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        default: sw_yk_bl_1000series_lv;
        purchase: yk_bl_1000series_purchase;
        can_attach_wagon: yk_bl_1000series_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 750)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 6)),
  string(STR_OPERATOR, string(STR_YOKOHAMA)),
  string(STR_LINES_USED, string(STR_YOKOHAMA_BLUE)));

        cargo_subtype_text: sw_yk_bl_1000series_lv_desc;
        start_stop: sw_stop_start_3;
        cargo_capacity: 140*param_capacity_mod/3;
    }
    livery_override(mu_car_metro){
        loading_speed: param_loading_3D;
        cargo_capacity: sw_yk_bl_1000series_main_capacity;
        default: sw_yk_bl_1000series_lv;
        power: 751*3/5;
        weight: 33;
        length: 8;
      }
}
# 76 "src/_metro.pnml" 2
# 1 "src/metro/Yokohama/3000series.pnml" 1

spriteset(yk_bl_3000series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Yokohama/BlueLine/3000series/3000A.png"){ tmpl_purchase_1c(0, 0) }
spriteset(yk_bl_3000series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Yokohama/BlueLine/3000series/3000A.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, yk_bl_3000series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_yokohama_subway; 1: logo_line_yk_blue; 2: yk_bl_3000series_purchase_c1; 3: yk_bl_3000series_purchase_c2;}

spriteset(yk_bl_3000series_a_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Yokohama/BlueLine/3000series/3000A.png"){ tmpl_std(0, 0) }
spriteset(yk_bl_3000series_a_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Yokohama/BlueLine/3000series/3000A.png"){ tmpl_std_rev(0, 25) }
spriteset(yk_bl_3000series_a_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Yokohama/BlueLine/3000series/3000A.png"){ tmpl_std(0, 50) }
spriteset(yk_bl_3000series_a_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Yokohama/BlueLine/3000series/3000A.png"){ tmpl_std(0, 75) }
spriteset(yk_bl_3000series_a_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Yokohama/BlueLine/3000series/3000A.png"){ tmpl_std_rev(0, 75) }

spriteset(yk_bl_3000series_n_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Yokohama/BlueLine/3000series/3000N.png"){ tmpl_std(0, 0) }
spriteset(yk_bl_3000series_n_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Yokohama/BlueLine/3000series/3000N.png"){ tmpl_std_rev(0, 25) }
spriteset(yk_bl_3000series_n_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Yokohama/BlueLine/3000series/3000N.png"){ tmpl_std(0, 50) }
spriteset(yk_bl_3000series_n_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Yokohama/BlueLine/3000series/3000N.png"){ tmpl_std(0, 75) }
spriteset(yk_bl_3000series_n_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Yokohama/BlueLine/3000series/3000N.png"){ tmpl_std_rev(0, 75) }

spriteset(yk_bl_3000series_r_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Yokohama/BlueLine/3000series/3000R.png"){ tmpl_std(0, 0) }
spriteset(yk_bl_3000series_r_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Yokohama/BlueLine/3000series/3000R.png"){ tmpl_std_rev(0, 25) }
spriteset(yk_bl_3000series_r_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Yokohama/BlueLine/3000series/3000R.png"){ tmpl_std(0, 50) }
spriteset(yk_bl_3000series_r_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Yokohama/BlueLine/3000series/3000R.png"){ tmpl_std(0, 75) }
spriteset(yk_bl_3000series_r_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Yokohama/BlueLine/3000series/3000R.png"){ tmpl_std_rev(0, 75) }

spriteset(yk_bl_3000series_s_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Yokohama/BlueLine/3000series/3000S.png"){ tmpl_std(0, 0) }
spriteset(yk_bl_3000series_s_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Yokohama/BlueLine/3000series/3000S.png"){ tmpl_std_rev(0, 25) }
spriteset(yk_bl_3000series_s_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Yokohama/BlueLine/3000series/3000S.png"){ tmpl_std(0, 50) }
spriteset(yk_bl_3000series_s_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Yokohama/BlueLine/3000series/3000S.png"){ tmpl_std(0, 75) }
spriteset(yk_bl_3000series_s_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Yokohama/BlueLine/3000series/3000S.png"){ tmpl_std_rev(0, 75) }

spriteset(yk_bl_3000series_v_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Yokohama/BlueLine/3000series/3000V.png"){ tmpl_std(0, 0) }
spriteset(yk_bl_3000series_v_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Yokohama/BlueLine/3000series/3000V.png"){ tmpl_std_rev(0, 25) }
spriteset(yk_bl_3000series_v_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Yokohama/BlueLine/3000series/3000V.png"){ tmpl_std(0, 50) }
spriteset(yk_bl_3000series_v_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Yokohama/BlueLine/3000series/3000V.png"){ tmpl_std(0, 75) }
spriteset(yk_bl_3000series_v_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Yokohama/BlueLine/3000series/3000V.png"){ tmpl_std_rev(0, 75) }



switch(FEAT_TRAINS, SELF, sw_yk_bl_3000series_a_fake_placer,position_in_consist){
    3: yk_bl_3000series_a_end_f;
    4: yk_bl_3000series_a_front_f;
yk_bl_3000series_a_wag;
}
switch(FEAT_TRAINS, SELF, sw_yk_bl_3000series_a_fake_placer_rev,position_in_consist_from_end){
    3: yk_bl_3000series_a_front_f;
    4: yk_bl_3000series_a_end_f;
yk_bl_3000series_a_wag;
}
switch(FEAT_TRAINS, PARENT, sw_yk_bl_3000series_a_fake_placer_gfx,vehicle_is_reversed){
    1: sw_yk_bl_3000series_a_fake_placer_rev;
    sw_yk_bl_3000series_a_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_yk_bl_3000series_a_fake_placer_main,num_vehs_in_consist>8){
    1: sw_yk_bl_3000series_a_fake_placer_gfx;
yk_bl_3000series_a_wag;
}



switch(FEAT_TRAINS, SELF, sw_yk_bl_3000series_a_end_gfx,position_in_consist_from_end){
    0: yk_bl_3000series_a_end;
    default: sw_yk_bl_3000series_a_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_yk_bl_3000series_livery_1,position_in_consist){
    0: yk_bl_3000series_a_front;
    default: sw_yk_bl_3000series_a_end_gfx;
}


switch(FEAT_TRAINS, SELF, sw_yk_bl_3000series_n_fake_placer,position_in_consist){
    3: yk_bl_3000series_n_end_f;
    4: yk_bl_3000series_n_front_f;
yk_bl_3000series_n_wag;
}
switch(FEAT_TRAINS, SELF, sw_yk_bl_3000series_n_fake_placer_rev,position_in_consist_from_end){
    3: yk_bl_3000series_n_front_f;
    4: yk_bl_3000series_n_end_f;
yk_bl_3000series_n_wag;
}
switch(FEAT_TRAINS, PARENT, sw_yk_bl_3000series_n_fake_placer_gfx,vehicle_is_reversed){
    1: sw_yk_bl_3000series_n_fake_placer_rev;
    sw_yk_bl_3000series_n_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_yk_bl_3000series_n_fake_placer_main,num_vehs_in_consist>8){
    1: sw_yk_bl_3000series_n_fake_placer_gfx;
yk_bl_3000series_n_wag;
}



switch(FEAT_TRAINS, SELF, sw_yk_bl_3000series_n_end_gfx,position_in_consist_from_end){
    0: yk_bl_3000series_n_end;
    default: sw_yk_bl_3000series_n_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_yk_bl_3000series_livery_2,position_in_consist){
    0: yk_bl_3000series_n_front;
    default: sw_yk_bl_3000series_n_end_gfx;
}


switch(FEAT_TRAINS, SELF, sw_yk_bl_3000series_r_fake_placer,position_in_consist){
    3: yk_bl_3000series_r_end_f;
    4: yk_bl_3000series_r_front_f;
yk_bl_3000series_r_wag;
}
switch(FEAT_TRAINS, SELF, sw_yk_bl_3000series_r_fake_placer_rev,position_in_consist_from_end){
    3: yk_bl_3000series_r_front_f;
    4: yk_bl_3000series_r_end_f;
yk_bl_3000series_r_wag;
}
switch(FEAT_TRAINS, PARENT, sw_yk_bl_3000series_r_fake_placer_gfx,vehicle_is_reversed){
    1: sw_yk_bl_3000series_r_fake_placer_rev;
    sw_yk_bl_3000series_r_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_yk_bl_3000series_r_fake_placer_main,num_vehs_in_consist>8){
    1: sw_yk_bl_3000series_r_fake_placer_gfx;
yk_bl_3000series_r_wag;
}



switch(FEAT_TRAINS, SELF, sw_yk_bl_3000series_r_end_gfx,position_in_consist_from_end){
    0: yk_bl_3000series_r_end;
    default: sw_yk_bl_3000series_r_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_yk_bl_3000series_livery_3,position_in_consist){
    0: yk_bl_3000series_r_front;
    default: sw_yk_bl_3000series_r_end_gfx;
}


switch(FEAT_TRAINS, SELF, sw_yk_bl_3000series_s_fake_placer,position_in_consist){
    3: yk_bl_3000series_s_end_f;
    4: yk_bl_3000series_s_front_f;
yk_bl_3000series_s_wag;
}
switch(FEAT_TRAINS, SELF, sw_yk_bl_3000series_s_fake_placer_rev,position_in_consist_from_end){
    3: yk_bl_3000series_s_front_f;
    4: yk_bl_3000series_s_end_f;
yk_bl_3000series_s_wag;
}
switch(FEAT_TRAINS, PARENT, sw_yk_bl_3000series_s_fake_placer_gfx,vehicle_is_reversed){
    1: sw_yk_bl_3000series_s_fake_placer_rev;
    sw_yk_bl_3000series_s_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_yk_bl_3000series_s_fake_placer_main,num_vehs_in_consist>8){
    1: sw_yk_bl_3000series_s_fake_placer_gfx;
yk_bl_3000series_s_wag;
}



switch(FEAT_TRAINS, SELF, sw_yk_bl_3000series_s_end_gfx,position_in_consist_from_end){
    0: yk_bl_3000series_s_end;
    default: sw_yk_bl_3000series_s_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_yk_bl_3000series_livery_4,position_in_consist){
    0: yk_bl_3000series_s_front;
    default: sw_yk_bl_3000series_s_end_gfx;
}


switch(FEAT_TRAINS, SELF, sw_yk_bl_3000series_v_fake_placer,position_in_consist){
    3: yk_bl_3000series_v_end_f;
    4: yk_bl_3000series_v_front_f;
yk_bl_3000series_v_wag;
}
switch(FEAT_TRAINS, SELF, sw_yk_bl_3000series_v_fake_placer_rev,position_in_consist_from_end){
    3: yk_bl_3000series_v_front_f;
    4: yk_bl_3000series_v_end_f;
yk_bl_3000series_v_wag;
}
switch(FEAT_TRAINS, PARENT, sw_yk_bl_3000series_v_fake_placer_gfx,vehicle_is_reversed){
    1: sw_yk_bl_3000series_v_fake_placer_rev;
    sw_yk_bl_3000series_v_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_yk_bl_3000series_v_fake_placer_main,num_vehs_in_consist>8){
    1: sw_yk_bl_3000series_v_fake_placer_gfx;
yk_bl_3000series_v_wag;
}



switch(FEAT_TRAINS, SELF, sw_yk_bl_3000series_v_end_gfx,position_in_consist_from_end){
    0: yk_bl_3000series_v_end;
    default: sw_yk_bl_3000series_v_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_yk_bl_3000series_livery_5,position_in_consist){
    0: yk_bl_3000series_v_front;
    default: sw_yk_bl_3000series_v_end_gfx;
}







random_switch(FEAT_TRAINS, PARENT, sw_yk_bl_3000series_consist_2){
    1: sw_yk_bl_3000series_livery_1;
    2: sw_yk_bl_3000series_livery_2;
}

random_switch(FEAT_TRAINS, PARENT, sw_yk_bl_3000series_consist_3){
    1: sw_yk_bl_3000series_consist_2;
    2: sw_yk_bl_3000series_livery_3;

}

random_switch(FEAT_TRAINS, PARENT, sw_yk_bl_3000series_consist_4){
    1: sw_yk_bl_3000series_consist_3;
    2: sw_yk_bl_3000series_livery_4;
}

random_switch(FEAT_TRAINS, PARENT, sw_yk_bl_3000series_consist_5){
    1: sw_yk_bl_3000series_consist_4;
    1: sw_yk_bl_3000series_livery_5;
}

switch(FEAT_TRAINS, SELF, sw_yk_bl_3000series_time_2, build_year>1998&&build_year<2004){
  1: sw_yk_bl_3000series_consist_2;
  sw_yk_bl_3000series_livery_1;
}
switch(FEAT_TRAINS, SELF, sw_yk_bl_3000series_time_3, build_year>2003&&build_year<2006){
  1: sw_yk_bl_3000series_consist_3;
sw_yk_bl_3000series_time_2;
}
switch(FEAT_TRAINS, SELF, sw_yk_bl_3000series_time_4, build_year>2005&&build_year<2017){
  1: sw_yk_bl_3000series_consist_4;
sw_yk_bl_3000series_time_3;
}
switch(FEAT_TRAINS, SELF, sw_yk_bl_3000series_livery_0, build_year>2016){
  1: sw_yk_bl_3000series_consist_5;
sw_yk_bl_3000series_time_4;
}

switch(FEAT_TRAINS, SELF, sw_yk_bl_3000series_lv_desc, cargo_subtype){
    0: string(LV_RANDOM);
    1: string(LV_yk_bl_3000series_1);
    2: string(LV_yk_bl_3000series_2);
    3: string(LV_yk_bl_3000series_3);
    4: string(LV_yk_bl_3000series_4);
    5: string(LV_yk_bl_3000series_5);
}

switch(FEAT_TRAINS, PARENT, sw_yk_bl_3000series_lv, cargo_subtype){
    0: sw_yk_bl_3000series_livery_0;
    1: sw_yk_bl_3000series_livery_1;
    2: sw_yk_bl_3000series_livery_2;
    3: sw_yk_bl_3000series_livery_3;
    4: sw_yk_bl_3000series_livery_4;
    5: sw_yk_bl_3000series_livery_5;
}


switch(FEAT_TRAINS, SELF, sw_yk_bl_3000series_main_capacity,position_in_consist_from_end){
    0: 122*param_capacity_mod/3;
    default: 133*param_capacity_mod/3;
}


switch(FEAT_TRAINS, SELF, yk_bl_3000series_attach_vehid, vehicle_type_id) {
  mu_car_metro: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}

item(FEAT_TRAINS, yk_bl_3000series,1201) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_YOKOHAMA), "3000", string(STR_NAME_TYPE));
        introduction_date: date(1992, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cargo_capacity: 122;
        loading_speed: param_loading_3D;
        cost_factor: 19;
        running_cost_factor: 49;

        speed: 90 km/h;
        track_type: TR_1435_M;
        power: 560 kW;
        weight: 27 ton;

        climates_available: param_disable_yokohama == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        default: sw_yk_bl_3000series_lv;
        purchase: yk_bl_3000series_purchase;
        can_attach_wagon: yk_bl_3000series_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 750)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 6)),
  string(STR_OPERATOR, string(STR_YOKOHAMA)),
  string(STR_LINES_USED, string(STR_YOKOHAMA_BLUE)));

        cargo_subtype_text: sw_yk_bl_3000series_lv_desc;
        start_stop: sw_stop_start_3;
        cargo_capacity: 122*param_capacity_mod/3;
    }
    livery_override(mu_car_metro){
        loading_speed: param_loading_3D;
        cargo_capacity: sw_yk_bl_3000series_main_capacity;
        default: sw_yk_bl_3000series_lv;
        power: 751*3/5;
        weight: 33;
        length: 8;
      }
}
# 77 "src/_metro.pnml" 2
# 1 "src/metro/Yokohama/4000series.pnml" 1

spriteset(yk_bl_4000series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Yokohama/BlueLine/4000series/4000series.png"){ tmpl_purchase_1c(0, 0) }
spriteset(yk_bl_4000series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Yokohama/BlueLine/4000series/4000series.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, yk_bl_4000series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_yokohama_subway; 1: logo_line_yk_blue; 2: yk_bl_4000series_purchase_c1; 3: yk_bl_4000series_purchase_c2;}

spriteset(yk_bl_4000series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Yokohama/BlueLine/4000series/4000series.png"){ tmpl_std(0, 0) }
spriteset(yk_bl_4000series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Yokohama/BlueLine/4000series/4000series.png"){ tmpl_std_rev(0, 25) }
spriteset(yk_bl_4000series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Yokohama/BlueLine/4000series/4000series.png"){ tmpl_std(0, 50) }
spriteset(yk_bl_4000series_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Yokohama/BlueLine/4000series/4000series.png"){ tmpl_std(0, 75) }
spriteset(yk_bl_4000series_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Yokohama/BlueLine/4000series/4000series.png"){ tmpl_std_rev(0, 75) }



switch(FEAT_TRAINS, SELF, sw_yk_bl_4000series_fake_placer,position_in_consist){
    3: yk_bl_4000series_end_f;
    4: yk_bl_4000series_front_f;
yk_bl_4000series_wag;
}
switch(FEAT_TRAINS, SELF, sw_yk_bl_4000series_fake_placer_rev,position_in_consist_from_end){
    3: yk_bl_4000series_front_f;
    4: yk_bl_4000series_end_f;
yk_bl_4000series_wag;
}
switch(FEAT_TRAINS, PARENT, sw_yk_bl_4000series_fake_placer_gfx,vehicle_is_reversed){
    1: sw_yk_bl_4000series_fake_placer_rev;
    sw_yk_bl_4000series_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_yk_bl_4000series_fake_placer_main,num_vehs_in_consist>8){
    1: sw_yk_bl_4000series_fake_placer_gfx;
yk_bl_4000series_wag;
}



switch(FEAT_TRAINS, SELF, sw_yk_bl_4000series_end_gfx,position_in_consist_from_end){
    0: yk_bl_4000series_end;
    default: sw_yk_bl_4000series_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_yk_bl_4000series_livery_1,position_in_consist){
    0: yk_bl_4000series_front;
    default: sw_yk_bl_4000series_end_gfx;
}


switch(FEAT_TRAINS, SELF, sw_yk_bl_4000series_main_capacity,position_in_consist_from_end){
    0: 121*param_capacity_mod/3;
    default: 131*param_capacity_mod/3;
}

switch(FEAT_TRAINS, SELF, yk_bl_4000series_attach_vehid, vehicle_type_id) {
  mu_car_metro: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}

item(FEAT_TRAINS, yk_bl_4000series,1202) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_YOKOHAMA), "4000", string(STR_NAME_TYPE));
        introduction_date: date(2021, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cargo_capacity: 121;
        loading_speed: param_loading_3D;
        cost_factor: 20;
        running_cost_factor: 50;

        speed: 90 km/h;
        track_type: TR_1435_M;
        power: 560 kW;
        weight: 35 ton;

        climates_available: param_disable_yokohama == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        default: sw_yk_bl_4000series_livery_1;
        purchase: yk_bl_4000series_purchase;
        can_attach_wagon: yk_bl_4000series_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 750)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 6)),
  string(STR_OPERATOR, string(STR_YOKOHAMA)),
  string(STR_LINES_USED, string(STR_YOKOHAMA_BLUE)));

        start_stop: sw_stop_start_3;
        cargo_capacity: 121*param_capacity_mod/3;
    }
    livery_override(mu_car_metro){
        loading_speed: param_loading_3D;
        cargo_capacity: sw_yk_bl_4000series_main_capacity;
        default: sw_yk_bl_4000series_livery_1;
        power: 751*3/5;
        weight: 32;
        length: 8;
      }
}
# 78 "src/_metro.pnml" 2


# 1 "src/metro/Yokohama/10000series.pnml" 1

spriteset(yk_gl_10000series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Yokohama/GreenLine/10000series/10000series.png"){ tmpl_purchase_1c(0, 0) }
spriteset(yk_gl_10000series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Yokohama/GreenLine/10000series/10000series.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, yk_gl_10000series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_yokohama_subway; 1: logo_line_yk_green; 2: yk_gl_10000series_purchase_c1; 3: yk_gl_10000series_purchase_c2;}

spriteset(yk_gl_10000series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Yokohama/GreenLine/10000series/10000series.png"){ tmpl_std(0, 0) }
spriteset(yk_gl_10000series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Yokohama/GreenLine/10000series/10000series.png"){ tmpl_std_rev(0, 25) }
spriteset(yk_gl_10000series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Yokohama/GreenLine/10000series/10000series.png"){ tmpl_std(0, 50) }
spriteset(yk_gl_10000series_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Yokohama/GreenLine/10000series/10000series.png"){ tmpl_std(0, 75) }
spriteset(yk_gl_10000series_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Yokohama/GreenLine/10000series/10000series.png"){ tmpl_std_rev(0, 75) }
spriteset(yk_gl_10000series_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Yokohama/GreenLine/10000series/10000series.png"){ tmpl_std(0, 100) }
spriteset(yk_gl_10000series_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Yokohama/GreenLine/10000series/10000series.png"){ tmpl_std_rev(0, 100) }

spriteset(yk_gl_10000series_3_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Yokohama/GreenLine/10000series/10000series_3.png"){ tmpl_std(0, 0) }
spriteset(yk_gl_10000series_3_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Yokohama/GreenLine/10000series/10000series_3.png"){ tmpl_std_rev(0, 25) }
spriteset(yk_gl_10000series_3_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Yokohama/GreenLine/10000series/10000series_3.png"){ tmpl_std(0, 50) }
spriteset(yk_gl_10000series_3_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Yokohama/GreenLine/10000series/10000series_3.png"){ tmpl_std(0, 75) }
spriteset(yk_gl_10000series_3_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Yokohama/GreenLine/10000series/10000series_3.png"){ tmpl_std_rev(0, 75) }
spriteset(yk_gl_10000series_3_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Yokohama/GreenLine/10000series/10000series.png"){ tmpl_std(0, 100) }
spriteset(yk_gl_10000series_3_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Yokohama/GreenLine/10000series/10000series.png"){ tmpl_std_rev(0, 100) }




switch(FEAT_TRAINS, SELF, sw_yk_gl_10000series_mot_gfx,position_in_consist %3){
    2: yk_gl_10000series_mot_rev;
    yk_gl_10000series_wag;
}
switch(FEAT_TRAINS, SELF, sw_yk_gl_10000series_mot_rev_gfx,position_in_consist_from_end %3){
    2: yk_gl_10000series_mot;
    yk_gl_10000series_wag;
}
switch(FEAT_TRAINS, PARENT, sw_yk_gl_10000series_mot_def_gfx,vehicle_is_reversed){
    1: sw_yk_gl_10000series_mot_rev_gfx;
    sw_yk_gl_10000series_mot_gfx;
}
switch(FEAT_TRAINS, SELF, sw_yk_gl_10000series_mot_main_gfx,num_vehs_in_consist){
    4: yk_gl_10000series_wag;
    sw_yk_gl_10000series_mot_def_gfx;

}


switch(FEAT_TRAINS, SELF, sw_yk_gl_10000series_fake_placer,position_in_consist){
    4: yk_gl_10000series_end_f;
    5: yk_gl_10000series_front_f;
sw_yk_gl_10000series_mot_main_gfx;
}
switch(FEAT_TRAINS, SELF, sw_yk_gl_10000series_fake_placer_rev,position_in_consist_from_end){
    4: yk_gl_10000series_front_f;
    5: yk_gl_10000series_end_f;
sw_yk_gl_10000series_mot_main_gfx;
}
switch(FEAT_TRAINS, PARENT, sw_yk_gl_10000series_fake_placer_gfx,vehicle_is_reversed){
    1: sw_yk_gl_10000series_fake_placer_rev;
    sw_yk_gl_10000series_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_yk_gl_10000series_fake_placer_main,num_vehs_in_consist>9){
    1: sw_yk_gl_10000series_fake_placer_gfx;
sw_yk_gl_10000series_mot_main_gfx;
}


switch(FEAT_TRAINS, SELF, sw_yk_gl_10000series_end_gfx,position_in_consist_from_end){
    0: yk_gl_10000series_end;
    default: sw_yk_gl_10000series_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_yk_gl_10000series_livery_1,position_in_consist){
    0: yk_gl_10000series_front;
    default: sw_yk_gl_10000series_end_gfx;
}


switch(FEAT_TRAINS, SELF, sw_yk_gl_10000series_3_mot_gfx,position_in_consist %3){
    2: yk_gl_10000series_3_mot_rev;
    yk_gl_10000series_3_wag;
}
switch(FEAT_TRAINS, SELF, sw_yk_gl_10000series_3_mot_rev_gfx,position_in_consist_from_end %3){
    2: yk_gl_10000series_3_mot;
    yk_gl_10000series_3_wag;
}
switch(FEAT_TRAINS, PARENT, sw_yk_gl_10000series_3_mot_def_gfx,vehicle_is_reversed){
    1: sw_yk_gl_10000series_3_mot_rev_gfx;
    sw_yk_gl_10000series_3_mot_gfx;
}
switch(FEAT_TRAINS, SELF, sw_yk_gl_10000series_3_mot_main_gfx,num_vehs_in_consist){
    4: yk_gl_10000series_3_wag;
    sw_yk_gl_10000series_3_mot_def_gfx;

}


switch(FEAT_TRAINS, SELF, sw_yk_gl_10000series_3_fake_placer,position_in_consist){
    4: yk_gl_10000series_3_end_f;
    5: yk_gl_10000series_3_front_f;
sw_yk_gl_10000series_3_mot_main_gfx;
}
switch(FEAT_TRAINS, SELF, sw_yk_gl_10000series_3_fake_placer_rev,position_in_consist_from_end){
    4: yk_gl_10000series_3_front_f;
    5: yk_gl_10000series_3_end_f;
sw_yk_gl_10000series_3_mot_main_gfx;
}
switch(FEAT_TRAINS, PARENT, sw_yk_gl_10000series_3_fake_placer_gfx,vehicle_is_reversed){
    1: sw_yk_gl_10000series_3_fake_placer_rev;
    sw_yk_gl_10000series_3_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_yk_gl_10000series_3_fake_placer_main,num_vehs_in_consist>9){
    1: sw_yk_gl_10000series_3_fake_placer_gfx;
sw_yk_gl_10000series_3_mot_main_gfx;
}


switch(FEAT_TRAINS, SELF, sw_yk_gl_10000series_3_end_gfx,position_in_consist_from_end){
    0: yk_gl_10000series_3_end;
    default: sw_yk_gl_10000series_3_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_yk_gl_10000series_livery_3,position_in_consist){
    0: yk_gl_10000series_3_front;
    default: sw_yk_gl_10000series_3_end_gfx;
}

random_switch(FEAT_TRAINS, PARENT, sw_yk_gl_10000series_livery_0){
    4: sw_yk_gl_10000series_livery_1;
    1: sw_yk_gl_10000series_livery_3;
}

switch(FEAT_TRAINS, SELF, sw_yk_gl_10000series_lv_desc, cargo_subtype){
    0: string(LV_RANDOM);
    1: string(LV_yk_gl_10000series_1);
    2: string(LV_yk_gl_10000series_3);
}

switch(FEAT_TRAINS, PARENT, sw_yk_gl_10000series_lv, cargo_subtype){
    0: sw_yk_gl_10000series_livery_0;
    1: sw_yk_gl_10000series_livery_1;
    2: sw_yk_gl_10000series_livery_3;
}

switch(FEAT_TRAINS, SELF, sw_yk_gl_10000series_main_capacity,position_in_consist_from_end){
    0: 88*param_capacity_mod/3;
    default: 102*param_capacity_mod/3;
}

switch(FEAT_TRAINS, SELF, yk_gl_10000series_attach_vehid, vehicle_type_id) {
  mu_car: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}

item(FEAT_TRAINS, yk_gl_10000series,1210) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_YOKOHAMA), "10000", string(STR_NAME_TYPE));
        introduction_date: date(2006, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cargo_capacity: 88;
        loading_speed: param_loading_3D;
        cost_factor: 18;
        running_cost_factor: 48;

        speed: 80 km/h;
        track_type: TR_1435_LNR;
        power: 540 kW;
        weight: 27 ton;

        climates_available: param_disable_yokohama == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        default: sw_yk_gl_10000series_lv;
        purchase: yk_gl_10000series_purchase;
        can_attach_wagon: yk_gl_10000series_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_2, 4,6)),
  string(STR_OPERATOR, string(STR_YOKOHAMA)),
  string(STR_LINES_USED, string(STR_YOKOHAMA_GREEN)));

        cargo_subtype_text: sw_yk_gl_10000series_lv_desc;
        start_stop: sw_stop_start_3;
        cargo_capacity: 88*param_capacity_mod/3;
    }
    livery_override(mu_car){
        loading_speed: param_loading_3D;
        cargo_capacity: sw_yk_gl_10000series_main_capacity;
        default: sw_yk_gl_10000series_lv;
        power: 725;
        weight: 26;
        length: 8;
      }
}
# 81 "src/_metro.pnml" 2



# 1 "src/metro/Osaka/namboku_mido/8000series.pnml" 1

spriteset(os_nm_8000series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/8000series/8000series.png"){ tmpl_purchase_1c(0, 0) }
spriteset(os_nm_8000series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/8000series/8000series.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, os_nm_8000series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_osaka_kitakyu; 1: logo_line_os_midosuji; 2: os_nm_8000series_purchase_c1; 3: os_nm_8000series_purchase_c2;}

spriteset(os_nm_8000series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/8000series/8000series.png"){ tmpl_std(0, 0) }
spriteset(os_nm_8000series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/8000series/8000series.png"){ tmpl_std_rev(0, 25) }
spriteset(os_nm_8000series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/8000series/8000series.png"){ tmpl_std(0, 50) }



switch(FEAT_TRAINS, SELF, sw_os_nm_8000series_end_gfx,position_in_consist_from_end){
    0: os_nm_8000series_end;
    default: os_nm_8000series_wag;
}
switch(FEAT_TRAINS, SELF, sw_os_nm_8000series_livery_1,position_in_consist){
    0: os_nm_8000series_front;
    default: sw_os_nm_8000series_end_gfx;
}


switch(FEAT_TRAINS, SELF, sw_os_nm_8000series_main_capacity,position_in_consist_from_end){
    0: 120*param_capacity_mod/3;
    default: 128*param_capacity_mod/3;
}

switch(FEAT_TRAINS, SELF, os_nm_8000series_attach_vehid, vehicle_type_id) {
  mu_car_metro: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}

item(FEAT_TRAINS, os_nm_8000series,1220) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_KITAKYU), "8000", string(STR_NAME_SERIES));
        introduction_date: date(1986, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cargo_capacity: 120;
        loading_speed: param_loading_3D;
        cost_factor: 19;
        running_cost_factor: 49;

        speed: 85 km/h;
        track_type: TR_1435_M;
        power: 560 kW;
        weight: 29 ton;

        climates_available: param_disable_osaka == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        default: sw_os_nm_8000series_livery_1;
        purchase: os_nm_8000series_purchase;
        can_attach_wagon: os_nm_8000series_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 750)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 10)),
  string(STR_OPERATOR, string(STR_KITAKYU)),
string(STR_LINES_USED, string(STR_OSAKA_MIDO_NAMBOKU)));

        start_stop: sw_stop_start_3;
        cargo_capacity: 120*param_capacity_mod/3;
    }
    livery_override(mu_car_metro){
        loading_speed: param_loading_3D;
        cargo_capacity: sw_os_nm_8000series_main_capacity;
        default: sw_os_nm_8000series_livery_1;
        power: 751*4/9;
        weight: 31;
        length: 8;
      }
}
# 85 "src/_metro.pnml" 2
# 1 "src/metro/Osaka/namboku_mido/9000series.pnml" 1

spriteset(os_nm_9000series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/9000series/9000series.png"){ tmpl_purchase_1c(0, 0) }
spriteset(os_nm_9000series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/9000series/9000series.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, os_nm_9000series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_osaka_kitakyu; 1: logo_line_os_midosuji; 2: os_nm_9000series_purchase_c1; 3: os_nm_9000series_purchase_c2;}

spriteset(os_nm_9000series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/9000series/9000series.png"){ tmpl_std(0, 0) }
spriteset(os_nm_9000series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/9000series/9000series.png"){ tmpl_std_rev(0, 25) }
spriteset(os_nm_9000series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/9000series/9000series.png"){ tmpl_std(0, 50) }

spriteset(os_nm_9000series_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/9000series/9000series_1.png"){ tmpl_std(0, 0) }
spriteset(os_nm_9000series_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/9000series/9000series_1.png"){ tmpl_std_rev(0, 25) }
spriteset(os_nm_9000series_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/9000series/9000series_1.png"){ tmpl_std(0, 50) }





switch(FEAT_TRAINS, SELF, sw_os_nm_9000series_end_gfx,position_in_consist_from_end){
    0: os_nm_9000series_end;
    default: os_nm_9000series_wag;
}
switch(FEAT_TRAINS, SELF, sw_os_nm_9000series_livery_1,position_in_consist){
    0: os_nm_9000series_front;
    default: sw_os_nm_9000series_end_gfx;
}


switch(FEAT_TRAINS, SELF, sw_os_nm_9000series_1_end_gfx,position_in_consist_from_end){
    0: os_nm_9000series_1_end;
    default: os_nm_9000series_1_wag;
}
switch(FEAT_TRAINS, SELF, sw_os_nm_9000series_1_livery_1,position_in_consist){
    0: os_nm_9000series_1_front;
    default: sw_os_nm_9000series_1_end_gfx;
}

random_switch(FEAT_TRAINS, PARENT, sw_os_nm_9000series_livery_0){
    1: sw_os_nm_9000series_livery_1;
    1: sw_os_nm_9000series_1_livery_1;
}


switch(FEAT_TRAINS, SELF, sw_os_nm_9000series_lv_desc, cargo_subtype){
    0: string(LV_RANDOM);
    1: string(LV_os_nm_9000series_1);
    2: string(LV_os_nm_9000series_1_1);
}

switch(FEAT_TRAINS, PARENT, sw_os_nm_9000series_lv, cargo_subtype){
    0: sw_os_nm_9000series_livery_0;
    1: sw_os_nm_9000series_livery_1;
    2: sw_os_nm_9000series_1_livery_1;
}

switch(FEAT_TRAINS, SELF, sw_os_nm_9000series_main_capacity,position_in_consist_from_end){
    0: 128*param_capacity_mod/3;
    default: 138*param_capacity_mod/3;
}

switch(FEAT_TRAINS, SELF, os_nm_9000series_attach_vehid, vehicle_type_id) {
  mu_car_metro: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}

item(FEAT_TRAINS, os_nm_9000series,1221) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_KITAKYU), "8000", string(STR_NAME_SERIES));
        introduction_date: date(2014, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cargo_capacity: 128;
        loading_speed: param_loading_3D;
        cost_factor: 20;
        running_cost_factor: 50;

        speed: 90 km/h;
        track_type: TR_1435_M;
        power: 680 kW;
        weight: 31 ton;

        climates_available: param_disable_osaka == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        default: sw_os_nm_9000series_lv;
        purchase: os_nm_9000series_purchase;
        can_attach_wagon: os_nm_9000series_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 750)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 10)),
  string(STR_OPERATOR, string(STR_KITAKYU)),
string(STR_LINES_USED, string(STR_OSAKA_MIDO_NAMBOKU)));

        cargo_subtype_text: sw_os_nm_9000series_lv_desc;
        start_stop: sw_stop_start_3;
        cargo_capacity: 128*param_capacity_mod/3;
    }
    livery_override(mu_car_metro){
        loading_speed: param_loading_3D;
        cargo_capacity: sw_os_nm_9000series_main_capacity;
        default: sw_os_nm_9000series_lv;
        power: 910*3/9;
        weight: 31;
        length: 8;
      }
}
# 86 "src/_metro.pnml" 2


# 1 "src/metro/Osaka/namboku_mido/type100.pnml" 1

spriteset(os_nm_100series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/100series/100series.png"){ tmpl_purchase_1c(0, 0) }
spriteset(os_nm_100series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/100series/100series.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, os_nm_100series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_osaka_metro; 1: logo_line_os_midosuji; 2: os_nm_100series_purchase_c1; 3: os_nm_100series_purchase_c2;}

spriteset(os_nm_100series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/100series/100series.png"){ tmpl_std(0, 0) }
spriteset(os_nm_100series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/100series/100series.png"){ tmpl_std_rev(0, 25) }
spriteset(os_nm_100series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/100series/100series.png"){ tmpl_std(0, 50) }

spriteset(os_nm_400series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/100series/100series.png"){ tmpl_std(0, 75) }
spriteset(os_nm_400series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/100series/100series.png"){ tmpl_std_rev(0, 100) }
spriteset(os_nm_400series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/100series/100series.png"){ tmpl_std(0, 125) }




switch(FEAT_TRAINS, SELF, sw_os_nm_100series_end_gfx,position_in_consist_from_end){
    0: os_nm_100series_end;
    default: os_nm_100series_wag;
}
switch(FEAT_TRAINS, SELF, sw_os_nm_100series_livery_1,position_in_consist){
    0: os_nm_100series_front;
    default: sw_os_nm_100series_end_gfx;
}


switch(FEAT_TRAINS, SELF, sw_os_nm_400series_end_gfx,position_in_consist_from_end){
    0: os_nm_400series_end;
    default: os_nm_400series_wag;
}
switch(FEAT_TRAINS, SELF, sw_os_nm_400series_livery_1,position_in_consist){
    0: os_nm_400series_front;
    default: sw_os_nm_400series_end_gfx;
}

random_switch(FEAT_TRAINS, PARENT, sw_os_nm_100series_livery_r){
    1: sw_os_nm_100series_livery_1;
    1: sw_os_nm_400series_livery_1;
}


switch(FEAT_TRAINS, SELF, sw_os_nm_100series_livery_0,build_year<1943){
    0: sw_os_nm_100series_livery_1;
    default: sw_os_nm_100series_livery_r;
}


switch(FEAT_TRAINS, SELF, sw_os_nm_100series_lv_desc, cargo_subtype){
    0: string(LV_RANDOM);
    1: string(LV_os_nm_100series_1);
    2: string(LV_os_nm_400series_1);
}

switch(FEAT_TRAINS, PARENT, sw_os_nm_100series_lv, cargo_subtype){
    0: sw_os_nm_100series_livery_0;
    1: sw_os_nm_100series_livery_1;
    2: sw_os_nm_400series_livery_1;
}






switch(FEAT_TRAINS, SELF, os_nm_100series_attach_vehid, vehicle_type_id) {
  mu_car_metro: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}

item(FEAT_TRAINS, os_nm_100series,1230) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_OSAKA_METRO), "100", string(STR_NAME_TYPE));
        introduction_date: date(1931, 1, 1);
        model_life: 41;
        vehicle_life: 41;
        reliability_decay: 10;

        cargo_capacity: 84;
        loading_speed: param_loading_3D;
        cost_factor: 15;
        running_cost_factor: 45;

        speed: 60 km/h;
        track_type: TR_1435_M;
        power: 340 kW;
        weight: 40 ton;

        climates_available: param_disable_osaka == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        default: sw_os_nm_100series_lv;
        purchase: os_nm_100series_purchase;
        can_attach_wagon: os_nm_100series_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 750)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_RANGE, 1,4)),
  string(STR_OPERATOR, string(STR_OSAKAMETRO)),
string(STR_LINES_USED, string(STR_OSAKA_MIDO_YOTSU)));

        cargo_subtype_text: sw_os_nm_100series_lv_desc;

        cargo_capacity: 84*param_capacity_mod/3;
    }
    livery_override(mu_car_metro){
        loading_speed: param_loading_3D;
        cargo_capacity: 84*param_capacity_mod/3;
        default: sw_os_nm_100series_lv;
        power: 456;
        weight: 40;
        length: 8;
      }
}
# 89 "src/_metro.pnml" 2
# 1 "src/metro/Osaka/namboku_mido/type500.pnml" 1

spriteset(os_nm_500series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/500series/type500.png"){ tmpl_purchase_1c(0, 0) }
spriteset(os_nm_500series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/500series/type500.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, os_nm_500series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_osaka_metro; 1: logo_line_os_midosuji; 2: os_nm_500series_purchase_c1; 3: os_nm_500series_purchase_c2;}


spriteset(os_nm_500series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/500series/type500.png"){ tmpl_std(0, 0) }
spriteset(os_nm_500series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/500series/type500.png"){ tmpl_std_rev(0, 25) }
spriteset(os_nm_500series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/500series/type500.png"){ tmpl_std(0, 50) }




switch(FEAT_TRAINS, SELF, sw_os_nm_500series_end_gfx,position_in_consist_from_end){
    0: os_nm_500series_end;
    default: os_nm_500series_wag;
}
switch(FEAT_TRAINS, SELF, sw_os_nm_500series_livery_1,position_in_consist){
    0: os_nm_500series_front;
    default: sw_os_nm_500series_end_gfx;
}


switch(FEAT_TRAINS, SELF, os_nm_500series_attach_vehid, vehicle_type_id) {
  mu_car_metro: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}

item(FEAT_TRAINS, os_nm_500series,1231) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_OSAKA_METRO), "500", string(STR_NAME_TYPE));
        introduction_date: date(1949, 1, 1);
        model_life: 39;
        vehicle_life: 39;
        reliability_decay: 10;

        cargo_capacity: 84;
        loading_speed: param_loading_3D;
        cost_factor: 16;
        running_cost_factor: 46;

        speed: 65 km/h;
        track_type: TR_1435_M;
        power: 340 kW;
        weight: 40 ton;

        climates_available: param_disable_osaka == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        default: sw_os_nm_500series_livery_1;
        purchase: os_nm_500series_purchase;
        can_attach_wagon: os_nm_500series_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 750)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_RANGE, 2,6)),
  string(STR_OPERATOR, string(STR_OSAKAMETRO)),
string(STR_LINES_USED, string(STR_OSAKA_MIDO)));

        start_stop: sw_stop_start_2;
        cargo_capacity: 84*param_capacity_mod/3;
    }
    livery_override(mu_car_metro){
        loading_speed: param_loading_3D;
        cargo_capacity: 84*param_capacity_mod/3;
        default: sw_os_nm_500series_livery_1;
        power: 456;
        weight: 40;
        length: 8;
      }
}
# 90 "src/_metro.pnml" 2
# 1 "src/metro/Osaka/namboku_mido/type1000.pnml" 1

spriteset(os_nm_1000series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/1000series/1000series.png"){ tmpl_purchase_1c(0, 0) }
spriteset(os_nm_1000series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/1000series/1000series.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, os_nm_1000series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_osaka_metro; 1: logo_line_os_midosuji; 2: os_nm_1000series_purchase_c1; 3: os_nm_1000series_purchase_c2;}

spriteset(os_nm_1000series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/1000series/1000series.png"){ tmpl_std(0, 0) }
spriteset(os_nm_1000series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/1000series/1000series.png"){ tmpl_std_rev(0, 25) }
spriteset(os_nm_1000series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/1000series/1000series.png"){ tmpl_std(0, 50) }
spriteset(os_nm_1000series_wag_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/1000series/1000series.png"){ tmpl_std_rev(0, 50) }

spriteset(os_nm_1200series_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/1000series/1200series.png"){ tmpl_std(0, 50) }
spriteset(os_nm_1200series_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/1000series/1200series.png"){ tmpl_std_rev(0, 75) }

spriteset(os_nm_1200series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/1000series/1200series.png"){ tmpl_std(0, 0) }
spriteset(os_nm_1200series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/1000series/1200series.png"){ tmpl_std_rev(0, 25) }
spriteset(os_nm_1200series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/1000series/1200series.png"){ tmpl_std(0, 100) }
spriteset(os_nm_1200series_wag_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/1000series/1200series.png"){ tmpl_std_rev(0, 100) }





switch(FEAT_TRAINS, SELF, sw_os_nm_1000series_wag_1_gfx,position_in_consist %2){
    0: os_nm_1000series_wag;
    default: os_nm_1000series_wag_rev;
}
switch(FEAT_TRAINS, SELF, sw_os_nm_1000series_wag_rev_gfx,position_in_consist_from_end %2){
    0: os_nm_1000series_wag_rev;
    default: os_nm_1000series_wag;
}
switch(FEAT_TRAINS, PARENT, sw_os_nm_1000series_wag_gfx,vehicle_is_reversed){
    1: sw_os_nm_1000series_wag_1_gfx;
    default: sw_os_nm_1000series_wag_rev_gfx;
}
switch(FEAT_TRAINS, SELF, sw_os_nm_1000series_end_gfx,position_in_consist_from_end){
    0: os_nm_1000series_end;
    default: sw_os_nm_1000series_wag_gfx;
}
switch(FEAT_TRAINS, SELF, sw_os_nm_1000series_livery_1,position_in_consist){
    0: os_nm_1000series_front;
    default: sw_os_nm_1000series_end_gfx;
}



random_switch(FEAT_TRAINS,SELF,sw_os_nm_1200series_front_random_gfx){
    1: os_nm_1200series_front;
    1: os_nm_1200series_1_front;
}
random_switch(FEAT_TRAINS,SELF,sw_os_nm_1200series_end_random_gfx){
    1: os_nm_1200series_end;
    1: os_nm_1200series_1_end;
}

switch(FEAT_TRAINS, SELF, sw_os_nm_1200series_wag_gfx,position_in_consist %2){
    0: os_nm_1200series_wag;
    default: os_nm_1200series_wag_rev;
}
switch(FEAT_TRAINS, SELF, sw_os_nm_1200series_end_gfx,position_in_consist_from_end){
    0: sw_os_nm_1200series_end_random_gfx;
    default: sw_os_nm_1200series_wag_gfx;
}
switch(FEAT_TRAINS, SELF, sw_os_nm_1200series_livery_1,position_in_consist){
    0: sw_os_nm_1200series_front_random_gfx;
    default: sw_os_nm_1200series_end_gfx;
}

random_switch(FEAT_TRAINS, PARENT, sw_os_nm_1000series_livery_r){
    1: sw_os_nm_1000series_livery_1;
    1: sw_os_nm_1200series_livery_1;
}


switch(FEAT_TRAINS, SELF, sw_os_nm_1000series_livery_0,build_year<1958){
    0: sw_os_nm_1000series_livery_1;
    default: sw_os_nm_1000series_livery_r;
}


switch(FEAT_TRAINS, SELF, sw_os_nm_1000series_lv_desc, cargo_subtype){
    0: string(LV_RANDOM);
    1: string(LV_os_nm_1000series_1);
    2: string(LV_os_nm_1200series_1);
}

switch(FEAT_TRAINS, PARENT, sw_os_nm_1000series_lv, cargo_subtype){
    0: sw_os_nm_1000series_livery_0;
    1: sw_os_nm_1000series_livery_1;
    2: sw_os_nm_1200series_livery_1;
}






switch(FEAT_TRAINS, SELF, os_nm_1000series_attach_vehid, vehicle_type_id) {
  mu_car_metro: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}

item(FEAT_TRAINS, os_nm_1000series,1232) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_OSAKA_METRO), "1000", string(STR_NAME_TYPE));
        introduction_date: date(1953, 1, 1);
        model_life: 41;
        vehicle_life: 41;
        reliability_decay: 10;

        cargo_capacity: 84;
        loading_speed: param_loading_3D;
        cost_factor: 18;
        running_cost_factor: 48;

        speed: 65 km/h;
        track_type: TR_1435_M;
        power: 340 kW;
        weight: 40 ton;

        climates_available: param_disable_osaka == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        default: sw_os_nm_1000series_lv;
        purchase: os_nm_1000series_purchase;
        can_attach_wagon: os_nm_1000series_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 750)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_RANGE, 2,6)),
  string(STR_OPERATOR, string(STR_OSAKAMETRO)),
string(STR_LINES_USED, string(STR_OSAKA_MIDO)));

        cargo_subtype_text: sw_os_nm_1000series_lv_desc;
        start_stop: sw_stop_start_2;
        cargo_capacity: 84*param_capacity_mod/3;
    }
    livery_override(mu_car_metro){
        loading_speed: param_loading_3D;
        cargo_capacity: 84*param_capacity_mod/3;
        default: sw_os_nm_1000series_lv;
        power: 456;
        weight: 40;
        length: 8;
      }
}
# 91 "src/_metro.pnml" 2
# 1 "src/metro/Osaka/namboku_mido/50series.pnml" 1

spriteset(os_nm_50series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/50series/50series.png"){ tmpl_purchase_1c(0, 0) }
spriteset(os_nm_50series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/50series/50series.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, os_nm_50series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_osaka_metro; 1: logo_line_os_midosuji; 2: os_nm_50series_purchase_c1; 3: os_nm_50series_purchase_c2;}

spriteset(os_nm_50series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/50series/50series.png"){ tmpl_std(0, 0) }
spriteset(os_nm_50series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/50series/50series.png"){ tmpl_std_rev(0, 25) }
spriteset(os_nm_50series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/50series/50series.png"){ tmpl_std(0, 50) }
spriteset(os_nm_50series_wag_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/50series/50series.png"){ tmpl_std_rev(0, 50) }


switch(FEAT_TRAINS, SELF, sw_os_nm_50series_wag_1_gfx,position_in_consist %2){
    0: os_nm_50series_wag;
    default: os_nm_50series_wag_rev;
}
switch(FEAT_TRAINS, SELF, sw_os_nm_50series_wag_rev_gfx,position_in_consist_from_end %2){
    0: os_nm_50series_wag_rev;
    default: os_nm_50series_wag;
}
switch(FEAT_TRAINS, PARENT, sw_os_nm_50series_wag_gfx,vehicle_is_reversed){
    1: sw_os_nm_50series_wag_1_gfx;
    default: sw_os_nm_50series_wag_rev_gfx;
}


switch(FEAT_TRAINS, SELF, sw_os_nm_50series_end_gfx,position_in_consist_from_end){
    0: os_nm_50series_end;
    default: sw_os_nm_50series_wag_gfx;
}
switch(FEAT_TRAINS, SELF, sw_os_nm_50series_livery_1,position_in_consist){
    0: os_nm_50series_front;
    default: sw_os_nm_50series_end_gfx;
}



switch(FEAT_TRAINS, SELF, os_nm_50series_attach_vehid, vehicle_type_id) {
  mu_car_metro: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}

item(FEAT_TRAINS, os_nm_50series,1234) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_OSAKA_METRO), "50", string(STR_NAME_SERIES));
        introduction_date: date(1960, 1, 1);
        model_life: 32;
        vehicle_life: 32;
        reliability_decay: 10;

        cargo_capacity: 72;
        loading_speed: param_loading_3D;
        cost_factor: 16;
        running_cost_factor: 46;

        speed: 70 km/h;
        track_type: TR_1435_M;
        power: 360 kW;
        weight: 36 ton;

        climates_available: param_disable_osaka == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        default: sw_os_nm_50series_livery_1;
        purchase: os_nm_50series_purchase;
        can_attach_wagon: os_nm_50series_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 750)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_3, 2,4,6)),
  string(STR_OPERATOR, string(STR_OSAKAMETRO)),
string(STR_LINES_USED, string(STR_OSAKA_MIDO)));

        start_stop: sw_stop_start_2;
        cargo_capacity: 72*param_capacity_mod/3;
    }
    livery_override(mu_car_metro){
        loading_speed: param_loading_3D;
        cargo_capacity: 72*param_capacity_mod/3;
        default: sw_os_nm_50series_livery_1;
        power: 483;
        weight: 36;
        length: 8;
      }
}
# 92 "src/_metro.pnml" 2
# 1 "src/metro/Osaka/namboku_mido/30series.pnml" 1

spriteset(os_nm_30series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/30series/30series.png"){ tmpl_purchase_1c(0, 0) }
spriteset(os_nm_30series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/30series/30series.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, os_nm_30series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_osaka_metro; 1: logo_line_os_midosuji; 2: os_nm_30series_purchase_c1; 3: os_nm_30series_purchase_c2;}



spriteset(os_nm_30series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/30series/30series.png"){ tmpl_std(0, 0) }
spriteset(os_nm_30series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/30series/30series.png"){ tmpl_std_rev(0, 25) }
spriteset(os_nm_30series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/30series/30series.png"){ tmpl_std(0, 50) }


spriteset(os_nm_30series_al_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/30series/30series_al.png"){ tmpl_std(0, 0) }
spriteset(os_nm_30series_al_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/30series/30series_al.png"){ tmpl_std_rev(0, 25) }
spriteset(os_nm_30series_al_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/30series/30series_al.png"){ tmpl_std(0, 50) }




switch(FEAT_TRAINS, SELF, sw_os_nm_30series_end_gfx,position_in_consist_from_end){
    0: os_nm_30series_end;
    default: os_nm_30series_wag;
}
switch(FEAT_TRAINS, SELF, sw_os_nm_30series_livery_1,position_in_consist){
    0: os_nm_30series_front;
    default: sw_os_nm_30series_end_gfx;
}


switch(FEAT_TRAINS, SELF, sw_os_nm_30series_al_end_gfx,position_in_consist_from_end){
    0: os_nm_30series_al_end;
    default: os_nm_30series_al_wag;
}
switch(FEAT_TRAINS, SELF, sw_os_nm_30series_livery_2,position_in_consist){
    0: os_nm_30series_al_front;
    default: sw_os_nm_30series_al_end_gfx;
}


random_switch(FEAT_TRAINS, PARENT, sw_os_nm_30series_livery_0){
    1: sw_os_nm_30series_livery_1;
    1: sw_os_nm_30series_livery_2;
}

switch(FEAT_TRAINS, SELF, sw_os_nm_30series_lv_desc, cargo_subtype){
    0: string(LV_RANDOM);
    1: string(LV_STEEL);
    2: string(LV_ALUMI);
}

switch(FEAT_TRAINS, PARENT, sw_os_nm_30series_lv, cargo_subtype){
    0: sw_os_nm_30series_livery_0;
    1: sw_os_nm_30series_livery_1;
    2: sw_os_nm_30series_livery_2;
}


switch(FEAT_TRAINS, SELF, sw_os_nm_30series_main_capacity,position_in_consist_from_end){
    0: 91*param_capacity_mod/3;
    default: 95*param_capacity_mod/3;
}


switch(FEAT_TRAINS, SELF, os_nm_30series_attach_vehid, vehicle_type_id) {
  mu_car_metro: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}

item(FEAT_TRAINS, os_nm_30series,1235) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_OSAKA_METRO), "30", string(STR_NAME_SERIES));
        introduction_date: date(1967, 1, 1);
        model_life: 44;
        vehicle_life: 44;
        reliability_decay: 10;

        cargo_capacity: 91;
        loading_speed: param_loading_4D;
        cost_factor: 17;
        running_cost_factor: 47;

        speed: 80 km/h;
        track_type: TR_1435_M;
        power: 480 kW;
        weight: 30 ton;

        climates_available: param_disable_osaka == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        default: sw_os_nm_30series_lv;
        purchase: os_nm_30series_purchase;
        can_attach_wagon: os_nm_30series_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 750)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_2, 4,8)),
  string(STR_OPERATOR, string(STR_OSAKAMETRO)),
string(STR_LINES_USED, string(STR_OSAKA_MIDO)));

        cargo_subtype_text: sw_os_nm_30series_lv_desc;
        start_stop: sw_stop_start_3;
        cargo_capacity: 91*param_capacity_mod/3;

    }
    livery_override(mu_car_metro){
        loading_speed: param_loading_4D;
        cargo_capacity: sw_os_nm_30series_main_capacity;
        default: sw_os_nm_30series_lv;
        power: 644*3/5;
        weight: 32;
        length: 8;
      }
}
# 93 "src/_metro.pnml" 2
# 1 "src/metro/Osaka/namboku_mido/10series.pnml" 1

spriteset(os_nm_10series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/10series/10series.png"){ tmpl_purchase_1c(0, 0) }
spriteset(os_nm_10series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/10series/10series.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, os_nm_10series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_osaka_metro; 1: logo_line_os_midosuji; 2: os_nm_10series_purchase_c1; 3: os_nm_10series_purchase_c2;}

spriteset(os_nm_10series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/10series/10series.png"){ tmpl_std(0, 0) }
spriteset(os_nm_10series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/10series/10series.png"){ tmpl_std_rev(0, 25) }
spriteset(os_nm_10series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/10series/10series.png"){ tmpl_std(0, 50) }
spriteset(os_nm_10series_wag_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/10series/10series.png"){ tmpl_std(0, 75) }


spriteset(os_nm_10series_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/10series/10series_1.png"){ tmpl_std(0, 0) }
spriteset(os_nm_10series_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/10series/10series_1.png"){ tmpl_std_rev(0, 25) }
spriteset(os_nm_10series_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/10series/10series_1.png"){ tmpl_std(0, 50) }
spriteset(os_nm_10series_1_wag_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/10series/10series_1.png"){ tmpl_std(0, 75) }


spriteset(os_nm_10series_2_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/10series/10series_2.png"){ tmpl_std(0, 0) }
spriteset(os_nm_10series_2_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/10series/10series_2.png"){ tmpl_std_rev(0, 25) }
spriteset(os_nm_10series_2_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/10series/10series_2.png"){ tmpl_std(0, 50) }
spriteset(os_nm_10series_2_wag_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/10series/10series_2.png"){ tmpl_std(0, 75) }




switch(FEAT_TRAINS, SELF, sw_os_nm_10series_wag_gfx,position_in_consist){
    5: os_nm_10series_wag_1;
    default: os_nm_10series_wag;
}
switch(FEAT_TRAINS, SELF, sw_os_nm_10series_wag_rev_gfx,position_in_consist_from_end){
    5: os_nm_10series_wag_1;
    default: os_nm_10series_wag;
}
switch(FEAT_TRAINS, PARENT, sw_os_nm_10series_rev_gfx,vehicle_is_reversed){
    1: sw_os_nm_10series_wag_rev_gfx;
    default: sw_os_nm_10series_wag_gfx;
}

switch(FEAT_TRAINS, SELF, sw_os_nm_10series_end_gfx,position_in_consist_from_end){
    0: os_nm_10series_end;
    default: sw_os_nm_10series_rev_gfx;
}
switch(FEAT_TRAINS, SELF, sw_os_nm_10series_livery_1,position_in_consist){
    0: os_nm_10series_front;
    default: sw_os_nm_10series_end_gfx;
}


switch(FEAT_TRAINS, SELF, sw_os_nm_10series_1_wag_gfx,position_in_consist){
    5: os_nm_10series_1_wag_1;
    default: os_nm_10series_1_wag;
}
switch(FEAT_TRAINS, SELF, sw_os_nm_10series_1_wag_rev_gfx,position_in_consist_from_end){
    5: os_nm_10series_1_wag_1;
    default: os_nm_10series_1_wag;
}
switch(FEAT_TRAINS, PARENT, sw_os_nm_10series_1_rev_gfx,vehicle_is_reversed){
    1: sw_os_nm_10series_1_wag_rev_gfx;
    default: sw_os_nm_10series_1_wag_gfx;
}

switch(FEAT_TRAINS, SELF, sw_os_nm_10series_1_end_gfx,position_in_consist_from_end){
    0: os_nm_10series_1_end;
    default: sw_os_nm_10series_1_rev_gfx;
}
switch(FEAT_TRAINS, SELF, sw_os_nm_10series_livery_2,position_in_consist){
    0: os_nm_10series_1_front;
    default: sw_os_nm_10series_1_end_gfx;
}


switch(FEAT_TRAINS, SELF, sw_os_nm_10series_2_wag_gfx,position_in_consist){
    5: os_nm_10series_2_wag_1;
    default: os_nm_10series_2_wag;
}
switch(FEAT_TRAINS, SELF, sw_os_nm_10series_2_wag_rev_gfx,position_in_consist_from_end){
    5: os_nm_10series_2_wag_1;
    default: os_nm_10series_2_wag;
}
switch(FEAT_TRAINS, PARENT, sw_os_nm_10series_2_rev_gfx,vehicle_is_reversed){
    1: sw_os_nm_10series_2_wag_rev_gfx;
    default: sw_os_nm_10series_2_wag_gfx;
}

switch(FEAT_TRAINS, SELF, sw_os_nm_10series_2_end_gfx,position_in_consist_from_end){
    0: os_nm_10series_2_end;
    default: sw_os_nm_10series_2_rev_gfx;
}
switch(FEAT_TRAINS, SELF, sw_os_nm_10series_livery_3,position_in_consist){
    0: os_nm_10series_2_front;
    default: sw_os_nm_10series_2_end_gfx;
}
random_switch(FEAT_TRAINS, PARENT, sw_os_nm_10series_livery_0){
    3: sw_os_nm_10series_livery_1;
    1: sw_os_nm_10series_livery_2;
    1: sw_os_nm_10series_livery_3;
}


switch(FEAT_TRAINS, SELF, sw_os_nm_10series_lv_desc, cargo_subtype){
    0: string(LV_RANDOM);
    1: string(LV_NEW);
    2: string(LV_OLD);
    3: string(LV_OLD);
}

switch(FEAT_TRAINS, PARENT, sw_os_nm_10series_lv, cargo_subtype){
    0: sw_os_nm_10series_livery_0;
    1: sw_os_nm_10series_livery_1;
    2: sw_os_nm_10series_livery_2;
    3: sw_os_nm_10series_livery_3;
}




switch(FEAT_TRAINS, SELF, sw_os_nm_10series_main_capacity,position_in_consist_from_end){
    0: 130*param_capacity_mod/3;
    default: 140*param_capacity_mod/3;
}

switch(FEAT_TRAINS, SELF, os_nm_10series_attach_vehid, vehicle_type_id) {
  mu_car_metro: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}

item(FEAT_TRAINS, os_nm_10series,1236) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_OSAKA_METRO), "10", string(STR_NAME_SERIES));
        introduction_date: date(1973, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 49;
        reliability_decay: 10;

        cargo_capacity: 130;
        loading_speed: param_loading_4D;
        cost_factor: 20;
        running_cost_factor: 50;

        speed: 90 km/h;
        track_type: TR_1435_M;
        power: 560 kW;
        weight: 31 ton;

        climates_available: param_disable_osaka == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        default: sw_os_nm_10series_lv;
        purchase: os_nm_10series_purchase;
        can_attach_wagon: os_nm_10series_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 750)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_3, 8,9,10)),
  string(STR_OPERATOR, string(STR_OSAKAMETRO)),
string(STR_LINES_USED, string(STR_OSAKA_MIDO)));

        cargo_subtype_text: sw_os_nm_10series_lv_desc;
        start_stop: sw_stop_start_3;
        cargo_capacity: 130*param_capacity_mod/3;
    }
    livery_override(mu_car_metro){
        loading_speed: param_loading_4D;
        cargo_capacity: sw_os_nm_10series_main_capacity;
        default: sw_os_nm_10series_lv;
        power: 753*4/9;
        weight: 31;
        length: 8;
      }
}
# 94 "src/_metro.pnml" 2
# 1 "src/metro/Osaka/namboku_mido/21series.pnml" 1

spriteset(os_nm_21series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/21series/21series.png"){ tmpl_purchase_1c(0, 0) }
spriteset(os_nm_21series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/21series/21series.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, os_nm_21series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_osaka_metro; 1: logo_line_os_midosuji; 2: os_nm_21series_purchase_c1; 3: os_nm_21series_purchase_c2;}

spriteset(os_nm_21series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/21series/21series.png"){ tmpl_std(0, 0) }
spriteset(os_nm_21series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/21series/21series.png"){ tmpl_std_rev(0, 25) }
spriteset(os_nm_21series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/21series/21series.png"){ tmpl_std(0, 50) }
spriteset(os_nm_21series_wag_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/21series/21series.png"){ tmpl_std(0, 75) }

spriteset(os_nm_21series_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/21series/21series_1.png"){ tmpl_std(0, 0) }
spriteset(os_nm_21series_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/21series/21series_1.png"){ tmpl_std_rev(0, 25) }
spriteset(os_nm_21series_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/21series/21series_1.png"){ tmpl_std(0, 50) }



switch(FEAT_TRAINS, SELF, sw_os_nm_21series_wag_gfx,position_in_consist){
    5: os_nm_21series_wag_1;
    default: os_nm_21series_wag;
}
switch(FEAT_TRAINS, SELF, sw_os_nm_21series_wag_rev_gfx,position_in_consist_from_end){
    5: os_nm_21series_wag_1;
    default: os_nm_21series_wag;
}
switch(FEAT_TRAINS, PARENT, sw_os_nm_21series_rev_gfx,vehicle_is_reversed){
    1: sw_os_nm_21series_wag_rev_gfx;
    default: sw_os_nm_21series_wag_gfx;
}

switch(FEAT_TRAINS, SELF, sw_os_nm_21series_end_gfx,position_in_consist_from_end){
    0: os_nm_21series_end;
    default: sw_os_nm_21series_rev_gfx;
}
switch(FEAT_TRAINS, SELF, sw_os_nm_21series_livery_1,position_in_consist){
    0: os_nm_21series_front;
    default: sw_os_nm_21series_end_gfx;
}


switch(FEAT_TRAINS, SELF, sw_os_nm_21series_1_end_gfx,position_in_consist_from_end){
    0: os_nm_21series_1_end;
    default: os_nm_21series_1_wag;
}
switch(FEAT_TRAINS, SELF, sw_os_nm_21series_livery_2,position_in_consist){
    0: os_nm_21series_1_front;
    default: sw_os_nm_21series_1_end_gfx;
}

random_switch(FEAT_TRAINS, PARENT, sw_os_nm_21series_livery_0){
    1: sw_os_nm_21series_livery_1;
    1: sw_os_nm_21series_livery_2;
}


switch(FEAT_TRAINS, SELF, sw_os_nm_21series_lv_desc, cargo_subtype){
    0: string(LV_RANDOM);
    1: string(LV_os_nm_21series_1);
    2: string(LV_os_nm_21series_2);
}

switch(FEAT_TRAINS, PARENT, sw_os_nm_21series_lv, cargo_subtype){
    0: sw_os_nm_21series_livery_0;
    1: sw_os_nm_21series_livery_1;
    2: sw_os_nm_21series_livery_2;
}

switch(FEAT_TRAINS, SELF, sw_os_nm_21series_main_capacity,position_in_consist_from_end){
    0: 130*param_capacity_mod/3;
    default: 140*param_capacity_mod/3;
}

switch(FEAT_TRAINS, SELF, os_nm_21series_attach_vehid, vehicle_type_id) {
  mu_car_metro: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}

item(FEAT_TRAINS, os_nm_21series,1237) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_OSAKA_METRO), "21", string(STR_NAME_SERIES));
        introduction_date: date(1991, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cargo_capacity: 130;
        loading_speed: param_loading_4D;
        cost_factor: 20;
        running_cost_factor: 50;

        speed: 90 km/h;
        track_type: TR_1435_M;
        power: 560 kW;
        weight: 30 ton;

        climates_available: param_disable_osaka == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        default: sw_os_nm_21series_lv;
        purchase: os_nm_21series_purchase;
        can_attach_wagon: os_nm_21series_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 750)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 10)),
  string(STR_OPERATOR, string(STR_OSAKAMETRO)),
string(STR_LINES_USED, string(STR_OSAKA_MIDO)));

        cargo_subtype_text: sw_os_nm_21series_lv_desc;
        start_stop: sw_stop_start_2;
        cargo_capacity: 130*param_capacity_mod/3;
    }
    livery_override(mu_car_metro){
        loading_speed: param_loading_4D;
        cargo_capacity: sw_os_nm_21series_main_capacity;
        default: sw_os_nm_21series_lv;
        power: 753*4/9;
        weight: 32;
        length: 8;
      }
}
# 95 "src/_metro.pnml" 2
# 1 "src/metro/Osaka/namboku_mido/30000series.pnml" 1

spriteset(os_nm_30000series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/30000series/30000series.png"){ tmpl_purchase_1c(0, 0) }
spriteset(os_nm_30000series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/30000series/30000series.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, os_nm_30000series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_osaka_metro; 1: logo_line_os_midosuji; 2: os_nm_30000series_purchase_c1; 3: os_nm_30000series_purchase_c2;}

spriteset(os_nm_30000series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/30000series/30000series.png"){ tmpl_std(0, 0) }
spriteset(os_nm_30000series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/30000series/30000series.png"){ tmpl_std_rev(0, 25) }
spriteset(os_nm_30000series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/30000series/30000series.png"){ tmpl_std(0, 50) }
spriteset(os_nm_30000series_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/30000series/30000series.png"){ tmpl_std(0, 75) }
spriteset(os_nm_30000series_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/namboku_mido_sen/30000series/30000series.png"){ tmpl_std_rev(0, 100) }



switch(FEAT_TRAINS, SELF, sw_os_nm_30000series_end_gfx,position_in_consist_from_end){
    0: os_nm_30000series_end;
    default: os_nm_30000series_wag;
}
switch(FEAT_TRAINS, SELF, sw_os_nm_30000series_livery_1,position_in_consist){
    0: os_nm_30000series_front;
    default: sw_os_nm_30000series_end_gfx;
}


switch(FEAT_TRAINS, SELF, sw_os_nm_30000series_1_end_gfx,position_in_consist_from_end){
    0: os_nm_30000series_1_end;
    default: os_nm_30000series_wag;
}
switch(FEAT_TRAINS, SELF, sw_os_nm_30000series_livery_2_rev_gfx,position_in_consist){
    0: os_nm_30000series_front;
    default: sw_os_nm_30000series_1_end_gfx;
}

switch(FEAT_TRAINS, SELF, sw_os_nm_30000series_livery_2_gfx,position_in_consist){
    0: os_nm_30000series_1_front;
    default: sw_os_nm_30000series_end_gfx;
}
switch(FEAT_TRAINS, PARENT, sw_os_nm_30000series_livery_2,vehicle_is_reversed){
    1: sw_os_nm_30000series_livery_2_rev_gfx;
    default: sw_os_nm_30000series_livery_2_gfx;
}
random_switch(FEAT_TRAINS, PARENT, sw_os_nm_30000series_livery_0){
    3: sw_os_nm_30000series_livery_1;
    1: sw_os_nm_30000series_livery_2;
}


switch(FEAT_TRAINS, PARENT, sw_os_nm_30000series_lv, cargo_subtype){
    0: sw_os_nm_30000series_livery_0;
    1: sw_os_nm_30000series_livery_1;
    2: sw_os_nm_30000series_livery_2;
}
switch(FEAT_TRAINS, SELF, sw_os_nm_30000series_lv_desc, cargo_subtype){
    0: string(LV_RANDOM);
    1: string(LV_DEFAULT);
    2: string(LV_os_nm_30000series_2);
}


switch(FEAT_TRAINS, SELF, sw_os_nm_30000series_main_capacity,position_in_consist_from_end){
    0: 130*param_capacity_mod/3;
    default: 140*param_capacity_mod/3;
}

switch(FEAT_TRAINS, SELF, os_nm_30000series_attach_vehid, vehicle_type_id) {
  mu_car_metro: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}

item(FEAT_TRAINS, os_nm_30000series,1238) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_OSAKA_METRO), "30000", string(STR_NAME_SERIES));
        introduction_date: date(2009, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cargo_capacity: 130;
        loading_speed: param_loading_4D;
        cost_factor: 22;
        running_cost_factor: 52;

        speed: 90 km/h;
        track_type: TR_1435_M;
        power: 560 kW;
        weight: 36 ton;

        climates_available: param_disable_osaka == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        default: sw_os_nm_30000series_lv;
        purchase: os_nm_30000series_purchase;
        can_attach_wagon: os_nm_30000series_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 750)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 10)),
  string(STR_OPERATOR, string(STR_OSAKAMETRO)),
string(STR_LINES_USED, string(STR_OSAKA_MIDO)));

        cargo_subtype_text: sw_os_nm_30000series_lv_desc;
        start_stop: sw_stop_start_2;
        cargo_capacity: 130*param_capacity_mod/3;
    }
    livery_override(mu_car_metro){
        loading_speed: param_loading_4D;
        cargo_capacity: sw_os_nm_30000series_main_capacity;
        default: sw_os_nm_30000series_lv;
        power: 753*4/9;
        weight: 32;
        length: 8;
      }
}
# 96 "src/_metro.pnml" 2


# 1 "src/metro/Osaka/tanimachi/50series.pnml" 1

spriteset(os_tm_50series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/tanimachi/50series/50series.png"){ tmpl_purchase_1c(0, 0) }
spriteset(os_tm_50series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/tanimachi/50series/50series.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, os_tm_50series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_osaka_metro; 1: logo_line_os_tani; 2: os_tm_50series_purchase_c1; 3: os_tm_50series_purchase_c2;}


spriteset(os_tm_50series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/tanimachi/50series/50series.png"){ tmpl_std(0, 0) }
spriteset(os_tm_50series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/tanimachi/50series/50series.png"){ tmpl_std_rev(0, 25) }
spriteset(os_tm_50series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/tanimachi/50series/50series.png"){ tmpl_std(0, 50) }
spriteset(os_tm_50series_wag_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/tanimachi/50series/50series.png"){ tmpl_std_rev(0, 50) }


spriteset(os_tm_50series_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/tanimachi/50series/50series_1.png"){ tmpl_std(0, 0) }
spriteset(os_tm_50series_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/tanimachi/50series/50series_1.png"){ tmpl_std_rev(0, 25) }
spriteset(os_tm_50series_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/tanimachi/50series/50series_1.png"){ tmpl_std(0, 50) }
spriteset(os_tm_50series_1_wag_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/tanimachi/50series/50series_1.png"){ tmpl_std_rev(0, 50) }




switch(FEAT_TRAINS, SELF, sw_os_tm_50series_wag_1_gfx,position_in_consist %2){
    0: os_tm_50series_wag;
    default: os_tm_50series_wag_rev;
}
switch(FEAT_TRAINS, SELF, sw_os_tm_50series_wag_rev_gfx,position_in_consist_from_end %2){
    0: os_tm_50series_wag_rev;
    default: os_tm_50series_wag;
}
switch(FEAT_TRAINS, PARENT, sw_os_tm_50series_wag_gfx,vehicle_is_reversed){
    1: sw_os_tm_50series_wag_1_gfx;
    default: sw_os_tm_50series_wag_rev_gfx;
}

switch(FEAT_TRAINS, SELF, sw_os_tm_50series_end_gfx,position_in_consist_from_end){
    0: os_tm_50series_end;
    default: sw_os_tm_50series_wag_gfx;
}
switch(FEAT_TRAINS, SELF, sw_os_tm_50series_livery_1,position_in_consist){
    0: os_tm_50series_front;
    default: sw_os_tm_50series_end_gfx;
}



switch(FEAT_TRAINS, SELF, sw_os_tm_50series_1_wag_1_gfx,position_in_consist %2){
    0: os_tm_50series_1_wag;
    default: os_tm_50series_1_wag_rev;
}
switch(FEAT_TRAINS, SELF, sw_os_tm_50series_1_wag_rev_gfx,position_in_consist_from_end %2){
    0: os_tm_50series_1_wag_rev;
    default: os_tm_50series_1_wag;
}
switch(FEAT_TRAINS, PARENT, sw_os_tm_50series_1_wag_gfx,vehicle_is_reversed){
    1: sw_os_tm_50series_1_wag_1_gfx;
    default: sw_os_tm_50series_1_wag_rev_gfx;
}

switch(FEAT_TRAINS, SELF, sw_os_tm_50series_1_end_gfx,position_in_consist_from_end){
    0: os_tm_50series_1_end;
    default: sw_os_tm_50series_1_wag_gfx;
}
switch(FEAT_TRAINS, SELF, sw_os_tm_50series_livery_2,position_in_consist){
    0: os_tm_50series_1_front;
    default: sw_os_tm_50series_1_end_gfx;
}


random_switch(FEAT_TRAINS, PARENT, sw_os_tm_50series_livery_0){
    1: sw_os_tm_50series_livery_1;
    1: sw_os_tm_50series_livery_2;
}


switch(FEAT_TRAINS, SELF, sw_os_tm_50series_lv_desc, cargo_subtype){
    0: string(LV_RANDOM);
    1: string(LV_WHITE);
    2: string(LV_GREEN);
}

switch(FEAT_TRAINS, PARENT, sw_os_tm_50series_lv, cargo_subtype){
    0: sw_os_tm_50series_livery_0;
    1: sw_os_tm_50series_livery_1;
    2: sw_os_tm_50series_livery_2;
}




switch(FEAT_TRAINS, SELF, os_tm_50series_attach_vehid, vehicle_type_id) {
  mu_car_metro: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}


item(FEAT_TRAINS, os_tm_50series,1250) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_OSAKA_METRO), "50", string(STR_NAME_SERIES));
        introduction_date: date(1967, 1, 1);
        model_life: 25;
        vehicle_life: 32;
        reliability_decay: 10;

        cargo_capacity: 72;
        loading_speed: param_loading_3D;
        cost_factor: 16;
        running_cost_factor: 46;

        speed: 70 km/h;
        track_type: TR_1435_M;
        power: 360 kW;
        weight: 36 ton;

        climates_available: param_disable_osaka == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        variant_group: 1234;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        default: sw_os_tm_50series_lv;
        purchase: os_tm_50series_purchase;
        can_attach_wagon: os_tm_50series_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 750)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_RANGE, 2,6)),
  string(STR_OPERATOR, string(STR_OSAKAMETRO)),
string(STR_LINES_USED, string(STR_OSAKA_TANIMACHI)));

        cargo_subtype_text: sw_os_tm_50series_lv_desc;

        cargo_capacity: 72*param_capacity_mod/3;
    }
    livery_override(mu_car_metro){
        loading_speed: param_loading_3D;
        cargo_capacity: 72*param_capacity_mod/3;
        default: sw_os_tm_50series_lv;
        power: 483;
        weight: 36;
        length: 8;
      }
}
# 99 "src/_metro.pnml" 2
# 1 "src/metro/Osaka/tanimachi/30series.pnml" 1

spriteset(os_tm_30series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/tanimachi/30series/30series.png"){ tmpl_purchase_1c(0, 0) }
spriteset(os_tm_30series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/tanimachi/30series/30series.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, os_tm_30series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_osaka_metro; 1: logo_line_os_tani; 2: os_tm_30series_purchase_c1; 3: os_tm_30series_purchase_c2;}


spriteset(os_tm_30series_old_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/tanimachi/30series/30series_old.png"){ tmpl_std(0, 0) }
spriteset(os_tm_30series_old_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/tanimachi/30series/30series_old.png"){ tmpl_std_rev(0, 25) }
spriteset(os_tm_30series_old_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/tanimachi/30series/30series_old.png"){ tmpl_std(0, 50) }


spriteset(os_tm_30series_old_al_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/tanimachi/30series/30series_old_al.png"){ tmpl_std(0, 0) }
spriteset(os_tm_30series_old_al_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/tanimachi/30series/30series_old_al.png"){ tmpl_std_rev(0, 25) }
spriteset(os_tm_30series_old_al_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/tanimachi/30series/30series_old_al.png"){ tmpl_std(0, 50) }


spriteset(os_tm_30series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/tanimachi/30series/30series.png"){ tmpl_std(0, 0) }
spriteset(os_tm_30series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/tanimachi/30series/30series.png"){ tmpl_std_rev(0, 25) }
spriteset(os_tm_30series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/tanimachi/30series/30series.png"){ tmpl_std(0, 50) }


spriteset(os_tm_30series_al_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/tanimachi/30series/30series_al.png"){ tmpl_std(0, 0) }
spriteset(os_tm_30series_al_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/tanimachi/30series/30series_al.png"){ tmpl_std_rev(0, 25) }
spriteset(os_tm_30series_al_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/tanimachi/30series/30series_al.png"){ tmpl_std(0, 50) }




switch(FEAT_TRAINS, SELF, sw_os_tm_30series_old_end_gfx,position_in_consist_from_end){
    0: os_tm_30series_old_end;
    default: os_tm_30series_old_wag;
}
switch(FEAT_TRAINS, SELF, sw_os_tm_30series_livery_1,position_in_consist){
    0: os_tm_30series_old_front;
    default: sw_os_tm_30series_old_end_gfx;
}


switch(FEAT_TRAINS, SELF, sw_os_tm_30series_old_al_end_gfx,position_in_consist_from_end){
    0: os_tm_30series_old_al_end;
    default: os_tm_30series_old_al_wag;
}
switch(FEAT_TRAINS, SELF, sw_os_tm_30series_livery_2,position_in_consist){
    0: os_tm_30series_old_al_front;
    default: sw_os_tm_30series_old_al_end_gfx;
}

switch(FEAT_TRAINS, SELF, sw_os_tm_30series_end_gfx,position_in_consist_from_end){
    0: os_tm_30series_end;
    default: os_tm_30series_wag;
}
switch(FEAT_TRAINS, SELF, sw_os_tm_30series_livery_3,position_in_consist){
    0: os_tm_30series_front;
    default: sw_os_tm_30series_end_gfx;
}

switch(FEAT_TRAINS, SELF, sw_os_tm_30series_al_end_gfx,position_in_consist_from_end){
    0: os_tm_30series_al_end;
    default: os_tm_30series_al_wag;
}
switch(FEAT_TRAINS, SELF, sw_os_tm_30series_livery_4,position_in_consist){
    0: os_tm_30series_al_front;
    default: sw_os_tm_30series_al_end_gfx;
}


random_switch(FEAT_TRAINS, PARENT, sw_os_tm_30series_old_gfx){
    1: sw_os_tm_30series_livery_1;
    1: sw_os_tm_30series_livery_2;
}

random_switch(FEAT_TRAINS, PARENT, sw_os_tm_30series_new_gfx){
    1: sw_os_tm_30series_livery_3;
    1: sw_os_tm_30series_livery_4;
}

switch(FEAT_TRAINS, SELF, sw_os_tm_30series_livery_0, build_year){
    1..1976: sw_os_tm_30series_old_gfx;
    sw_os_tm_30series_new_gfx;
}


switch(FEAT_TRAINS, SELF, sw_os_tm_30series_lv_desc_old, cargo_subtype){
    0: string(LV_RANDOM);
    1: string(LV_os_tm_30series_1);
    2: string(LV_os_tm_30series_2);
}

switch(FEAT_TRAINS, SELF, sw_os_tm_30series_lv_desc, cargo_subtype){
    0: string(LV_RANDOM);
    1: string(LV_os_tm_30series_1);
    2: string(LV_os_tm_30series_2);
    3: string(LV_os_tm_30series_3);
    4: string(LV_os_tm_30series_4);
}

switch(FEAT_TRAINS, SELF, sw_os_tm_30series_lv_desc_select, current_year){
    1..1976: sw_os_tm_30series_lv_desc_old;
    sw_os_tm_30series_lv_desc;
}

switch(FEAT_TRAINS, SELF, sw_os_tm_30series_lv_old, cargo_subtype){
    0: sw_os_tm_30series_livery_0;
    1: sw_os_tm_30series_livery_1;
    2: sw_os_tm_30series_livery_2;
}

switch(FEAT_TRAINS, PARENT, sw_os_tm_30series_lv, cargo_subtype){
    0: sw_os_tm_30series_livery_0;
    1: sw_os_tm_30series_livery_1;
    2: sw_os_tm_30series_livery_2;
    3: sw_os_tm_30series_livery_3;
    4: sw_os_tm_30series_livery_4;
}

switch(FEAT_TRAINS, SELF, sw_os_tm_30series_lv_select, current_year){
    1..1976: sw_os_tm_30series_lv_old;
    sw_os_tm_30series_lv;
}


switch(FEAT_TRAINS, SELF, sw_os_tm_30series_main_capacity,position_in_consist_from_end){
    0: 91*param_capacity_mod/3;
    default: 95*param_capacity_mod/3;
}


switch(FEAT_TRAINS, SELF, os_tm_30series_attach_vehid, vehicle_type_id) {
  mu_car_metro: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}

item(FEAT_TRAINS, os_tm_30series,1251) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_OSAKA_METRO), "30", string(STR_NAME_SERIES));
        introduction_date: date(1967, 1, 1);
        model_life: 44;
        vehicle_life: 44;
        reliability_decay: 10;

        cargo_capacity: 91;
        loading_speed: param_loading_4D;
        cost_factor: 17;
        running_cost_factor: 47;

        speed: 80 km/h;
        track_type: TR_1435_M;
        power: 480 kW;
        weight: 30 ton;

        climates_available: param_disable_osaka == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        variant_group: 1235;

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        default: sw_os_tm_30series_lv_select;
        purchase: os_tm_30series_purchase;
        can_attach_wagon: os_tm_30series_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 750)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 6)),
  string(STR_OPERATOR, string(STR_OSAKAMETRO)),
string(STR_LINES_USED, string(STR_OSAKA_TANIMACHI)));

        cargo_subtype_text: sw_os_tm_30series_lv_desc_select;
        start_stop: sw_stop_start_3;
        cargo_capacity: 91*param_capacity_mod/3;

    }
    livery_override(mu_car_metro){
        loading_speed: param_loading_4D;
        cargo_capacity: sw_os_tm_30series_main_capacity;
        default: sw_os_tm_30series_lv_select;
        power: 644*3/5;
        weight: 32;
        length: 8;
      }
}
# 100 "src/_metro.pnml" 2
# 1 "src/metro/Osaka/tanimachi/20series.pnml" 1

spriteset(os_tm_20series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/tanimachi/20series/20series.png"){ tmpl_purchase_1c(0, 0) }
spriteset(os_tm_20series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/tanimachi/20series/20series.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, os_tm_20series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_osaka_metro; 1: logo_line_os_tani; 2: os_tm_20series_purchase_c1; 3: os_tm_20series_purchase_c2;}

spriteset(os_tm_20series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/tanimachi/20series/20series.png"){ tmpl_std(0, 0) }
spriteset(os_tm_20series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/tanimachi/20series/20series.png"){ tmpl_std_rev(0, 25) }
spriteset(os_tm_20series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/tanimachi/20series/20series.png"){ tmpl_std(0, 50) }

spriteset(os_tm_20series_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/tanimachi/20series/20series_1.png"){ tmpl_std(0, 0) }
spriteset(os_tm_20series_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/tanimachi/20series/20series_1.png"){ tmpl_std_rev(0, 25) }
spriteset(os_tm_20series_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/tanimachi/20series/20series_1.png"){ tmpl_std(0, 50) }




switch(FEAT_TRAINS, SELF, sw_os_tm_20series_end_gfx,position_in_consist_from_end){
    0: os_tm_20series_end;
    default: os_tm_20series_wag;
}
switch(FEAT_TRAINS, SELF, sw_os_tm_20series_livery_1,position_in_consist){
    0: os_tm_20series_front;
    default: sw_os_tm_20series_end_gfx;
}


switch(FEAT_TRAINS, SELF, sw_os_tm_20series_1_end_gfx,position_in_consist_from_end){
    0: os_tm_20series_1_end;
    default: os_tm_20series_1_wag;
}
switch(FEAT_TRAINS, SELF, sw_os_tm_20series_livery_2,position_in_consist){
    0: os_tm_20series_1_front;
    default: sw_os_tm_20series_1_end_gfx;
}

switch(FEAT_TRAINS, SELF, sw_os_tm_20series_livery_0, current_year){
1..2003: sw_os_tm_20series_livery_1;
sw_os_tm_20series_livery_2;
}


switch(FEAT_TRAINS, SELF, sw_os_tm_20series_lv_desc_old, cargo_subtype){
    0: string(LV_RANDOM);
    1: string(LV_OLD);
}

switch(FEAT_TRAINS, SELF, sw_os_tm_20series_lv_old, cargo_subtype){
    0: sw_os_tm_20series_livery_0;
    1: sw_os_tm_20series_livery_1;
}
switch(FEAT_TRAINS, SELF, sw_os_tm_20series_lv_desc, cargo_subtype){
    0: string(LV_RANDOM);
    1: string(LV_OLD);
    2: string(LV_NEW);
}

switch(FEAT_TRAINS, PARENT, sw_os_tm_20series_lv, cargo_subtype){
    0: sw_os_tm_20series_livery_0;
    1: sw_os_tm_20series_livery_1;
    2: sw_os_tm_20series_livery_2;
}



switch(FEAT_TRAINS, SELF, sw_os_tm_20series_livery_select, current_year){
1..2003: sw_os_tm_20series_lv_old;
sw_os_tm_20series_lv;
}


switch(FEAT_TRAINS, SELF, sw_os_tm_20series_lv_desc_select, current_year){
1..2003: sw_os_tm_20series_lv_desc_old;
sw_os_tm_20series_lv_desc;
}


switch(FEAT_TRAINS, SELF, sw_os_tm_20series_main_capacity,position_in_consist_from_end){
    0: 130*param_capacity_mod/3;
    default: 140*param_capacity_mod/3;
}

switch(FEAT_TRAINS, SELF, os_tm_20series_attach_vehid, vehicle_type_id) {
  mu_car_metro: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}

item(FEAT_TRAINS, os_tm_20series,1252) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_OSAKA_METRO), "20", string(STR_NAME_SERIES));
        introduction_date: date(1976, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cargo_capacity: 130;
        loading_speed: param_loading_4D;
        cost_factor: 20;
        running_cost_factor: 50;

        speed: 90 km/h;
        track_type: TR_1435_M;
        power: 560 kW;
        weight: 30 ton;

        climates_available: param_disable_osaka == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        variant_group: 1236;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        default: sw_os_tm_20series_livery_select;
        purchase: os_tm_20series_purchase;
        can_attach_wagon: os_tm_20series_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 750)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_2, 4,8)),
  string(STR_OPERATOR, string(STR_OSAKAMETRO)),
string(STR_LINES_USED, string(STR_OSAKA_TANIMACHI)));

        cargo_subtype_text: sw_os_tm_20series_lv_desc_select;
        start_stop: sw_stop_start_2;
        cargo_capacity: 130*param_capacity_mod/3;
    }
    livery_override(mu_car_metro){
        loading_speed: param_loading_4D;
        cargo_capacity: sw_os_tm_20series_main_capacity;
        default: sw_os_tm_20series_livery_select;
        power: 753*2/5;
        weight: 32;
        length: 8;
      }
}
# 101 "src/_metro.pnml" 2
# 1 "src/metro/Osaka/tanimachi/22series.pnml" 1

spriteset(os_tm_22series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/tanimachi/22series/22series.png"){ tmpl_purchase_1c(0, 0) }
spriteset(os_tm_22series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/tanimachi/22series/22series.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, os_tm_22series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_osaka_metro; 1: logo_line_os_tani; 2: os_tm_22series_purchase_c1; 3: os_tm_22series_purchase_c2;}

spriteset(os_tm_22series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/tanimachi/22series/22series.png"){ tmpl_std(0, 0) }
spriteset(os_tm_22series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/tanimachi/22series/22series.png"){ tmpl_std_rev(0, 25) }
spriteset(os_tm_22series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/tanimachi/22series/22series.png"){ tmpl_std(0, 50) }

spriteset(os_tm_22series_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/tanimachi/22series/22series_1.png"){ tmpl_std(0, 0) }
spriteset(os_tm_22series_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/tanimachi/22series/22series_1.png"){ tmpl_std_rev(0, 25) }
spriteset(os_tm_22series_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/tanimachi/22series/22series_1.png"){ tmpl_std(0, 50) }



switch(FEAT_TRAINS, SELF, sw_os_tm_22series_end_gfx,position_in_consist_from_end){
    0: os_tm_22series_end;
    default: os_tm_22series_wag;
}
switch(FEAT_TRAINS, SELF, sw_os_tm_22series_livery_1,position_in_consist){
    0: os_tm_22series_front;
    default: sw_os_tm_22series_end_gfx;
}


switch(FEAT_TRAINS, SELF, sw_os_tm_22series_1_end_gfx,position_in_consist_from_end){
    0: os_tm_22series_1_end;
    default: os_tm_22series_1_wag;
}
switch(FEAT_TRAINS, SELF, sw_os_tm_22series_livery_2,position_in_consist){
    0: os_tm_22series_1_front;
    default: sw_os_tm_22series_1_end_gfx;
}

random_switch(FEAT_TRAINS, PARENT, sw_os_tm_22series_livery_0){
    1: sw_os_tm_22series_livery_1;
    1: sw_os_tm_22series_livery_2;
}


switch(FEAT_TRAINS, SELF, sw_os_tm_22series_lv_desc, cargo_subtype){
    0: string(LV_RANDOM);
    1: string(LV_os_tm_22series_1);
    2: string(LV_os_tm_22series_2);
}

switch(FEAT_TRAINS, PARENT, sw_os_tm_22series_lv, cargo_subtype){
    0: sw_os_tm_22series_livery_0;
    1: sw_os_tm_22series_livery_1;
    2: sw_os_tm_22series_livery_2;
}

switch(FEAT_TRAINS, SELF, sw_os_tm_22series_main_capacity,position_in_consist_from_end){
    0: 130*param_capacity_mod/3;
    default: 140*param_capacity_mod/3;
}

switch(FEAT_TRAINS, SELF, os_tm_22series_attach_vehid, vehicle_type_id) {
  mu_car_metro: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}

item(FEAT_TRAINS, os_tm_22series,1253) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_OSAKA_METRO), "22", string(STR_NAME_SERIES));
        introduction_date: date(1990, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cargo_capacity: 130;
        loading_speed: param_loading_4D;
        cost_factor: 20;
        running_cost_factor: 50;

        speed: 90 km/h;
        track_type: TR_1435_M;
        power: 560 kW;
        weight: 36 ton;

        climates_available: param_disable_osaka == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        variant_group: 1237;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        default: sw_os_tm_22series_lv;
        purchase: os_tm_22series_purchase;
        can_attach_wagon: os_tm_22series_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 750)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 6)),
  string(STR_OPERATOR, string(STR_OSAKAMETRO)),
string(STR_LINES_USED, string(STR_OSAKA_TANIMACHI)));

        cargo_subtype_text: sw_os_tm_22series_lv_desc;
        start_stop: sw_stop_start_2;
        cargo_capacity: 130*param_capacity_mod/3;
    }
    livery_override(mu_car_metro){
        loading_speed: param_loading_4D;
        cargo_capacity: sw_os_tm_22series_main_capacity;
        default: sw_os_tm_22series_lv;
        power: 753*2/5;
        weight: 32;
        length: 8;
      }
}
# 102 "src/_metro.pnml" 2
# 1 "src/metro/Osaka/tanimachi/30000series.pnml" 1

spriteset(os_tm_30000series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/tanimachi/30000series/30000series.png"){ tmpl_purchase_1c(0, 0) }
spriteset(os_tm_30000series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/tanimachi/30000series/30000series.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, os_tm_30000series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_osaka_metro; 1: logo_line_os_tani; 2: os_tm_30000series_purchase_c1; 3: os_tm_30000series_purchase_c2;}

spriteset(os_tm_30000series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/tanimachi/30000series/30000series.png"){ tmpl_std(0, 0) }
spriteset(os_tm_30000series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/tanimachi/30000series/30000series.png"){ tmpl_std_rev(0, 25) }
spriteset(os_tm_30000series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/tanimachi/30000series/30000series.png"){ tmpl_std(0, 50) }




switch(FEAT_TRAINS, SELF, sw_os_tm_30000series_end_gfx,position_in_consist_from_end){
    0: os_tm_30000series_end;
    default: os_tm_30000series_wag;
}
switch(FEAT_TRAINS, SELF, sw_os_tm_30000series_livery_1,position_in_consist){
    0: os_tm_30000series_front;
    default: sw_os_tm_30000series_end_gfx;
}


switch(FEAT_TRAINS, SELF, sw_os_tm_30000series_main_capacity,position_in_consist_from_end){
    0: 130*param_capacity_mod/3;
    default: 140*param_capacity_mod/3;
}

switch(FEAT_TRAINS, SELF, os_tm_30000series_attach_vehid, vehicle_type_id) {
  mu_car_metro: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}

item(FEAT_TRAINS, os_tm_30000series,1254) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_OSAKA_METRO), "30000", string(STR_NAME_SERIES));
        introduction_date: date(2009, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cargo_capacity: 130;
        loading_speed: param_loading_4D;
        cost_factor: 22;
        running_cost_factor: 52;

        speed: 90 km/h;
        track_type: TR_1435_M;
        power: 560 kW;
        weight: 33 ton;

        climates_available: param_disable_osaka == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        variant_group: 1238;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        default: sw_os_tm_30000series_livery_1;
        purchase: os_tm_30000series_purchase;
        can_attach_wagon: os_tm_30000series_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 750)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 6)),
  string(STR_OPERATOR, string(STR_OSAKAMETRO)),
string(STR_LINES_USED, string(STR_OSAKA_TANIMACHI)));

        start_stop: sw_stop_start_2;
        cargo_capacity: 130*param_capacity_mod/3;
    }
    livery_override(mu_car_metro){
        loading_speed: param_loading_4D;
        cargo_capacity: sw_os_tm_30000series_main_capacity;
        default: sw_os_tm_30000series_livery_1;
        power: 753*2/5;
        weight: 34;
        length: 8;
      }
}
# 103 "src/_metro.pnml" 2


# 1 "src/metro/Osaka/yotsubashi/1100type.pnml" 1

spriteset(os_yb_1100type_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/yotsubashi/1100type/1100type.png"){ tmpl_purchase_1c(0, 0) }
spriteset(os_yb_1100type_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/yotsubashi/1100type/1100type.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, os_yb_1100type_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_osaka_metro; 1: logo_line_os_yotsu; 2: os_yb_1100type_purchase_c1; 3: os_yb_1100type_purchase_c2;}

spriteset(os_yb_1100type_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/yotsubashi/1100type/1100type.png"){ tmpl_std(0, 0) }
spriteset(os_yb_1100type_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/yotsubashi/1100type/1100type.png"){ tmpl_std_rev(0, 25) }
spriteset(os_yb_1100type_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/yotsubashi/1100type/1100type.png"){ tmpl_std(0, 50) }
spriteset(os_yb_1100type_wag_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/yotsubashi/1100type/1100type.png"){ tmpl_std_rev(0, 50) }


spriteset(os_yb_1100type_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/yotsubashi/1100type/1100type_1.png"){ tmpl_std(0, 0) }
spriteset(os_yb_1100type_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/yotsubashi/1100type/1100type_1.png"){ tmpl_std_rev(0, 25) }
spriteset(os_yb_1100type_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/yotsubashi/1100type/1100type_1.png"){ tmpl_std(0, 50) }
spriteset(os_yb_1100type_1_wag_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/yotsubashi/1100type/1100type_1.png"){ tmpl_std_rev(0, 50) }




switch(FEAT_TRAINS, SELF, sw_os_yb_1100type_wag_1_gfx,position_in_consist %2){
    0: os_yb_1100type_wag;
    default: os_yb_1100type_wag_rev;
}
switch(FEAT_TRAINS, SELF, sw_os_yb_1100type_wag_rev_gfx,position_in_consist_from_end %2){
    0: os_yb_1100type_wag_rev;
    default: os_yb_1100type_wag;
}
switch(FEAT_TRAINS, PARENT, sw_os_yb_1100type_wag_gfx,vehicle_is_reversed){
    1: sw_os_yb_1100type_wag_1_gfx;
    default: sw_os_yb_1100type_wag_rev_gfx;
}

switch(FEAT_TRAINS, SELF, sw_os_yb_1100type_end_gfx,position_in_consist_from_end){
    0: os_yb_1100type_end;
    default: sw_os_yb_1100type_wag_gfx;
}
switch(FEAT_TRAINS, SELF, sw_os_yb_1100type_livery_1,position_in_consist){
    0: os_yb_1100type_front;
    default: sw_os_yb_1100type_end_gfx;
}



switch(FEAT_TRAINS, SELF, sw_os_yb_1100type_1_wag_1_gfx,position_in_consist %2){
    0: os_yb_1100type_1_wag;
    default: os_yb_1100type_1_wag_rev;
}
switch(FEAT_TRAINS, SELF, sw_os_yb_1100type_1_wag_rev_gfx,position_in_consist_from_end %2){
    0: os_yb_1100type_1_wag_rev;
    default: os_yb_1100type_1_wag;
}
switch(FEAT_TRAINS, PARENT, sw_os_yb_1100type_1_wag_gfx,vehicle_is_reversed){
    1: sw_os_yb_1100type_1_wag_1_gfx;
    default: sw_os_yb_1100type_1_wag_rev_gfx;
}

switch(FEAT_TRAINS, SELF, sw_os_yb_1100type_1_end_gfx,position_in_consist_from_end){
    0: os_yb_1100type_1_end;
    default: sw_os_yb_1100type_1_wag_gfx;
}
switch(FEAT_TRAINS, SELF, sw_os_yb_1100type_livery_2,position_in_consist){
    0: os_yb_1100type_1_front;
    default: sw_os_yb_1100type_1_end_gfx;
}


random_switch(FEAT_TRAINS, PARENT, sw_os_yb_1100type_livery_0){
    1: sw_os_yb_1100type_livery_1;
    1: sw_os_yb_1100type_livery_2;
}


switch(FEAT_TRAINS, SELF, sw_os_yb_1100type_lv_desc, cargo_subtype){
    0: string(LV_RANDOM);
    1: string(LV_os_yb_1100type_1);
    2: string(LV_os_yb_1100type_2);
}

switch(FEAT_TRAINS, PARENT, sw_os_yb_1100type_lv, cargo_subtype){
    0: sw_os_yb_1100type_livery_0;
    1: sw_os_yb_1100type_livery_1;
    2: sw_os_yb_1100type_livery_2;
}





switch(FEAT_TRAINS, SELF, os_yb_1100type_attach_vehid, vehicle_type_id) {
  mu_car_metro: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}


item(FEAT_TRAINS, os_yb_1100type,1260) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_OSAKA_METRO), "1100", string(STR_NAME_TYPE));
        introduction_date: date(1957, 1, 1);
        model_life: 35;
        vehicle_life: 35;
        reliability_decay: 10;

        cargo_capacity: 72;
        loading_speed: param_loading_3D;
        cost_factor: 19;
        running_cost_factor: 49;

        speed: 70 km/h;
        track_type: TR_1435_M;
        power: 360 kW;
        weight: 37 ton;

        climates_available: param_disable_osaka == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        variant_group: 1232;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        default: sw_os_yb_1100type_lv;
        purchase: os_yb_1100type_purchase;
        can_attach_wagon: os_yb_1100type_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 750)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_RANGE, 2,4)),
  string(STR_OPERATOR, string(STR_OSAKAMETRO)),
string(STR_LINES_USED, string(STR_OSAKA_YOTSU)));

        cargo_subtype_text: sw_os_yb_1100type_lv_desc;
        start_stop: sw_stop_start_2;
        cargo_capacity: 72*param_capacity_mod/3;
    }
    livery_override(mu_car_metro){
        loading_speed: param_loading_3D;
        cargo_capacity: 72*param_capacity_mod/3;
        default: sw_os_yb_1100type_lv;
        power: 483;
        weight: 37;
        length: 8;
      }
}
# 106 "src/_metro.pnml" 2
# 1 "src/metro/Osaka/yotsubashi/50series.pnml" 1

spriteset(os_yb_50series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/yotsubashi/50series/50series.png"){ tmpl_purchase_1c(0, 0) }
spriteset(os_yb_50series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/yotsubashi/50series/50series.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, os_yb_50series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_osaka_metro; 1: logo_line_os_yotsu; 2: os_yb_50series_purchase_c1; 3: os_yb_50series_purchase_c2;}

spriteset(os_yb_50series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/yotsubashi/50series/50series.png"){ tmpl_std(0, 0) }
spriteset(os_yb_50series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/yotsubashi/50series/50series.png"){ tmpl_std_rev(0, 25) }
spriteset(os_yb_50series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/yotsubashi/50series/50series.png"){ tmpl_std(0, 50) }
spriteset(os_yb_50series_wag_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/yotsubashi/50series/50series.png"){ tmpl_std_rev(0, 50) }


spriteset(os_yb_50series_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/yotsubashi/50series/50series_1.png"){ tmpl_std(0, 0) }
spriteset(os_yb_50series_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/yotsubashi/50series/50series_1.png"){ tmpl_std_rev(0, 25) }
spriteset(os_yb_50series_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/yotsubashi/50series/50series_1.png"){ tmpl_std(0, 50) }
spriteset(os_yb_50series_1_wag_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/yotsubashi/50series/50series_1.png"){ tmpl_std_rev(0, 50) }




switch(FEAT_TRAINS, SELF, sw_os_yb_50series_wag_1_gfx,position_in_consist %2){
    0: os_yb_50series_wag;
    default: os_yb_50series_wag_rev;
}
switch(FEAT_TRAINS, SELF, sw_os_yb_50series_wag_rev_gfx,position_in_consist_from_end %2){
    0: os_yb_50series_wag_rev;
    default: os_yb_50series_wag;
}
switch(FEAT_TRAINS, PARENT, sw_os_yb_50series_wag_gfx,vehicle_is_reversed){
    1: sw_os_yb_50series_wag_1_gfx;
    default: sw_os_yb_50series_wag_rev_gfx;
}

switch(FEAT_TRAINS, SELF, sw_os_yb_50series_end_gfx,position_in_consist_from_end){
    0: os_yb_50series_end;
    default: sw_os_yb_50series_wag_gfx;
}
switch(FEAT_TRAINS, SELF, sw_os_yb_50series_livery_1,position_in_consist){
    0: os_yb_50series_front;
    default: sw_os_yb_50series_end_gfx;
}



switch(FEAT_TRAINS, SELF, sw_os_yb_50series_1_wag_1_gfx,position_in_consist %2){
    0: os_yb_50series_1_wag;
    default: os_yb_50series_1_wag_rev;
}
switch(FEAT_TRAINS, SELF, sw_os_yb_50series_1_wag_rev_gfx,position_in_consist_from_end %2){
    0: os_yb_50series_1_wag_rev;
    default: os_yb_50series_1_wag;
}
switch(FEAT_TRAINS, PARENT, sw_os_yb_50series_1_wag_gfx,vehicle_is_reversed){
    1: sw_os_yb_50series_1_wag_1_gfx;
    default: sw_os_yb_50series_1_wag_rev_gfx;
}

switch(FEAT_TRAINS, SELF, sw_os_yb_50series_1_end_gfx,position_in_consist_from_end){
    0: os_yb_50series_1_end;
    default: sw_os_yb_50series_1_wag_gfx;
}
switch(FEAT_TRAINS, SELF, sw_os_yb_50series_livery_2,position_in_consist){
    0: os_yb_50series_1_front;
    default: sw_os_yb_50series_1_end_gfx;
}


random_switch(FEAT_TRAINS, PARENT, sw_os_yb_50series_livery_0){
    1: sw_os_yb_50series_livery_1;
    1: sw_os_yb_50series_livery_2;
}


switch(FEAT_TRAINS, SELF, sw_os_yb_50series_lv_desc, cargo_subtype){
    0: string(LV_RANDOM);
    1: string(LV_WHITE);
    2: string(LV_GREEN);
}

switch(FEAT_TRAINS, PARENT, sw_os_yb_50series_lv, cargo_subtype){
    0: sw_os_yb_50series_livery_0;
    1: sw_os_yb_50series_livery_1;
    2: sw_os_yb_50series_livery_2;
}





switch(FEAT_TRAINS, SELF, os_yb_50series_attach_vehid, vehicle_type_id) {
  mu_car_metro: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}


item(FEAT_TRAINS, os_yb_50series,1261) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_OSAKA_METRO), "50", string(STR_NAME_SERIES));
        introduction_date: date(1960, 1, 1);
        model_life: 32;
        vehicle_life: 32;
        reliability_decay: 10;

        cargo_capacity: 72;
        loading_speed: param_loading_3D;
        cost_factor: 16;
        running_cost_factor: 46;

        speed: 70 km/h;
        track_type: TR_1435_M;
        power: 360 kW;
        weight: 36 ton;

        climates_available: param_disable_osaka == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        variant_group: 1234;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        default: sw_os_yb_50series_lv;
        purchase: os_yb_50series_purchase;
        can_attach_wagon: os_yb_50series_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 750)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_RANGE, 2,4)),
  string(STR_OPERATOR, string(STR_OSAKAMETRO)),
string(STR_LINES_USED, string(STR_OSAKA_YOTSU)));

        cargo_subtype_text: sw_os_yb_50series_lv_desc;
        start_stop: sw_stop_start_2;
        cargo_capacity: 72*param_capacity_mod/3;
    }
    livery_override(mu_car_metro){
        loading_speed: param_loading_3D;
        cargo_capacity: 72*param_capacity_mod/3;
        default: sw_os_yb_50series_lv;
        power: 483;
        weight: 36;
        length: 8;
      }
}
# 107 "src/_metro.pnml" 2
# 1 "src/metro/Osaka/yotsubashi/30series.pnml" 1

spriteset(os_yb_30series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/yotsubashi/30series/30series.png"){ tmpl_purchase_1c(0, 0) }
spriteset(os_yb_30series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/yotsubashi/30series/30series.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, os_yb_30series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_osaka_metro; 1: logo_line_os_yotsu; 2: os_yb_30series_purchase_c1; 3: os_yb_30series_purchase_c2;}


spriteset(os_yb_30series_old_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/yotsubashi/30series/30series_old.png"){ tmpl_std(0, 0) }
spriteset(os_yb_30series_old_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/yotsubashi/30series/30series_old.png"){ tmpl_std_rev(0, 25) }
spriteset(os_yb_30series_old_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/yotsubashi/30series/30series_old.png"){ tmpl_std(0, 50) }


spriteset(os_yb_30series_old_al_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/yotsubashi/30series/30series_old_al.png"){ tmpl_std(0, 0) }
spriteset(os_yb_30series_old_al_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/yotsubashi/30series/30series_old_al.png"){ tmpl_std_rev(0, 25) }
spriteset(os_yb_30series_old_al_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/yotsubashi/30series/30series_old_al.png"){ tmpl_std(0, 50) }


spriteset(os_yb_30series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/yotsubashi/30series/30series.png"){ tmpl_std(0, 0) }
spriteset(os_yb_30series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/yotsubashi/30series/30series.png"){ tmpl_std_rev(0, 25) }
spriteset(os_yb_30series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/yotsubashi/30series/30series.png"){ tmpl_std(0, 50) }


spriteset(os_yb_30series_al_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/yotsubashi/30series/30series_al.png"){ tmpl_std(0, 0) }
spriteset(os_yb_30series_al_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/yotsubashi/30series/30series_al.png"){ tmpl_std_rev(0, 25) }
spriteset(os_yb_30series_al_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/yotsubashi/30series/30series_al.png"){ tmpl_std(0, 50) }




switch(FEAT_TRAINS, SELF, sw_os_yb_30series_old_end_gfx,position_in_consist_from_end){
    0: os_yb_30series_old_end;
    default: os_yb_30series_old_wag;
}
switch(FEAT_TRAINS, SELF, sw_os_yb_30series_livery_1,position_in_consist){
    0: os_yb_30series_old_front;
    default: sw_os_yb_30series_old_end_gfx;
}


switch(FEAT_TRAINS, SELF, sw_os_yb_30series_old_al_end_gfx,position_in_consist_from_end){
    0: os_yb_30series_old_al_end;
    default: os_yb_30series_old_al_wag;
}
switch(FEAT_TRAINS, SELF, sw_os_yb_30series_livery_2,position_in_consist){
    0: os_yb_30series_old_al_front;
    default: sw_os_yb_30series_old_al_end_gfx;
}

switch(FEAT_TRAINS, SELF, sw_os_yb_30series_end_gfx,position_in_consist_from_end){
    0: os_yb_30series_end;
    default: os_yb_30series_wag;
}
switch(FEAT_TRAINS, SELF, sw_os_yb_30series_livery_3,position_in_consist){
    0: os_yb_30series_front;
    default: sw_os_yb_30series_end_gfx;
}

switch(FEAT_TRAINS, SELF, sw_os_yb_30series_al_end_gfx,position_in_consist_from_end){
    0: os_yb_30series_al_end;
    default: os_yb_30series_al_wag;
}
switch(FEAT_TRAINS, SELF, sw_os_yb_30series_livery_4,position_in_consist){
    0: os_yb_30series_al_front;
    default: sw_os_yb_30series_al_end_gfx;
}


random_switch(FEAT_TRAINS, PARENT, sw_os_yb_30series_old_gfx){
    1: sw_os_yb_30series_livery_1;
    1: sw_os_yb_30series_livery_2;
}

random_switch(FEAT_TRAINS, PARENT, sw_os_yb_30series_new_gfx){
    1: sw_os_yb_30series_livery_3;
    1: sw_os_yb_30series_livery_4;
}

switch(FEAT_TRAINS, SELF, sw_os_yb_30series_livery_0, build_year){
    1..1976: sw_os_yb_30series_old_gfx;
    sw_os_yb_30series_new_gfx;
}


switch(FEAT_TRAINS, SELF, sw_os_yb_30series_lv_desc_old, cargo_subtype){
    0: string(LV_RANDOM);
    1: string(LV_os_yb_30series_1);
    2: string(LV_os_yb_30series_2);
}

switch(FEAT_TRAINS, SELF, sw_os_yb_30series_lv_desc, cargo_subtype){
    0: string(LV_RANDOM);
    1: string(LV_os_yb_30series_1);
    2: string(LV_os_yb_30series_2);
    3: string(LV_os_yb_30series_3);
    4: string(LV_os_yb_30series_4);
}

switch(FEAT_TRAINS, SELF, sw_os_yb_30series_lv_desc_select, current_year){
    1..1976: sw_os_yb_30series_lv_desc_old;
    sw_os_yb_30series_lv_desc;
}

switch(FEAT_TRAINS, SELF, sw_os_yb_30series_lv_old, cargo_subtype){
    0: sw_os_yb_30series_livery_0;
    1: sw_os_yb_30series_livery_1;
    2: sw_os_yb_30series_livery_2;
}

switch(FEAT_TRAINS, PARENT, sw_os_yb_30series_lv, cargo_subtype){
    0: sw_os_yb_30series_livery_0;
    1: sw_os_yb_30series_livery_1;
    2: sw_os_yb_30series_livery_2;
    3: sw_os_yb_30series_livery_3;
    4: sw_os_yb_30series_livery_4;
}

switch(FEAT_TRAINS, SELF, sw_os_yb_30series_lv_select, current_year){
    1..1976: sw_os_yb_30series_lv_old;
    sw_os_yb_30series_lv;
}


switch(FEAT_TRAINS, SELF, sw_os_yb_30series_main_capacity,position_in_consist_from_end){
    0: 91*param_capacity_mod/3;
    default: 95*param_capacity_mod/3;
}


switch(FEAT_TRAINS, SELF, os_yb_30series_attach_vehid, vehicle_type_id) {
  mu_car_metro: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}

item(FEAT_TRAINS, os_yb_30series,1262) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_OSAKA_METRO), "30", string(STR_NAME_SERIES));
        introduction_date: date(1967, 1, 1);
        model_life: 44;
        vehicle_life: 44;
        reliability_decay: 10;

        cargo_capacity: 91;
        loading_speed: param_loading_4D;
        cost_factor: 17;
        running_cost_factor: 47;

        speed: 80 km/h;
        track_type: TR_1435_M;
        power: 480 kW;
        weight: 30 ton;

        climates_available: param_disable_osaka == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        variant_group: 1235;

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        default: sw_os_yb_30series_lv_select;
        purchase: os_yb_30series_purchase;
        can_attach_wagon: os_yb_30series_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 750)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 5)),
  string(STR_OPERATOR, string(STR_OSAKAMETRO)),
string(STR_LINES_USED, string(STR_OSAKA_YOTSU)));

        cargo_subtype_text: sw_os_yb_30series_lv_desc_select;
        start_stop: sw_stop_start_3;
        cargo_capacity: 91*param_capacity_mod/3;

    }
    livery_override(mu_car_metro){
        loading_speed: param_loading_4D;
        cargo_capacity: sw_os_yb_30series_main_capacity;
        default: sw_os_yb_30series_lv_select;
        power: 644*3/5;
        weight: 32;
        length: 8;
      }
}
# 108 "src/_metro.pnml" 2
# 1 "src/metro/Osaka/yotsubashi/23series.pnml" 1

spriteset(os_yb_23series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/yotsubashi/23series/23series.png"){ tmpl_purchase_1c(0, 0) }
spriteset(os_yb_23series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/yotsubashi/23series/23series.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, os_yb_23series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_osaka_metro; 1: logo_line_os_yotsu; 2: os_yb_23series_purchase_c1; 3: os_yb_23series_purchase_c2;}

spriteset(os_yb_23series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/yotsubashi/23series/23series.png"){ tmpl_std(0, 0) }
spriteset(os_yb_23series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/yotsubashi/23series/23series.png"){ tmpl_std_rev(0, 25) }
spriteset(os_yb_23series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/yotsubashi/23series/23series.png"){ tmpl_std(0, 50) }

spriteset(os_yb_23series_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/yotsubashi/23series/23series_1.png"){ tmpl_std(0, 0) }
spriteset(os_yb_23series_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/yotsubashi/23series/23series_1.png"){ tmpl_std_rev(0, 25) }
spriteset(os_yb_23series_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/yotsubashi/23series/23series_1.png"){ tmpl_std(0, 50) }



switch(FEAT_TRAINS, SELF, sw_os_yb_23series_end_gfx,position_in_consist_from_end){
    0: os_yb_23series_end;
    default: os_yb_23series_wag;
}
switch(FEAT_TRAINS, SELF, sw_os_yb_23series_livery_1,position_in_consist){
    0: os_yb_23series_front;
    default: sw_os_yb_23series_end_gfx;
}


switch(FEAT_TRAINS, SELF, sw_os_yb_23series_1_end_gfx,position_in_consist_from_end){
    0: os_yb_23series_1_end;
    default: os_yb_23series_1_wag;
}
switch(FEAT_TRAINS, SELF, sw_os_yb_23series_livery_2,position_in_consist){
    0: os_yb_23series_1_front;
    default: sw_os_yb_23series_1_end_gfx;
}

random_switch(FEAT_TRAINS, PARENT, sw_os_yb_23series_livery_0){
    1: sw_os_yb_23series_livery_1;
    1: sw_os_yb_23series_livery_2;
}


switch(FEAT_TRAINS, SELF, sw_os_yb_23series_lv_desc, cargo_subtype){
    0: string(LV_RANDOM);
    1: string(LV_os_yb_23series_1);
    2: string(LV_os_yb_23series_2);
}

switch(FEAT_TRAINS, PARENT, sw_os_yb_23series_lv, cargo_subtype){
    0: sw_os_yb_23series_livery_0;
    1: sw_os_yb_23series_livery_1;
    2: sw_os_yb_23series_livery_2;
}

switch(FEAT_TRAINS, SELF, sw_os_yb_23series_main_capacity,position_in_consist_from_end){
    0: 130*param_capacity_mod/3;
    default: 140*param_capacity_mod/3;
}

switch(FEAT_TRAINS, SELF, os_yb_23series_attach_vehid, vehicle_type_id) {
  mu_car_metro: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}

item(FEAT_TRAINS, os_yb_23series,1263) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_OSAKA_METRO), "23", string(STR_NAME_SERIES));
        introduction_date: date(1990, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cargo_capacity: 130;
        loading_speed: param_loading_4D;
        cost_factor: 20;
        running_cost_factor: 50;

        speed: 90 km/h;
        track_type: TR_1435_M;
        power: 560 kW;
        weight: 36 ton;

        climates_available: param_disable_osaka == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        variant_group: 1237;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        default: sw_os_yb_23series_lv;
        purchase: os_yb_23series_purchase;
        can_attach_wagon: os_yb_23series_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 750)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 6)),
  string(STR_OPERATOR, string(STR_OSAKAMETRO)),
string(STR_LINES_USED, string(STR_OSAKA_YOTSU)));

        cargo_subtype_text: sw_os_yb_23series_lv_desc;
        start_stop: sw_stop_start_2;
        cargo_capacity: 130*param_capacity_mod/3;
    }
    livery_override(mu_car_metro){
        loading_speed: param_loading_4D;
        cargo_capacity: sw_os_yb_23series_main_capacity;
        default: sw_os_yb_23series_lv;
        power: 753*2/5;
        weight: 32;
        length: 8;
      }
}
# 109 "src/_metro.pnml" 2


# 1 "src/metro/Osaka/chuo/6000type.pnml" 1

spriteset(os_ch_6000type_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/chuo/6000type/6000type.png"){ tmpl_purchase_1c(0, 0) }
spriteset(os_ch_6000type_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/chuo/6000type/6000type.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, os_ch_6000type_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_osaka_metro; 1: logo_line_os_chuo; 2: os_ch_6000type_purchase_c1; 3: os_ch_6000type_purchase_c2;}

spriteset(os_ch_6000type_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/chuo/6000type/6000type.png"){ tmpl_std(0, 0) }
spriteset(os_ch_6000type_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/chuo/6000type/6000type.png"){ tmpl_std_rev(0, 25) }
spriteset(os_ch_6000type_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/chuo/6000type/6000type.png"){ tmpl_std(0, 50) }
spriteset(os_ch_6000type_wag_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/chuo/6000type/6000type.png"){ tmpl_std_rev(0, 50) }
spriteset(os_ch_6000type_single, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/chuo/6000type/6000type.png"){ tmpl_std(0, 75) }



switch(FEAT_TRAINS, SELF, sw_os_ch_6000type_wag_1_gfx,position_in_consist %2){
    0: os_ch_6000type_wag;
    default: os_ch_6000type_wag_rev;
}
switch(FEAT_TRAINS, SELF, sw_os_ch_6000type_wag_rev_gfx,position_in_consist_from_end %2){
    0: os_ch_6000type_wag_rev;
    default: os_ch_6000type_wag;
}
switch(FEAT_TRAINS, PARENT, sw_os_ch_6000type_wag_gfx,vehicle_is_reversed){
    1: sw_os_ch_6000type_wag_1_gfx;
    default: sw_os_ch_6000type_wag_rev_gfx;
}

switch(FEAT_TRAINS, SELF, sw_os_ch_6000type_end_gfx,position_in_consist_from_end){
    0: os_ch_6000type_end;
    default: sw_os_ch_6000type_wag_gfx;
}
switch(FEAT_TRAINS, SELF, sw_os_ch_6000type_livery_1,position_in_consist){
    0: os_ch_6000type_front;
    default: sw_os_ch_6000type_end_gfx;
}

switch(FEAT_TRAINS, PARENT, sw_os_ch_6000type_length_check,num_vehs_in_consist){
    1: os_ch_6000type_single;
    sw_os_ch_6000type_livery_1;
}






switch(FEAT_TRAINS, SELF, os_ch_6000type_attach_vehid, vehicle_type_id) {
  mu_car_metro: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}

item(FEAT_TRAINS, os_ch_6000type,1270) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_OSAKA_METRO), "6000", string(STR_NAME_TYPE));
        introduction_date: date(1961, 1, 1);
        model_life: 22;
        vehicle_life: 32;
        reliability_decay: 10;

        cargo_capacity: 72;
        loading_speed: param_loading_3D;
        cost_factor: 16;
        running_cost_factor: 46;

        speed: 65 km/h;
        track_type: TR_1435_M;
        power: 360 kW;
        weight: 36 ton;

        climates_available: param_disable_osaka == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        default: sw_os_ch_6000type_length_check;
        purchase: os_ch_6000type_purchase;
        can_attach_wagon: os_ch_6000type_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 750)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_RANGE, 1,4)),
  string(STR_OPERATOR, string(STR_OSAKAMETRO)),
string(STR_LINES_USED, string(STR_OSAKA_CHUO)));


        cargo_capacity: 72*param_capacity_mod/3;
    }
    livery_override(mu_car_metro){
        loading_speed: param_loading_3D;
        cargo_capacity: 72*param_capacity_mod/3;
        default: sw_os_ch_6000type_length_check;
        power: 753*2/5;
        weight: 34;
        length: 8;
      }
}
# 112 "src/_metro.pnml" 2
# 1 "src/metro/Osaka/chuo/50series.pnml" 1

spriteset(os_ch_50series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/chuo/50series/50series.png"){ tmpl_purchase_1c(0, 0) }
spriteset(os_ch_50series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/chuo/50series/50series.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, os_ch_50series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_osaka_metro; 1: logo_line_os_chuo; 2: os_ch_50series_purchase_c1; 3: os_ch_50series_purchase_c2;}


spriteset(os_ch_50series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/chuo/50series/50series.png"){ tmpl_std(0, 0) }
spriteset(os_ch_50series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/chuo/50series/50series.png"){ tmpl_std_rev(0, 25) }
spriteset(os_ch_50series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/chuo/50series/50series.png"){ tmpl_std(0, 50) }
spriteset(os_ch_50series_wag_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/chuo/50series/50series.png"){ tmpl_std_rev(0, 50) }


spriteset(os_ch_50series_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/chuo/50series/50series_1.png"){ tmpl_std(0, 0) }
spriteset(os_ch_50series_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/chuo/50series/50series_1.png"){ tmpl_std_rev(0, 25) }
spriteset(os_ch_50series_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/chuo/50series/50series_1.png"){ tmpl_std(0, 50) }
spriteset(os_ch_50series_1_wag_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/chuo/50series/50series_1.png"){ tmpl_std_rev(0, 50) }




switch(FEAT_TRAINS, SELF, sw_os_ch_50series_wag_1_gfx,position_in_consist %2){
    0: os_ch_50series_wag;
    default: os_ch_50series_wag_rev;
}
switch(FEAT_TRAINS, SELF, sw_os_ch_50series_wag_rev_gfx,position_in_consist_from_end %2){
    0: os_ch_50series_wag_rev;
    default: os_ch_50series_wag;
}
switch(FEAT_TRAINS, PARENT, sw_os_ch_50series_wag_gfx,vehicle_is_reversed){
    1: sw_os_ch_50series_wag_1_gfx;
    default: sw_os_ch_50series_wag_rev_gfx;
}

switch(FEAT_TRAINS, SELF, sw_os_ch_50series_end_gfx,position_in_consist_from_end){
    0: os_ch_50series_end;
    default: sw_os_ch_50series_wag_gfx;
}
switch(FEAT_TRAINS, SELF, sw_os_ch_50series_livery_1,position_in_consist){
    0: os_ch_50series_front;
    default: sw_os_ch_50series_end_gfx;
}



switch(FEAT_TRAINS, SELF, sw_os_ch_50series_1_wag_1_gfx,position_in_consist %2){
    0: os_ch_50series_1_wag;
    default: os_ch_50series_1_wag_rev;
}
switch(FEAT_TRAINS, SELF, sw_os_ch_50series_1_wag_rev_gfx,position_in_consist_from_end %2){
    0: os_ch_50series_1_wag_rev;
    default: os_ch_50series_1_wag;
}
switch(FEAT_TRAINS, PARENT, sw_os_ch_50series_1_wag_gfx,vehicle_is_reversed){
    1: sw_os_ch_50series_1_wag_1_gfx;
    default: sw_os_ch_50series_1_wag_rev_gfx;
}

switch(FEAT_TRAINS, SELF, sw_os_ch_50series_1_end_gfx,position_in_consist_from_end){
    0: os_ch_50series_1_end;
    default: sw_os_ch_50series_1_wag_gfx;
}
switch(FEAT_TRAINS, SELF, sw_os_ch_50series_livery_2,position_in_consist){
    0: os_ch_50series_1_front;
    default: sw_os_ch_50series_1_end_gfx;
}


random_switch(FEAT_TRAINS, PARENT, sw_os_ch_50series_livery_0){
    1: sw_os_ch_50series_livery_1;
    1: sw_os_ch_50series_livery_2;
}


switch(FEAT_TRAINS, SELF, sw_os_ch_50series_lv_desc, cargo_subtype){
    0: string(LV_RANDOM);
    1: string(LV_WHITE);
    2: string(LV_GREEN);
}

switch(FEAT_TRAINS, PARENT, sw_os_ch_50series_lv, cargo_subtype){
    0: sw_os_ch_50series_livery_0;
    1: sw_os_ch_50series_livery_1;
    2: sw_os_ch_50series_livery_2;
}





switch(FEAT_TRAINS, SELF, os_ch_50series_attach_vehid, vehicle_type_id) {
  mu_car_metro: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}


item(FEAT_TRAINS, os_ch_50series,1271) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_OSAKA_METRO), "50", string(STR_NAME_SERIES));
        introduction_date: date(1967, 1, 1);
        model_life: 25;
        vehicle_life: 32;
        reliability_decay: 10;

        cargo_capacity: 72;
        loading_speed: param_loading_3D;
        cost_factor: 16;
        running_cost_factor: 46;

        speed: 70 km/h;
        track_type: TR_1435_M;
        power: 360 kW;
        weight: 36 ton;

        climates_available: param_disable_osaka == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        variant_group: 1234;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        default: sw_os_ch_50series_lv;
        purchase: os_ch_50series_purchase;
        can_attach_wagon: os_ch_50series_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 750)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 4)),
  string(STR_OPERATOR, string(STR_OSAKAMETRO)),
string(STR_LINES_USED, string(STR_OSAKA_CHUO)));

        cargo_subtype_text: sw_os_ch_50series_lv_desc;
        start_stop: sw_stop_start_2;
        cargo_capacity: 72*param_capacity_mod/3;
    }
    livery_override(mu_car_metro){
        loading_speed: param_loading_3D;
        cargo_capacity: 72*param_capacity_mod/3;
        default: sw_os_ch_50series_lv;
        power: 483;
        weight: 36;
        length: 8;
      }
}
# 113 "src/_metro.pnml" 2
# 1 "src/metro/Osaka/chuo/30series.pnml" 1

spriteset(os_ch_30series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/chuo/30series/30series.png"){ tmpl_purchase_1c(0, 0) }
spriteset(os_ch_30series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/chuo/30series/30series.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, os_ch_30series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_osaka_metro; 1: logo_line_os_chuo; 2: os_ch_30series_purchase_c1; 3: os_ch_30series_purchase_c2;}


spriteset(os_ch_30series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/chuo/30series/30series.png"){ tmpl_std(0, 0) }
spriteset(os_ch_30series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/chuo/30series/30series.png"){ tmpl_std_rev(0, 25) }
spriteset(os_ch_30series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/chuo/30series/30series.png"){ tmpl_std(0, 50) }


spriteset(os_ch_30series_al_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/chuo/30series/30series_al.png"){ tmpl_std(0, 0) }
spriteset(os_ch_30series_al_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/chuo/30series/30series_al.png"){ tmpl_std_rev(0, 25) }
spriteset(os_ch_30series_al_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/chuo/30series/30series_al.png"){ tmpl_std(0, 50) }




switch(FEAT_TRAINS, SELF, sw_os_ch_30series_end_gfx,position_in_consist_from_end){
    0: os_ch_30series_end;
    default: os_ch_30series_wag;
}
switch(FEAT_TRAINS, SELF, sw_os_ch_30series_livery_1,position_in_consist){
    0: os_ch_30series_front;
    default: sw_os_ch_30series_end_gfx;
}


switch(FEAT_TRAINS, SELF, sw_os_ch_30series_al_end_gfx,position_in_consist_from_end){
    0: os_ch_30series_al_end;
    default: os_ch_30series_al_wag;
}
switch(FEAT_TRAINS, SELF, sw_os_ch_30series_livery_2,position_in_consist){
    0: os_ch_30series_al_front;
    default: sw_os_ch_30series_al_end_gfx;
}


random_switch(FEAT_TRAINS, PARENT, sw_os_ch_30series_livery_0){
    1: sw_os_ch_30series_livery_1;
    1: sw_os_ch_30series_livery_2;
}

switch(FEAT_TRAINS, SELF, sw_os_ch_30series_lv_desc, cargo_subtype){
    0: string(LV_RANDOM);
    1: string(LV_STEEL);
    2: string(LV_ALUMI);
}

switch(FEAT_TRAINS, PARENT, sw_os_ch_30series_lv, cargo_subtype){
    0: sw_os_ch_30series_livery_0;
    1: sw_os_ch_30series_livery_1;
    2: sw_os_ch_30series_livery_2;
}


switch(FEAT_TRAINS, SELF, sw_os_ch_30series_main_capacity,position_in_consist_from_end){
    0: 91*param_capacity_mod/3;
    default: 95*param_capacity_mod/3;
}


switch(FEAT_TRAINS, SELF, os_ch_30series_attach_vehid, vehicle_type_id) {
  mu_car_metro: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}

item(FEAT_TRAINS, os_ch_30series,1272) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_OSAKA_METRO), "30", string(STR_NAME_SERIES));
        introduction_date: date(1970, 1, 1);
        model_life: 44;
        vehicle_life: 44;
        reliability_decay: 10;

        cargo_capacity: 91;
        loading_speed: param_loading_4D;
        cost_factor: 17;
        running_cost_factor: 47;

        speed: 80 km/h;
        track_type: TR_1435_M;
        power: 480 kW;
        weight: 30 ton;

        climates_available: param_disable_osaka == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        variant_group: 1235;

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        default: sw_os_ch_30series_lv;
        purchase: os_ch_30series_purchase;
        can_attach_wagon: os_ch_30series_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 750)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_2, 4,6)),
  string(STR_OPERATOR, string(STR_OSAKAMETRO)),
string(STR_LINES_USED, string(STR_OSAKA_CHUO)));

        cargo_subtype_text: sw_os_ch_30series_lv_desc;
        start_stop: sw_stop_start_3;
        cargo_capacity: 91*param_capacity_mod/3;

    }
    livery_override(mu_car_metro){
        loading_speed: param_loading_4D;
        cargo_capacity: sw_os_ch_30series_main_capacity;
        default: sw_os_ch_30series_lv;
        power: 644*3/5;
        weight: 32;
        length: 8;
      }
}
# 114 "src/_metro.pnml" 2
# 1 "src/metro/Osaka/chuo/20series.pnml" 1

spriteset(os_ch_20series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/chuo/20series/20series.png"){ tmpl_purchase_1c(0, 0) }
spriteset(os_ch_20series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/chuo/20series/20series.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, os_ch_20series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_osaka_metro; 1: logo_line_os_chuo; 2: os_ch_20series_purchase_c1; 3: os_ch_20series_purchase_c2;}

spriteset(os_ch_20series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/chuo/20series/20series.png"){ tmpl_std(0, 0) }
spriteset(os_ch_20series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/chuo/20series/20series.png"){ tmpl_std_rev(0, 25) }
spriteset(os_ch_20series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/chuo/20series/20series.png"){ tmpl_std(0, 50) }



switch(FEAT_TRAINS, SELF, sw_os_ch_20series_end_gfx,position_in_consist_from_end){
    0: os_ch_20series_end;
    default: os_ch_20series_wag;
}
switch(FEAT_TRAINS, SELF, sw_os_ch_20series_livery_1,position_in_consist){
    0: os_ch_20series_front;
    default: sw_os_ch_20series_end_gfx;
}


switch(FEAT_TRAINS, SELF, sw_os_ch_20series_main_capacity,position_in_consist_from_end){
    0: 130*param_capacity_mod/3;
    default: 140*param_capacity_mod/3;
}

switch(FEAT_TRAINS, SELF, os_ch_20series_attach_vehid, vehicle_type_id) {
  mu_car_metro: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}

item(FEAT_TRAINS, os_ch_20series,1273) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_OSAKA_METRO), "20", string(STR_NAME_SERIES));
        introduction_date: date(1984, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cargo_capacity: 130;
        loading_speed: param_loading_4D;
        cost_factor: 20;
        running_cost_factor: 50;

        speed: 90 km/h;
        track_type: TR_1435_M;
        power: 560 kW;
        weight: 35 ton;

        climates_available: param_disable_osaka == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        variant_group: 1236;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        default: sw_os_ch_20series_livery_1;
        purchase: os_ch_20series_purchase;
        can_attach_wagon: os_ch_20series_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 750)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_2, 4,6)),
  string(STR_OPERATOR, string(STR_OSAKAMETRO)),
string(STR_LINES_USED, string(STR_OSAKA_CHUO)));

        start_stop: sw_stop_start_2;
        cargo_capacity: 130*param_capacity_mod/3;
    }
    livery_override(mu_car_metro){
        loading_speed: param_loading_4D;
        cargo_capacity: sw_os_ch_20series_main_capacity;
        default: sw_os_ch_20series_livery_1;
        power: 753*2/5;
        weight: 31;
        length: 8;
      }
}
# 115 "src/_metro.pnml" 2
# 1 "src/metro/Osaka/chuo/24series.pnml" 1

spriteset(os_ch_24series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/chuo/24series/24series.png"){ tmpl_purchase_1c(0, 0) }
spriteset(os_ch_24series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/chuo/24series/24series.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, os_ch_24series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_osaka_metro; 1: logo_line_os_chuo; 2: os_ch_24series_purchase_c1; 3: os_ch_24series_purchase_c2;}

spriteset(os_ch_24series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/chuo/24series/24series.png"){ tmpl_std(0, 0) }
spriteset(os_ch_24series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/chuo/24series/24series.png"){ tmpl_std_rev(0, 25) }
spriteset(os_ch_24series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/chuo/24series/24series.png"){ tmpl_std(0, 50) }

spriteset(os_ch_24series_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/chuo/24series/24series_1.png"){ tmpl_std(0, 0) }
spriteset(os_ch_24series_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/chuo/24series/24series_1.png"){ tmpl_std_rev(0, 25) }
spriteset(os_ch_24series_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/chuo/24series/24series_1.png"){ tmpl_std(0, 50) }



switch(FEAT_TRAINS, SELF, sw_os_ch_24series_end_gfx,position_in_consist_from_end){
    0: os_ch_24series_end;
    default: os_ch_24series_wag;
}
switch(FEAT_TRAINS, SELF, sw_os_ch_24series_livery_1,position_in_consist){
    0: os_ch_24series_front;
    default: sw_os_ch_24series_end_gfx;
}


switch(FEAT_TRAINS, SELF, sw_os_ch_24series_1_end_gfx,position_in_consist_from_end){
    0: os_ch_24series_1_end;
    default: os_ch_24series_1_wag;
}
switch(FEAT_TRAINS, SELF, sw_os_ch_24series_livery_2,position_in_consist){
    0: os_ch_24series_1_front;
    default: sw_os_ch_24series_1_end_gfx;
}

random_switch(FEAT_TRAINS, PARENT, sw_os_ch_24series_livery_0){
    1: sw_os_ch_24series_livery_1;
    1: sw_os_ch_24series_livery_2;
}


switch(FEAT_TRAINS, SELF, sw_os_ch_24series_lv_desc, cargo_subtype){
    0: string(LV_RANDOM);
    1: string(LV_DEFAULT);
    2: string(LV_DATED, string(LV_RENEW), 2015);
}

switch(FEAT_TRAINS, PARENT, sw_os_ch_24series_lv, cargo_subtype){
    0: sw_os_ch_24series_livery_0;
    1: sw_os_ch_24series_livery_1;
    2: sw_os_ch_24series_livery_2;
}

switch(FEAT_TRAINS, SELF, sw_os_ch_24series_main_capacity,position_in_consist_from_end){
    0: 130*param_capacity_mod/3;
    default: 140*param_capacity_mod/3;
}

switch(FEAT_TRAINS, SELF, os_ch_24series_attach_vehid, vehicle_type_id) {
  mu_car_metro: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}

item(FEAT_TRAINS, os_ch_24series,1274) {
    property {
        cargo_capacity: 130;
        climates_available: param_disable_osaka == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        name: string(STR_TRAIN_NAME, string(STR_NAME_OSAKA_METRO), "24", string(STR_NAME_SERIES));
        introduction_date: date(1991, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;
        variant_group: 1237;

        cost_factor: 20;
        running_cost_factor: 50;
        speed: 90 km/h;
        track_type: TR_1435_M;
        power: 560 kW;
        weight: 36 ton;
        loading_speed: param_loading_4D;
    }
 graphics {
        default: sw_os_ch_24series_lv;
        purchase: os_ch_24series_purchase;
        can_attach_wagon: os_ch_24series_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 750)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 6)),
  string(STR_OPERATOR, string(STR_OSAKAMETRO)),
string(STR_LINES_USED, string(STR_OSAKA_CHUO)));

        cargo_subtype_text: sw_os_ch_24series_lv_desc;
        start_stop: sw_stop_start_2;
        cargo_capacity: 130*param_capacity_mod/3;
    }
    livery_override(mu_car_metro){
        loading_speed: param_loading_4D;
        cargo_capacity: sw_os_ch_24series_main_capacity;
        default: sw_os_ch_24series_lv;
        power: 753*2/5;
        weight: 32;
        length: 8;
      }
}
# 116 "src/_metro.pnml" 2
# 1 "src/metro/Osaka/chuo/30000series_a.pnml" 1

spriteset(os_ch_30000series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/chuo/30000a/30000a.png"){ tmpl_purchase_1c(0, 0) }
spriteset(os_ch_30000series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/chuo/30000a/30000a.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, os_ch_30000series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_osaka_metro; 1: logo_line_os_chuo; 2: os_ch_30000series_purchase_c1; 3: os_ch_30000series_purchase_c2;}

spriteset(os_ch_30000series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/chuo/30000a/30000a.png"){ tmpl_std(0, 0) }
spriteset(os_ch_30000series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/chuo/30000a/30000a.png"){ tmpl_std_rev(0, 25) }
spriteset(os_ch_30000series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/chuo/30000a/30000a.png"){ tmpl_std(0, 50) }




switch(FEAT_TRAINS, SELF, sw_os_ch_30000series_end_gfx,position_in_consist_from_end){
    0: os_ch_30000series_end;
    default: os_ch_30000series_wag;
}
switch(FEAT_TRAINS, SELF, sw_os_ch_30000series_livery_1,position_in_consist){
    0: os_ch_30000series_front;
    default: sw_os_ch_30000series_end_gfx;
}


switch(FEAT_TRAINS, SELF, sw_os_ch_30000series_main_capacity,position_in_consist_from_end){
    0: 130*param_capacity_mod/3;
    default: 140*param_capacity_mod/3;
}

switch(FEAT_TRAINS, SELF, os_ch_30000series_attach_vehid, vehicle_type_id) {
  mu_car_metro: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}

item(FEAT_TRAINS, os_ch_30000series,1275) {
    property {
        cargo_capacity: 130;
        climates_available: param_disable_osaka == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        name: string(STR_TRAIN_NAME, string(STR_NAME_OSAKA_METRO), "30000", string(STR_NAME_SERIES));
        introduction_date: date(2022, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;
        variant_group: 1238;

        cost_factor: 22;
        running_cost_factor: 52;
        speed: 90 km/h;
        track_type: TR_1435_M;
        power: 560 kW;
        weight: 33 ton;
        loading_speed: param_loading_4D;
    }
 graphics {
        default: sw_os_ch_30000series_livery_1;
        purchase: os_ch_30000series_purchase;
        can_attach_wagon: os_ch_30000series_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 750)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 6)),
  string(STR_OPERATOR, string(STR_OSAKAMETRO)),
string(STR_LINES_USED, string(STR_OSAKA_CHUO)));

        start_stop: sw_stop_start_2;
        cargo_capacity: 130*param_capacity_mod/3;
    }
    livery_override(mu_car_metro){
        loading_speed: param_loading_4D;
        cargo_capacity: sw_os_ch_30000series_main_capacity;
        default: sw_os_ch_30000series_livery_1;
        power: 753*2/5;
        weight: 34;
        length: 8;
      }
}
# 117 "src/_metro.pnml" 2
# 1 "src/metro/Osaka/chuo/400series.pnml" 1

spriteset(os_ch_400series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/chuo/400series/400series.png"){ tmpl_purchase_1c(0, 0) }
spriteset(os_ch_400series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/chuo/400series/400series.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, os_ch_400series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_osaka_metro; 1: logo_line_os_chuo; 2: os_ch_400series_purchase_c1; 3: os_ch_400series_purchase_c2;}

spriteset(os_ch_400series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/chuo/400series/400series.png"){ tmpl_std(0, 0) }
spriteset(os_ch_400series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/chuo/400series/400series.png"){ tmpl_std_rev(0, 25) }
spriteset(os_ch_400series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/chuo/400series/400series.png"){ tmpl_std(0, 50) }



switch(FEAT_TRAINS, SELF, sw_os_ch_400series_end_gfx,position_in_consist_from_end){
    0: os_ch_400series_end;
    default: os_ch_400series_wag;
}
switch(FEAT_TRAINS, SELF, sw_os_ch_400series_livery_1,position_in_consist){
    0: os_ch_400series_front;
    default: sw_os_ch_400series_end_gfx;
}


switch(FEAT_TRAINS, SELF, sw_os_ch_400series_main_capacity,position_in_consist_from_end){
    0: 135*param_capacity_mod/3;
    default: 140*param_capacity_mod/3;
}

switch(FEAT_TRAINS, SELF, os_ch_400series_attach_vehid, vehicle_type_id) {
  mu_car_metro: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}

item(FEAT_TRAINS, os_ch_400series,1276) {
    property {
        cargo_capacity: 135;
        climates_available: param_disable_osaka == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        name: string(STR_TRAIN_NAME, string(STR_NAME_OSAKA_METRO), "400", string(STR_NAME_SERIES));
        introduction_date: date(2022, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cost_factor: 23;
        running_cost_factor: 53;
        speed: 90 km/h;
        track_type: TR_1435_M;
        power: 560 kW;
        weight: 34 ton;
        loading_speed: param_loading_4D;
    }
 graphics {
        default: sw_os_ch_400series_livery_1;
        purchase: os_ch_400series_purchase;
        can_attach_wagon: os_ch_400series_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 750)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 6)),
  string(STR_OPERATOR, string(STR_OSAKAMETRO)),
string(STR_LINES_USED, string(STR_OSAKA_CHUO)));

        start_stop: sw_stop_start_3;
        cargo_capacity: 135*param_capacity_mod/3;
    }
    livery_override(mu_car_metro){
        loading_speed: param_loading_4D;
        cargo_capacity: sw_os_ch_400series_main_capacity;
        default: sw_os_ch_400series_livery_1;
        power: 753*2/5;
        weight: 34;
        length: 8;
      }
}
# 118 "src/_metro.pnml" 2
# 1 "src/metro/Osaka/chuo/kintetsu7000.pnml" 1

spriteset(os_ch_kintetsu7000_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/chuo/kintetsu7000/kintetsu7000.png"){ tmpl_purchase_1c(0, 0) }
spriteset(os_ch_kintetsu7000_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/chuo/kintetsu7000/kintetsu7000.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, os_ch_kintetsu7000_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_kintetsu; 1: os_ch_kintetsu7000_purchase_c1; 2: os_ch_kintetsu7000_purchase_c2;}

spriteset(os_ch_kintetsu7000_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/chuo/kintetsu7000/kintetsu7000.png"){ tmpl_std(0, 0) }
spriteset(os_ch_kintetsu7000_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/chuo/kintetsu7000/kintetsu7000.png"){ tmpl_std_rev(0, 25) }
spriteset(os_ch_kintetsu7000_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/chuo/kintetsu7000/kintetsu7000.png"){ tmpl_std(0, 50) }




switch(FEAT_TRAINS, SELF, sw_os_ch_kintetsu7000_end_gfx,position_in_consist_from_end){
    0: os_ch_kintetsu7000_end;
    default: os_ch_kintetsu7000_wag;
}
switch(FEAT_TRAINS, SELF, sw_os_ch_kintetsu7000_livery_1,position_in_consist){
    0: os_ch_kintetsu7000_front;
    default: sw_os_ch_kintetsu7000_end_gfx;
}


switch(FEAT_TRAINS, SELF, sw_os_ch_kintetsu7000_main_capacity,position_in_consist_from_end){
    0: 125*param_capacity_mod/3;
    default: 135*param_capacity_mod/3;
}

switch(FEAT_TRAINS, SELF, os_ch_kintetsu7000_attach_vehid, vehicle_type_id) {
  mu_car_metro: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}

item(FEAT_TRAINS, os_ch_kintetsu7000,1277) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_KINTETSU), "7000", string(STR_NAME_TYPE));
        cargo_capacity: 130;
        climates_available: param_disable_osaka == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        introduction_date: date(1984, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cost_factor: 21;
        running_cost_factor: 51;
        speed: 90 km/h;
        track_type: TR_1435_M;
        power: 560 kW;
        weight: 32 ton;
        loading_speed: param_loading_4D;
    }
 graphics {
        default: sw_os_ch_kintetsu7000_livery_1;
        purchase: os_ch_kintetsu7000_purchase;
        can_attach_wagon: os_ch_kintetsu7000_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 750)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 6)),
  string(STR_OPERATOR, string(STR_KINTETSU)),
  string(STR_LINES_USED, string(STR_OSAKA_KEIHANNA)));

        start_stop: sw_stop_start_3;
        cargo_capacity: 125*param_capacity_mod/3;
    }
    livery_override(mu_car_metro){
        loading_speed: param_loading_4D;
        cargo_capacity: sw_os_ch_kintetsu7000_main_capacity;
        default: sw_os_ch_kintetsu7000_livery_1;
        power: 753*2/5;
        weight: 35;
        length: 8;
      }
}
# 119 "src/_metro.pnml" 2


# 1 "src/metro/Osaka/sennichimae/1100type.pnml" 1

spriteset(os_sn_1100type_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/sennichimae/1100type/1100type.png"){ tmpl_purchase_1c(0, 0) }
spriteset(os_sn_1100type_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/sennichimae/1100type/1100type.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, os_sn_1100type_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_osaka_metro; 1: logo_line_os_sennichi; 2: os_sn_1100type_purchase_c1; 3: os_sn_1100type_purchase_c2;}


spriteset(os_sn_1100type_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/sennichimae/1100type/1100type.png"){ tmpl_std(0, 0) }
spriteset(os_sn_1100type_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/sennichimae/1100type/1100type.png"){ tmpl_std_rev(0, 25) }
spriteset(os_sn_1100type_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/sennichimae/1100type/1100type.png"){ tmpl_std(0, 50) }
spriteset(os_sn_1100type_wag_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/sennichimae/1100type/1100type.png"){ tmpl_std_rev(0, 50) }


spriteset(os_sn_1100type_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/sennichimae/1100type/1100type_1.png"){ tmpl_std(0, 0) }
spriteset(os_sn_1100type_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/sennichimae/1100type/1100type_1.png"){ tmpl_std_rev(0, 25) }
spriteset(os_sn_1100type_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/sennichimae/1100type/1100type_1.png"){ tmpl_std(0, 50) }
spriteset(os_sn_1100type_1_wag_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/sennichimae/1100type/1100type_1.png"){ tmpl_std_rev(0, 50) }




switch(FEAT_TRAINS, SELF, sw_os_sn_1100type_wag_1_gfx,position_in_consist %2){
    0: os_sn_1100type_wag;
    default: os_sn_1100type_wag_rev;
}
switch(FEAT_TRAINS, SELF, sw_os_sn_1100type_wag_rev_gfx,position_in_consist_from_end %2){
    0: os_sn_1100type_wag_rev;
    default: os_sn_1100type_wag;
}
switch(FEAT_TRAINS, PARENT, sw_os_sn_1100type_wag_gfx,vehicle_is_reversed){
    1: sw_os_sn_1100type_wag_1_gfx;
    default: sw_os_sn_1100type_wag_rev_gfx;
}

switch(FEAT_TRAINS, SELF, sw_os_sn_1100type_end_gfx,position_in_consist_from_end){
    0: os_sn_1100type_end;
    default: sw_os_sn_1100type_wag_gfx;
}
switch(FEAT_TRAINS, SELF, sw_os_sn_1100type_livery_1,position_in_consist){
    0: os_sn_1100type_front;
    default: sw_os_sn_1100type_end_gfx;
}



switch(FEAT_TRAINS, SELF, sw_os_sn_1100type_1_wag_1_gfx,position_in_consist %2){
    0: os_sn_1100type_1_wag;
    default: os_sn_1100type_1_wag_rev;
}
switch(FEAT_TRAINS, SELF, sw_os_sn_1100type_1_wag_rev_gfx,position_in_consist_from_end %2){
    0: os_sn_1100type_1_wag_rev;
    default: os_sn_1100type_1_wag;
}
switch(FEAT_TRAINS, PARENT, sw_os_sn_1100type_1_wag_gfx,vehicle_is_reversed){
    1: sw_os_sn_1100type_1_wag_1_gfx;
    default: sw_os_sn_1100type_1_wag_rev_gfx;
}

switch(FEAT_TRAINS, SELF, sw_os_sn_1100type_1_end_gfx,position_in_consist_from_end){
    0: os_sn_1100type_1_end;
    default: sw_os_sn_1100type_1_wag_gfx;
}
switch(FEAT_TRAINS, SELF, sw_os_sn_1100type_livery_2,position_in_consist){
    0: os_sn_1100type_1_front;
    default: sw_os_sn_1100type_1_end_gfx;
}


random_switch(FEAT_TRAINS, PARENT, sw_os_sn_1100type_livery_0){
    1: sw_os_sn_1100type_livery_1;
    1: sw_os_sn_1100type_livery_2;
}


switch(FEAT_TRAINS, SELF, sw_os_sn_1100type_lv_desc, cargo_subtype){
    0: string(LV_RANDOM);
    1: string(LV_WHITE);
    2: string(LV_GREEN);
}

switch(FEAT_TRAINS, PARENT, sw_os_sn_1100type_lv, cargo_subtype){
    0: sw_os_sn_1100type_livery_0;
    1: sw_os_sn_1100type_livery_1;
    2: sw_os_sn_1100type_livery_2;
}


switch(FEAT_TRAINS, SELF, sw_os_sn_1100type_main_capacity,position_in_consist_from_end){
    0: 72*param_capacity_mod/3;
    default: 74*param_capacity_mod/3;
}


switch(FEAT_TRAINS, SELF, os_sn_1100type_attach_vehid, vehicle_type_id) {
  mu_car_metro: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}


item(FEAT_TRAINS, os_sn_1100type,1280) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_OSAKA_METRO), "1100", string(STR_NAME_TYPE));
        introduction_date: date(1957, 1, 1);
        model_life: 35;
        vehicle_life: 35;
        reliability_decay: 10;

        cargo_capacity: 72;
        loading_speed: param_loading_3D;
        cost_factor: 19;
        running_cost_factor: 49;

        speed: 70 km/h;
        track_type: TR_1435_M;
        power: 360 kW;
        weight: 36 ton;

        climates_available: param_disable_osaka == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        variant_group: 1232;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        default: sw_os_sn_1100type_lv;
        purchase: os_sn_1100type_purchase;
        can_attach_wagon: os_sn_1100type_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 750)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_RANGE, 2,4)),
  string(STR_OPERATOR, string(STR_OSAKAMETRO)),
string(STR_LINES_USED, string(STR_OSAKA_SENNICHI)));

        cargo_subtype_text: sw_os_sn_1100type_lv_desc;
        start_stop: sw_stop_start_2;
        cargo_capacity: 72*param_capacity_mod/3;
    }
    livery_override(mu_car_metro){
        loading_speed: param_loading_3D;
        cargo_capacity: sw_os_sn_1100type_main_capacity;
        default: sw_os_sn_1100type_lv;
        power: 483;
        weight: 36;
        length: 8;
      }
}
# 122 "src/_metro.pnml" 2
# 1 "src/metro/Osaka/sennichimae/50series.pnml" 1

spriteset(os_sn_50series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/sennichimae/50series/50series.png"){ tmpl_purchase_1c(0, 0) }
spriteset(os_sn_50series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/sennichimae/50series/50series.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, os_sn_50series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_osaka_metro; 1: logo_line_os_sennichi; 2: os_sn_50series_purchase_c1; 3: os_sn_50series_purchase_c2;}

spriteset(os_sn_50series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/sennichimae/50series/50series.png"){ tmpl_std(0, 0) }
spriteset(os_sn_50series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/sennichimae/50series/50series.png"){ tmpl_std_rev(0, 25) }
spriteset(os_sn_50series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/sennichimae/50series/50series.png"){ tmpl_std(0, 50) }
spriteset(os_sn_50series_wag_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/sennichimae/50series/50series.png"){ tmpl_std_rev(0, 50) }


spriteset(os_sn_50series_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/sennichimae/50series/50series_1.png"){ tmpl_std(0, 0) }
spriteset(os_sn_50series_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/sennichimae/50series/50series_1.png"){ tmpl_std_rev(0, 25) }
spriteset(os_sn_50series_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/sennichimae/50series/50series_1.png"){ tmpl_std(0, 50) }
spriteset(os_sn_50series_1_wag_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/sennichimae/50series/50series_1.png"){ tmpl_std_rev(0, 50) }




switch(FEAT_TRAINS, SELF, sw_os_sn_50series_wag_1_gfx,position_in_consist %2){
    0: os_sn_50series_wag;
    default: os_sn_50series_wag_rev;
}
switch(FEAT_TRAINS, SELF, sw_os_sn_50series_wag_rev_gfx,position_in_consist_from_end %2){
    0: os_sn_50series_wag_rev;
    default: os_sn_50series_wag;
}
switch(FEAT_TRAINS, PARENT, sw_os_sn_50series_wag_gfx,vehicle_is_reversed){
    1: sw_os_sn_50series_wag_1_gfx;
    default: sw_os_sn_50series_wag_rev_gfx;
}

switch(FEAT_TRAINS, SELF, sw_os_sn_50series_end_gfx,position_in_consist_from_end){
    0: os_sn_50series_end;
    default: sw_os_sn_50series_wag_gfx;
}
switch(FEAT_TRAINS, SELF, sw_os_sn_50series_livery_1,position_in_consist){
    0: os_sn_50series_front;
    default: sw_os_sn_50series_end_gfx;
}



switch(FEAT_TRAINS, SELF, sw_os_sn_50series_1_wag_1_gfx,position_in_consist %2){
    0: os_sn_50series_1_wag;
    default: os_sn_50series_1_wag_rev;
}
switch(FEAT_TRAINS, SELF, sw_os_sn_50series_1_wag_rev_gfx,position_in_consist_from_end %2){
    0: os_sn_50series_1_wag_rev;
    default: os_sn_50series_1_wag;
}
switch(FEAT_TRAINS, PARENT, sw_os_sn_50series_1_wag_gfx,vehicle_is_reversed){
    1: sw_os_sn_50series_1_wag_1_gfx;
    default: sw_os_sn_50series_1_wag_rev_gfx;
}

switch(FEAT_TRAINS, SELF, sw_os_sn_50series_1_end_gfx,position_in_consist_from_end){
    0: os_sn_50series_1_end;
    default: sw_os_sn_50series_1_wag_gfx;
}
switch(FEAT_TRAINS, SELF, sw_os_sn_50series_livery_2,position_in_consist){
    0: os_sn_50series_1_front;
    default: sw_os_sn_50series_1_end_gfx;
}


random_switch(FEAT_TRAINS, PARENT, sw_os_sn_50series_livery_0){
    1: sw_os_sn_50series_livery_1;
    1: sw_os_sn_50series_livery_2;
}


switch(FEAT_TRAINS, SELF, sw_os_sn_50series_lv_desc, cargo_subtype){
    0: string(LV_RANDOM);
    1: string(LV_WHITE);
    2: string(LV_GREEN);
}

switch(FEAT_TRAINS, PARENT, sw_os_sn_50series_lv, cargo_subtype){
    0: sw_os_sn_50series_livery_0;
    1: sw_os_sn_50series_livery_1;
    2: sw_os_sn_50series_livery_2;
}





switch(FEAT_TRAINS, SELF, os_sn_50series_attach_vehid, vehicle_type_id) {
  mu_car_metro: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}


item(FEAT_TRAINS, os_sn_50series,1281) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_OSAKA_METRO), "50", string(STR_NAME_SERIES));
        introduction_date: date(1967, 1, 1);
        model_life: 25;
        vehicle_life: 32;
        reliability_decay: 10;

        cargo_capacity: 72;
        loading_speed: param_loading_3D;
        cost_factor: 16;
        running_cost_factor: 46;

        speed: 70 km/h;
        track_type: TR_1435_M;
        power: 360 kW;
        weight: 36 ton;

        climates_available: param_disable_osaka == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        variant_group: 1234;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        default: sw_os_sn_50series_lv;
        purchase: os_sn_50series_purchase;
        can_attach_wagon: os_sn_50series_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 750)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 4)),
  string(STR_OPERATOR, string(STR_OSAKAMETRO)),
string(STR_LINES_USED, string(STR_OSAKA_SENNICHI)));

        cargo_subtype_text: sw_os_sn_50series_lv_desc;
        start_stop: sw_stop_start_2;
        cargo_capacity: 72*param_capacity_mod/3;
    }
    livery_override(mu_car_metro){
        loading_speed: param_loading_3D;
        cargo_capacity: 72*param_capacity_mod/3;
        default: sw_os_sn_50series_lv;
        power: 483;
        weight: 36;
        length: 8;
      }
}
# 123 "src/_metro.pnml" 2
# 1 "src/metro/Osaka/sennichimae/30series.pnml" 1

spriteset(os_sn_30series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/sennichimae/30series/30series.png"){ tmpl_purchase_1c(0, 0) }
spriteset(os_sn_30series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/sennichimae/30series/30series.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, os_sn_30series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_osaka_metro; 1: logo_line_os_sennichi; 2: os_sn_30series_purchase_c1; 3: os_sn_30series_purchase_c2;}


spriteset(os_sn_30series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/sennichimae/30series/30series.png"){ tmpl_std(0, 0) }
spriteset(os_sn_30series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/sennichimae/30series/30series.png"){ tmpl_std_rev(0, 25) }
spriteset(os_sn_30series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/sennichimae/30series/30series.png"){ tmpl_std(0, 50) }


spriteset(os_sn_30series_al_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/sennichimae/30series/30series_al.png"){ tmpl_std(0, 0) }
spriteset(os_sn_30series_al_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/sennichimae/30series/30series_al.png"){ tmpl_std_rev(0, 25) }
spriteset(os_sn_30series_al_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/sennichimae/30series/30series_al.png"){ tmpl_std(0, 50) }




switch(FEAT_TRAINS, SELF, sw_os_sn_30series_end_gfx,position_in_consist_from_end){
    0: os_sn_30series_end;
    default: os_sn_30series_wag;
}
switch(FEAT_TRAINS, SELF, sw_os_sn_30series_livery_1,position_in_consist){
    0: os_sn_30series_front;
    default: sw_os_sn_30series_end_gfx;
}


switch(FEAT_TRAINS, SELF, sw_os_sn_30series_al_end_gfx,position_in_consist_from_end){
    0: os_sn_30series_al_end;
    default: os_sn_30series_al_wag;
}
switch(FEAT_TRAINS, SELF, sw_os_sn_30series_livery_2,position_in_consist){
    0: os_sn_30series_al_front;
    default: sw_os_sn_30series_al_end_gfx;
}


random_switch(FEAT_TRAINS, PARENT, sw_os_sn_30series_livery_0){
    1: sw_os_sn_30series_livery_1;
    1: sw_os_sn_30series_livery_2;
}

switch(FEAT_TRAINS, SELF, sw_os_sn_30series_lv_desc, cargo_subtype){
    0: string(LV_RANDOM);
    1: string(LV_STEEL);
    2: string(LV_ALUMI);
}

switch(FEAT_TRAINS, PARENT, sw_os_sn_30series_lv, cargo_subtype){
    0: sw_os_sn_30series_livery_0;
    1: sw_os_sn_30series_livery_1;
    2: sw_os_sn_30series_livery_2;
}


switch(FEAT_TRAINS, SELF, sw_os_sn_30series_main_capacity,position_in_consist_from_end){
    0: 91*param_capacity_mod/3;
    default: 95*param_capacity_mod/3;
}


switch(FEAT_TRAINS, SELF, os_sn_30series_attach_vehid, vehicle_type_id) {
  mu_car_metro: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}

item(FEAT_TRAINS, os_sn_30series,1282) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_OSAKA_METRO), "30", string(STR_NAME_SERIES));
        introduction_date: date(1967, 1, 1);
        model_life: 44;
        vehicle_life: 44;
        reliability_decay: 10;

        cargo_capacity: 91;
        loading_speed: param_loading_4D;
        cost_factor: 17;
        running_cost_factor: 47;

        speed: 80 km/h;
        track_type: TR_1435_M;
        power: 480 kW;
        weight: 30 ton;

        climates_available: param_disable_osaka == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        variant_group: 1235;

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        default: sw_os_sn_30series_lv;
        purchase: os_sn_30series_purchase;
        can_attach_wagon: os_sn_30series_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 750)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 4)),
  string(STR_OPERATOR, string(STR_OSAKAMETRO)),
string(STR_LINES_USED, string(STR_OSAKA_SENNICHI)));

        cargo_subtype_text: sw_os_sn_30series_lv_desc;
        start_stop: sw_stop_start_3;
        cargo_capacity: 91*param_capacity_mod/3;

    }
    livery_override(mu_car_metro){
        loading_speed: param_loading_4D;
        cargo_capacity: sw_os_sn_30series_main_capacity;
        default: sw_os_sn_30series_lv;
        power: 644*3/5;
        weight: 32;
        length: 8;
      }
}
# 124 "src/_metro.pnml" 2
# 1 "src/metro/Osaka/sennichimae/25series.pnml" 1

spriteset(os_sn_25series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/sennichimae/25series/25series.png"){ tmpl_purchase_1c(0, 0) }
spriteset(os_sn_25series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/sennichimae/25series/25series.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, os_sn_25series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_osaka_metro; 1: logo_line_os_sennichi; 2: os_sn_25series_purchase_c1; 3: os_sn_25series_purchase_c2;}

spriteset(os_sn_25series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/sennichimae/25series/25series.png"){ tmpl_std(0, 0) }
spriteset(os_sn_25series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/sennichimae/25series/25series.png"){ tmpl_std_rev(0, 25) }
spriteset(os_sn_25series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/sennichimae/25series/25series.png"){ tmpl_std(0, 50) }

spriteset(os_sn_25series_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/sennichimae/25series/25series_1.png"){ tmpl_std(0, 0) }
spriteset(os_sn_25series_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/sennichimae/25series/25series_1.png"){ tmpl_std_rev(0, 25) }
spriteset(os_sn_25series_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/sennichimae/25series/25series_1.png"){ tmpl_std(0, 50) }



switch(FEAT_TRAINS, SELF, sw_os_sn_25series_end_gfx,position_in_consist_from_end){
    0: os_sn_25series_end;
    default: os_sn_25series_wag;
}
switch(FEAT_TRAINS, SELF, sw_os_sn_25series_livery_1,position_in_consist){
    0: os_sn_25series_front;
    default: sw_os_sn_25series_end_gfx;
}


switch(FEAT_TRAINS, SELF, sw_os_sn_25series_1_end_gfx,position_in_consist_from_end){
    0: os_sn_25series_1_end;
    default: os_sn_25series_1_wag;
}
switch(FEAT_TRAINS, SELF, sw_os_sn_25series_livery_2,position_in_consist){
    0: os_sn_25series_1_front;
    default: sw_os_sn_25series_1_end_gfx;
}

random_switch(FEAT_TRAINS, PARENT, sw_os_sn_25series_livery_0){
    1: sw_os_sn_25series_livery_1;
    1: sw_os_sn_25series_livery_2;
}


switch(FEAT_TRAINS, SELF, sw_os_sn_25series_lv_desc, cargo_subtype){
    0: string(LV_RANDOM);
    1: string(LV_os_sn_25series_1);
    2: string(LV_os_sn_25series_2);
}

switch(FEAT_TRAINS, PARENT, sw_os_sn_25series_lv, cargo_subtype){
    0: sw_os_sn_25series_livery_0;
    1: sw_os_sn_25series_livery_1;
    2: sw_os_sn_25series_livery_2;
}

switch(FEAT_TRAINS, SELF, sw_os_sn_25series_main_capacity,position_in_consist_from_end){
    0: 130*param_capacity_mod/3;
    default: 140*param_capacity_mod/3;
}

switch(FEAT_TRAINS, SELF, os_sn_25series_attach_vehid, vehicle_type_id) {
  mu_car_metro: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}

item(FEAT_TRAINS, os_sn_25series,1283) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_OSAKA_METRO), "25", string(STR_NAME_SERIES));
        introduction_date: date(1991, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cargo_capacity: 130;
        loading_speed: param_loading_4D;
        cost_factor: 20;
        running_cost_factor: 50;

        speed: 90 km/h;
        track_type: TR_1435_M;
        power: 560 kW;
        weight: 36 ton;

        climates_available: param_disable_osaka == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        variant_group: 1237;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        default: sw_os_sn_25series_lv;
        purchase: os_sn_25series_purchase;
        can_attach_wagon: os_sn_25series_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 750)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 4)),
  string(STR_OPERATOR, string(STR_OSAKAMETRO)),
string(STR_LINES_USED, string(STR_OSAKA_SENNICHI)));

        cargo_subtype_text: sw_os_sn_25series_lv_desc;
        start_stop: sw_stop_start_2;
        cargo_capacity: 130*param_capacity_mod/3;
    }
    livery_override(mu_car_metro){
        loading_speed: param_loading_4D;
        cargo_capacity: sw_os_sn_25series_main_capacity;
        default: sw_os_sn_25series_lv;
        power: 753/3;
        weight: 32;
        length: 8;
      }
}
# 125 "src/_metro.pnml" 2


# 1 "src/metro/Osaka/hankyoto/60series.pnml" 1

spriteset(os_hk_60series_purchase_c1_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/hankyoto/60series/60series_old.png"){ tmpl_purchase_1c(0, 0) }
spriteset(os_hk_60series_purchase_c2_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/hankyoto/60series/60series_old.png"){ tmpl_purchase_2c(0, 50) }
spriteset(os_hk_60series_purchase_c1_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/hankyoto/60series/60series.png"){ tmpl_purchase_1c(0, 0) }
spriteset(os_hk_60series_purchase_c2_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/hankyoto/60series/60series.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, os_hk_60series_purchase_c1, current_year>1989){
   1: os_hk_60series_purchase_c1_1;
   os_hk_60series_purchase_c1_2;
 }
switch(FEAT_TRAINS, SELF, os_hk_60series_purchase_c2, current_year>1989){
   1: os_hk_60series_purchase_c2_1;
   os_hk_60series_purchase_c2_2;
 }
switch(FEAT_TRAINS, SELF, os_hk_60series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_osaka_metro; 1: logo_line_os_sakai; 2: os_hk_60series_purchase_c1; 3: os_hk_60series_purchase_c2;}


spriteset(os_hk_60series_old_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/hankyoto/60series/60series_old.png"){ tmpl_std(0, 0) }
spriteset(os_hk_60series_old_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/hankyoto/60series/60series_old.png"){ tmpl_std_rev(0, 25) }
spriteset(os_hk_60series_old_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/hankyoto/60series/60series_old.png"){ tmpl_std(0, 50) }
spriteset(os_hk_60series_old_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/hankyoto/60series/60series_old.png"){ tmpl_std_rev(0, 50) }
spriteset(os_hk_60series_old_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/hankyoto/60series/60series_old.png"){ tmpl_std(0, 75) }
spriteset(os_hk_60series_old_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/hankyoto/60series/60series_old.png"){ tmpl_std(0, 100) }
spriteset(os_hk_60series_old_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/hankyoto/60series/60series_old.png"){ tmpl_std_rev(0, 125) }


spriteset(os_hk_60series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/hankyoto/60series/60series.png"){ tmpl_std(0, 0) }
spriteset(os_hk_60series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/hankyoto/60series/60series.png"){ tmpl_std_rev(0, 25) }
spriteset(os_hk_60series_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/hankyoto/60series/60series.png"){ tmpl_std(0, 50) }
spriteset(os_hk_60series_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/hankyoto/60series/60series.png"){ tmpl_std_rev(0, 50) }
spriteset(os_hk_60series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/hankyoto/60series/60series.png"){ tmpl_std(0, 75) }
spriteset(os_hk_60series_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/hankyoto/60series/60series.png"){ tmpl_std(0, 100) }
spriteset(os_hk_60series_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/hankyoto/60series/60series.png"){ tmpl_std_rev(0, 125) }



switch(FEAT_TRAINS, SELF, sw_os_hk_60series_old_panto_placer,position_in_consist %8){
    1: os_hk_60series_old_mot_rev;
    5: os_hk_60series_old_mot_rev;
    7: os_hk_60series_old_mot_rev;
    os_hk_60series_old_wag;
}
switch(FEAT_TRAINS, SELF, sw_os_hk_60series_old_panto_placer_rev,position_in_consist_from_end %8){
    1: os_hk_60series_old_mot;
    5: os_hk_60series_old_mot;
    7: os_hk_60series_old_mot;
    os_hk_60series_old_wag;
}
switch(FEAT_TRAINS, PARENT, sw_os_hk_60series_old_panto_reverse_check,vehicle_is_reversed){
    1: sw_os_hk_60series_old_panto_placer_rev;
    sw_os_hk_60series_old_panto_placer;
}


switch(FEAT_TRAINS, PARENT, sw_os_hk_60series_old_front_reverse_check,vehicle_is_reversed){
    1: os_hk_60series_old_front_mot;
    os_hk_60series_old_front;
}
switch(FEAT_TRAINS, PARENT, sw_os_hk_60series_old_end_reverse_check,vehicle_is_reversed){
    1: os_hk_60series_old_end;
    os_hk_60series_old_end_mot;
}
switch(FEAT_TRAINS, SELF, sw_os_hk_60series_old_end_gfx,position_in_consist_from_end){
    0: sw_os_hk_60series_old_end_reverse_check;
    default: sw_os_hk_60series_old_panto_reverse_check;
}
switch(FEAT_TRAINS, SELF, sw_os_hk_60series_livery_1,position_in_consist){
    0: sw_os_hk_60series_old_front_reverse_check;
    default: sw_os_hk_60series_old_end_gfx;
}

switch(FEAT_TRAINS, SELF, sw_os_hk_60series_panto_placer,position_in_consist %8){
    1: os_hk_60series_mot_rev;
    5: os_hk_60series_mot_rev;
    7: os_hk_60series_mot_rev;
    os_hk_60series_wag;
}
switch(FEAT_TRAINS, SELF, sw_os_hk_60series_panto_placer_rev,position_in_consist_from_end %8){
    1: os_hk_60series_mot;
    5: os_hk_60series_mot;
    7: os_hk_60series_mot;
    os_hk_60series_wag;
}
switch(FEAT_TRAINS, PARENT, sw_os_hk_60series_panto_reverse_check,vehicle_is_reversed){
    1: sw_os_hk_60series_panto_placer_rev;
    sw_os_hk_60series_panto_placer;
}


switch(FEAT_TRAINS, PARENT, sw_os_hk_60series_front_reverse_check,vehicle_is_reversed){
    1: os_hk_60series_front_mot;
    os_hk_60series_front;
}
switch(FEAT_TRAINS, PARENT, sw_os_hk_60series_end_reverse_check,vehicle_is_reversed){
    1: os_hk_60series_end;
    os_hk_60series_end_mot;
}
switch(FEAT_TRAINS, SELF, sw_os_hk_60series_end_gfx,position_in_consist_from_end){
    0: sw_os_hk_60series_end_reverse_check;
    default: sw_os_hk_60series_panto_reverse_check;
}
switch(FEAT_TRAINS, SELF, sw_os_hk_60series_livery_2,position_in_consist){
    0: sw_os_hk_60series_front_reverse_check;
    default: sw_os_hk_60series_end_gfx;
}


switch(FEAT_TRAINS, SELF, sw_os_hk_60series_livery_0,current_year>1989){
    1: sw_os_hk_60series_livery_2;
    sw_os_hk_60series_livery_1;
}

switch(FEAT_TRAINS, SELF, sw_os_hk_60series_lv_desc, cargo_subtype){
    0: string(LV_RANDOM);
    1: string(LV_OLD);
    2: string(LV_DATED, string(LV_MODERN), 1990);
}

switch(FEAT_TRAINS, SELF, sw_os_hk_60series_lv, cargo_subtype){
    0: sw_os_hk_60series_livery_0;
    1: sw_os_hk_60series_livery_1;
    2: sw_os_hk_60series_livery_2;
}


switch(FEAT_TRAINS, SELF, sw_os_hk_60series_main_capacity,position_in_consist_from_end){
    0: 135*param_capacity_mod/3;
    default: 150*param_capacity_mod/3;
}

switch(FEAT_TRAINS, SELF, os_hk_60series_attach_vehid, vehicle_type_id) {
  mu_car: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}

item(FEAT_TRAINS, os_hk_60series,1290) {
    property {
        cargo_capacity: 130;
        climates_available: param_disable_osaka == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        name: string(STR_TRAIN_NAME, string(STR_NAME_OSAKA_METRO), "60", string(STR_NAME_SERIES));
        introduction_date: date(1969, 1, 1);
        model_life: 35;
        vehicle_life: 35;
        reliability_decay: 10;

        cost_factor: 20;
        running_cost_factor: 50;
        speed: 100 km/h;
        track_type: TR_1435_DC;
        power: 480 kW;
        weight: 25 ton;
        loading_speed: param_loading_3D;
    }
 graphics {
        default: sw_os_hk_60series_lv;
        purchase: os_hk_60series_purchase;
        can_attach_wagon: os_hk_60series_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_3, 5,6,8)),
  string(STR_OPERATOR, string(STR_OSAKAMETRO)),
string(STR_LINES_USED, string(STR_OSAKA_SAKAISUJI)));

        cargo_subtype_text: sw_os_hk_60series_lv_desc;
        start_stop: sw_stop_start_2;
        cargo_capacity: 135*param_capacity_mod/3;
    }
    livery_override(mu_car){
        loading_speed: param_loading_3D;
        cargo_capacity: sw_os_hk_60series_main_capacity;
        default: sw_os_hk_60series_lv;
        power: 643*5/7;
        weight: 31;
        length: 8;
      }
}
# 128 "src/_metro.pnml" 2
# 1 "src/metro/Osaka/hankyoto/66series.pnml" 1

spriteset(os_hk_66series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/hankyoto/66series/66series.png"){ tmpl_purchase_1c(0, 0) }
spriteset(os_hk_66series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/hankyoto/66series/66series.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, os_hk_66series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_osaka_metro; 1: logo_line_os_sakai; 2: os_hk_66series_purchase_c1; 3: os_hk_66series_purchase_c2;}


spriteset(os_hk_66series_old_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/hankyoto/66series/66series_old.png"){ tmpl_std(0, 0) }
spriteset(os_hk_66series_old_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/hankyoto/66series/66series_old.png"){ tmpl_std_rev(0, 25) }
spriteset(os_hk_66series_old_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/hankyoto/66series/66series_old.png"){ tmpl_std(0, 50) }
spriteset(os_hk_66series_old_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/hankyoto/66series/66series_old.png"){ tmpl_std(0, 75) }


spriteset(os_hk_66series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/hankyoto/66series/66series.png"){ tmpl_std(0, 0) }
spriteset(os_hk_66series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/hankyoto/66series/66series.png"){ tmpl_std_rev(0, 25) }
spriteset(os_hk_66series_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/hankyoto/66series/66series.png"){ tmpl_std(0, 50) }
spriteset(os_hk_66series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/hankyoto/66series/66series.png"){ tmpl_std(0, 75) }




switch(FEAT_TRAINS, SELF, sw_os_hk_66series_old_panto_placer_long,position_in_consist %4){
    1: os_hk_66series_old_mot;
    os_hk_66series_old_wag;
}
switch(FEAT_TRAINS, SELF, sw_os_hk_66series_old_panto_placer_long_rev,position_in_consist_from_end %4){
    1: os_hk_66series_old_mot;
    os_hk_66series_old_wag;
}
switch(FEAT_TRAINS, PARENT, sw_os_hk_66series_old_panto_rev_checker,vehicle_is_reversed){
    1: sw_os_hk_66series_old_panto_placer_long_rev;
    sw_os_hk_66series_old_panto_placer_long;
}

switch(FEAT_TRAINS, SELF, sw_os_hk_66series_old_length_checker,num_vehs_in_consist >8){
    1:sw_os_hk_66series_old_panto_rev_checker;
    os_hk_66series_old_wag;
}

switch(FEAT_TRAINS, SELF, sw_os_hk_66series_old_end_gfx,position_in_consist_from_end){
    0: os_hk_66series_old_end;
    1: os_hk_66series_old_mot;
    default: sw_os_hk_66series_old_length_checker;
}
switch(FEAT_TRAINS, SELF, sw_os_hk_66series_livery_1,position_in_consist){
    0: os_hk_66series_old_front;
    1: os_hk_66series_old_mot;
    default: sw_os_hk_66series_old_end_gfx;
}


switch(FEAT_TRAINS, SELF, sw_os_hk_66series_panto_placer_long,position_in_consist %4){
    1: os_hk_66series_mot;
    os_hk_66series_wag;
}
switch(FEAT_TRAINS, SELF, sw_os_hk_66series_panto_placer_long_rev,position_in_consist_from_end %4){
    1: os_hk_66series_mot;
    os_hk_66series_wag;
}
switch(FEAT_TRAINS, PARENT, sw_os_hk_66series_panto_rev_checker,vehicle_is_reversed){
    1: sw_os_hk_66series_panto_placer_long_rev;
    sw_os_hk_66series_panto_placer_long;
}

switch(FEAT_TRAINS, SELF, sw_os_hk_66series_length_checker,num_vehs_in_consist >8){
    1:sw_os_hk_66series_panto_rev_checker;
    os_hk_66series_wag;
}

switch(FEAT_TRAINS, SELF, sw_os_hk_66series_end_gfx,position_in_consist_from_end){
    0: os_hk_66series_end;
    1: os_hk_66series_mot;
    default: sw_os_hk_66series_length_checker;
}
switch(FEAT_TRAINS, SELF, sw_os_hk_66series_livery_2,position_in_consist){
    0: os_hk_66series_front;
    1: os_hk_66series_mot;
    default: sw_os_hk_66series_end_gfx;
}
random_switch(FEAT_TRAINS, PARENT, sw_os_hk_66series_livery_0_gfx){
    1: sw_os_hk_66series_livery_1;
    1: sw_os_hk_66series_livery_2;
}

switch(FEAT_TRAINS, SELF, sw_os_hk_66series_livery_0,current_year>2017){
    1: sw_os_hk_66series_livery_0_gfx;
    sw_os_hk_66series_livery_1;
}

switch(FEAT_TRAINS, SELF, sw_os_hk_66series_lv_desc, cargo_subtype){
    0: string(LV_RANDOM);

    1: string(LV_OLD);
    2: string(LV_DATED, string(LV_RENEW), 2018);
}

switch(FEAT_TRAINS, SELF, sw_os_hk_66series_lv, cargo_subtype){
    0: sw_os_hk_66series_livery_0;
    1: sw_os_hk_66series_livery_1;
    2: sw_os_hk_66series_livery_2;
}


switch(FEAT_TRAINS, SELF, sw_os_hk_66series_main_capacity,position_in_consist_from_end){
    0: 134*param_capacity_mod/3;
    default: 140*param_capacity_mod/3;
}

switch(FEAT_TRAINS, SELF, os_hk_66series_attach_vehid, vehicle_type_id) {
  mu_car: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}

item(FEAT_TRAINS, os_hk_66series,1291) {
    property {
        cargo_capacity: 130;
        climates_available: param_disable_osaka == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        name: string(STR_TRAIN_NAME, string(STR_NAME_OSAKA_METRO), "66", string(STR_NAME_SERIES));
        introduction_date: date(1990, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 35;
        reliability_decay: 10;

        cost_factor: 21;
        running_cost_factor: 51;
        speed: 110 km/h;
        track_type: TR_1435_DC;
        power: 480 kW;
        weight: 23 ton;
        loading_speed: param_loading_3D;
    }
 graphics {
        default: sw_os_hk_66series_lv;
        purchase: os_hk_66series_purchase;
        can_attach_wagon: os_hk_66series_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 8)),
  string(STR_OPERATOR, string(STR_OSAKAMETRO)),
string(STR_LINES_USED, string(STR_OSAKA_SAKAISUJI)));

        cargo_subtype_text: sw_os_hk_66series_lv_desc;
        start_stop: sw_stop_start_3;
        cargo_capacity: 134*param_capacity_mod/3;
    }
    livery_override(mu_car){
        loading_speed: param_loading_3D;
        cargo_capacity: sw_os_hk_66series_main_capacity;
        default: sw_os_hk_66series_lv;
        power: 643*5/7;
        weight: 29;
        length: 8;
      }
}
# 129 "src/_metro.pnml" 2


# 1 "src/metro/Osaka/tsurumi/70series.pnml" 1

spriteset(os_ts_70series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/tsurumi/70series/70series.png"){ tmpl_purchase_1c(0, 0) }
spriteset(os_ts_70series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/tsurumi/70series/70series.png"){ tmpl_purchase_2c(0, 75) }
switch(FEAT_TRAINS, SELF, os_ts_70series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_osaka_metro; 1: logo_line_os_tsurumi; 2: os_ts_70series_purchase_c1; 3: os_ts_70series_purchase_c2;}



spriteset(os_ts_70series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/tsurumi/70series/70series.png"){ tmpl_std(0, 0) }
spriteset(os_ts_70series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/tsurumi/70series/70series.png"){ tmpl_std_rev(0, 25) }
spriteset(os_ts_70series_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/tsurumi/70series/70series.png"){ tmpl_std(0, 50) }
spriteset(os_ts_70series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/tsurumi/70series/70series.png"){ tmpl_std(0, 75) }



spriteset(os_ts_70series_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/tsurumi/70series/70series_1.png"){ tmpl_std(0, 0) }
spriteset(os_ts_70series_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/tsurumi/70series/70series_1.png"){ tmpl_std_rev(0, 25) }
spriteset(os_ts_70series_1_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/tsurumi/70series/70series_1.png"){ tmpl_std(0, 50) }
spriteset(os_ts_70series_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/tsurumi/70series/70series_1.png"){ tmpl_std(0, 75) }



spriteset(os_ts_70series_2_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/tsurumi/70series/70series_2.png"){ tmpl_std(0, 0) }
spriteset(os_ts_70series_2_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/tsurumi/70series/70series_2.png"){ tmpl_std_rev(0, 25) }
spriteset(os_ts_70series_2_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/tsurumi/70series/70series_2.png"){ tmpl_std(0, 50) }
spriteset(os_ts_70series_2_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/tsurumi/70series/70series_2.png"){ tmpl_std(0, 75) }




switch(FEAT_TRAINS, SELF, sw_os_ts_70series_panto_placer,position_in_consist %5){
    3: os_ts_70series_mot;
    os_ts_70series_wag;
}
switch(FEAT_TRAINS, SELF, sw_os_ts_70series_panto_placer_rev,position_in_consist_from_end %5){
    3: os_ts_70series_mot;
    os_ts_70series_wag;
}

switch(FEAT_TRAINS, SELF, sw_os_ts_70series_panto_placer_6,position_in_consist){
    2: os_ts_70series_mot;
    os_ts_70series_wag;
}

switch(FEAT_TRAINS, PARENT, sw_os_ts_70series_panto_reverse_check,vehicle_is_reversed){
    1: sw_os_ts_70series_panto_placer;
    sw_os_ts_70series_panto_placer_rev;
}
switch(FEAT_TRAINS, SELF, sw_os_ts_70series_panto_gfx,num_vehs_in_consist){
    5: sw_os_ts_70series_panto_placer_6;
    sw_os_ts_70series_panto_reverse_check;
}

switch(FEAT_TRAINS, SELF, sw_os_ts_70series_end_gfx,position_in_consist_from_end){
    0: os_ts_70series_end;
    1: os_ts_70series_wag;
    default: sw_os_ts_70series_panto_gfx;
}
switch(FEAT_TRAINS, SELF, sw_os_ts_70series_livery_1,position_in_consist){
    0: os_ts_70series_front;
    1: os_ts_70series_wag;
    default: sw_os_ts_70series_end_gfx;
}


switch(FEAT_TRAINS, SELF, sw_os_ts_70series_1_panto_placer,position_in_consist %5){
    3: os_ts_70series_1_mot;
    os_ts_70series_1_wag;
}
switch(FEAT_TRAINS, SELF, sw_os_ts_70series_1_panto_placer_rev,position_in_consist_from_end %5){
    3: os_ts_70series_1_mot;
    os_ts_70series_1_wag;
}

switch(FEAT_TRAINS, SELF, sw_os_ts_70series_1_panto_placer_6,position_in_consist){
    2: os_ts_70series_1_mot;
    os_ts_70series_1_wag;
}

switch(FEAT_TRAINS, PARENT, sw_os_ts_70series_1_panto_reverse_check,vehicle_is_reversed){
    1: sw_os_ts_70series_1_panto_placer;
    sw_os_ts_70series_1_panto_placer_rev;
}
switch(FEAT_TRAINS, SELF, sw_os_ts_70series_1_panto_gfx,num_vehs_in_consist){
    5: sw_os_ts_70series_1_panto_placer_6;
    sw_os_ts_70series_1_panto_reverse_check;
}

switch(FEAT_TRAINS, SELF, sw_os_ts_70series_1_end_gfx,position_in_consist_from_end){
    0: os_ts_70series_1_end;
    1: os_ts_70series_1_wag;
    default: sw_os_ts_70series_1_panto_gfx;
}
switch(FEAT_TRAINS, SELF, sw_os_ts_70series_livery_2,position_in_consist){
    0: os_ts_70series_1_front;
    1: os_ts_70series_1_wag;
    default: sw_os_ts_70series_1_end_gfx;
}


switch(FEAT_TRAINS, SELF, sw_os_ts_70series_2_panto_placer,position_in_consist %5){
    3: os_ts_70series_2_mot;
    os_ts_70series_2_wag;
}
switch(FEAT_TRAINS, SELF, sw_os_ts_70series_2_panto_placer_rev,position_in_consist_from_end %5){
    3: os_ts_70series_2_mot;
    os_ts_70series_2_wag;
}

switch(FEAT_TRAINS, SELF, sw_os_ts_70series_2_panto_placer_6,position_in_consist){
    2: os_ts_70series_2_mot;
    os_ts_70series_2_wag;
}

switch(FEAT_TRAINS, PARENT, sw_os_ts_70series_2_panto_reverse_check,vehicle_is_reversed){
    1: sw_os_ts_70series_2_panto_placer;
    sw_os_ts_70series_2_panto_placer_rev;
}
switch(FEAT_TRAINS, SELF, sw_os_ts_70series_2_panto_gfx,num_vehs_in_consist){
    5: sw_os_ts_70series_2_panto_placer_6;
    sw_os_ts_70series_2_panto_reverse_check;
}

switch(FEAT_TRAINS, SELF, sw_os_ts_70series_2_end_gfx,position_in_consist_from_end){
    0: os_ts_70series_2_end;
    1: os_ts_70series_2_wag;
    default: sw_os_ts_70series_2_panto_gfx;
}
switch(FEAT_TRAINS, SELF, sw_os_ts_70series_livery_3,position_in_consist){
    0: os_ts_70series_2_front;
    1: os_ts_70series_2_wag;
    default: sw_os_ts_70series_2_end_gfx;
}




random_switch(FEAT_TRAINS, PARENT, sw_os_ts_70series_livery_0_gfx){
    1: sw_os_ts_70series_livery_1;
    2: sw_os_ts_70series_livery_2;
    1: sw_os_ts_70series_livery_3;
}
switch(FEAT_TRAINS, SELF, sw_os_ts_70series_livery_0,current_year>1995){
    1: sw_os_ts_70series_livery_0_gfx;
    sw_os_ts_70series_livery_1;
}


switch(FEAT_TRAINS, SELF, sw_os_ts_70series_lv_desc_old, cargo_subtype){
    0: string(LV_RANDOM);
    1: string(LV_os_ts_70series_1);
}

switch(FEAT_TRAINS, SELF, sw_os_ts_70series_lv_old, cargo_subtype){
    0: sw_os_ts_70series_livery_0;
    1: sw_os_ts_70series_livery_1;
}

switch(FEAT_TRAINS, SELF, sw_os_ts_70series_lv_desc_new, cargo_subtype){
    0: string(LV_RANDOM);
    1: string(LV_os_ts_70series_1);
    2: string(LV_os_ts_70series_2);
    3: string(LV_os_ts_70series_3);
}

switch(FEAT_TRAINS, SELF, sw_os_ts_70series_lv_new, cargo_subtype){
    0: sw_os_ts_70series_livery_0;
    1: sw_os_ts_70series_livery_1;
    2: sw_os_ts_70series_livery_2;
    3: sw_os_ts_70series_livery_3;
}

switch(FEAT_TRAINS, SELF, sw_os_ts_70series_lv_desc,current_year>1995){
    1: sw_os_ts_70series_lv_desc_new;
    sw_os_ts_70series_lv_desc_old;
}
switch(FEAT_TRAINS, SELF, sw_os_ts_70series_lv,current_year>1995){
    1: sw_os_ts_70series_lv_new;
    sw_os_ts_70series_lv_old;
}



switch(FEAT_TRAINS, SELF, sw_os_ts_70series_main_capacity,position_in_consist_from_end){
    0: 89*param_capacity_mod/3;
    default: 101*param_capacity_mod/3;
}

switch(FEAT_TRAINS, SELF, os_ts_70series_attach_vehid, vehicle_type_id) {
  mu_car: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}

item(FEAT_TRAINS, os_ts_70series,1300) {
    property {
        cargo_capacity: 130;
        climates_available: param_disable_osaka == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        name: string(STR_TRAIN_NAME, string(STR_NAME_OSAKA_METRO), "70", string(STR_NAME_SERIES));
        introduction_date: date(1988, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cost_factor: 19;
        running_cost_factor: 49;
        speed: 100 km/h;
        track_type: TR_1435_DC;
        power: 200 kW;
        weight: 24 ton;
        loading_speed: param_loading_3D;
    }
 graphics {
        default: sw_os_ts_70series_lv;
        purchase: os_ts_70series_purchase;
        can_attach_wagon: os_ts_70series_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 4)),
  string(STR_OPERATOR, string(STR_OSAKAMETRO)),
string(STR_LINES_USED, string(STR_OSAKA_TSURUMI)));

        cargo_subtype_text: sw_os_ts_70series_lv_desc;
        start_stop: sw_stop_start_3;
        cargo_capacity: 89*param_capacity_mod/3;
    }
    livery_override(mu_car){
        loading_speed: param_loading_3D;
        cargo_capacity: sw_os_ts_70series_main_capacity;
        default: sw_os_ts_70series_lv;
        power: 268;
        weight: 26;
        length: 8;
      }
}
# 132 "src/_metro.pnml" 2
# 1 "src/metro/Osaka/tsurumi/80series.pnml" 1

spriteset(os_ts_80series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/tsurumi/80series/80series.png"){ tmpl_purchase_1c(0, 0) }
spriteset(os_ts_80series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/tsurumi/80series/80series.png"){ tmpl_purchase_2c(0, 75) }
switch(FEAT_TRAINS, SELF, os_ts_80series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_osaka_metro; 1: logo_line_os_tsurumi; 2: os_ts_80series_purchase_c1; 3: os_ts_80series_purchase_c2;}

spriteset(os_ts_80series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/tsurumi/80series/80series.png"){ tmpl_std(0, 0) }
spriteset(os_ts_80series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/tsurumi/80series/80series.png"){ tmpl_std_rev(0, 25) }
spriteset(os_ts_80series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/tsurumi/80series/80series.png"){ tmpl_std(0, 75) }
spriteset(os_ts_80series_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/tsurumi/80series/80series.png"){ tmpl_std(0, 50) }




switch(FEAT_TRAINS, SELF, sw_os_ts_80series_panto_placer,position_in_consist %5){
    3: os_ts_80series_mot;
    os_ts_80series_wag;
}
switch(FEAT_TRAINS, SELF, sw_os_ts_80series_panto_placer_rev,position_in_consist_from_end %5){
    3: os_ts_80series_mot;
    os_ts_80series_wag;
}

switch(FEAT_TRAINS, SELF, sw_os_ts_80series_panto_placer_6,position_in_consist){
    2: os_ts_80series_mot;
    os_ts_80series_wag;
}

switch(FEAT_TRAINS, PARENT, sw_os_ts_80series_panto_reverse_check,vehicle_is_reversed){
    1: sw_os_ts_80series_panto_placer;
    sw_os_ts_80series_panto_placer_rev;
}
switch(FEAT_TRAINS, SELF, sw_os_ts_80series_panto_gfx,num_vehs_in_consist){
    5: sw_os_ts_80series_panto_placer_6;
    sw_os_ts_80series_panto_reverse_check;
}


switch(FEAT_TRAINS, SELF, sw_os_ts_80series_end_gfx,position_in_consist_from_end){
    0: os_ts_80series_end;
    1: os_ts_80series_wag;
    default: sw_os_ts_80series_panto_gfx;
}
switch(FEAT_TRAINS, SELF, sw_os_ts_80series_livery_1,position_in_consist){
    0: os_ts_80series_front;
    1: os_ts_80series_wag;
    default: sw_os_ts_80series_end_gfx;
}


switch(FEAT_TRAINS, SELF, sw_os_ts_80series_main_capacity,position_in_consist_from_end){
    0: 89*param_capacity_mod/3;
    default: 100*param_capacity_mod/3;
}

switch(FEAT_TRAINS, SELF, os_ts_80series_attach_vehid, vehicle_type_id) {
  mu_car: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}

item(FEAT_TRAINS, os_ts_80series,1301) {
    property {
        cargo_capacity: 130;
        climates_available: param_disable_osaka == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        name: string(STR_TRAIN_NAME, string(STR_NAME_OSAKA_METRO), "80", string(STR_NAME_SERIES));
        introduction_date: date(2005, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cost_factor: 19;
        running_cost_factor: 49;
        speed: 110 km/h;
        track_type: TR_1435_DC;
        power: 200 kW;
        weight: 24 ton;
        loading_speed: param_loading_3D;
    }
 graphics {
        default: sw_os_ts_80series_livery_1;
        purchase: os_ts_80series_purchase;
        can_attach_wagon: os_ts_80series_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 4)),
  string(STR_OPERATOR, string(STR_OSAKAMETRO)),
string(STR_LINES_USED, string(STR_OSAKA_TSURUMI)));

        start_stop: sw_stop_start_3;
        cargo_capacity: 89*param_capacity_mod/3;
    }
    livery_override(mu_car){
        loading_speed: param_loading_3D;
        cargo_capacity: sw_os_ts_80series_main_capacity;
        default: sw_os_ts_80series_livery_1;
        power: 268;
        weight: 26;
        length: 8;
      }
}
# 133 "src/_metro.pnml" 2


# 1 "src/metro/Osaka/imazatosuji/80series.pnml" 1

spriteset(os_iz_80series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/imazatosuji/80series/80series.png"){ tmpl_purchase_1c(0, 0) }
spriteset(os_iz_80series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/imazatosuji/80series/80series.png"){ tmpl_purchase_2c(0, 75) }
switch(FEAT_TRAINS, SELF, os_iz_80series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_osaka_metro; 1: logo_line_os_imazatosuji; 2: os_iz_80series_purchase_c1; 3: os_iz_80series_purchase_c2;}

spriteset(os_iz_80series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/imazatosuji/80series/80series.png"){ tmpl_std(0, 0) }
spriteset(os_iz_80series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/imazatosuji/80series/80series.png"){ tmpl_std_rev(0, 25) }
spriteset(os_iz_80series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/imazatosuji/80series/80series.png"){ tmpl_std(0, 75) }
spriteset(os_iz_80series_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Osaka/imazatosuji/80series/80series.png"){ tmpl_std(0, 50) }




switch(FEAT_TRAINS, SELF, sw_os_iz_80series_panto_placer,position_in_consist %5){
    3: os_iz_80series_mot;
    os_iz_80series_wag;
}
switch(FEAT_TRAINS, SELF, sw_os_iz_80series_panto_placer_rev,position_in_consist_from_end %5){
    3: os_iz_80series_mot;
    os_iz_80series_wag;
}

switch(FEAT_TRAINS, SELF, sw_os_iz_80series_panto_placer_6,position_in_consist){
    2: os_iz_80series_mot;
    os_iz_80series_wag;
}

switch(FEAT_TRAINS, PARENT, sw_os_iz_80series_panto_reverse_check,vehicle_is_reversed){
    1: sw_os_iz_80series_panto_placer;
    sw_os_iz_80series_panto_placer_rev;
}
switch(FEAT_TRAINS, SELF, sw_os_iz_80series_panto_gfx,num_vehs_in_consist){
    5: sw_os_iz_80series_panto_placer_6;
    sw_os_iz_80series_panto_reverse_check;
}


switch(FEAT_TRAINS, SELF, sw_os_iz_80series_end_gfx,position_in_consist_from_end){
    0: os_iz_80series_end;
    1: os_iz_80series_wag;
    default: sw_os_iz_80series_panto_gfx;
}
switch(FEAT_TRAINS, SELF, sw_os_iz_80series_livery_1,position_in_consist){
    0: os_iz_80series_front;
    1: os_iz_80series_wag;
    default: sw_os_iz_80series_end_gfx;
}


switch(FEAT_TRAINS, SELF, sw_os_iz_80series_main_capacity,position_in_consist_from_end){
    0: 89*param_capacity_mod/3;
    default: 100*param_capacity_mod/3;
}

switch(FEAT_TRAINS, SELF, os_iz_80series_attach_vehid, vehicle_type_id) {
  mu_car: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}

item(FEAT_TRAINS, os_iz_80series,1310) {
    property {
        cargo_capacity: 130;
        climates_available: param_disable_osaka == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        name: string(STR_TRAIN_NAME, string(STR_NAME_OSAKA_METRO), "80", string(STR_NAME_SERIES));
        introduction_date: date(2005, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cost_factor: 19;
        running_cost_factor: 49;
        speed: 110 km/h;
        track_type: TR_1435_LNR;
        power: 200 kW;
        weight: 24 ton;
        loading_speed: param_loading_3D;
    }
 graphics {
        default: sw_os_iz_80series_livery_1;
        purchase: os_iz_80series_purchase;
        can_attach_wagon: os_iz_80series_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 4)),
  string(STR_OPERATOR, string(STR_OSAKAMETRO)),
string(STR_LINES_USED, string(STR_OSAKA_IMAZATO)));

        start_stop: sw_stop_start_3;
        cargo_capacity: 89*param_capacity_mod/3;
    }
    livery_override(mu_car){
        loading_speed: param_loading_3D;
        cargo_capacity: sw_os_iz_80series_main_capacity;
        default: sw_os_iz_80series_livery_1;
        power: 268;
        weight: 26;
        length: 8;
      }
}
# 136 "src/_metro.pnml" 2







# 1 "src/metro/Kyoto/karasuma/10series.pnml" 1

spriteset(kt_ks_10series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kyoto/karasuma/10series/10series.png"){ tmpl_purchase_1c(0, 0) }
spriteset(kt_ks_10series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kyoto/karasuma/10series/10series.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, kt_ks_10series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_kyoto_subway; 1: logo_line_kt_karasuma; 2: kt_ks_10series_purchase_c1; 3: kt_ks_10series_purchase_c2;}

spriteset(kt_ks_10series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kyoto/karasuma/10series/10series.png"){ tmpl_std(0, 0) }
spriteset(kt_ks_10series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kyoto/karasuma/10series/10series.png"){ tmpl_std_rev(0, 25) }
spriteset(kt_ks_10series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kyoto/karasuma/10series/10series.png"){ tmpl_std(0, 75) }
spriteset(kt_ks_10series_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kyoto/karasuma/10series/10series.png"){ tmpl_std(0, 50) }
spriteset(kt_ks_10series_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kyoto/karasuma/10series/10series.png"){ tmpl_std(0, 100) }
spriteset(kt_ks_10series_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kyoto/karasuma/10series/10series.png"){ tmpl_std_rev(0, 100) }



switch(FEAT_TRAINS, SELF, sw_kt_ks_10series_panto_placer_def,position_in_consist %3){
    2: kt_ks_10series_mot;
    kt_ks_10series_wag;
}
switch(FEAT_TRAINS, SELF, sw_kt_ks_10series_panto_placer_def_rev,position_in_consist_from_end %3){
    2: kt_ks_10series_mot;
    kt_ks_10series_wag;
}
switch(FEAT_TRAINS, PARENT, sw_kt_ks_10series_panto_def_rev_checker,vehicle_is_reversed){
    1: sw_kt_ks_10series_panto_placer_def_rev;
    sw_kt_ks_10series_panto_placer_def;
}


switch(FEAT_TRAINS, SELF, sw_kt_ks_10series_panto_placer_4,position_in_consist %4){
    1: kt_ks_10series_mot;
    kt_ks_10series_wag;
}
switch(FEAT_TRAINS, SELF, sw_kt_ks_10series_panto_placer_4_rev,position_in_consist_from_end %4){
    1: kt_ks_10series_mot;
    kt_ks_10series_wag;
}
switch(FEAT_TRAINS, PARENT, sw_kt_ks_10series_panto_4_rev_checker,vehicle_is_reversed){
    1: sw_kt_ks_10series_panto_placer_4_rev;
    sw_kt_ks_10series_panto_placer_4;
}

switch(FEAT_TRAINS, SELF, sw_kt_ks_10series_panto_placer_6,position_in_consist %6){
    1: kt_ks_10series_mot;
    4: kt_ks_10series_mot;
    kt_ks_10series_wag;
}
switch(FEAT_TRAINS, SELF, sw_kt_ks_10series_panto_placer_6_rev,position_in_consist_from_end %6){
    1: kt_ks_10series_mot;
    4: kt_ks_10series_mot;
    kt_ks_10series_wag;
}
switch(FEAT_TRAINS, PARENT, sw_kt_ks_10series_panto_6_rev_checker,vehicle_is_reversed){
    1: sw_kt_ks_10series_panto_placer_6_rev;
    sw_kt_ks_10series_panto_placer_6;
}

switch(FEAT_TRAINS, SELF, sw_kt_ks_10series_panto_placer_main,num_vehs_in_consist){
    3..4:sw_kt_ks_10series_panto_4_rev_checker;
    6:sw_kt_ks_10series_panto_6_rev_checker;
    sw_kt_ks_10series_panto_def_rev_checker;
}


switch(FEAT_TRAINS, SELF, sw_kt_ks_10series_fake_placer,position_in_consist){
    3: kt_ks_10series_end_f;
    4: kt_ks_10series_front_f;
sw_kt_ks_10series_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_kt_ks_10series_fake_placer_rev,position_in_consist_from_end){
    3: kt_ks_10series_front_f;
    4: kt_ks_10series_end_f;
sw_kt_ks_10series_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_kt_ks_10series_fake_placer_gfx,vehicle_is_reversed){
    1: sw_kt_ks_10series_fake_placer_rev;
    sw_kt_ks_10series_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_kt_ks_10series_fake_placer_main,num_vehs_in_consist>7){
    1: sw_kt_ks_10series_fake_placer_gfx;
sw_kt_ks_10series_panto_placer_main;
}



switch(FEAT_TRAINS, SELF, sw_kt_ks_10series_end_gfx,position_in_consist_from_end){
    0: kt_ks_10series_end;
    default: sw_kt_ks_10series_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_kt_ks_10series_livery_1,position_in_consist){
    0: kt_ks_10series_front;
    default: sw_kt_ks_10series_end_gfx;
}


switch(FEAT_TRAINS, SELF, sw_kt_ks_10series_main_capacity,position_in_consist_from_end){
    0: 144*param_capacity_mod/3;
    default: 130*param_capacity_mod/3;
}

switch(FEAT_TRAINS, SELF, kt_ks_10series_attach_vehid, vehicle_type_id) {
  mu_car: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}

item(FEAT_TRAINS, kt_ks_10series,1350) {
    property {
        cargo_capacity: 130;
        climates_available: param_disable_kyoto == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.2;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        name: string(STR_TRAIN_NAME, string(STR_NAME_KYOTO), "10", string(STR_NAME_SERIES));
        introduction_date: date(1980, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cost_factor: 20;
        running_cost_factor: 50;
        speed: 105 km/h;
        track_type: TR_1435_DC;
        power: 560 kW;
        weight: 35 ton;
        loading_speed: param_loading_4D;
    }
 graphics {
        default: sw_kt_ks_10series_livery_1;
        purchase: kt_ks_10series_purchase;
        can_attach_wagon: kt_ks_10series_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_2, 4,6)),
  string(STR_OPERATOR, string(STR_KYOTO)),
  string(STR_LINES_USED, string(STR_KYOTO_KARASUMA)));

        start_stop: sw_stop_start_3;
        cargo_capacity: 130*param_capacity_mod/3;
    }
    livery_override(mu_car){
        loading_speed: param_loading_4D;
        cargo_capacity: sw_kt_ks_10series_main_capacity;
        default: sw_kt_ks_10series_livery_1;
        power: 751*3/5;
        weight: 34;
        length: 8;
      }
}
# 144 "src/_metro.pnml" 2
# 1 "src/metro/Kyoto/karasuma/20series.pnml" 1

spriteset(kt_ks_20series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kyoto/karasuma/20series/20series.png"){ tmpl_purchase_1c(0, 0) }
spriteset(kt_ks_20series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kyoto/karasuma/20series/20series.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, kt_ks_20series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_kyoto_subway; 1: logo_line_kt_karasuma; 2: kt_ks_20series_purchase_c1; 3: kt_ks_20series_purchase_c2;}

spriteset(kt_ks_20series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kyoto/karasuma/20series/20series.png"){ tmpl_std(0, 0) }
spriteset(kt_ks_20series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kyoto/karasuma/20series/20series.png"){ tmpl_std_rev(0, 25) }
spriteset(kt_ks_20series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kyoto/karasuma/20series/20series.png"){ tmpl_std(0, 75) }
spriteset(kt_ks_20series_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kyoto/karasuma/20series/20series.png"){ tmpl_std(0, 50) }
spriteset(kt_ks_20series_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kyoto/karasuma/20series/20series.png"){ tmpl_std_rev(0, 50) }
spriteset(kt_ks_20series_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kyoto/karasuma/20series/20series.png"){ tmpl_std(0, 100) }
spriteset(kt_ks_20series_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kyoto/karasuma/20series/20series.png"){ tmpl_std_rev(0, 100) }



switch(FEAT_TRAINS, SELF, sw_kt_ks_20series_panto_gfx,vehicle_is_reversed){
    1: kt_ks_20series_mot_rev;
    kt_ks_20series_mot;
}
switch(FEAT_TRAINS, SELF, sw_kt_ks_20series_panto_placer_def,position_in_consist %3){
    2: sw_kt_ks_20series_panto_gfx;
    kt_ks_20series_wag;
}
switch(FEAT_TRAINS, SELF, sw_kt_ks_20series_panto_placer_def_rev,position_in_consist_from_end %3){
    2: sw_kt_ks_20series_panto_gfx;
    kt_ks_20series_wag;
}
switch(FEAT_TRAINS, PARENT, sw_kt_ks_20series_panto_def_rev_checker,vehicle_is_reversed){
    1: sw_kt_ks_20series_panto_placer_def_rev;
    sw_kt_ks_20series_panto_placer_def;
}


switch(FEAT_TRAINS, SELF, sw_kt_ks_20series_panto_placer_4,position_in_consist %4){
    1: sw_kt_ks_20series_panto_gfx;
    kt_ks_20series_wag;
}
switch(FEAT_TRAINS, SELF, sw_kt_ks_20series_panto_placer_4_rev,position_in_consist_from_end %4){
    1: sw_kt_ks_20series_panto_gfx;
    kt_ks_20series_wag;
}
switch(FEAT_TRAINS, PARENT, sw_kt_ks_20series_panto_4_rev_checker,vehicle_is_reversed){
    1: sw_kt_ks_20series_panto_placer_4_rev;
    sw_kt_ks_20series_panto_placer_4;
}

switch(FEAT_TRAINS, SELF, sw_kt_ks_20series_panto_placer_6,position_in_consist %6){
    1: sw_kt_ks_20series_panto_gfx;
    4: sw_kt_ks_20series_panto_gfx;
    kt_ks_20series_wag;
}
switch(FEAT_TRAINS, SELF, sw_kt_ks_20series_panto_placer_6_rev,position_in_consist_from_end %6){
    1: sw_kt_ks_20series_panto_gfx;
    4: sw_kt_ks_20series_panto_gfx;
    kt_ks_20series_wag;
}
switch(FEAT_TRAINS, PARENT, sw_kt_ks_20series_panto_6_rev_checker,vehicle_is_reversed){
    1: sw_kt_ks_20series_panto_placer_6_rev;
    sw_kt_ks_20series_panto_placer_6;
}

switch(FEAT_TRAINS, SELF, sw_kt_ks_20series_panto_placer_main,num_vehs_in_consist){
    3..4:sw_kt_ks_20series_panto_4_rev_checker;
    6:sw_kt_ks_20series_panto_6_rev_checker;
    sw_kt_ks_20series_panto_def_rev_checker;
}


switch(FEAT_TRAINS, SELF, sw_kt_ks_20series_fake_placer,position_in_consist){
    3: kt_ks_20series_end_f;
    4: kt_ks_20series_front_f;
sw_kt_ks_20series_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_kt_ks_20series_fake_placer_rev,position_in_consist_from_end){
    3: kt_ks_20series_front_f;
    4: kt_ks_20series_end_f;
sw_kt_ks_20series_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_kt_ks_20series_fake_placer_gfx,vehicle_is_reversed){
    1: sw_kt_ks_20series_fake_placer_rev;
    sw_kt_ks_20series_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_kt_ks_20series_fake_placer_main,num_vehs_in_consist>8){
    1: sw_kt_ks_20series_fake_placer_gfx;
sw_kt_ks_20series_panto_placer_main;
}



switch(FEAT_TRAINS, SELF, sw_kt_ks_20series_end_gfx,position_in_consist_from_end){
    0: kt_ks_20series_end;
    default: sw_kt_ks_20series_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_kt_ks_20series_livery_1,position_in_consist){
    0: kt_ks_20series_front;
    default: sw_kt_ks_20series_end_gfx;
}


switch(FEAT_TRAINS, SELF, sw_kt_ks_20series_main_capacity,position_in_consist_from_end){
    0: 130*param_capacity_mod/3;
    default: 143*param_capacity_mod/3;
}

switch(FEAT_TRAINS, SELF, kt_ks_20series_attach_vehid, vehicle_type_id) {
  mu_car: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}

item(FEAT_TRAINS, kt_ks_20series,1351) {
    property {
        cargo_capacity: 130;
        climates_available: param_disable_kyoto == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.2;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        name: string(STR_TRAIN_NAME, string(STR_NAME_KYOTO), "20", string(STR_NAME_SERIES));
        introduction_date: date(2022, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cost_factor: 22;
        running_cost_factor: 52;
        speed: 105 km/h;
        track_type: TR_1435_DC;
        power: 560 kW;
        weight: 30 ton;
        loading_speed: param_loading_4D;
    }
 graphics {
        default: sw_kt_ks_20series_livery_1;
        purchase: kt_ks_20series_purchase;
        can_attach_wagon: kt_ks_20series_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 6)),
  string(STR_OPERATOR, string(STR_KYOTO)),
  string(STR_LINES_USED, string(STR_KYOTO_KARASUMA)));

        start_stop: sw_stop_start_3;
        cargo_capacity: 130*param_capacity_mod/3;
    }
    livery_override(mu_car){
        loading_speed: param_loading_4D;
        cargo_capacity: sw_kt_ks_20series_main_capacity;
        default: sw_kt_ks_20series_livery_1;
        power: 751*3/5;
        weight: 33;
        length: 8;
      }
}
# 145 "src/_metro.pnml" 2


# 1 "src/metro/Kyoto/tozai/50series.pnml" 1

spriteset(kt_tz_50series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kyoto/tozai/50series/50series.png"){ tmpl_purchase_1c(0, 0) }
spriteset(kt_tz_50series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kyoto/tozai/50series/50series.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, kt_tz_50series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_kyoto_subway; 1: logo_line_kt_tozai; 2: kt_tz_50series_purchase_c1; 3: kt_tz_50series_purchase_c2;}

spriteset(kt_tz_50series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kyoto/tozai/50series/50series.png"){ tmpl_std(0, 0) }
spriteset(kt_tz_50series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kyoto/tozai/50series/50series.png"){ tmpl_std_rev(0, 25) }
spriteset(kt_tz_50series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kyoto/tozai/50series/50series.png"){ tmpl_std(0, 75) }
spriteset(kt_tz_50series_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kyoto/tozai/50series/50series.png"){ tmpl_std(0, 50) }
spriteset(kt_tz_50series_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kyoto/tozai/50series/50series.png"){ tmpl_std(0, 100) }
spriteset(kt_tz_50series_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kyoto/tozai/50series/50series.png"){ tmpl_std_rev(0, 100) }




switch(FEAT_TRAINS, SELF, sw_kt_tz_50series_panto_placer_1,position_in_consist %6){
    1: kt_tz_50series_mot;
    3: kt_tz_50series_mot;
    kt_tz_50series_wag;
}
switch(FEAT_TRAINS, SELF, sw_kt_tz_50series_panto_placer_1_rev,position_in_consist_from_end %6){
    1: kt_tz_50series_mot;
    3: kt_tz_50series_mot;
    kt_tz_50series_wag;
}
switch(FEAT_TRAINS, PARENT, sw_kt_tz_50series_panto_placer_1_main,vehicle_is_reversed){
    1: sw_kt_tz_50series_panto_placer_1_rev;
    sw_kt_tz_50series_panto_placer_1;
}

switch(FEAT_TRAINS, SELF, sw_kt_tz_50series_panto_placer_2,position_in_consist %7){
    2: kt_tz_50series_mot;
    4: kt_tz_50series_mot;
    kt_tz_50series_wag;
}
switch(FEAT_TRAINS, SELF, sw_kt_tz_50series_panto_placer_2_rev,position_in_consist_from_end %7){
    2: kt_tz_50series_mot;
    4: kt_tz_50series_mot;
    kt_tz_50series_wag;
}
switch(FEAT_TRAINS, PARENT, sw_kt_tz_50series_panto_placer_2_main,vehicle_is_reversed){
    1: sw_kt_tz_50series_panto_placer_2_rev;
    sw_kt_tz_50series_panto_placer_2;
}

switch(FEAT_TRAINS, SELF, sw_kt_tz_50series_panto_placer_main,num_vehs_in_consist){
    4..5: sw_kt_tz_50series_panto_placer_2_main;
    7..8: sw_kt_tz_50series_panto_placer_2_main;
    sw_kt_tz_50series_panto_placer_1_main;
}




switch(FEAT_TRAINS, SELF, sw_kt_tz_50series_fake_placer,position_in_consist){
    5: kt_tz_50series_end_f;
    6: kt_tz_50series_front_f;
sw_kt_tz_50series_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_kt_tz_50series_fake_placer_rev,position_in_consist_from_end){
    5: kt_tz_50series_front_f;
    6: kt_tz_50series_end_f;
sw_kt_tz_50series_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_kt_tz_50series_fake_placer_gfx,vehicle_is_reversed){
    1: sw_kt_tz_50series_fake_placer_rev;
    sw_kt_tz_50series_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_kt_tz_50series_fake_placer_main,num_vehs_in_consist>8){
    1: sw_kt_tz_50series_fake_placer_gfx;
sw_kt_tz_50series_panto_placer_main;
}




switch(FEAT_TRAINS, SELF, sw_kt_tz_50series_end,position_in_consist_from_end){
    0: kt_tz_50series_end;
    default: sw_kt_tz_50series_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_kt_tz_50series_livery_1,position_in_consist){
    0: kt_tz_50series_front;
    default: sw_kt_tz_50series_end;
}



switch(FEAT_TRAINS, SELF, sw_kt_tz_50series_main_capacity,position_in_consist_from_end){
    0: 82*param_capacity_mod/3;
    default: 104*param_capacity_mod/3;
}

switch(FEAT_TRAINS, SELF, kt_tz_50series_attach_vehid, vehicle_type_id) {
  mu_car: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}


item(FEAT_TRAINS, kt_tz_50series,1360) {
    property {
        cargo_capacity: 130;
        climates_available: param_disable_kyoto == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.2;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        name: string(STR_TRAIN_NAME, string(STR_NAME_KYOTO), "50", string(STR_NAME_SERIES));
        introduction_date: date(1997, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cost_factor: 20;
        running_cost_factor: 50;
        speed: 85 km/h;
        track_type: TR_1435_DC;
        power: 340 kW;
        weight: 25 ton;
        loading_speed: param_loading_3D;
    }
 graphics {
        default: sw_kt_tz_50series_livery_1;
        purchase: kt_tz_50series_purchase;
        can_attach_wagon: kt_tz_50series_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 6)),
  string(STR_OPERATOR, string(STR_KYOTO)),
  string(STR_LINES_USED, string(STR_KYOTO_TOZAI)));

        start_stop: sw_stop_start_3;
        cargo_capacity: 144*param_capacity_mod/3;
    }
    livery_override(mu_car){
        loading_speed: param_loading_3D;
        cargo_capacity: sw_kt_tz_50series_main_capacity;
        default: sw_kt_tz_50series_livery_1;
        power: 456*3/5;
        weight: 25;
        length: 8;
      }
}
# 148 "src/_metro.pnml" 2



# 1 "src/metro/Nagoya/higashiyama/type100.pnml" 1

spriteset(ng_hg_type100_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/higashiyama/type100_250/type100.png"){ tmpl_purchase_1c(0, 0) }
spriteset(ng_hg_type100_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/higashiyama/type100_250/type100.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, ng_hg_type100_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_nagoya_subway; 1: logo_line_ng_higashiyama; 2: ng_hg_type100_purchase_c1; 3: ng_hg_type100_purchase_c2;}

spriteset(ng_hg_type100_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/higashiyama/type100_250/type100.png"){ tmpl_std(0, 0) }
spriteset(ng_hg_type100_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/higashiyama/type100_250/type100.png"){ tmpl_std_rev(0, 25) }
spriteset(ng_hg_type100_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/higashiyama/type100_250/type100.png"){ tmpl_std(0, 50) }


spriteset(ng_hg_type250_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/higashiyama/type100_250/type250.png"){ tmpl_std(0, 0) }
spriteset(ng_hg_type250_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/higashiyama/type100_250/type250.png"){ tmpl_std_rev(0, 25) }
spriteset(ng_hg_type250_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/higashiyama/type100_250/type250.png"){ tmpl_std(0, 50) }




switch(FEAT_TRAINS, SELF, sw_ng_hg_type100_end_gfx,position_in_consist_from_end){
    0: ng_hg_type100_end;
    default: ng_hg_type100_wag;
}
switch(FEAT_TRAINS, SELF, sw_ng_hg_type100_livery_1,position_in_consist){
    0: ng_hg_type100_front;
    default: sw_ng_hg_type100_end_gfx;
}



switch(FEAT_TRAINS, SELF, sw_ng_hg_type250_end_gfx,position_in_consist_from_end){
    0: ng_hg_type250_end;
    default: ng_hg_type250_wag;
}
switch(FEAT_TRAINS, SELF, sw_ng_hg_type250_livery_2,position_in_consist){
    0: ng_hg_type250_front;
    default: sw_ng_hg_type250_end_gfx;
}

switch(FEAT_TRAINS, PARENT, sw_ng_hg_type250_livery_0,build_year > 1982){
    0: sw_ng_hg_type100_livery_1;
    default: sw_ng_hg_type250_livery_2;
}


switch(FEAT_TRAINS, SELF, sw_ng_hg_type100_main_capacity,position_in_consist_from_end){
    0: 115*param_capacity_mod/3;
    default: 110*param_capacity_mod/3;
}

switch(FEAT_TRAINS, SELF, ng_hg_type100_attach_vehid, vehicle_type_id) {
  mu_car_metro: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}

item(FEAT_TRAINS, ng_hg_type100,1370) {
    property {
        cargo_capacity: 130;
        climates_available: param_disable_nagoya == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        name: string(STR_TRAIN_NAME, string(STR_NAME_NAGOYA), "100 (250)", string(STR_NAME_TYPE));
        introduction_date: date(1957, 1, 1);
        model_life: 42;
        vehicle_life: 42;
        reliability_decay: 10;

        cost_factor: 17;
        running_cost_factor: 47;
        speed: 65 km/h;
        track_type: TR_1435_M;
        power: 200 kW;
        weight: 23 ton;
        loading_speed: param_loading_3D;
    }
 graphics {
        default: sw_ng_hg_type250_livery_0;
        purchase: ng_hg_type100_purchase;
        can_attach_wagon: ng_hg_type100_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 600)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_3, 2,4,6)),
  string(STR_OPERATOR, string(STR_NAGOYA)),
  string(STR_LINES_USED, string(STR_NAGOYA_HIGASHI)));

        start_stop: sw_stop_start_2;
        cargo_capacity: 110*param_capacity_mod/3;
    }
    livery_override(mu_car_metro){
        loading_speed: param_loading_3D;
        cargo_capacity: sw_ng_hg_type100_main_capacity;
        default: sw_ng_hg_type250_livery_0;
        power: 268;
        weight: 22;
        length: 8;
      }
}
# 152 "src/_metro.pnml" 2
# 1 "src/metro/Nagoya/higashiyama/type300.pnml" 1

spriteset(ng_hg_type300_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/higashiyama/type300/type300.png"){ tmpl_purchase_1c(0, 0) }
spriteset(ng_hg_type300_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/higashiyama/type300/type300.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, ng_hg_type300_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_nagoya_subway; 1: logo_line_ng_higashiyama; 2: ng_hg_type300_purchase_c1; 3: ng_hg_type300_purchase_c2;}

spriteset(ng_hg_type300_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/higashiyama/type300/type300.png"){ tmpl_std(0, 0) }
spriteset(ng_hg_type300_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/higashiyama/type300/type300.png"){ tmpl_std_rev(0, 25) }
spriteset(ng_hg_type300_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/higashiyama/type300/type300.png"){ tmpl_std(0, 50) }




switch(FEAT_TRAINS, SELF, sw_ng_hg_type300_end_gfx,position_in_consist_from_end){
    0: ng_hg_type300_end;
    default: ng_hg_type300_wag;
}
switch(FEAT_TRAINS, SELF, sw_ng_hg_type300_livery_1,position_in_consist){
    0: ng_hg_type300_front;
    default: sw_ng_hg_type300_end_gfx;
}



switch(FEAT_TRAINS, SELF, sw_ng_hg_type300_main_capacity,position_in_consist_from_end){
    0: 115*param_capacity_mod/3;
    default: 110*param_capacity_mod/3;
}

switch(FEAT_TRAINS, SELF, ng_hg_type300_attach_vehid, vehicle_type_id) {
  mu_car_metro: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}

item(FEAT_TRAINS, ng_hg_type300,1371) {
    property {
        cargo_capacity: 130;
        climates_available: param_disable_nagoya == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        name: string(STR_TRAIN_NAME, string(STR_NAME_NAGOYA), "300", string(STR_NAME_TYPE));
        introduction_date: date(1967, 1, 1);
        model_life: 30;
        vehicle_life: 30;
        reliability_decay: 10;

        cost_factor: 18;
        running_cost_factor: 48;
        speed: 70 km/h;
        track_type: TR_1435_M;
        power: 220 kW;
        weight: 23 ton;
        loading_speed: param_loading_3D;
    }
 graphics {
        default: sw_ng_hg_type300_livery_1;
        purchase: ng_hg_type300_purchase;
        can_attach_wagon: ng_hg_type300_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 600)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 6)),
  string(STR_OPERATOR, string(STR_NAGOYA)),
  string(STR_LINES_USED, string(STR_NAGOYA_HIGASHI)));

        start_stop: sw_stop_start_2;
        cargo_capacity: 110*param_capacity_mod/3;
    }
    livery_override(mu_car_metro){
        loading_speed: param_loading_3D;
        cargo_capacity: sw_ng_hg_type300_main_capacity;
        default: sw_ng_hg_type300_livery_1;
        power: 295;
        weight: 22;
        length: 8;
      }
}
# 153 "src/_metro.pnml" 2
# 1 "src/metro/Nagoya/higashiyama/5000series.pnml" 1

spriteset(ng_hg_5000series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/higashiyama/5000series/5000series.png"){ tmpl_purchase_1c(0, 0) }
spriteset(ng_hg_5000series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/higashiyama/5000series/5000series.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, ng_hg_5000series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_nagoya_subway; 1: logo_line_ng_higashiyama; 2: ng_hg_5000series_purchase_c1; 3: ng_hg_5000series_purchase_c2;}

spriteset(ng_hg_5000series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/higashiyama/5000series/5000series.png"){ tmpl_std(0, 0) }
spriteset(ng_hg_5000series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/higashiyama/5000series/5000series.png"){ tmpl_std_rev(0, 25) }
spriteset(ng_hg_5000series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/higashiyama/5000series/5000series.png"){ tmpl_std(0, 50) }
spriteset(ng_hg_5000series_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/higashiyama/5000series/5000series.png"){ tmpl_std(0, 25) }
spriteset(ng_hg_5000series_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/higashiyama/5000series/5000series.png"){ tmpl_std_rev(0, 25) }



switch(FEAT_TRAINS, SELF, sw_ng_hg_5000series_fake_placer,position_in_consist){
    5: ng_hg_5000series_end_f;
    6: ng_hg_5000series_front_f;
ng_hg_5000series_wag;
}
switch(FEAT_TRAINS, SELF, sw_ng_hg_5000series_fake_placer_rev,position_in_consist_from_end){
    5: ng_hg_5000series_front_f;
    6: ng_hg_5000series_end_f;
ng_hg_5000series_wag;
}
switch(FEAT_TRAINS, PARENT, sw_ng_hg_5000series_fake_placer_gfx,vehicle_is_reversed){
    1: sw_ng_hg_5000series_fake_placer_rev;
    sw_ng_hg_5000series_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_ng_hg_5000series_fake_placer_main,num_vehs_in_consist>9){
    1: sw_ng_hg_5000series_fake_placer_gfx;
ng_hg_5000series_wag;
}


switch(FEAT_TRAINS, SELF, sw_ng_hg_5000series_end_gfx,position_in_consist_from_end){
    0: ng_hg_5000series_end;
    default: sw_ng_hg_5000series_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_ng_hg_5000series_livery_1,position_in_consist){
    0: ng_hg_5000series_front;
    default: sw_ng_hg_5000series_end_gfx;
}


switch(FEAT_TRAINS, SELF, sw_ng_hg_5000series_main_capacity,position_in_consist_from_end){
    0: 115*param_capacity_mod/3;
    default: 110*param_capacity_mod/3;
}

switch(FEAT_TRAINS, SELF, ng_hg_5000series_attach_vehid, vehicle_type_id) {
  mu_car_metro: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}

item(FEAT_TRAINS, ng_hg_5000series,1372) {
    property {
        cargo_capacity: 130;
        climates_available: param_disable_nagoya == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        name: string(STR_TRAIN_NAME, string(STR_NAME_NAGOYA), "5000", string(STR_NAME_TYPE));
        introduction_date: date(1980, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 35;
        reliability_decay: 10;

        cost_factor: 19;
        running_cost_factor: 49;
        speed: 80 km/h;
        track_type: TR_1435_M;
        power: 380 kW;
        weight: 25 ton;
        loading_speed: param_loading_3D;
    }
 graphics {
        default: sw_ng_hg_5000series_livery_1;
        purchase: ng_hg_5000series_purchase;
        can_attach_wagon: ng_hg_5000series_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 600)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 6)),
  string(STR_OPERATOR, string(STR_NAGOYA)),
  string(STR_LINES_USED, string(STR_NAGOYA_HIGASHI)));

        start_stop: sw_stop_start_3;
        cargo_capacity: 110*param_capacity_mod/3;
    }
    livery_override(mu_car_metro){
        loading_speed: param_loading_3D;
        cargo_capacity: sw_ng_hg_5000series_main_capacity;
        default: sw_ng_hg_5000series_livery_1;
        power: 510*3/5;
        weight: 23;
        length: 8;
      }
}
# 154 "src/_metro.pnml" 2
# 1 "src/metro/Nagoya/higashiyama/5050series.pnml" 1

spriteset(ng_hg_5050series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/higashiyama/5050series/5050series.png"){ tmpl_purchase_1c(0, 0) }
spriteset(ng_hg_5050series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/higashiyama/5050series/5050series.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, ng_hg_5050series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_nagoya_subway; 1: logo_line_ng_higashiyama; 2: ng_hg_5050series_purchase_c1; 3: ng_hg_5050series_purchase_c2;}

spriteset(ng_hg_5050series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/higashiyama/5050series/5050series.png"){ tmpl_std(0, 0) }
spriteset(ng_hg_5050series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/higashiyama/5050series/5050series.png"){ tmpl_std_rev(0, 25) }
spriteset(ng_hg_5050series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/higashiyama/5050series/5050series.png"){ tmpl_std(0, 50) }
spriteset(ng_hg_5050series_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/higashiyama/5050series/5050series.png"){ tmpl_std(0, 25) }
spriteset(ng_hg_5050series_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/higashiyama/5050series/5050series.png"){ tmpl_std_rev(0, 25) }


spriteset(ng_hg_5050series_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/higashiyama/5050series/5050series_1.png"){ tmpl_std(0, 0) }
spriteset(ng_hg_5050series_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/higashiyama/5050series/5050series_1.png"){ tmpl_std_rev(0, 25) }
spriteset(ng_hg_5050series_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/higashiyama/5050series/5050series_1.png"){ tmpl_std(0, 50) }
spriteset(ng_hg_5050series_1_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/higashiyama/5050series/5050series_1.png"){ tmpl_std(0, 25) }
spriteset(ng_hg_5050series_1_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/higashiyama/5050series/5050series_1.png"){ tmpl_std_rev(0, 25) }



switch(FEAT_TRAINS, SELF, sw_ng_hg_5050series_fake_placer,position_in_consist){
    5: ng_hg_5050series_end_f;
    6: ng_hg_5050series_front_f;
ng_hg_5050series_wag;
}
switch(FEAT_TRAINS, SELF, sw_ng_hg_5050series_fake_placer_rev,position_in_consist_from_end){
    5: ng_hg_5050series_front_f;
    6: ng_hg_5050series_end_f;
ng_hg_5050series_wag;
}
switch(FEAT_TRAINS, PARENT, sw_ng_hg_5050series_fake_placer_gfx,vehicle_is_reversed){
    1: sw_ng_hg_5050series_fake_placer_rev;
    sw_ng_hg_5050series_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_ng_hg_5050series_fake_placer_main,num_vehs_in_consist>9){
    1: sw_ng_hg_5050series_fake_placer_gfx;
ng_hg_5050series_wag;
}


switch(FEAT_TRAINS, SELF, sw_ng_hg_5050series_end_gfx,position_in_consist_from_end){
    0: ng_hg_5050series_end;
    default: sw_ng_hg_5050series_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_ng_hg_5050series_livery_1,position_in_consist){
    0: ng_hg_5050series_front;
    default: sw_ng_hg_5050series_end_gfx;
}



switch(FEAT_TRAINS, SELF, sw_ng_hg_5050series_1_fake_placer,position_in_consist){
    5: ng_hg_5050series_1_end_f;
    6: ng_hg_5050series_1_front_f;
ng_hg_5050series_1_wag;
}
switch(FEAT_TRAINS, SELF, sw_ng_hg_5050series_1_fake_placer_rev,position_in_consist_from_end){
    5: ng_hg_5050series_1_front_f;
    6: ng_hg_5050series_1_end_f;
ng_hg_5050series_1_wag;
}
switch(FEAT_TRAINS, PARENT, sw_ng_hg_5050series_1_fake_placer_gfx,vehicle_is_reversed){
    1: sw_ng_hg_5050series_1_fake_placer_rev;
    sw_ng_hg_5050series_1_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_ng_hg_5050series_1_fake_placer_main,num_vehs_in_consist>9){
    1: sw_ng_hg_5050series_1_fake_placer_gfx;
ng_hg_5050series_1_wag;
}


switch(FEAT_TRAINS, SELF, sw_ng_hg_5050series_1_end_gfx,position_in_consist_from_end){
    0: ng_hg_5050series_1_end;
    default: sw_ng_hg_5050series_1_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_ng_hg_5050series_livery_2,position_in_consist){
    0: ng_hg_5050series_1_front;
    default: sw_ng_hg_5050series_1_end_gfx;
}


random_switch(FEAT_TRAINS, PARENT, sw_ng_hg_5050series_livery_0){
    3:sw_ng_hg_5050series_livery_1;
    1:sw_ng_hg_5050series_livery_2;
}


switch(FEAT_TRAINS, SELF, sw_ng_hg_5050series_lv_desc, cargo_subtype){
    0: string(LV_RANDOM);
    1: string(LV_DEFAULT);

    2: string(LV_DATED, string(LV_ng_MEMORIA), 2022);
}
switch(FEAT_TRAINS, PARENT, sw_ng_hg_5050series_lv, cargo_subtype){
    0: sw_ng_hg_5050series_livery_0;
    1: sw_ng_hg_5050series_livery_1;
    2: sw_ng_hg_5050series_livery_2;
}


switch(FEAT_TRAINS, SELF, sw_ng_hg_5050series_main_capacity,position_in_consist_from_end){
    0: 96*param_capacity_mod/3;
    default: 107*param_capacity_mod/3;
}

switch(FEAT_TRAINS, SELF, ng_hg_5050series_attach_vehid, vehicle_type_id) {
  mu_car_metro: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}

item(FEAT_TRAINS, ng_hg_5050series,1373) {
    property {
        cargo_capacity: 130;
        climates_available: param_disable_nagoya == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        name: string(STR_TRAIN_NAME, string(STR_NAME_NAGOYA), "5050", string(STR_NAME_TYPE));
        introduction_date: date(1992, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cost_factor: 19;
        running_cost_factor: 49;
        speed: 80 km/h;
        track_type: TR_1435_M;
        power: 300 kW;
        weight: 24 ton;
        loading_speed: param_loading_3D;
    }
 graphics {
        default: sw_ng_hg_5050series_lv;
        purchase: ng_hg_5050series_purchase;
        can_attach_wagon: ng_hg_5050series_attach_vehid;
        cargo_subtype_text:sw_ng_hg_5050series_lv_desc;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 600)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 6)),
  string(STR_OPERATOR, string(STR_NAGOYA)),
  string(STR_LINES_USED, string(STR_NAGOYA_HIGASHI)));

        start_stop: sw_stop_start_3;
        cargo_capacity: 96*param_capacity_mod/3;
    }
    livery_override(mu_car_metro){
        loading_speed: param_loading_3D;
        cargo_capacity: sw_ng_hg_5050series_main_capacity;
        default: sw_ng_hg_5050series_lv;
        power: 402*3/5;
        weight: 24;
        length: 8;
      }
}
# 155 "src/_metro.pnml" 2
# 1 "src/metro/Nagoya/higashiyama/n1000series.pnml" 1

spriteset(ng_hg_n1000series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/higashiyama/N1000series/N1000series.png"){ tmpl_purchase_1c(0, 0) }
spriteset(ng_hg_n1000series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/higashiyama/N1000series/N1000series.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, ng_hg_n1000series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_nagoya_subway; 1: logo_line_ng_higashiyama; 2: ng_hg_n1000series_purchase_c1; 3: ng_hg_n1000series_purchase_c2;}

spriteset(ng_hg_n1000series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/higashiyama/N1000series/N1000series.png"){ tmpl_std(0, 0) }
spriteset(ng_hg_n1000series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/higashiyama/N1000series/N1000series.png"){ tmpl_std_rev(0, 25) }
spriteset(ng_hg_n1000series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/higashiyama/N1000series/N1000series.png"){ tmpl_std(0, 50) }
spriteset(ng_hg_n1000series_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/higashiyama/N1000series/N1000series.png"){ tmpl_std(0, 75) }
spriteset(ng_hg_n1000series_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/higashiyama/N1000series/N1000series.png"){ tmpl_std_rev(0, 75) }



switch(FEAT_TRAINS, SELF, sw_ng_hg_n1000series_fake_placer,position_in_consist){
    5: ng_hg_n1000series_end_f;
    6: ng_hg_n1000series_front_f;
ng_hg_n1000series_wag;
}
switch(FEAT_TRAINS, SELF, sw_ng_hg_n1000series_fake_placer_rev,position_in_consist_from_end){
    5: ng_hg_n1000series_front_f;
    6: ng_hg_n1000series_end_f;
ng_hg_n1000series_wag;
}
switch(FEAT_TRAINS, PARENT, sw_ng_hg_n1000series_fake_placer_gfx,vehicle_is_reversed){
    1: sw_ng_hg_n1000series_fake_placer_rev;
    sw_ng_hg_n1000series_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_ng_hg_n1000series_fake_placer_main,num_vehs_in_consist>9){
    1: sw_ng_hg_n1000series_fake_placer_gfx;
ng_hg_n1000series_wag;
}


switch(FEAT_TRAINS, SELF, sw_ng_hg_n1000series_end_gfx,position_in_consist_from_end){
    0: ng_hg_n1000series_end;
    default: sw_ng_hg_n1000series_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_ng_hg_n1000series_livery_1,position_in_consist){
    0: ng_hg_n1000series_front;
    default: sw_ng_hg_n1000series_end_gfx;
}


switch(FEAT_TRAINS, SELF, sw_ng_hg_n1000series_main_capacity,position_in_consist_from_end){
    0: 97*param_capacity_mod/3;
    default: 106*param_capacity_mod/3;
}

switch(FEAT_TRAINS, SELF, ng_hg_n1000series_attach_vehid, vehicle_type_id) {
  mu_car_metro: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}

item(FEAT_TRAINS, ng_hg_n1000series,1374) {
    property {
        cargo_capacity: 130;
        climates_available: param_disable_nagoya == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        name: string(STR_TRAIN_NAME, string(STR_NAME_NAGOYA), "N1000", string(STR_NAME_TYPE));
        introduction_date: date(2007, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cost_factor: 19;
        running_cost_factor: 49;
        speed: 90 km/h;
        track_type: TR_1435_M;
        power: 300 kW;
        weight: 25 ton;
        loading_speed: param_loading_3D;
    }
 graphics {
        default: sw_ng_hg_n1000series_livery_1;
        purchase: ng_hg_n1000series_purchase;
        can_attach_wagon: ng_hg_n1000series_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 600)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 6)),
  string(STR_OPERATOR, string(STR_NAGOYA)),
  string(STR_LINES_USED, string(STR_NAGOYA_HIGASHI)));

        start_stop: sw_stop_start_3;
        cargo_capacity: 97*param_capacity_mod/3;
    }
    livery_override(mu_car_metro){
        loading_speed: param_loading_3D;
        cargo_capacity: sw_ng_hg_n1000series_main_capacity;
        default: sw_ng_hg_n1000series_livery_1;
        power: 402*3/5;
        weight: 23;
        length: 8;
      }
}
# 156 "src/_metro.pnml" 2


# 1 "src/metro/Nagoya/meijo/type1000.pnml" 1

spriteset(ng_mj_type1000_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/meijo/type1000/type1000.png"){ tmpl_purchase_1c(0, 0) }
spriteset(ng_mj_type1000_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/meijo/type1000/type1000.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, ng_mj_type1000_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_nagoya_subway; 1: logo_line_ng_meijo; 2: ng_mj_type1000_purchase_c1; 3: ng_mj_type1000_purchase_c2;}

spriteset(ng_mj_type1000_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/meijo/type1000/type1000.png"){ tmpl_std(0, 0) }
spriteset(ng_mj_type1000_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/meijo/type1000/type1000.png"){ tmpl_std_rev(0, 25) }
spriteset(ng_mj_type1000_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/meijo/type1000/type1000.png"){ tmpl_std(0, 50) }




switch(FEAT_TRAINS, SELF, sw_ng_mj_type1000_end_gfx,position_in_consist_from_end){
    0: ng_mj_type1000_end;
    default: ng_mj_type1000_wag;
}
switch(FEAT_TRAINS, SELF, sw_ng_mj_type1000_livery_1,position_in_consist){
    0: ng_mj_type1000_front;
    default: sw_ng_mj_type1000_end_gfx;
}


switch(FEAT_TRAINS, SELF, sw_ng_mj_type1000_main_capacity,position_in_consist_from_end){
    0: 115*param_capacity_mod/3;
    default: 110*param_capacity_mod/3;
}

switch(FEAT_TRAINS, SELF, ng_mj_type1000_attach_vehid, vehicle_type_id) {
  mu_car_metro: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}

item(FEAT_TRAINS, ng_mj_type1000,1380) {
    property {
        cargo_capacity: 130;
        climates_available: param_disable_nagoya == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        name: string(STR_TRAIN_NAME, string(STR_NAME_NAGOYA), "1000", string(STR_NAME_TYPE));
        introduction_date: date(1965, 1, 1);
        model_life: 42;
        vehicle_life: 42;
        reliability_decay: 10;

        cost_factor: 18;
        running_cost_factor: 48;
        speed: 70 km/h;
        track_type: TR_1435_M;
        power: 200 kW;
        weight: 23 ton;
        loading_speed: param_loading_3D;
    }
 graphics {
        default: sw_ng_mj_type1000_livery_1;
        purchase: ng_mj_type1000_purchase;
        can_attach_wagon: ng_mj_type1000_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 600)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_3, 2,4,6)),
  string(STR_OPERATOR, string(STR_NAGOYA)),
  string(STR_LINES_USED, string(STR_NAGOYA_MEIJO)));

        start_stop: sw_stop_start_2;
        cargo_capacity: 110*param_capacity_mod/3;
    }
    livery_override(mu_car_metro){
        loading_speed: param_loading_3D;
        cargo_capacity: sw_ng_mj_type1000_main_capacity;
        default: sw_ng_mj_type1000_livery_1;
        power: 268;
        weight: 22;
        length: 8;
      }
}
# 159 "src/_metro.pnml" 2
# 1 "src/metro/Nagoya/meijo/2000series.pnml" 1

spriteset(ng_mj_2000series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/meijo/2000series/2000series.png"){ tmpl_purchase_1c(0, 0) }
spriteset(ng_mj_2000series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/meijo/2000series/2000series.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, ng_mj_2000series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_nagoya_subway; 1: logo_line_ng_meijo; 2: ng_mj_2000series_purchase_c1; 3: ng_mj_2000series_purchase_c2;}

spriteset(ng_mj_2000series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/meijo/2000series/2000series.png"){ tmpl_std(0, 0) }
spriteset(ng_mj_2000series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/meijo/2000series/2000series.png"){ tmpl_std_rev(0, 25) }
spriteset(ng_mj_2000series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/meijo/2000series/2000series.png"){ tmpl_std(0, 50) }
spriteset(ng_mj_2000series_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/meijo/2000series/2000series.png"){ tmpl_std(0, 25) }
spriteset(ng_mj_2000series_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/meijo/2000series/2000series.png"){ tmpl_std_rev(0, 25) }


spriteset(ng_mj_2000series_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/meijo/2000series/2000series_1.png"){ tmpl_std(0, 0) }
spriteset(ng_mj_2000series_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/meijo/2000series/2000series_1.png"){ tmpl_std_rev(0, 25) }
spriteset(ng_mj_2000series_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/meijo/2000series/2000series_1.png"){ tmpl_std(0, 50) }
spriteset(ng_mj_2000series_1_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/meijo/2000series/2000series_1.png"){ tmpl_std(0, 25) }
spriteset(ng_mj_2000series_1_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/meijo/2000series/2000series_1.png"){ tmpl_std_rev(0, 25) }



switch(FEAT_TRAINS, SELF, sw_ng_mj_2000series_fake_placer,position_in_consist){
    5: ng_mj_2000series_end_f;
    6: ng_mj_2000series_front_f;
ng_mj_2000series_wag;
}
switch(FEAT_TRAINS, SELF, sw_ng_mj_2000series_fake_placer_rev,position_in_consist_from_end){
    5: ng_mj_2000series_front_f;
    6: ng_mj_2000series_end_f;
ng_mj_2000series_wag;
}
switch(FEAT_TRAINS, PARENT, sw_ng_mj_2000series_fake_placer_gfx,vehicle_is_reversed){
    1: sw_ng_mj_2000series_fake_placer_rev;
    sw_ng_mj_2000series_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_ng_mj_2000series_fake_placer_main,num_vehs_in_consist>9){
    1: sw_ng_mj_2000series_fake_placer_gfx;
ng_mj_2000series_wag;
}


switch(FEAT_TRAINS, SELF, sw_ng_mj_2000series_end_gfx,position_in_consist_from_end){
    0: ng_mj_2000series_end;
    default: sw_ng_mj_2000series_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_ng_mj_2000series_livery_1,position_in_consist){
    0: ng_mj_2000series_front;
    default: sw_ng_mj_2000series_end_gfx;
}



switch(FEAT_TRAINS, SELF, sw_ng_mj_2000series_1_fake_placer,position_in_consist){
    5: ng_mj_2000series_1_end_f;
    6: ng_mj_2000series_1_front_f;
ng_mj_2000series_1_wag;
}
switch(FEAT_TRAINS, SELF, sw_ng_mj_2000series_1_fake_placer_rev,position_in_consist_from_end){
    5: ng_mj_2000series_1_front_f;
    6: ng_mj_2000series_1_end_f;
ng_mj_2000series_1_wag;
}
switch(FEAT_TRAINS, PARENT, sw_ng_mj_2000series_1_fake_placer_gfx,vehicle_is_reversed){
    1: sw_ng_mj_2000series_1_fake_placer_rev;
    sw_ng_mj_2000series_1_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_ng_mj_2000series_1_fake_placer_main,num_vehs_in_consist>9){
    1: sw_ng_mj_2000series_1_fake_placer_gfx;
ng_mj_2000series_1_wag;
}


switch(FEAT_TRAINS, SELF, sw_ng_mj_2000series_1_end_gfx,position_in_consist_from_end){
    0: ng_mj_2000series_1_end;
    default: sw_ng_mj_2000series_1_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_ng_mj_2000series_livery_2,position_in_consist){
    0: ng_mj_2000series_1_front;
    default: sw_ng_mj_2000series_1_end_gfx;
}


random_switch(FEAT_TRAINS, PARENT, sw_ng_mj_2000series_livery_0){
    3:sw_ng_mj_2000series_livery_1;
    1:sw_ng_mj_2000series_livery_2;
}


switch(FEAT_TRAINS, SELF, sw_ng_mj_2000series_lv_desc, cargo_subtype){
    0: string(LV_RANDOM);
    1: string(LV_DEFAULT);

    2: string(LV_DATED, string(LV_ng_MEMORIA), 2022);

}
switch(FEAT_TRAINS, PARENT, sw_ng_mj_2000series_lv, cargo_subtype){
    0: sw_ng_mj_2000series_livery_0;
    1: sw_ng_mj_2000series_livery_1;
    2: sw_ng_mj_2000series_livery_2;
}


switch(FEAT_TRAINS, SELF, sw_ng_mj_2000series_main_capacity,position_in_consist_from_end){
    0: 97*param_capacity_mod/3;
    default: 107*param_capacity_mod/3;
}

switch(FEAT_TRAINS, SELF, ng_mj_2000series_attach_vehid, vehicle_type_id) {
  mu_car_metro: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}

item(FEAT_TRAINS, ng_mj_2000series,1381) {
    property {
        cargo_capacity: 130;
        climates_available: param_disable_nagoya == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        name: string(STR_TRAIN_NAME, string(STR_NAME_NAGOYA), "2000", string(STR_NAME_TYPE));
        introduction_date: date(1989, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cost_factor: 19;
        running_cost_factor: 49;
        speed: 80 km/h;
        track_type: TR_1435_M;
        power: 300 kW;
        weight: 24 ton;
        loading_speed: param_loading_3D;
    }
 graphics {
        default: sw_ng_mj_2000series_lv;
        purchase: ng_mj_2000series_purchase;
        can_attach_wagon: ng_mj_2000series_attach_vehid;
        cargo_subtype_text:sw_ng_mj_2000series_lv_desc;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 600)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 6)),
  string(STR_OPERATOR, string(STR_NAGOYA)),
  string(STR_LINES_USED, string(STR_NAGOYA_MEIJO)));

        start_stop: sw_stop_start_3;
        cargo_capacity: 96*param_capacity_mod/3;
    }
    livery_override(mu_car_metro){
        loading_speed: param_loading_3D;
        cargo_capacity: sw_ng_mj_2000series_main_capacity;
        default: sw_ng_mj_2000series_lv;
        power: 402*3/5;
        weight: 24;
        length: 8;
      }
}
# 160 "src/_metro.pnml" 2


# 1 "src/metro/Nagoya/tsurumirai/3000series.pnml" 1

    spriteset(ng_tm_3000series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/tsurumirai/3000series/3000series.png"){ tmpl_purchase_1c(0, 100) }
    spriteset(ng_tm_3000series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/tsurumirai/3000series/3000series.png"){ tmpl_purchase_2c(0, 75) }
    switch(FEAT_TRAINS, SELF, ng_tm_3000series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_nagoya_subway; 1: logo_line_ng_tsurumirai; 2: ng_tm_3000series_purchase_c1; 3: ng_tm_3000series_purchase_c2;}

    spriteset(ng_tm_3000series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/tsurumirai/3000series/3000series.png"){ tmpl_std(0, 0) }
    spriteset(ng_tm_3000series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/tsurumirai/3000series/3000series.png"){ tmpl_std_rev(0, 25) }
    spriteset(ng_tm_3000series_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/tsurumirai/3000series/3000series.png"){ tmpl_std(0, 50) }
    spriteset(ng_tm_3000series_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/tsurumirai/3000series/3000series.png"){ tmpl_std_rev(0, 50) }
    spriteset(ng_tm_3000series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/tsurumirai/3000series/3000series.png"){ tmpl_std(0, 75) }
    spriteset(ng_tm_3000series_front_m, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/tsurumirai/3000series/3000series.png"){ tmpl_std(0, 100) }
    spriteset(ng_tm_3000series_end_m, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/tsurumirai/3000series/3000series.png"){ tmpl_std_rev(0, 125) }
    spriteset(ng_tm_3000series_front_2_m, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/tsurumirai/3000series/3000series.png"){ tmpl_std(0, 150) }
    spriteset(ng_tm_3000series_end_2_m, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/tsurumirai/3000series/3000series.png"){ tmpl_std_rev(0, 175) }
    spriteset(ng_tm_3000series_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/tsurumirai/3000series/3000series.png"){ tmpl_std(0, 200) }
    spriteset(ng_tm_3000series_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/tsurumirai/3000series/3000series.png"){ tmpl_std_rev(0, 200) }






        switch(FEAT_TRAINS, SELF, sw_ng_tm_3000series_panto_placer,position_in_consist %7){
            0: ng_tm_3000series_mot;
            2: ng_tm_3000series_mot;
            4: ng_tm_3000series_mot;
            ng_tm_3000series_wag;
        }
        switch(FEAT_TRAINS, SELF, sw_ng_tm_3000series_panto_placer_rev,position_in_consist_from_end %7){
            0: ng_tm_3000series_mot_rev;
            2: ng_tm_3000series_mot;
            4: ng_tm_3000series_mot;
            ng_tm_3000series_wag;
        }
        switch(FEAT_TRAINS, PARENT, sw_ng_tm_3000series_panto_placer_main,vehicle_is_reversed){
            1: sw_ng_tm_3000series_panto_placer_rev;
            sw_ng_tm_3000series_panto_placer;
        }



        switch(FEAT_TRAINS, SELF, sw_ng_tm_3000series_fake_placer,position_in_consist){
            5: ng_tm_3000series_end_f;
            6: ng_tm_3000series_front_f;
        sw_ng_tm_3000series_panto_placer_main;
        }
        switch(FEAT_TRAINS, SELF, sw_ng_tm_3000series_fake_placer_rev,position_in_consist_from_end){
            5: ng_tm_3000series_front_f;
            6: ng_tm_3000series_end_f;
        sw_ng_tm_3000series_panto_placer_main;
        }
        switch(FEAT_TRAINS, PARENT, sw_ng_tm_3000series_fake_placer_gfx,vehicle_is_reversed){
            1: sw_ng_tm_3000series_fake_placer_rev;
            sw_ng_tm_3000series_fake_placer;
        }
        switch(FEAT_TRAINS, SELF, sw_ng_tm_3000series_fake_placer_main,num_vehs_in_consist>9){
            1: sw_ng_tm_3000series_fake_placer_gfx;
        sw_ng_tm_3000series_panto_placer_main;
        }





    switch(FEAT_TRAINS, PARENT, sw_ng_tm_3000series_front_m_gfx, vehicle_is_reversed){
        0:ng_tm_3000series_front_m;
        ng_tm_3000series_front;
    }
    switch(FEAT_TRAINS, PARENT, sw_ng_tm_3000series_end_m_gfx, vehicle_is_reversed){
        0:ng_tm_3000series_end;
        ng_tm_3000series_end_m;
    }

    switch(FEAT_TRAINS, SELF, sw_ng_tm_3000series_end_gfx,position_in_consist_from_end){
        0: sw_ng_tm_3000series_end_m_gfx;
        default: sw_ng_tm_3000series_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_ng_tm_3000series_livery_1,position_in_consist){
        0: sw_ng_tm_3000series_front_m_gfx;
        default: sw_ng_tm_3000series_end_gfx;
    }



switch(FEAT_TRAINS, PARENT, sw_ng_tm_3000series_front_2_m_gfx, vehicle_is_reversed){
    0:ng_tm_3000series_front_2_m;
    ng_tm_3000series_front;
}
switch(FEAT_TRAINS, PARENT, sw_ng_tm_3000series_end_2_m_gfx, vehicle_is_reversed){
    0:ng_tm_3000series_end;
    ng_tm_3000series_end_2_m;
}

switch(FEAT_TRAINS, SELF, sw_ng_tm_3000series_end_2_gfx,position_in_consist_from_end){
    0: sw_ng_tm_3000series_end_2_m_gfx;
    default: sw_ng_tm_3000series_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_ng_tm_3000series_livery_2,position_in_consist){
    0: sw_ng_tm_3000series_front_2_m_gfx;
    default: sw_ng_tm_3000series_end_2_gfx;
}

random_switch(FEAT_TRAINS, PARENT, sw_ng_tm_3000series_livery_0){
    1:sw_ng_tm_3000series_livery_2;
    2:sw_ng_tm_3000series_livery_1;
}


switch(FEAT_TRAINS, SELF, sw_ng_tm_3000series_main_capacity,position_in_consist_from_end){
    0: 130*param_capacity_mod/3;
    default: 140*param_capacity_mod/3;
}

switch(FEAT_TRAINS, SELF, ng_tm_3000series_attach_vehid, vehicle_type_id) {
  mu_car_narrow: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}

item(FEAT_TRAINS, ng_tm_3000series,1390) {
    property {
        cargo_capacity: 130;
        climates_available: param_disable_nagoya == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        name: string(STR_TRAIN_NAME, string(STR_NAME_NAGOYA), "3000", string(STR_NAME_TYPE));
        introduction_date: date(1977, 1, 1);
        model_life: 40;
        vehicle_life: 43;
        reliability_decay: 10;

        cost_factor: 19;
        running_cost_factor: 49;
        speed: 120 km/h;
        track_type: TR_1067_DC;
        power: 540 kW;
        weight: 37 ton;
        loading_speed: param_loading_4D;
    }
 graphics {
        default: sw_ng_tm_3000series_livery_0;
        purchase: ng_tm_3000series_purchase;
        can_attach_wagon: ng_tm_3000series_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_2, 3,6)),
  string(STR_OPERATOR, string(STR_NAGOYA)),
  string(STR_LINES_USED, string(STR_NAGOYA_TSURUMIRAI)));

        start_stop: sw_stop_start_3;
        cargo_capacity: 130*param_capacity_mod/3;
    }
    livery_override(mu_car_narrow){
        loading_speed: param_loading_4D;
        cargo_capacity: sw_ng_tm_3000series_main_capacity;
        default: sw_ng_tm_3000series_livery_0;
        power: 724;
        weight: 37;
        length: 8;
      }
}
# 163 "src/_metro.pnml" 2
# 1 "src/metro/Nagoya/tsurumirai/3050series.pnml" 1

    spriteset(ng_tm_3050series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/tsurumirai/3050series/3050series.png"){ tmpl_purchase_1c(0, 100) }
    spriteset(ng_tm_3050series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/tsurumirai/3050series/3050series.png"){ tmpl_purchase_2c(0, 75) }
    switch(FEAT_TRAINS, SELF, ng_tm_3050series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_nagoya_subway; 1: logo_line_ng_tsurumirai; 2: ng_tm_3050series_purchase_c1; 3: ng_tm_3050series_purchase_c2;}

spriteset(ng_tm_3050series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/tsurumirai/3050series/3050series.png"){ tmpl_std(0, 0) }
spriteset(ng_tm_3050series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/tsurumirai/3050series/3050series.png"){ tmpl_std_rev(0, 25) }
spriteset(ng_tm_3050series_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/tsurumirai/3050series/3050series.png"){ tmpl_std(0, 50) }
spriteset(ng_tm_3050series_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/tsurumirai/3050series/3050series.png"){ tmpl_std_rev(0, 50) }
spriteset(ng_tm_3050series_mot_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/tsurumirai/3050series/3050series.png"){ tmpl_std(0, 75) }
spriteset(ng_tm_3050series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/tsurumirai/3050series/3050series.png"){ tmpl_std(0, 100) }
spriteset(ng_tm_3050series_front_m, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/tsurumirai/3050series/3050series.png"){ tmpl_std(0, 125) }
spriteset(ng_tm_3050series_end_m, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/tsurumirai/3050series/3050series.png"){ tmpl_std_rev(0, 150) }
spriteset(ng_tm_3050series_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/tsurumirai/3050series/3050series.png"){ tmpl_std(0, 175) }
spriteset(ng_tm_3050series_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/tsurumirai/3050series/3050series.png"){ tmpl_std_rev(0, 175) }




switch(FEAT_TRAINS, SELF, sw_ng_tm_3050series_panto_placer,position_in_consist %7){
    0: ng_tm_3050series_mot_2;
    2: ng_tm_3050series_mot;
    4: ng_tm_3050series_mot_2;
    ng_tm_3050series_wag;
}
switch(FEAT_TRAINS, SELF, sw_ng_tm_3050series_panto_placer_rev,position_in_consist_from_end %7){
    0: ng_tm_3050series_mot_2;
    2: ng_tm_3050series_mot_rev;
    4: ng_tm_3050series_mot_2;
    ng_tm_3050series_wag;
}
switch(FEAT_TRAINS, PARENT, sw_ng_tm_3050series_panto_placer_main,vehicle_is_reversed){
    1: sw_ng_tm_3050series_panto_placer_rev;
    sw_ng_tm_3050series_panto_placer;
}



switch(FEAT_TRAINS, SELF, sw_ng_tm_3050series_fake_placer,position_in_consist){
    5: ng_tm_3050series_end_f;
    6: ng_tm_3050series_front_f;
sw_ng_tm_3050series_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_ng_tm_3050series_fake_placer_rev,position_in_consist_from_end){
    5: ng_tm_3050series_front_f;
    6: ng_tm_3050series_end_f;
sw_ng_tm_3050series_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_ng_tm_3050series_fake_placer_gfx,vehicle_is_reversed){
    1: sw_ng_tm_3050series_fake_placer_rev;
    sw_ng_tm_3050series_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_ng_tm_3050series_fake_placer_main,num_vehs_in_consist>9){
    1: sw_ng_tm_3050series_fake_placer_gfx;
sw_ng_tm_3050series_panto_placer_main;
}





switch(FEAT_TRAINS, PARENT, sw_ng_tm_3050series_front_m_gfx, vehicle_is_reversed){
    0:ng_tm_3050series_front_m;
    ng_tm_3050series_front;
}
switch(FEAT_TRAINS, PARENT, sw_ng_tm_3050series_end_m_gfx, vehicle_is_reversed){
    0:ng_tm_3050series_end;
    ng_tm_3050series_end_m;
}

switch(FEAT_TRAINS, SELF, sw_ng_tm_3050series_end_gfx,position_in_consist_from_end){
    0: sw_ng_tm_3050series_end_m_gfx;
    default: sw_ng_tm_3050series_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_ng_tm_3050series_livery_1,position_in_consist){
    0: sw_ng_tm_3050series_front_m_gfx;
    default: sw_ng_tm_3050series_end_gfx;
}

switch(FEAT_TRAINS, SELF, sw_ng_tm_3050series_main_capacity,position_in_consist_from_end){
    0: 138*param_capacity_mod/3;
    default: 152*param_capacity_mod/3;
}

switch(FEAT_TRAINS, SELF, ng_tm_3050series_attach_vehid, vehicle_type_id) {
  mu_car_narrow: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}

item(FEAT_TRAINS, ng_tm_3050series,1391) {
    property {
        cargo_capacity: 130;
        climates_available: param_disable_nagoya == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        name: string(STR_TRAIN_NAME, string(STR_NAME_NAGOYA), "3050", string(STR_NAME_TYPE));
        introduction_date: date(1993, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cost_factor: 20;
        running_cost_factor: 50;
        speed: 120 km/h;
        track_type: TR_1067_DC;
        power: 680 kW;
        weight: 32 ton;
        loading_speed: param_loading_4D;
    }
 graphics {
        default: sw_ng_tm_3050series_livery_1;
        purchase: ng_tm_3050series_purchase;
        can_attach_wagon: ng_tm_3050series_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 6)),
  string(STR_OPERATOR, string(STR_NAGOYA)),
  string(STR_LINES_USED, string(STR_NAGOYA_TSURUMIRAI)));

        start_stop: sw_stop_start_3;
        cargo_capacity: 138*param_capacity_mod/3;
    }
    livery_override(mu_car_narrow){
        loading_speed: param_loading_4D;
        cargo_capacity: sw_ng_tm_3050series_main_capacity;
        default: sw_ng_tm_3050series_livery_1;
        power: 912*2/5;
        weight: 31;
        length: 8;
      }
}
# 164 "src/_metro.pnml" 2
# 1 "src/metro/Nagoya/tsurumirai/N3000series.pnml" 1

    spriteset(ng_tm_N3000series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/tsurumirai/N3000series/N3000series.png"){ tmpl_purchase_1c(0, 0) }
    spriteset(ng_tm_N3000series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/tsurumirai/N3000series/N3000series.png"){ tmpl_purchase_2c(0, 75) }
    switch(FEAT_TRAINS, SELF, ng_tm_N3000series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_nagoya_subway; 1: logo_line_ng_tsurumirai; 2: ng_tm_N3000series_purchase_c1; 3: ng_tm_N3000series_purchase_c2;}

spriteset(ng_tm_N3000series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/tsurumirai/N3000series/N3000series.png"){ tmpl_std(0, 0) }
spriteset(ng_tm_N3000series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/tsurumirai/N3000series/N3000series.png"){ tmpl_std_rev(0, 25) }
spriteset(ng_tm_N3000series_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/tsurumirai/N3000series/N3000series.png"){ tmpl_std(0, 50) }
spriteset(ng_tm_N3000series_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/tsurumirai/N3000series/N3000series.png"){ tmpl_std_rev(0, 50) }
spriteset(ng_tm_N3000series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/tsurumirai/N3000series/N3000series.png"){ tmpl_std(0, 75) }
spriteset(ng_tm_N3000series_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/tsurumirai/N3000series/N3000series.png"){ tmpl_std(0, 100) }
spriteset(ng_tm_N3000series_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/tsurumirai/N3000series/N3000series.png"){ tmpl_std_rev(0, 100) }


spriteset(ng_tm_N3000series_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/tsurumirai/N3000series/N3000series_1.png"){ tmpl_std(0, 0) }
spriteset(ng_tm_N3000series_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/tsurumirai/N3000series/N3000series_1.png"){ tmpl_std_rev(0, 25) }
spriteset(ng_tm_N3000series_1_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/tsurumirai/N3000series/N3000series_1.png"){ tmpl_std(0, 50) }
spriteset(ng_tm_N3000series_1_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/tsurumirai/N3000series/N3000series_1.png"){ tmpl_std_rev(0, 50) }
spriteset(ng_tm_N3000series_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/tsurumirai/N3000series/N3000series_1.png"){ tmpl_std(0, 75) }
spriteset(ng_tm_N3000series_1_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/tsurumirai/N3000series/N3000series_1.png"){ tmpl_std(0, 100) }
spriteset(ng_tm_N3000series_1_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/tsurumirai/N3000series/N3000series_1.png"){ tmpl_std_rev(0, 100) }





switch(FEAT_TRAINS, SELF, sw_ng_tm_N3000series_panto_placer,position_in_consist %6){
    1: ng_tm_N3000series_mot;
    3: ng_tm_N3000series_mot;
    4: ng_tm_N3000series_mot;
    ng_tm_N3000series_wag;
}
switch(FEAT_TRAINS, SELF, sw_ng_tm_N3000series_panto_placer_rev,position_in_consist_from_end %6){
    1: ng_tm_N3000series_mot_rev;
    3: ng_tm_N3000series_mot_rev;
    4: ng_tm_N3000series_mot_rev;
    ng_tm_N3000series_wag;
}
switch(FEAT_TRAINS, PARENT, sw_ng_tm_N3000series_panto_placer_main,vehicle_is_reversed){
    1: sw_ng_tm_N3000series_panto_placer_rev;
    sw_ng_tm_N3000series_panto_placer;
}



switch(FEAT_TRAINS, SELF, sw_ng_tm_N3000series_fake_placer,position_in_consist){
    5: ng_tm_N3000series_end_f;
    6: ng_tm_N3000series_front_f;
sw_ng_tm_N3000series_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_ng_tm_N3000series_fake_placer_rev,position_in_consist_from_end){
    5: ng_tm_N3000series_front_f;
    6: ng_tm_N3000series_end_f;
sw_ng_tm_N3000series_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_ng_tm_N3000series_fake_placer_gfx,vehicle_is_reversed){
    1: sw_ng_tm_N3000series_fake_placer_rev;
    sw_ng_tm_N3000series_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_ng_tm_N3000series_fake_placer_main,num_vehs_in_consist>9){
    1: sw_ng_tm_N3000series_fake_placer_gfx;
sw_ng_tm_N3000series_panto_placer_main;
}



switch(FEAT_TRAINS, SELF, sw_ng_tm_N3000series_end_gfx,position_in_consist_from_end){
    0: ng_tm_N3000series_end;
    default: sw_ng_tm_N3000series_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_ng_tm_N3000series_livery_1,position_in_consist){
    0: ng_tm_N3000series_front;
    default: sw_ng_tm_N3000series_end_gfx;
}




switch(FEAT_TRAINS, SELF, sw_ng_tm_N3000series_1_panto_placer,position_in_consist %6){
    1: ng_tm_N3000series_1_mot;
    3: ng_tm_N3000series_1_mot;
    4: ng_tm_N3000series_1_mot;
    ng_tm_N3000series_1_wag;
}
switch(FEAT_TRAINS, SELF, sw_ng_tm_N3000series_1_panto_placer_rev,position_in_consist_from_end %6){
    1: ng_tm_N3000series_1_mot_rev;
    3: ng_tm_N3000series_1_mot_rev;
    4: ng_tm_N3000series_1_mot_rev;
    ng_tm_N3000series_1_wag;
}
switch(FEAT_TRAINS, PARENT, sw_ng_tm_N3000series_1_panto_placer_main,vehicle_is_reversed){
    1: sw_ng_tm_N3000series_1_panto_placer_rev;
    sw_ng_tm_N3000series_1_panto_placer;
}



switch(FEAT_TRAINS, SELF, sw_ng_tm_N3000series_1_fake_placer,position_in_consist){
    5: ng_tm_N3000series_1_end_f;
    6: ng_tm_N3000series_1_front_f;
sw_ng_tm_N3000series_1_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_ng_tm_N3000series_1_fake_placer_rev,position_in_consist_from_end){
    5: ng_tm_N3000series_1_front_f;
    6: ng_tm_N3000series_1_end_f;
sw_ng_tm_N3000series_1_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_ng_tm_N3000series_1_fake_placer_gfx,vehicle_is_reversed){
    1: sw_ng_tm_N3000series_1_fake_placer_rev;
    sw_ng_tm_N3000series_1_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_ng_tm_N3000series_1_fake_placer_main,num_vehs_in_consist>9){
    1: sw_ng_tm_N3000series_1_fake_placer_gfx;
sw_ng_tm_N3000series_1_panto_placer_main;
}



switch(FEAT_TRAINS, SELF, sw_ng_tm_N3000series_1_end_gfx,position_in_consist_from_end){
    0: ng_tm_N3000series_1_end;
    default: sw_ng_tm_N3000series_1_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_ng_tm_N3000series_livery_2,position_in_consist){
    0: ng_tm_N3000series_1_front;
    default: sw_ng_tm_N3000series_1_end_gfx;
}


random_switch(FEAT_TRAINS,PARENT, sw_ng_tm_N3000series_livery_0){
    1:sw_ng_tm_N3000series_livery_1;
    1:sw_ng_tm_N3000series_livery_2;
}

switch(FEAT_TRAINS, SELF, sw_ng_tm_N3000series_lv_desc, cargo_subtype){
    0: string(LV_RANDOM);
    1: string(LV_STEEL);
    2: string(LV_ALUMI);
}
switch(FEAT_TRAINS, PARENT, sw_ng_tm_N3000series_lv, cargo_subtype){
    0: sw_ng_tm_N3000series_livery_0;
    1: sw_ng_tm_N3000series_livery_1;
    2: sw_ng_tm_N3000series_livery_2;
}





switch(FEAT_TRAINS, SELF, sw_ng_tm_N3000series_main_capacity,position_in_consist_from_end){
    0: 136*param_capacity_mod/3;
    default: 147*param_capacity_mod/3;
}

switch(FEAT_TRAINS, SELF, ng_tm_N3000series_attach_vehid, vehicle_type_id) {
  mu_car_narrow: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}

item(FEAT_TRAINS, ng_tm_N3000series,1392) {
    property {
        cargo_capacity: 130;
        climates_available: param_disable_nagoya == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        name: string(STR_TRAIN_NAME, string(STR_NAME_NAGOYA), "N1000", string(STR_NAME_TYPE));
        introduction_date: date(2011, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cost_factor: 21;
        running_cost_factor: 51;
        speed: 120 km/h;
        track_type: TR_1067_DC;
        power: 680 kW;
        weight: 32 ton;
        loading_speed: param_loading_4D;
    }
 graphics {
        default: sw_ng_tm_N3000series_lv;
        purchase: ng_tm_N3000series_purchase;
        can_attach_wagon: ng_tm_N3000series_attach_vehid;
        cargo_subtype_text:sw_ng_tm_N3000series_lv_desc;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 6)),
  string(STR_OPERATOR, string(STR_NAGOYA)),
  string(STR_LINES_USED, string(STR_NAGOYA_TSURUMIRAI)));

        start_stop: sw_stop_start_3;
        cargo_capacity: 136*param_capacity_mod/3;
    }
    livery_override(mu_car_narrow){
        loading_speed: param_loading_4D;
        cargo_capacity: sw_ng_tm_N3000series_main_capacity;
        default: sw_ng_tm_N3000series_lv;
        power: 912*2/5;
        weight: 32;
        length: 8;
      }
}
# 165 "src/_metro.pnml" 2


# 1 "src/metro/Nagoya/sakura/6000series.pnml" 1

spriteset(ng_sk_6000series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/sakura/6000series/6000series.png"){ tmpl_purchase_1c(0, 150) }
spriteset(ng_sk_6000series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/sakura/6000series/6000series.png"){ tmpl_purchase_2c(0, 100) }
switch(FEAT_TRAINS, SELF, ng_sk_6000series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_nagoya_subway; 1: logo_line_ng_sakura; 2: ng_sk_6000series_purchase_c1; 3: ng_sk_6000series_purchase_c2;}

spriteset(ng_sk_6000series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/sakura/6000series/6000series.png"){ tmpl_std(0, 0) }
spriteset(ng_sk_6000series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/sakura/6000series/6000series.png"){ tmpl_std_rev(0, 25) }
spriteset(ng_sk_6000series_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/sakura/6000series/6000series.png"){ tmpl_std(0, 50) }
spriteset(ng_sk_6000series_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/sakura/6000series/6000series.png"){ tmpl_std_rev(0, 50) }
spriteset(ng_sk_6000series_mot_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/sakura/6000series/6000series.png"){ tmpl_std(0, 75) }
spriteset(ng_sk_6000series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/sakura/6000series/6000series.png"){ tmpl_std(0, 100) }
spriteset(ng_sk_6000series_front_m, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/sakura/6000series/6000series.png"){ tmpl_std(0, 125) }
spriteset(ng_sk_6000series_end_m, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/sakura/6000series/6000series.png"){ tmpl_std_rev(0, 150) }
spriteset(ng_sk_6000series_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/sakura/6000series/6000series.png"){ tmpl_std(0, 175) }
spriteset(ng_sk_6000series_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/sakura/6000series/6000series.png"){ tmpl_std_rev(0, 175) }




switch(FEAT_TRAINS, SELF, sw_ng_sk_6000series_panto_placer,position_in_consist %6){
    0: ng_sk_6000series_mot_2;
    2: ng_sk_6000series_mot;
    3: ng_sk_6000series_mot_2;
    ng_sk_6000series_wag;
}
switch(FEAT_TRAINS, SELF, sw_ng_sk_6000series_panto_placer_rev,position_in_consist_from_end %6){
    0: ng_sk_6000series_mot_2;
    2: ng_sk_6000series_mot_rev;
    3: ng_sk_6000series_mot_2;
    ng_sk_6000series_wag;
}
switch(FEAT_TRAINS, PARENT, sw_ng_sk_6000series_panto_placer_main,vehicle_is_reversed){
    1: sw_ng_sk_6000series_panto_placer_rev;
    sw_ng_sk_6000series_panto_placer;
}



switch(FEAT_TRAINS, SELF, sw_ng_sk_6000series_fake_placer,position_in_consist){
    4: ng_sk_6000series_end_f;
    5: ng_sk_6000series_front_f;
sw_ng_sk_6000series_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_ng_sk_6000series_fake_placer_rev,position_in_consist_from_end){
    4: ng_sk_6000series_front_f;
    5: ng_sk_6000series_end_f;
sw_ng_sk_6000series_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_ng_sk_6000series_fake_placer_gfx,vehicle_is_reversed){
    1: sw_ng_sk_6000series_fake_placer_rev;
    sw_ng_sk_6000series_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_ng_sk_6000series_fake_placer_main,num_vehs_in_consist>8){
    1: sw_ng_sk_6000series_fake_placer_gfx;
sw_ng_sk_6000series_panto_placer_main;
}





switch(FEAT_TRAINS, PARENT, sw_ng_sk_6000series_front_m_gfx, vehicle_is_reversed){
    0:ng_sk_6000series_front_m;
    ng_sk_6000series_front;
}
switch(FEAT_TRAINS, PARENT, sw_ng_sk_6000series_end_m_gfx, vehicle_is_reversed){
    0:ng_sk_6000series_end;
    ng_sk_6000series_end_m;
}

switch(FEAT_TRAINS, SELF, sw_ng_sk_6000series_end_gfx,position_in_consist_from_end){
    0: sw_ng_sk_6000series_end_m_gfx;
    default: sw_ng_sk_6000series_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_ng_sk_6000series_livery_1,position_in_consist){
    0: sw_ng_sk_6000series_front_m_gfx;
    default: sw_ng_sk_6000series_end_gfx;
}



switch(FEAT_TRAINS, SELF, sw_ng_sk_6000series_main_capacity,position_in_consist_from_end){
    0: 138*param_capacity_mod/3;
    default: 152*param_capacity_mod/3;
}

switch(FEAT_TRAINS, SELF, ng_sk_6000series_attach_vehid, vehicle_type_id) {
  mu_car_narrow: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}

item(FEAT_TRAINS, ng_sk_6000series,1400) {
    property {
        cargo_capacity: 130;
        climates_available: param_disable_nagoya == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        name: string(STR_TRAIN_NAME, string(STR_NAME_NAGOYA), "6000", string(STR_NAME_TYPE));
        introduction_date: date(1987, 1, 1);
        model_life: 40;
        vehicle_life: 30;
        reliability_decay: 10;

        cost_factor: 19;
        running_cost_factor: 49;
        speed: 120 km/h;
        track_type: TR_1067_DC;
        power: 680 kW;
        weight: 33 ton;
        loading_speed: param_loading_4D;
    }
 graphics {
        default: sw_ng_sk_6000series_livery_1;
        purchase: ng_sk_6000series_purchase;
        can_attach_wagon: ng_sk_6000series_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_2, 4,5)),
  string(STR_OPERATOR, string(STR_NAGOYA)),
  string(STR_LINES_USED, string(STR_NAGOYA_SAKURA)));

        start_stop: sw_stop_start_3;
        cargo_capacity: 138*param_capacity_mod/3;
    }
    livery_override(mu_car_narrow){
        loading_speed: param_loading_4D;
        cargo_capacity: sw_ng_sk_6000series_main_capacity;
        default: sw_ng_sk_6000series_livery_1;
        power: 456;
        weight: 32;
        length: 8;
      }
}
# 168 "src/_metro.pnml" 2
# 1 "src/metro/Nagoya/sakura/6050series.pnml" 1

spriteset(ng_sk_6050series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/sakura/6050series/6050series.png"){ tmpl_purchase_1c(0, 0) }
spriteset(ng_sk_6050series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/sakura/6050series/6050series.png"){ tmpl_purchase_2c(0, 75) }
switch(FEAT_TRAINS, SELF, ng_sk_6050series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_nagoya_subway; 1: logo_line_ng_sakura; 2: ng_sk_6050series_purchase_c1; 3: ng_sk_6050series_purchase_c2;}

spriteset(ng_sk_6050series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/sakura/6050series/6050series.png"){ tmpl_std(0, 0) }
spriteset(ng_sk_6050series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/sakura/6050series/6050series.png"){ tmpl_std_rev(0, 25) }
spriteset(ng_sk_6050series_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/sakura/6050series/6050series.png"){ tmpl_std(0, 50) }
spriteset(ng_sk_6050series_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/sakura/6050series/6050series.png"){ tmpl_std_rev(0, 50) }
spriteset(ng_sk_6050series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/sakura/6050series/6050series.png"){ tmpl_std(0, 75) }
spriteset(ng_sk_6050series_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/sakura/6050series/6050series.png"){ tmpl_std(0, 100) }
spriteset(ng_sk_6050series_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/sakura/6050series/6050series.png"){ tmpl_std_rev(0, 100) }





switch(FEAT_TRAINS, SELF, sw_ng_sk_6050series_panto_placer,position_in_consist %6){
    1: ng_sk_6050series_mot;
    2: ng_sk_6050series_mot;
    3: ng_sk_6050series_mot;
    ng_sk_6050series_wag;
}
switch(FEAT_TRAINS, SELF, sw_ng_sk_6050series_panto_placer_rev,position_in_consist_from_end %6){
    1: ng_sk_6050series_mot_rev;
    2: ng_sk_6050series_mot_rev;
    3: ng_sk_6050series_mot_rev;
    ng_sk_6050series_wag;
}
switch(FEAT_TRAINS, PARENT, sw_ng_sk_6050series_panto_placer_main_1,vehicle_is_reversed){
    1: sw_ng_sk_6050series_panto_placer_rev;
    sw_ng_sk_6050series_panto_placer;
}

switch(FEAT_TRAINS, SELF, sw_ng_sk_6050series_1_panto_placer,position_in_consist %8){
    1: ng_sk_6050series_mot;
    2: ng_sk_6050series_mot;
    4: ng_sk_6050series_mot;
    6: ng_sk_6050series_mot;
    ng_sk_6050series_wag;
}
switch(FEAT_TRAINS, SELF, sw_ng_sk_6050series_1_panto_placer_rev,position_in_consist_from_end %8){
    1: ng_sk_6050series_mot_rev;
    2: ng_sk_6050series_mot_rev;
    4: ng_sk_6050series_mot_rev;
    6: ng_sk_6050series_mot_rev;
    ng_sk_6050series_wag;
}
switch(FEAT_TRAINS, PARENT, sw_ng_sk_6050series_panto_placer_main_2,vehicle_is_reversed){
    1: sw_ng_sk_6050series_1_panto_placer_rev;
    sw_ng_sk_6050series_1_panto_placer;
}

switch(FEAT_TRAINS, PARENT, sw_ng_sk_6050series_panto_placer_main,num_vehs_in_consist){
0..5:sw_ng_sk_6050series_panto_placer_main_1;
sw_ng_sk_6050series_panto_placer_main_2;
}



switch(FEAT_TRAINS, SELF, sw_ng_sk_6050series_fake_placer,position_in_consist){
    4: ng_sk_6050series_end_f;
    5: ng_sk_6050series_front_f;
sw_ng_sk_6050series_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_ng_sk_6050series_fake_placer_rev,position_in_consist_from_end){
    4: ng_sk_6050series_front_f;
    5: ng_sk_6050series_end_f;
sw_ng_sk_6050series_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_ng_sk_6050series_fake_placer_gfx,vehicle_is_reversed){
    1: sw_ng_sk_6050series_fake_placer_rev;
    sw_ng_sk_6050series_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_ng_sk_6050series_fake_placer_main,num_vehs_in_consist>7){
    1: sw_ng_sk_6050series_fake_placer_gfx;
sw_ng_sk_6050series_panto_placer_main;
}



switch(FEAT_TRAINS, SELF, sw_ng_sk_6050series_end_gfx,position_in_consist_from_end){
    0: ng_sk_6050series_end;
    default: sw_ng_sk_6050series_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_ng_sk_6050series_livery_1,position_in_consist){
    0: ng_sk_6050series_front;
    default: sw_ng_sk_6050series_end_gfx;
}


switch(FEAT_TRAINS, SELF, sw_ng_sk_6050series_main_capacity,position_in_consist_from_end){
    0: 136*param_capacity_mod/3;
    default: 147*param_capacity_mod/3;
}

switch(FEAT_TRAINS, SELF, ng_sk_6050series_attach_vehid, vehicle_type_id) {
  mu_car_narrow: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}

item(FEAT_TRAINS, ng_sk_6050series,1401) {
    property {
        cargo_capacity: 130;
        climates_available: param_disable_nagoya == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        name: string(STR_TRAIN_NAME, string(STR_NAME_NAGOYA), "6050", string(STR_NAME_TYPE));
        introduction_date: date(2009, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cost_factor: 20;
        running_cost_factor: 50;
        speed: 120 km/h;
        track_type: TR_1067_DC;
        power: 680 kW;
        weight: 34 ton;
        loading_speed: param_loading_4D;
    }
 graphics {
        default: sw_ng_sk_6050series_livery_1;
        purchase: ng_sk_6050series_purchase;
        can_attach_wagon: ng_sk_6050series_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 5)),
  string(STR_OPERATOR, string(STR_NAGOYA)),
  string(STR_LINES_USED, string(STR_NAGOYA_SAKURA)));

        start_stop: sw_stop_start_3;
        cargo_capacity: 136*param_capacity_mod/3;
    }
    livery_override(mu_car_narrow){
        loading_speed: param_loading_4D;
        cargo_capacity: sw_ng_sk_6050series_main_capacity;
        default: sw_ng_sk_6050series_livery_1;
        power: 912*2/5;
        weight: 34;
        length: 8;
      }
}
# 169 "src/_metro.pnml" 2


# 1 "src/metro/Nagoya/kamiida/7000series.pnml" 1

spriteset(ng_sk_7000series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/kamiida/7000series/7000series.png"){ tmpl_purchase_1c(0, 0) }
spriteset(ng_sk_7000series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/kamiida/7000series/7000series.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, ng_sk_7000series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_nagoya_subway; 1: logo_line_ng_kamiida; 2: ng_sk_7000series_purchase_c1; 3: ng_sk_7000series_purchase_c2;}

spriteset(ng_sk_7000series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/kamiida/7000series/7000series.png"){ tmpl_std(0, 0) }
spriteset(ng_sk_7000series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/kamiida/7000series/7000series.png"){ tmpl_std_rev(0, 25) }
spriteset(ng_sk_7000series_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/kamiida/7000series/7000series.png"){ tmpl_std(0, 50) }
spriteset(ng_sk_7000series_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/kamiida/7000series/7000series.png"){ tmpl_std_rev(0, 50) }
spriteset(ng_sk_7000series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/kamiida/7000series/7000series.png"){ tmpl_std(0, 75) }
spriteset(ng_sk_7000series_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/kamiida/7000series/7000series.png"){ tmpl_std(0, 100) }
spriteset(ng_sk_7000series_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Nagoya/kamiida/7000series/7000series.png"){ tmpl_std_rev(0, 100) }





switch(FEAT_TRAINS, SELF, sw_ng_sk_7000series_panto_placer,position_in_consist %3){
    1: ng_sk_7000series_mot_rev;
    2: ng_sk_7000series_mot;
    ng_sk_7000series_wag;
}
switch(FEAT_TRAINS, SELF, sw_ng_sk_7000series_panto_placer_rev,position_in_consist_from_end %3){
    1: ng_sk_7000series_mot;
    2: ng_sk_7000series_mot_rev;
    ng_sk_7000series_wag;
}
switch(FEAT_TRAINS, PARENT, sw_ng_sk_7000series_panto_placer_main,vehicle_is_reversed){
    1: sw_ng_sk_7000series_panto_placer_rev;
    sw_ng_sk_7000series_panto_placer;
}




switch(FEAT_TRAINS, SELF, sw_ng_sk_7000series_fake_placer,position_in_consist){
    3: ng_sk_7000series_end_f;
    4: ng_sk_7000series_front_f;
sw_ng_sk_7000series_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_ng_sk_7000series_fake_placer_rev,position_in_consist_from_end){
    3: ng_sk_7000series_front_f;
    4: ng_sk_7000series_end_f;
sw_ng_sk_7000series_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_ng_sk_7000series_fake_placer_gfx,vehicle_is_reversed){
    1: sw_ng_sk_7000series_fake_placer_rev;
    sw_ng_sk_7000series_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_ng_sk_7000series_fake_placer_main,num_vehs_in_consist>6){
    1: sw_ng_sk_7000series_fake_placer_gfx;
sw_ng_sk_7000series_panto_placer_main;
}



switch(FEAT_TRAINS, SELF, sw_ng_sk_7000series_end_gfx,position_in_consist_from_end){
    0: ng_sk_7000series_end;
    default: sw_ng_sk_7000series_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_ng_sk_7000series_livery_1,position_in_consist){
    0: ng_sk_7000series_front;
    default: sw_ng_sk_7000series_end_gfx;
}


switch(FEAT_TRAINS, SELF, sw_ng_sk_7000series_main_capacity,position_in_consist_from_end){
    0: 128*param_capacity_mod/3;
    default: 135*param_capacity_mod/3;
}

switch(FEAT_TRAINS, SELF, ng_sk_7000series_attach_vehid, vehicle_type_id) {
  mu_car_narrow: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}

item(FEAT_TRAINS, ng_sk_7000series,1410) {
    property {
        cargo_capacity: 130;
        climates_available: param_disable_nagoya == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        name: string(STR_TRAIN_NAME, string(STR_NAME_NAGOYA), "7000", string(STR_NAME_TYPE));
        introduction_date: date(2003, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cost_factor: 20;
        running_cost_factor: 50;
        speed: 120 km/h;
        track_type: TR_1067_DC;
        power: 680 kW;
        weight: 32 ton;
        loading_speed: param_loading_4D;
    }
 graphics {
        default: sw_ng_sk_7000series_livery_1;
        purchase: ng_sk_7000series_purchase;
        can_attach_wagon: ng_sk_7000series_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 4)),
  string(STR_OPERATOR, string(STR_NAGOYA)),
  string(STR_LINES_USED, string(STR_NAGOYA_KAMIIDA)));

        start_stop: sw_stop_start_3;
        cargo_capacity: 128*param_capacity_mod/3;
    }
    livery_override(mu_car_narrow){
        loading_speed: param_loading_4D;
        cargo_capacity: sw_ng_sk_7000series_main_capacity;
        default: sw_ng_sk_7000series_livery_1;
        power: 912/3;
        weight: 33;
        length: 8;
      }
}
# 172 "src/_metro.pnml" 2





# 1 "src/metro/Sendai/namboku/1000series.pnml" 1

spriteset(sn_nm_1000series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Sendai/namboku/1000series/1000series.png"){ tmpl_purchase_1c(0, 0) }
spriteset(sn_nm_1000series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Sendai/namboku/1000series/1000series.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, sn_nm_1000series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_sendai_subway; 1: logo_line_sn_namboku; 2: sn_nm_1000series_purchase_c1; 3: sn_nm_1000series_purchase_c2;}


spriteset(sn_nm_1000series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Sendai/namboku/1000series/1000series.png"){ tmpl_std(0, 0) }
spriteset(sn_nm_1000series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Sendai/namboku/1000series/1000series.png"){ tmpl_std_rev(0, 25) }
spriteset(sn_nm_1000series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Sendai/namboku/1000series/1000series.png"){ tmpl_std(0, 75) }
spriteset(sn_nm_1000series_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Sendai/namboku/1000series/1000series.png"){ tmpl_std(0, 50) }
spriteset(sn_nm_1000series_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Sendai/namboku/1000series/1000series.png"){ tmpl_std(0, 100) }
spriteset(sn_nm_1000series_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Sendai/namboku/1000series/1000series.png"){ tmpl_std_rev(0, 100) }

spriteset(sn_nm_1000series_weath_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Sendai/namboku/1000series/1000series_weath.png"){ tmpl_std(0, 0) }
spriteset(sn_nm_1000series_weath_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Sendai/namboku/1000series/1000series_weath.png"){ tmpl_std_rev(0, 25) }
spriteset(sn_nm_1000series_weath_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Sendai/namboku/1000series/1000series_weath.png"){ tmpl_std(0, 75) }
spriteset(sn_nm_1000series_weath_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Sendai/namboku/1000series/1000series_weath.png"){ tmpl_std(0, 50) }
spriteset(sn_nm_1000series_weath_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Sendai/namboku/1000series/1000series_weath.png"){ tmpl_std(0, 100) }
spriteset(sn_nm_1000series_weath_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Sendai/namboku/1000series/1000series_weath.png"){ tmpl_std_rev(0, 100) }


switch(FEAT_TRAINS, SELF, sw_sn_nm_1000series_front_gfx,(current_year-build_year>15)){
    1: sn_nm_1000series_weath_front;
    sn_nm_1000series_front;
}
switch(FEAT_TRAINS, SELF, sw_sn_nm_1000series_end_gfx,(current_year-build_year>15)){
    1: sn_nm_1000series_weath_end;
    sn_nm_1000series_end;
}
switch(FEAT_TRAINS, SELF, sw_sn_nm_1000series_mot_gfx,(current_year-build_year>15)){
    1: sn_nm_1000series_weath_mot;
    sn_nm_1000series_mot;
}
switch(FEAT_TRAINS, SELF, sw_sn_nm_1000series_wag_gfx,(current_year-build_year>15)){
    1: sn_nm_1000series_weath_wag;
    sn_nm_1000series_wag;
}
switch(FEAT_TRAINS, SELF, sw_sn_nm_1000series_front_f_gfx,(current_year-build_year>15)){
    1: sn_nm_1000series_weath_front_f;
    sn_nm_1000series_front_f;
}
switch(FEAT_TRAINS, SELF, sw_sn_nm_1000series_end_f_gfx,(current_year-build_year>15)){
    1: sn_nm_1000series_weath_end_f;
    sn_nm_1000series_end_f;
}




switch(FEAT_TRAINS, SELF, sw_sn_nm_1000series_panto_placer_1,position_in_consist %3){
    1: sw_sn_nm_1000series_mot_gfx;
    sw_sn_nm_1000series_wag_gfx;
}
switch(FEAT_TRAINS, SELF, sw_sn_nm_1000series_panto_placer_1_rev,position_in_consist_from_end %3){
    1: sw_sn_nm_1000series_mot_gfx;
    sw_sn_nm_1000series_wag_gfx;
}
switch(FEAT_TRAINS, PARENT, sw_sn_nm_1000series_panto_placer_1_main,vehicle_is_reversed){
    1: sw_sn_nm_1000series_panto_placer_1_rev;
    sw_sn_nm_1000series_panto_placer_1;
}

switch(FEAT_TRAINS, SELF, sw_sn_nm_1000series_panto_placer_2,position_in_consist %3){
    2: sw_sn_nm_1000series_mot_gfx;
    sw_sn_nm_1000series_wag_gfx;
}
switch(FEAT_TRAINS, SELF, sw_sn_nm_1000series_panto_placer_2_rev,position_in_consist_from_end %3){
    2: sw_sn_nm_1000series_mot_gfx;
    sw_sn_nm_1000series_wag_gfx;
}
switch(FEAT_TRAINS, PARENT, sw_sn_nm_1000series_panto_placer_2_main,vehicle_is_reversed){
    1: sw_sn_nm_1000series_panto_placer_2_rev;
    sw_sn_nm_1000series_panto_placer_2;
}

switch(FEAT_TRAINS, SELF, sw_sn_nm_1000series_panto_placer_main,num_vehs_in_consist){
    5: sw_sn_nm_1000series_panto_placer_2_main;
    9..16: sw_sn_nm_1000series_panto_placer_2_main;
    sw_sn_nm_1000series_panto_placer_1_main;
}



switch(FEAT_TRAINS, SELF, sw_sn_nm_1000series_fake_placer,position_in_consist){
    3: sw_sn_nm_1000series_end_f_gfx;
    4: sw_sn_nm_1000series_front_f_gfx;
sw_sn_nm_1000series_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_sn_nm_1000series_fake_placer_rev,position_in_consist_from_end){
    3: sn_nm_1000series_front_f;
    4: sn_nm_1000series_end_f;
sw_sn_nm_1000series_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_sn_nm_1000series_fake_placer_gfx,vehicle_is_reversed){
    1: sw_sn_nm_1000series_fake_placer_rev;
    sw_sn_nm_1000series_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_sn_nm_1000series_fake_placer_main,num_vehs_in_consist>6){
    1: sw_sn_nm_1000series_fake_placer_gfx;
sw_sn_nm_1000series_panto_placer_main;
}



switch(FEAT_TRAINS, SELF, sw_sn_nm_1000series_end,position_in_consist_from_end){
    0: sw_sn_nm_1000series_end_gfx;
    default: sw_sn_nm_1000series_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_sn_nm_1000series_livery_1,position_in_consist){
    0: sw_sn_nm_1000series_front_gfx;
    default: sw_sn_nm_1000series_end;
}




switch(FEAT_TRAINS, SELF, sn_nm_1000series_attach_vehid, vehicle_type_id) {
  mu_car_narrow: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}


item(FEAT_TRAINS, sn_nm_1000series,1430) {
    property {
        cargo_capacity: 130;
        climates_available: param_disable_sendai == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        name: string(STR_TRAIN_NAME, string(STR_NAME_SENDAI), "1000", string(STR_NAME_SERIES));
        introduction_date: date(1985, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cost_factor: 20;
        running_cost_factor: 50;
        speed: 105 km/h;
        track_type: TR_1067_DC;
        power: 320 kW;
        weight: 32 ton;
        loading_speed: param_loading_4D;
    }
 graphics {
        default: sw_sn_nm_1000series_livery_1;
        purchase: sn_nm_1000series_purchase;
        can_attach_wagon: sn_nm_1000series_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 4)),
  string(STR_OPERATOR, string(STR_SENDAI)),
  string(STR_LINES_USED, string(STR_SENDAI_NAMBOKU)));

        start_stop: sw_stop_start_3;
        cargo_capacity: 144*param_capacity_mod/3;
    }
    livery_override(mu_car_narrow){
        loading_speed: param_loading_4D;
        cargo_capacity: 144*param_capacity_mod/3;
        default: sw_sn_nm_1000series_livery_1;
        power: 429*2/3;
        weight: 32;
        length: 8;
      }
}
# 178 "src/_metro.pnml" 2

# 1 "src/metro/Sendai/tozai/2000series.pnml" 1

spriteset(sn_tz_2000series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Sendai/tozai/2000series/2000series.png"){ tmpl_purchase_1c(0, 0) }
spriteset(sn_tz_2000series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Sendai/tozai/2000series/2000series.png"){ tmpl_purchase_2c(0, 75) }
switch(FEAT_TRAINS, SELF, sn_tz_2000series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_sendai_subway; 1: logo_line_sn_tozai; 2: sn_tz_2000series_purchase_c1; 3: sn_tz_2000series_purchase_c2;}


spriteset(sn_tz_2000series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Sendai/tozai/2000series/2000series.png"){ tmpl_std(0, 0) }
spriteset(sn_tz_2000series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Sendai/tozai/2000series/2000series.png"){ tmpl_std_rev(0, 25) }
spriteset(sn_tz_2000series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Sendai/tozai/2000series/2000series.png"){ tmpl_std(0, 75) }
spriteset(sn_tz_2000series_wag_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Sendai/tozai/2000series/2000series.png"){ tmpl_std_rev(0, 75) }
spriteset(sn_tz_2000series_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Sendai/tozai/2000series/2000series.png"){ tmpl_std(0, 50) }
spriteset(sn_tz_2000series_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Sendai/tozai/2000series/2000series.png"){ tmpl_std(0, 100) }
spriteset(sn_tz_2000series_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Sendai/tozai/2000series/2000series.png"){ tmpl_std_rev(0, 100) }


spriteset(sn_tz_2000series_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Sendai/tozai/2000series/2000series_1.png"){ tmpl_std(0, 0) }
spriteset(sn_tz_2000series_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Sendai/tozai/2000series/2000series_1.png"){ tmpl_std_rev(0, 25) }
spriteset(sn_tz_2000series_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Sendai/tozai/2000series/2000series_1.png"){ tmpl_std(0, 75) }
spriteset(sn_tz_2000series_1_wag_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Sendai/tozai/2000series/2000series_1.png"){ tmpl_std_rev(0, 75) }
spriteset(sn_tz_2000series_1_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Sendai/tozai/2000series/2000series_1.png"){ tmpl_std(0, 50) }
spriteset(sn_tz_2000series_1_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Sendai/tozai/2000series/2000series_1.png"){ tmpl_std(0, 100) }
spriteset(sn_tz_2000series_1_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Sendai/tozai/2000series/2000series_1.png"){ tmpl_std_rev(0, 100) }



switch(FEAT_TRAINS, SELF, sw_sn_tz_2000series_panto_placer_1,position_in_consist %5){
    3: sn_tz_2000series_mot;
    sn_tz_2000series_wag;
}
switch(FEAT_TRAINS, SELF, sw_sn_tz_2000series_panto_placer_1_rev,position_in_consist_from_end %5){
    3: sn_tz_2000series_mot;
    sn_tz_2000series_wag_rev;
}
switch(FEAT_TRAINS, PARENT, sw_sn_tz_2000series_panto_placer_1_main,vehicle_is_reversed){
    1: sw_sn_tz_2000series_panto_placer_1_rev;
    sw_sn_tz_2000series_panto_placer_1;
}

switch(FEAT_TRAINS, SELF, sw_sn_tz_2000series_panto_placer_2,position_in_consist %5){
    4: sn_tz_2000series_mot;
    sn_tz_2000series_wag;
}
switch(FEAT_TRAINS, SELF, sw_sn_tz_2000series_panto_placer_2_rev,position_in_consist_from_end %5){
    4: sn_tz_2000series_mot;
    sn_tz_2000series_wag;
}
switch(FEAT_TRAINS, PARENT, sw_sn_tz_2000series_panto_placer_2_main,vehicle_is_reversed){
    1: sw_sn_tz_2000series_panto_placer_2_rev;
    sw_sn_tz_2000series_panto_placer_2;
}

switch(FEAT_TRAINS, SELF, sw_sn_tz_2000series_panto_placer_main,num_vehs_in_consist){
    2..5: sw_sn_tz_2000series_panto_placer_2_main;
    8..10: sw_sn_tz_2000series_panto_placer_2_main;
    sw_sn_tz_2000series_panto_placer_1_main;
}



switch(FEAT_TRAINS, SELF, sw_sn_tz_2000series_fake_placer,position_in_consist){
    3: sn_tz_2000series_end_f;
    4: sn_tz_2000series_front_f;
sw_sn_tz_2000series_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_sn_tz_2000series_fake_placer_rev,position_in_consist_from_end){
    3: sn_tz_2000series_front_f;
    4: sn_tz_2000series_end_f;
sw_sn_tz_2000series_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_sn_tz_2000series_fake_placer_gfx,vehicle_is_reversed){
    1: sw_sn_tz_2000series_fake_placer_rev;
    sw_sn_tz_2000series_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_sn_tz_2000series_fake_placer_main,num_vehs_in_consist>7){
    1: sw_sn_tz_2000series_fake_placer_gfx;
sw_sn_tz_2000series_panto_placer_main;
}



switch(FEAT_TRAINS, SELF, sw_sn_tz_2000series_end,position_in_consist_from_end){
    0: sn_tz_2000series_end;
    default: sw_sn_tz_2000series_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_sn_tz_2000series_livery_1,position_in_consist){
    0: sn_tz_2000series_front;
    default: sw_sn_tz_2000series_end;
}





switch(FEAT_TRAINS, SELF, sw_sn_tz_2000series_1_panto_placer_1,position_in_consist %5){
    3: sn_tz_2000series_1_mot;
    sn_tz_2000series_1_wag;
}
switch(FEAT_TRAINS, SELF, sw_sn_tz_2000series_1_panto_placer_1_rev,position_in_consist_from_end %5){
    3: sn_tz_2000series_1_mot;
    sn_tz_2000series_1_wag_rev;
}
switch(FEAT_TRAINS, PARENT, sw_sn_tz_2000series_1_panto_placer_1_main,vehicle_is_reversed){
    1: sw_sn_tz_2000series_1_panto_placer_1_rev;
    sw_sn_tz_2000series_1_panto_placer_1;
}

switch(FEAT_TRAINS, SELF, sw_sn_tz_2000series_1_panto_placer_2,position_in_consist %5){
    4: sn_tz_2000series_1_mot;
    sn_tz_2000series_1_wag;
}
switch(FEAT_TRAINS, SELF, sw_sn_tz_2000series_1_panto_placer_2_rev,position_in_consist_from_end %5){
    4: sn_tz_2000series_1_mot;
    sn_tz_2000series_1_wag;
}
switch(FEAT_TRAINS, PARENT, sw_sn_tz_2000series_1_panto_placer_2_main,vehicle_is_reversed){
    1: sw_sn_tz_2000series_1_panto_placer_2_rev;
    sw_sn_tz_2000series_1_panto_placer_2;
}

switch(FEAT_TRAINS, SELF, sw_sn_tz_2000series_1_panto_placer_main,num_vehs_in_consist){
    3..5: sw_sn_tz_2000series_1_panto_placer_2_main;
    8..10: sw_sn_tz_2000series_1_panto_placer_2_main;
    sw_sn_tz_2000series_1_panto_placer_1_main;
}



switch(FEAT_TRAINS, SELF, sw_sn_tz_2000series_1_fake_placer,position_in_consist){
    3: sn_tz_2000series_1_end_f;
    4: sn_tz_2000series_1_front_f;
sw_sn_tz_2000series_1_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_sn_tz_2000series_1_fake_placer_rev,position_in_consist_from_end){
    3: sn_tz_2000series_1_front_f;
    4: sn_tz_2000series_1_end_f;
sw_sn_tz_2000series_1_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_sn_tz_2000series_1_fake_placer_gfx,vehicle_is_reversed){
    1: sw_sn_tz_2000series_1_fake_placer_rev;
    sw_sn_tz_2000series_1_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_sn_tz_2000series_1_fake_placer_main,num_vehs_in_consist>7){
    1: sw_sn_tz_2000series_1_fake_placer_gfx;
sw_sn_tz_2000series_1_panto_placer_main;
}




switch(FEAT_TRAINS, SELF, sw_sn_tz_2000series_1_end,position_in_consist_from_end){
    0: sn_tz_2000series_1_end;
    default: sw_sn_tz_2000series_1_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_sn_tz_2000series_livery_2,position_in_consist){
    0: sn_tz_2000series_1_front;
    default: sw_sn_tz_2000series_1_end;
}



random_switch(FEAT_TRAINS,PARENT, sw_sn_tz_2000series_livery_0){
    1:sw_sn_tz_2000series_livery_1;
    1:sw_sn_tz_2000series_livery_2;
}

switch(FEAT_TRAINS, SELF, sw_sn_tz_2000series_lv_desc, cargo_subtype){
    0: string(LV_RANDOM);
    1: string(LV_ALUMI);
    2: string(LV_WHITE);
}
switch(FEAT_TRAINS, PARENT, sw_sn_tz_2000series_lv, cargo_subtype){
    0: sw_sn_tz_2000series_livery_0;
    1: sw_sn_tz_2000series_livery_1;
    2: sw_sn_tz_2000series_livery_2;
}



switch(FEAT_TRAINS, SELF, sw_sn_tz_2000series_main_capacity,position_in_consist_from_end){
    0: 92*param_capacity_mod/3;
    default: 102*param_capacity_mod/3;
}

switch(FEAT_TRAINS, SELF, sn_tz_2000series_attach_vehid, vehicle_type_id) {
  mu_car: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}


item(FEAT_TRAINS, sn_tz_2000series,1435) {
    property {
        cargo_capacity: 130;
        climates_available: param_disable_sendai == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        name: string(STR_TRAIN_NAME, string(STR_NAME_SENDAI), "2000", string(STR_NAME_SERIES));
        introduction_date: date(2013, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cost_factor: 18;
        running_cost_factor: 48;
        speed: 105 km/h;
        track_type: TR_1435_DC;
        power: 560 kW;
        weight: 32 ton;
        loading_speed: param_loading_3D;
    }
 graphics {
        default: sw_sn_tz_2000series_lv;
        purchase: sn_tz_2000series_purchase;
        can_attach_wagon: sn_tz_2000series_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 4)),
  string(STR_OPERATOR, string(STR_SENDAI)),
  string(STR_LINES_USED, string(STR_SENDAI_TOZAI)));

        cargo_subtype_text:sw_sn_tz_2000series_lv_desc;
        start_stop: sw_stop_start_3;
        cargo_capacity: 92*param_capacity_mod/3;
    }
    livery_override(mu_car){
        loading_speed: param_loading_3D;
        cargo_capacity: sw_sn_tz_2000series_main_capacity;
        default: sw_sn_tz_2000series_lv;
        power: 751*3/5;
        weight: 27;
        length: 8;
      }
}
# 180 "src/_metro.pnml" 2




# 1 "src/metro/Kobe/seishin/1000series.pnml" 1

spriteset(kb_sy_1000series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kobe/seishin/1000series/1000series.png"){ tmpl_purchase_1c(0, 0) }
spriteset(kb_sy_1000series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kobe/seishin/1000series/1000series.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, kb_sy_1000series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_kobe_subway; 1: logo_line_kb_seishin; 2: kb_sy_1000series_purchase_c1; 3: kb_sy_1000series_purchase_c2;}


spriteset(kb_sy_1000series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kobe/seishin/1000series/1000series.png"){ tmpl_std(0, 0) }
spriteset(kb_sy_1000series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kobe/seishin/1000series/1000series.png"){ tmpl_std_rev(0, 25) }
spriteset(kb_sy_1000series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kobe/seishin/1000series/1000series.png"){ tmpl_std(0, 75) }
spriteset(kb_sy_1000series_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kobe/seishin/1000series/1000series.png"){ tmpl_std(0, 50) }
spriteset(kb_sy_1000series_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kobe/seishin/1000series/1000series.png"){ tmpl_std(0, 100) }
spriteset(kb_sy_1000series_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kobe/seishin/1000series/1000series.png"){ tmpl_std_rev(0, 100) }



switch(FEAT_TRAINS, SELF, sw_kb_sy_1000series_panto_placer_1,position_in_consist %7){
    1: kb_sy_1000series_mot;
    4: kb_sy_1000series_mot;
    kb_sy_1000series_wag;
}
switch(FEAT_TRAINS, SELF, sw_kb_sy_1000series_panto_placer_1_rev,position_in_consist_from_end %7){
    1: kb_sy_1000series_mot;
    4: kb_sy_1000series_mot;
    kb_sy_1000series_wag;
}
switch(FEAT_TRAINS, PARENT, sw_kb_sy_1000series_panto_placer_1_main,vehicle_is_reversed){
    1: sw_kb_sy_1000series_panto_placer_1_rev;
    sw_kb_sy_1000series_panto_placer_1;
}

switch(FEAT_TRAINS, SELF, sw_kb_sy_1000series_panto_placer_2,position_in_consist %8){
    2: kb_sy_1000series_mot;
    6: kb_sy_1000series_mot;
    kb_sy_1000series_wag;
}
switch(FEAT_TRAINS, SELF, sw_kb_sy_1000series_panto_placer_2_rev,position_in_consist_from_end %8){
    2: kb_sy_1000series_mot;
    6: kb_sy_1000series_mot;
    kb_sy_1000series_wag;
}
switch(FEAT_TRAINS, PARENT, sw_kb_sy_1000series_panto_placer_2_main,vehicle_is_reversed){
    1: sw_kb_sy_1000series_panto_placer_2_rev;
    sw_kb_sy_1000series_panto_placer_2;
}

switch(FEAT_TRAINS, SELF, sw_kb_sy_1000series_panto_placer_main,num_vehs_in_consist){
    5: sw_kb_sy_1000series_panto_placer_2_main;
    8..9: sw_kb_sy_1000series_panto_placer_2_main;
    sw_kb_sy_1000series_panto_placer_1_main;
}


switch(FEAT_TRAINS, SELF, sw_kb_sy_1000series_fake_placer,position_in_consist){
    5: kb_sy_1000series_end_f;
    6: kb_sy_1000series_front_f;
sw_kb_sy_1000series_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_kb_sy_1000series_fake_placer_rev,position_in_consist_from_end){
    5: kb_sy_1000series_front_f;
    6: kb_sy_1000series_end_f;
sw_kb_sy_1000series_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_kb_sy_1000series_fake_placer_gfx,vehicle_is_reversed){
    1: sw_kb_sy_1000series_fake_placer_rev;
    sw_kb_sy_1000series_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_kb_sy_1000series_fake_placer_main,num_vehs_in_consist>9){
    1: sw_kb_sy_1000series_fake_placer_gfx;
sw_kb_sy_1000series_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_kb_sy_1000series_end,position_in_consist_from_end){
    0: kb_sy_1000series_end;
    default: sw_kb_sy_1000series_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_kb_sy_1000series_livery_1,position_in_consist){
    0: kb_sy_1000series_front;
    default: sw_kb_sy_1000series_end;
}



switch(FEAT_TRAINS, SELF, sw_kb_sy_1000series_main_capacity,position_in_consist_from_end){
    0: 136*param_capacity_mod/3;
    default: 150*param_capacity_mod/3;
}

switch(FEAT_TRAINS, SELF, kb_sy_1000series_attach_vehid, vehicle_type_id) {
  mu_car: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}


item(FEAT_TRAINS, kb_sy_1000series,1440) {
    property {
        cargo_capacity: 130;
        climates_available: param_disable_kobe == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.2;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        name: string(STR_TRAIN_NAME, string(STR_NAME_KOBE), "1000", string(STR_NAME_TYPE));
        introduction_date: date(1976, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cost_factor: 19;
        running_cost_factor: 49;
        speed: 100 km/h;
        track_type: TR_1435_DC;
        power: 520 kW;
        weight: 28 ton;
        loading_speed: param_loading_3D;
    }
 graphics {
        default: sw_kb_sy_1000series_livery_1;
        purchase: kb_sy_1000series_purchase;
        can_attach_wagon: kb_sy_1000series_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 6)),
  string(STR_OPERATOR, string(STR_KOBE)),
  string(STR_LINES_USED, string(STR_KOBE_SEISHIN)));

        start_stop: sw_stop_start_3;
        cargo_capacity: 136*param_capacity_mod/3;
    }
    livery_override(mu_car){
        loading_speed: param_loading_3D;
        cargo_capacity: sw_kb_sy_1000series_main_capacity;
        default: sw_kb_sy_1000series_livery_1;
        power: 697*3/5;
        weight: 32;
        length: 8;
      }
}
# 185 "src/_metro.pnml" 2
# 1 "src/metro/Kobe/seishin/2000series.pnml" 1

spriteset(kb_sy_2000series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kobe/seishin/2000series/2000series.png"){ tmpl_purchase_1c(0, 0) }
spriteset(kb_sy_2000series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kobe/seishin/2000series/2000series.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, kb_sy_2000series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_kobe_subway; 1: logo_line_kb_seishin; 2: kb_sy_2000series_purchase_c1; 3: kb_sy_2000series_purchase_c2;}


spriteset(kb_sy_2000series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kobe/seishin/2000series/2000series.png"){ tmpl_std(0, 0) }
spriteset(kb_sy_2000series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kobe/seishin/2000series/2000series.png"){ tmpl_std_rev(0, 25) }
spriteset(kb_sy_2000series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kobe/seishin/2000series/2000series.png"){ tmpl_std(0, 75) }
spriteset(kb_sy_2000series_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kobe/seishin/2000series/2000series.png"){ tmpl_std(0, 50) }
spriteset(kb_sy_2000series_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kobe/seishin/2000series/2000series.png"){ tmpl_std(0, 100) }
spriteset(kb_sy_2000series_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kobe/seishin/2000series/2000series.png"){ tmpl_std_rev(0, 100) }



switch(FEAT_TRAINS, SELF, sw_kb_sy_2000series_panto_placer_1,position_in_consist %7){
    1: kb_sy_2000series_mot;
    4: kb_sy_2000series_mot;
    kb_sy_2000series_wag;
}
switch(FEAT_TRAINS, SELF, sw_kb_sy_2000series_panto_placer_1_rev,position_in_consist_from_end %7){
    1: kb_sy_2000series_mot;
    4: kb_sy_2000series_mot;
    kb_sy_2000series_wag;
}
switch(FEAT_TRAINS, PARENT, sw_kb_sy_2000series_panto_placer_1_main,vehicle_is_reversed){
    1: sw_kb_sy_2000series_panto_placer_1_rev;
    sw_kb_sy_2000series_panto_placer_1;
}

switch(FEAT_TRAINS, SELF, sw_kb_sy_2000series_panto_placer_2,position_in_consist %8){
    2: kb_sy_2000series_mot;
    6: kb_sy_2000series_mot;
    kb_sy_2000series_wag;
}
switch(FEAT_TRAINS, SELF, sw_kb_sy_2000series_panto_placer_2_rev,position_in_consist_from_end %8){
    2: kb_sy_2000series_mot;
    6: kb_sy_2000series_mot;
    kb_sy_2000series_wag;
}
switch(FEAT_TRAINS, PARENT, sw_kb_sy_2000series_panto_placer_2_main,vehicle_is_reversed){
    1: sw_kb_sy_2000series_panto_placer_2_rev;
    sw_kb_sy_2000series_panto_placer_2;
}

switch(FEAT_TRAINS, SELF, sw_kb_sy_2000series_panto_placer_main,num_vehs_in_consist){
    5: sw_kb_sy_2000series_panto_placer_2_main;
    8..9: sw_kb_sy_2000series_panto_placer_2_main;
    sw_kb_sy_2000series_panto_placer_1_main;
}


switch(FEAT_TRAINS, SELF, sw_kb_sy_2000series_fake_placer,position_in_consist){
    5: kb_sy_2000series_end_f;
    6: kb_sy_2000series_front_f;
sw_kb_sy_2000series_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_kb_sy_2000series_fake_placer_rev,position_in_consist_from_end){
    5: kb_sy_2000series_front_f;
    6: kb_sy_2000series_end_f;
sw_kb_sy_2000series_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_kb_sy_2000series_fake_placer_gfx,vehicle_is_reversed){
    1: sw_kb_sy_2000series_fake_placer_rev;
    sw_kb_sy_2000series_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_kb_sy_2000series_fake_placer_main,num_vehs_in_consist>9){
    1: sw_kb_sy_2000series_fake_placer_gfx;
sw_kb_sy_2000series_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_kb_sy_2000series_end,position_in_consist_from_end){
    0: kb_sy_2000series_end;
    default: sw_kb_sy_2000series_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_kb_sy_2000series_livery_1,position_in_consist){
    0: kb_sy_2000series_front;
    default: sw_kb_sy_2000series_end;
}



switch(FEAT_TRAINS, SELF, sw_kb_sy_2000series_main_capacity,position_in_consist_from_end){
    0: 134*param_capacity_mod/3;
    default: 142*param_capacity_mod/3;
}

switch(FEAT_TRAINS, SELF, kb_sy_2000series_attach_vehid, vehicle_type_id) {
  mu_car: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}


item(FEAT_TRAINS, kb_sy_2000series,1441) {
    property {
        cargo_capacity: 130;
        climates_available: param_disable_kobe == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.2;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        name: string(STR_TRAIN_NAME, string(STR_NAME_KOBE), "2000", string(STR_NAME_TYPE));
        introduction_date: date(1988, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cost_factor: 20;
        running_cost_factor: 50;
        speed: 100 km/h;
        track_type: TR_1435_DC;
        power: 520 kW;
        weight: 28 ton;
        loading_speed: param_loading_3D;
    }
 graphics {
        default: sw_kb_sy_2000series_livery_1;
        purchase: kb_sy_2000series_purchase;
        can_attach_wagon: kb_sy_2000series_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_2, 5,6)),
  string(STR_OPERATOR, string(STR_KOBE)),
  string(STR_LINES_USED, string(STR_KOBE_SEISHIN)));

        start_stop: sw_stop_start_3;
        cargo_capacity: 134*param_capacity_mod/3;
    }
    livery_override(mu_car){
        loading_speed: param_loading_3D;
        cargo_capacity: sw_kb_sy_2000series_main_capacity;
        default: sw_kb_sy_2000series_livery_1;
        power: 697*3/5;
        weight: 33;
        length: 8;
      }
}
# 186 "src/_metro.pnml" 2
# 1 "src/metro/Kobe/seishin/3000series.pnml" 1

spriteset(kb_sy_3000series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kobe/seishin/3000series/3000series.png"){ tmpl_purchase_1c(0, 0) }
spriteset(kb_sy_3000series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kobe/seishin/3000series/3000series.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, kb_sy_3000series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_kobe_subway; 1: logo_line_kb_seishin; 2: kb_sy_3000series_purchase_c1; 3: kb_sy_3000series_purchase_c2;}


spriteset(kb_sy_3000series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kobe/seishin/3000series/3000series.png"){ tmpl_std(0, 0) }
spriteset(kb_sy_3000series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kobe/seishin/3000series/3000series.png"){ tmpl_std_rev(0, 25) }
spriteset(kb_sy_3000series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kobe/seishin/3000series/3000series.png"){ tmpl_std(0, 75) }
spriteset(kb_sy_3000series_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kobe/seishin/3000series/3000series.png"){ tmpl_std(0, 50) }
spriteset(kb_sy_3000series_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kobe/seishin/3000series/3000series.png"){ tmpl_std(0, 100) }
spriteset(kb_sy_3000series_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kobe/seishin/3000series/3000series.png"){ tmpl_std_rev(0, 100) }


spriteset(kb_sy_3000series_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kobe/seishin/3000series/3000series_1.png"){ tmpl_std(0, 0) }
spriteset(kb_sy_3000series_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kobe/seishin/3000series/3000series_1.png"){ tmpl_std_rev(0, 25) }
spriteset(kb_sy_3000series_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kobe/seishin/3000series/3000series_1.png"){ tmpl_std(0, 75) }
spriteset(kb_sy_3000series_1_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kobe/seishin/3000series/3000series_1.png"){ tmpl_std(0, 50) }
spriteset(kb_sy_3000series_1_front_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kobe/seishin/3000series/3000series_1.png"){ tmpl_std(0, 100) }
spriteset(kb_sy_3000series_1_end_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kobe/seishin/3000series/3000series_1.png"){ tmpl_std_rev(0, 125) }
spriteset(kb_sy_3000series_1_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kobe/seishin/3000series/3000series_1.png"){ tmpl_std(0, 150) }
spriteset(kb_sy_3000series_1_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kobe/seishin/3000series/3000series_1.png"){ tmpl_std_rev(0, 150) }




switch(FEAT_TRAINS, SELF, sw_kb_sy_3000series_panto_placer_1,position_in_consist %7){
    1: kb_sy_3000series_mot;
    4: kb_sy_3000series_mot;
    kb_sy_3000series_wag;
}
switch(FEAT_TRAINS, SELF, sw_kb_sy_3000series_panto_placer_1_rev,position_in_consist_from_end %7){
    1: kb_sy_3000series_mot;
    4: kb_sy_3000series_mot;
    kb_sy_3000series_wag;
}
switch(FEAT_TRAINS, PARENT, sw_kb_sy_3000series_panto_placer_1_main,vehicle_is_reversed){
    1: sw_kb_sy_3000series_panto_placer_1_rev;
    sw_kb_sy_3000series_panto_placer_1;
}

switch(FEAT_TRAINS, SELF, sw_kb_sy_3000series_panto_placer_2,position_in_consist %8){
    2: kb_sy_3000series_mot;
    6: kb_sy_3000series_mot;
    kb_sy_3000series_wag;
}
switch(FEAT_TRAINS, SELF, sw_kb_sy_3000series_panto_placer_2_rev,position_in_consist_from_end %8){
    2: kb_sy_3000series_mot;
    6: kb_sy_3000series_mot;
    kb_sy_3000series_wag;
}
switch(FEAT_TRAINS, PARENT, sw_kb_sy_3000series_panto_placer_2_main,vehicle_is_reversed){
    1: sw_kb_sy_3000series_panto_placer_2_rev;
    sw_kb_sy_3000series_panto_placer_2;
}

switch(FEAT_TRAINS, SELF, sw_kb_sy_3000series_panto_placer_main,num_vehs_in_consist){
    5: sw_kb_sy_3000series_panto_placer_2_main;
    8..9: sw_kb_sy_3000series_panto_placer_2_main;
    sw_kb_sy_3000series_panto_placer_1_main;
}


switch(FEAT_TRAINS, SELF, sw_kb_sy_3000series_fake_placer,position_in_consist){
    5: kb_sy_3000series_end_f;
    6: kb_sy_3000series_front_f;
sw_kb_sy_3000series_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_kb_sy_3000series_fake_placer_rev,position_in_consist_from_end){
    5: kb_sy_3000series_front_f;
    6: kb_sy_3000series_end_f;
sw_kb_sy_3000series_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_kb_sy_3000series_fake_placer_gfx,vehicle_is_reversed){
    1: sw_kb_sy_3000series_fake_placer_rev;
    sw_kb_sy_3000series_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_kb_sy_3000series_fake_placer_main,num_vehs_in_consist>9){
    1: sw_kb_sy_3000series_fake_placer_gfx;
sw_kb_sy_3000series_panto_placer_main;
}



switch(FEAT_TRAINS, SELF, sw_kb_sy_3000series_end,position_in_consist_from_end){
    0: kb_sy_3000series_end;
    default: sw_kb_sy_3000series_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_kb_sy_3000series_livery_1,position_in_consist){
    0: kb_sy_3000series_front;
    default: sw_kb_sy_3000series_end;
}




switch(FEAT_TRAINS, PARENT, sw_kb_sy_3000series_1_front_gfx,vehicle_is_reversed){
    1: kb_sy_3000series_1_front;
    kb_sy_3000series_1_front_1;
}
switch(FEAT_TRAINS, PARENT, sw_kb_sy_3000series_1_end_gfx,vehicle_is_reversed){
    1: kb_sy_3000series_1_end_1;
    kb_sy_3000series_1_end;
}


switch(FEAT_TRAINS, SELF, sw_kb_sy_3000series_1_panto_placer_1,position_in_consist %7){
    1: kb_sy_3000series_1_mot;
    4: kb_sy_3000series_1_mot;
    kb_sy_3000series_1_wag;
}
switch(FEAT_TRAINS, SELF, sw_kb_sy_3000series_1_panto_placer_1_rev,position_in_consist_from_end %7){
    1: kb_sy_3000series_1_mot;
    4: kb_sy_3000series_1_mot;
    kb_sy_3000series_1_wag;
}
switch(FEAT_TRAINS, PARENT, sw_kb_sy_3000series_1_panto_placer_1_main,vehicle_is_reversed){
    1: sw_kb_sy_3000series_1_panto_placer_1_rev;
    sw_kb_sy_3000series_1_panto_placer_1;
}

switch(FEAT_TRAINS, SELF, sw_kb_sy_3000series_1_panto_placer_2,position_in_consist %8){
    2: kb_sy_3000series_1_mot;
    6: kb_sy_3000series_1_mot;
    kb_sy_3000series_1_wag;
}
switch(FEAT_TRAINS, SELF, sw_kb_sy_3000series_1_panto_placer_2_rev,position_in_consist_from_end %8){
    2: kb_sy_3000series_1_mot;
    6: kb_sy_3000series_1_mot;
    kb_sy_3000series_1_wag;
}
switch(FEAT_TRAINS, PARENT, sw_kb_sy_3000series_1_panto_placer_2_main,vehicle_is_reversed){
    1: sw_kb_sy_3000series_1_panto_placer_2_rev;
    sw_kb_sy_3000series_1_panto_placer_2;
}

switch(FEAT_TRAINS, SELF, sw_kb_sy_3000series_1_panto_placer_main,num_vehs_in_consist){
    5: sw_kb_sy_3000series_1_panto_placer_2_main;
    8..9: sw_kb_sy_3000series_1_panto_placer_2_main;
    sw_kb_sy_3000series_1_panto_placer_1_main;
}


switch(FEAT_TRAINS, SELF, sw_kb_sy_3000series_1_fake_placer,position_in_consist){
    5: kb_sy_3000series_1_end_f;
    6: kb_sy_3000series_1_front_f;
sw_kb_sy_3000series_1_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_kb_sy_3000series_1_fake_placer_rev,position_in_consist_from_end){
    5: kb_sy_3000series_1_front_f;
    6: kb_sy_3000series_1_end_f;
sw_kb_sy_3000series_1_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_kb_sy_3000series_1_fake_placer_gfx,vehicle_is_reversed){
    1: sw_kb_sy_3000series_1_fake_placer_rev;
    sw_kb_sy_3000series_1_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_kb_sy_3000series_1_fake_placer_main,num_vehs_in_consist>9){
    1: sw_kb_sy_3000series_1_fake_placer_gfx;
sw_kb_sy_3000series_1_panto_placer_main;
}

switch(FEAT_TRAINS, SELF, sw_kb_sy_3000series_1_end,position_in_consist_from_end){
    0: sw_kb_sy_3000series_1_end_gfx;
    default: sw_kb_sy_3000series_1_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_kb_sy_3000series_livery_2,position_in_consist){
    0: sw_kb_sy_3000series_1_front_gfx;
    default: sw_kb_sy_3000series_1_end;
}


random_switch(FEAT_TRAINS, PARENT, sw_kb_sy_3000series_livery_0){
    3: sw_kb_sy_3000series_livery_1;
    1: sw_kb_sy_3000series_livery_2;
}

switch(FEAT_TRAINS, SELF, kb_sy_3000series_lv_desc, cargo_subtype){
    0: string(LV_RANDOM);
    1: string(LV_DEFAULT);
    2: string(LV_DATED, string(LV_kb_sy_3000series_1), 2017);

}

switch(FEAT_TRAINS, PARENT, kb_sy_3000series_lv, cargo_subtype){
    0: sw_kb_sy_3000series_livery_0;
    1: sw_kb_sy_3000series_livery_1;
    2: sw_kb_sy_3000series_livery_2;
}


switch(FEAT_TRAINS, SELF, sw_kb_sy_3000series_main_capacity,position_in_consist_from_end){
    0: 133*param_capacity_mod/3;
    default: 142*param_capacity_mod/3;
}

switch(FEAT_TRAINS, SELF, kb_sy_3000series_attach_vehid, vehicle_type_id) {
  mu_car: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}


item(FEAT_TRAINS, kb_sy_3000series,1442) {
    property {
        cargo_capacity: 130;
        climates_available: param_disable_kobe == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.2;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        name: string(STR_TRAIN_NAME, string(STR_NAME_KOBE), "3000", string(STR_NAME_TYPE));
        introduction_date: date(1992, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cost_factor: 20;
        running_cost_factor: 50;
        speed: 100 km/h;
        track_type: TR_1435_DC;
        power: 520 kW;
        weight: 28 ton;
        loading_speed: param_loading_3D;
    }
 graphics {
        default: kb_sy_3000series_lv;
        purchase: kb_sy_3000series_purchase;
        can_attach_wagon: kb_sy_3000series_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 6)),
  string(STR_OPERATOR, string(STR_KOBE)),
  string(STR_LINES_USED, string(STR_KOBE_SEISHIN)));

        cargo_subtype_text: kb_sy_3000series_lv_desc;
        start_stop: sw_stop_start_3;
        cargo_capacity: 133*param_capacity_mod/3;
    }
    livery_override(mu_car){
        loading_speed: param_loading_3D;
        cargo_capacity: sw_kb_sy_3000series_main_capacity;
        default: kb_sy_3000series_lv;
        power: 697*3/5;
        weight: 32;
        length: 8;
      }
}
# 187 "src/_metro.pnml" 2
# 1 "src/metro/Kobe/seishin/7000series.pnml" 1

spriteset(kb_sy_7000series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kobe/seishin/7000series/7000series.png"){ tmpl_purchase_1c(0, 0) }
spriteset(kb_sy_7000series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kobe/seishin/7000series/7000series.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, kb_sy_7000series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_kobe_subway; 1: logo_line_kb_seishin; 2: kb_sy_7000series_purchase_c1; 3: kb_sy_7000series_purchase_c2;}


spriteset(kb_sy_7000series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kobe/seishin/7000series/7000series.png"){ tmpl_std(0, 0) }
spriteset(kb_sy_7000series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kobe/seishin/7000series/7000series.png"){ tmpl_std_rev(0, 25) }
spriteset(kb_sy_7000series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kobe/seishin/7000series/7000series.png"){ tmpl_std(0, 75) }
spriteset(kb_sy_7000series_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kobe/seishin/7000series/7000series.png"){ tmpl_std(0, 50) }
spriteset(kb_sy_7000series_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kobe/seishin/7000series/7000series.png"){ tmpl_std(0, 100) }
spriteset(kb_sy_7000series_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kobe/seishin/7000series/7000series.png"){ tmpl_std_rev(0, 100) }



switch(FEAT_TRAINS, SELF, sw_kb_sy_7000series_panto_placer_1,position_in_consist %7){
    1: kb_sy_7000series_mot;
    4: kb_sy_7000series_mot;
    kb_sy_7000series_wag;
}
switch(FEAT_TRAINS, SELF, sw_kb_sy_7000series_panto_placer_1_rev,position_in_consist_from_end %7){
    1: kb_sy_7000series_mot;
    4: kb_sy_7000series_mot;
    kb_sy_7000series_wag;
}
switch(FEAT_TRAINS, PARENT, sw_kb_sy_7000series_panto_placer_1_main,vehicle_is_reversed){
    1: sw_kb_sy_7000series_panto_placer_1_rev;
    sw_kb_sy_7000series_panto_placer_1;
}

switch(FEAT_TRAINS, SELF, sw_kb_sy_7000series_panto_placer_2,position_in_consist %8){
    2: kb_sy_7000series_mot;
    6: kb_sy_7000series_mot;
    kb_sy_7000series_wag;
}
switch(FEAT_TRAINS, SELF, sw_kb_sy_7000series_panto_placer_2_rev,position_in_consist_from_end %8){
    2: kb_sy_7000series_mot;
    6: kb_sy_7000series_mot;
    kb_sy_7000series_wag;
}
switch(FEAT_TRAINS, PARENT, sw_kb_sy_7000series_panto_placer_2_main,vehicle_is_reversed){
    1: sw_kb_sy_7000series_panto_placer_2_rev;
    sw_kb_sy_7000series_panto_placer_2;
}

switch(FEAT_TRAINS, SELF, sw_kb_sy_7000series_panto_placer_main,num_vehs_in_consist){
    5: sw_kb_sy_7000series_panto_placer_2_main;
    8..9: sw_kb_sy_7000series_panto_placer_2_main;
    sw_kb_sy_7000series_panto_placer_1_main;
}


switch(FEAT_TRAINS, SELF, sw_kb_sy_7000series_fake_placer,position_in_consist){
    5: kb_sy_7000series_end_f;
    6: kb_sy_7000series_front_f;
sw_kb_sy_7000series_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_kb_sy_7000series_fake_placer_rev,position_in_consist_from_end){
    5: kb_sy_7000series_front_f;
    6: kb_sy_7000series_end_f;
sw_kb_sy_7000series_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_kb_sy_7000series_fake_placer_gfx,vehicle_is_reversed){
    1: sw_kb_sy_7000series_fake_placer_rev;
    sw_kb_sy_7000series_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_kb_sy_7000series_fake_placer_main,num_vehs_in_consist>9){
    1: sw_kb_sy_7000series_fake_placer_gfx;
sw_kb_sy_7000series_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_kb_sy_7000series_end,position_in_consist_from_end){
    0: kb_sy_7000series_end;
    default: sw_kb_sy_7000series_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_kb_sy_7000series_livery_1,position_in_consist){
    0: kb_sy_7000series_front;
    default: sw_kb_sy_7000series_end;
}



switch(FEAT_TRAINS, SELF, sw_kb_sy_7000series_main_capacity,position_in_consist_from_end){
    0: 129*param_capacity_mod/3;
    default: 142*param_capacity_mod/3;
}

switch(FEAT_TRAINS, SELF, kb_sy_7000series_attach_vehid, vehicle_type_id) {
  mu_car: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}


item(FEAT_TRAINS, kb_sy_7000series,1443) {
    property {
        cargo_capacity: 130;
        climates_available: param_disable_kobe == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.2;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        name: string(STR_TRAIN_NAME, string(STR_NAME_KOBE), "7000", string(STR_NAME_SERIES));
        introduction_date: date(1987, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cost_factor: 20;
        running_cost_factor: 50;
        speed: 100 km/h;
        track_type: TR_1435_DC;
        power: 520 kW;
        weight: 28 ton;
        loading_speed: param_loading_3D;
    }
 graphics {
        default: sw_kb_sy_7000series_livery_1;
        purchase: kb_sy_7000series_purchase;
        can_attach_wagon: kb_sy_7000series_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_2, 5,6)),
  string(STR_OPERATOR, string(STR_KOBE)),
  string(STR_LINES_USED, string(STR_KOBE_SEISHIN)));

        start_stop: sw_stop_start_3;
        cargo_capacity: 133*param_capacity_mod/3;
    }
    livery_override(mu_car){
        loading_speed: param_loading_3D;
        cargo_capacity: sw_kb_sy_7000series_main_capacity;
        default: sw_kb_sy_7000series_livery_1;
        power: 697*3/5;
        weight: 33;
        length: 8;
      }
}
# 188 "src/_metro.pnml" 2
# 1 "src/metro/Kobe/seishin/6000series.pnml" 1

spriteset(kb_sy_6000series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kobe/seishin/6000series/6000series.png"){ tmpl_purchase_1c(0, 0) }
spriteset(kb_sy_6000series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kobe/seishin/6000series/6000series.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, kb_sy_6000series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_kobe_subway; 1: logo_line_kb_seishin; 2: kb_sy_6000series_purchase_c1; 3: kb_sy_6000series_purchase_c2;}


spriteset(kb_sy_6000series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kobe/seishin/6000series/6000series.png"){ tmpl_std(0, 0) }
spriteset(kb_sy_6000series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kobe/seishin/6000series/6000series.png"){ tmpl_std_rev(0, 25) }
spriteset(kb_sy_6000series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kobe/seishin/6000series/6000series.png"){ tmpl_std(0, 75) }
spriteset(kb_sy_6000series_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kobe/seishin/6000series/6000series.png"){ tmpl_std(0, 50) }
spriteset(kb_sy_6000series_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kobe/seishin/6000series/6000series.png"){ tmpl_std(0, 100) }
spriteset(kb_sy_6000series_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kobe/seishin/6000series/6000series.png"){ tmpl_std_rev(0, 100) }



switch(FEAT_TRAINS, SELF, sw_kb_sy_6000series_panto_placer_1,position_in_consist %7){
    1: kb_sy_6000series_mot;
    4: kb_sy_6000series_mot;
    kb_sy_6000series_wag;
}
switch(FEAT_TRAINS, SELF, sw_kb_sy_6000series_panto_placer_1_rev,position_in_consist_from_end %7){
    1: kb_sy_6000series_mot;
    4: kb_sy_6000series_mot;
    kb_sy_6000series_wag;
}
switch(FEAT_TRAINS, PARENT, sw_kb_sy_6000series_panto_placer_1_main,vehicle_is_reversed){
    1: sw_kb_sy_6000series_panto_placer_1_rev;
    sw_kb_sy_6000series_panto_placer_1;
}

switch(FEAT_TRAINS, SELF, sw_kb_sy_6000series_panto_placer_2,position_in_consist %8){
    2: kb_sy_6000series_mot;
    6: kb_sy_6000series_mot;
    kb_sy_6000series_wag;
}
switch(FEAT_TRAINS, SELF, sw_kb_sy_6000series_panto_placer_2_rev,position_in_consist_from_end %8){
    2: kb_sy_6000series_mot;
    6: kb_sy_6000series_mot;
    kb_sy_6000series_wag;
}
switch(FEAT_TRAINS, PARENT, sw_kb_sy_6000series_panto_placer_2_main,vehicle_is_reversed){
    1: sw_kb_sy_6000series_panto_placer_2_rev;
    sw_kb_sy_6000series_panto_placer_2;
}

switch(FEAT_TRAINS, SELF, sw_kb_sy_6000series_panto_placer_main,num_vehs_in_consist){
    5: sw_kb_sy_6000series_panto_placer_2_main;
    8..9: sw_kb_sy_6000series_panto_placer_2_main;
    sw_kb_sy_6000series_panto_placer_1_main;
}


switch(FEAT_TRAINS, SELF, sw_kb_sy_6000series_fake_placer,position_in_consist){
    5: kb_sy_6000series_end_f;
    6: kb_sy_6000series_front_f;
sw_kb_sy_6000series_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_kb_sy_6000series_fake_placer_rev,position_in_consist_from_end){
    5: kb_sy_6000series_front_f;
    6: kb_sy_6000series_end_f;
sw_kb_sy_6000series_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_kb_sy_6000series_fake_placer_gfx,vehicle_is_reversed){
    1: sw_kb_sy_6000series_fake_placer_rev;
    sw_kb_sy_6000series_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_kb_sy_6000series_fake_placer_main,num_vehs_in_consist>9){
    1: sw_kb_sy_6000series_fake_placer_gfx;
sw_kb_sy_6000series_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_kb_sy_6000series_end,position_in_consist_from_end){
    0: kb_sy_6000series_end;
    default: sw_kb_sy_6000series_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_kb_sy_6000series_livery_1,position_in_consist){
    0: kb_sy_6000series_front;
    default: sw_kb_sy_6000series_end;
}



switch(FEAT_TRAINS, SELF, sw_kb_sy_6000series_main_capacity,position_in_consist_from_end){
    0: 124*param_capacity_mod/3;
    default: 140*param_capacity_mod/3;
}

switch(FEAT_TRAINS, SELF, kb_sy_6000series_attach_vehid, vehicle_type_id) {
  mu_car: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}


item(FEAT_TRAINS, kb_sy_6000series,1444) {
    property {
        cargo_capacity: 130;
        climates_available: param_disable_kobe == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.2;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        name: string(STR_TRAIN_NAME, string(STR_NAME_KOBE), "6000", string(STR_NAME_TYPE));
        introduction_date: date(2018, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cost_factor: 21;
        running_cost_factor: 51;
        speed: 100 km/h;
        track_type: TR_1435_DC;
        power: 340 kW;
        weight: 29 ton;
        loading_speed: param_loading_3D;
    }
 graphics {
        default: sw_kb_sy_6000series_livery_1;
        purchase: kb_sy_6000series_purchase;
        can_attach_wagon: kb_sy_6000series_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 6)),
  string(STR_OPERATOR, string(STR_KOBE)),
  string(STR_LINES_USED, string(STR_KOBE_SEISHIN)));

        start_stop: sw_stop_start_3;
        cargo_capacity: 124*param_capacity_mod/3;
    }
    livery_override(mu_car){
        loading_speed: param_loading_3D;
        cargo_capacity: sw_kb_sy_6000series_main_capacity;
        default: sw_kb_sy_6000series_livery_1;
        power: 456;
        weight: 31;
        length: 8;
      }
}
# 189 "src/_metro.pnml" 2

# 1 "src/metro/Kobe/kaigan/5000series.pnml" 1

spriteset(kb_kg_5000series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kobe/kaigan/5000series/5000series.png"){ tmpl_purchase_1c(0, 0) }
spriteset(kb_kg_5000series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kobe/kaigan/5000series/5000series.png"){ tmpl_purchase_2c(0, 75) }
switch(FEAT_TRAINS, SELF, kb_kg_5000series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_kobe_subway; 1: logo_line_kb_kaigan; 2: kb_kg_5000series_purchase_c1; 3: kb_kg_5000series_purchase_c2;}


spriteset(kb_kg_5000series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kobe/kaigan/5000series/5000series.png"){ tmpl_std(0, 0) }
spriteset(kb_kg_5000series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kobe/kaigan/5000series/5000series.png"){ tmpl_std_rev(0, 25) }
spriteset(kb_kg_5000series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kobe/kaigan/5000series/5000series.png"){ tmpl_std(0, 75) }
spriteset(kb_kg_5000series_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kobe/kaigan/5000series/5000series.png"){ tmpl_std(0, 50) }
spriteset(kb_kg_5000series_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kobe/kaigan/5000series/5000series.png"){ tmpl_std(0, 100) }
spriteset(kb_kg_5000series_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Kobe/kaigan/5000series/5000series.png"){ tmpl_std_rev(0, 100) }



switch(FEAT_TRAINS, SELF, sw_kb_kg_5000series_panto_placer_1,position_in_consist %4){
    3: kb_kg_5000series_mot;
    kb_kg_5000series_wag;
}
switch(FEAT_TRAINS, SELF, sw_kb_kg_5000series_panto_placer_1_rev,position_in_consist_from_end %7){
    3: kb_kg_5000series_mot;
    kb_kg_5000series_wag;
}
switch(FEAT_TRAINS, PARENT, sw_kb_kg_5000series_panto_placer_1_main,vehicle_is_reversed){
    1: sw_kb_kg_5000series_panto_placer_1_rev;
    sw_kb_kg_5000series_panto_placer_1;
}

switch(FEAT_TRAINS, SELF, sw_kb_kg_5000series_panto_placer_main,num_vehs_in_consist >5){
    1:sw_kb_kg_5000series_panto_placer_1_main;
    kb_kg_5000series_wag;
}


switch(FEAT_TRAINS, SELF, sw_kb_kg_5000series_fake_placer,position_in_consist){
    3: kb_kg_5000series_end_f;
    4: kb_kg_5000series_front_f;
sw_kb_kg_5000series_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_kb_kg_5000series_fake_placer_rev,position_in_consist_from_end){
    3: kb_kg_5000series_front_f;
    4: kb_kg_5000series_end_f;
sw_kb_kg_5000series_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_kb_kg_5000series_fake_placer_gfx,vehicle_is_reversed){
    1: sw_kb_kg_5000series_fake_placer_rev;
    sw_kb_kg_5000series_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_kb_kg_5000series_fake_placer_main,num_vehs_in_consist>7){
    1: sw_kb_kg_5000series_fake_placer_gfx;
sw_kb_kg_5000series_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_kb_kg_5000series_end,position_in_consist_from_end){
    0: kb_kg_5000series_end;
    1: kb_kg_5000series_wag;
    default: sw_kb_kg_5000series_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_kb_kg_5000series_livery_1,position_in_consist){
    0: kb_kg_5000series_front;
    1: kb_kg_5000series_wag;
    default: sw_kb_kg_5000series_end;
}



switch(FEAT_TRAINS, SELF, sw_kb_kg_5000series_main_capacity,position_in_consist_from_end){
    0: 84*param_capacity_mod/3;
    default: 97*param_capacity_mod/3;
}

switch(FEAT_TRAINS, SELF, kb_kg_5000series_attach_vehid, vehicle_type_id) {
  mu_car: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}


item(FEAT_TRAINS, kb_kg_5000series,1447) {
    property {
        cargo_capacity: 130;
        climates_available: param_disable_kobe == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.2;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        name: string(STR_TRAIN_NAME, string(STR_NAME_KOBE), "5000", string(STR_NAME_TYPE));
        introduction_date: date(2000, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cost_factor: 19;
        running_cost_factor: 49;
        speed: 100 km/h;
        track_type: TR_1435_DC;
        power: 270 kW;
        weight: 27 ton;
        loading_speed: param_loading_3D;
    }
 graphics {
        default: sw_kb_kg_5000series_livery_1;
        purchase: kb_kg_5000series_purchase;
        can_attach_wagon: kb_kg_5000series_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 4)),
  string(STR_OPERATOR, string(STR_KOBE)),
  string(STR_LINES_USED, string(STR_KOBE_KAIGAN)));

        start_stop: sw_stop_start_3;
        cargo_capacity: 84*param_capacity_mod/3;
    }
    livery_override(mu_car){
        loading_speed: param_loading_3D;
        cargo_capacity: sw_kb_kg_5000series_main_capacity;
        default: sw_kb_kg_5000series_livery_1;
        power: 362;
        weight: 25;
        length: 8;
      }
}
# 191 "src/_metro.pnml" 2



# 1 "src/metro/Fukuoka/kukou/1000series.pnml" 1

spriteset(fk_kk_1000series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Fukuoka/kukou/1000series/1000series.png"){ tmpl_purchase_1c(0, 0) }
spriteset(fk_kk_1000series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Fukuoka/kukou/1000series/1000series.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, fk_kk_1000series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_fukuoka_subway; 1: logo_line_fk_kukou; 2: fk_kk_1000series_purchase_c1; 3: fk_kk_1000series_purchase_c2;}

spriteset(fk_kk_1000series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Fukuoka/kukou/1000series/1000series.png"){ tmpl_std(0, 0) }
spriteset(fk_kk_1000series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Fukuoka/kukou/1000series/1000series.png"){ tmpl_std_rev(0, 25) }
spriteset(fk_kk_1000series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Fukuoka/kukou/1000series/1000series.png"){ tmpl_std(0, 75) }
spriteset(fk_kk_1000series_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Fukuoka/kukou/1000series/1000series.png"){ tmpl_std(0, 50) }
spriteset(fk_kk_1000series_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Fukuoka/kukou/1000series/1000series.png"){ tmpl_std(0, 100) }
spriteset(fk_kk_1000series_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Fukuoka/kukou/1000series/1000series.png"){ tmpl_std_rev(0, 100) }



switch(FEAT_TRAINS, SELF, sw_fk_kk_1000series_panto_placer_1,position_in_consist %7){
    1: fk_kk_1000series_mot;
    3: fk_kk_1000series_mot;
    fk_kk_1000series_wag;
}
switch(FEAT_TRAINS, SELF, sw_fk_kk_1000series_panto_placer_1_rev,position_in_consist_from_end %7){
    1: fk_kk_1000series_mot;
    3: fk_kk_1000series_mot;
    fk_kk_1000series_wag;
}
switch(FEAT_TRAINS, PARENT, sw_fk_kk_1000series_panto_placer_1_main,vehicle_is_reversed){
    1: sw_fk_kk_1000series_panto_placer_1_rev;
    sw_fk_kk_1000series_panto_placer_1;
}

switch(FEAT_TRAINS, SELF, sw_fk_kk_1000series_panto_placer_2,position_in_consist %8){
    2: fk_kk_1000series_mot;
    5: fk_kk_1000series_mot;
    fk_kk_1000series_wag;
}
switch(FEAT_TRAINS, SELF, sw_fk_kk_1000series_panto_placer_2_rev,position_in_consist_from_end %8){
    2: fk_kk_1000series_mot;
    5: fk_kk_1000series_mot;
    fk_kk_1000series_wag;
}
switch(FEAT_TRAINS, PARENT, sw_fk_kk_1000series_panto_placer_2_main,vehicle_is_reversed){
    1: sw_fk_kk_1000series_panto_placer_2_rev;
    sw_fk_kk_1000series_panto_placer_2;
}

switch(FEAT_TRAINS, SELF, sw_fk_kk_1000series_panto_placer_main,num_vehs_in_consist){
    5: sw_fk_kk_1000series_panto_placer_2_main;
    7..9: sw_fk_kk_1000series_panto_placer_2_main;
    sw_fk_kk_1000series_panto_placer_1_main;
}


switch(FEAT_TRAINS, SELF, sw_fk_kk_1000series_fake_placer,position_in_consist){
    5: fk_kk_1000series_end_f;
    6: fk_kk_1000series_front_f;
sw_fk_kk_1000series_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_fk_kk_1000series_fake_placer_rev,position_in_consist_from_end){
    5: fk_kk_1000series_front_f;
    6: fk_kk_1000series_end_f;
sw_fk_kk_1000series_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_fk_kk_1000series_fake_placer_gfx,vehicle_is_reversed){
    1: sw_fk_kk_1000series_fake_placer_rev;
    sw_fk_kk_1000series_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_fk_kk_1000series_fake_placer_main,num_vehs_in_consist>9){
    1: sw_fk_kk_1000series_fake_placer_gfx;
sw_fk_kk_1000series_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_fk_kk_1000series_end,position_in_consist_from_end){
    0: fk_kk_1000series_end;
    default: sw_fk_kk_1000series_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_fk_kk_1000series_livery_1,position_in_consist){
    0: fk_kk_1000series_front;
    default: sw_fk_kk_1000series_end;
}



switch(FEAT_TRAINS, SELF, sw_fk_kk_1000series_main_capacity,position_in_consist_from_end){
    0: 135*param_capacity_mod/3;
    default: 146*param_capacity_mod/3;
}

switch(FEAT_TRAINS, SELF, fk_kk_1000series_attach_vehid, vehicle_type_id) {
  mu_car_narrow: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}

item(FEAT_TRAINS, fk_kk_1000series,1450) {
    property {
        cargo_capacity: 130;
        climates_available: param_disable_fukuoka == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.2;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        name: string(STR_TRAIN_NAME, string(STR_NAME_FUKUOKA), "1000", string(STR_NAME_SERIES));
        introduction_date: date(1980, 1, 1);
        model_life: 47;
        vehicle_life: 30;
        reliability_decay: 10;

        cost_factor: 19;
        running_cost_factor: 49;
        speed: 90 km/h;
        track_type: TR_1067_DC;
        power: 300 kW;
        weight: 38 ton;
        loading_speed: param_loading_4D;
    }
 graphics {
        default: sw_fk_kk_1000series_livery_1;
        purchase: fk_kk_1000series_purchase;
        can_attach_wagon: fk_kk_1000series_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 6)),
  string(STR_OPERATOR, string(STR_FUKUOKA)),
  string(STR_LINES_USED, string(STR_FUKUOKA_KUKO)));

        start_stop: sw_stop_start_3;
        cargo_capacity: 135*param_capacity_mod/3;
    }
    livery_override(mu_car_narrow){
        loading_speed: param_loading_4D;
        cargo_capacity: sw_fk_kk_1000series_main_capacity;
        default: sw_fk_kk_1000series_livery_1;
        power: 402*3/5;
        weight: 37;
        length: 8;
      }
}
# 195 "src/_metro.pnml" 2
# 1 "src/metro/Fukuoka/kukou/2000series.pnml" 1

spriteset(fk_kk_2000series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Fukuoka/kukou/2000series/2000series.png"){ tmpl_purchase_1c(0, 0) }
spriteset(fk_kk_2000series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Fukuoka/kukou/2000series/2000series.png"){ tmpl_purchase_2c(0, 50) }
switch(FEAT_TRAINS, SELF, fk_kk_2000series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_fukuoka_subway; 1: logo_line_fk_kukou; 2: fk_kk_2000series_purchase_c1; 3: fk_kk_2000series_purchase_c2;}


spriteset(fk_kk_2000series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Fukuoka/kukou/2000series/2000series.png"){ tmpl_std(0, 0) }
spriteset(fk_kk_2000series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Fukuoka/kukou/2000series/2000series.png"){ tmpl_std_rev(0, 25) }
spriteset(fk_kk_2000series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Fukuoka/kukou/2000series/2000series.png"){ tmpl_std(0, 75) }
spriteset(fk_kk_2000series_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Fukuoka/kukou/2000series/2000series.png"){ tmpl_std(0, 50) }
spriteset(fk_kk_2000series_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Fukuoka/kukou/2000series/2000series.png"){ tmpl_std(0, 100) }
spriteset(fk_kk_2000series_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Fukuoka/kukou/2000series/2000series.png"){ tmpl_std_rev(0, 100) }



switch(FEAT_TRAINS, SELF, sw_fk_kk_2000series_panto_placer_1,position_in_consist %7){
    1: fk_kk_2000series_mot;
    3: fk_kk_2000series_mot;
    fk_kk_2000series_wag;
}
switch(FEAT_TRAINS, SELF, sw_fk_kk_2000series_panto_placer_1_rev,position_in_consist_from_end %7){
    1: fk_kk_2000series_mot;
    3: fk_kk_2000series_mot;
    fk_kk_2000series_wag;
}
switch(FEAT_TRAINS, PARENT, sw_fk_kk_2000series_panto_placer_1_main,vehicle_is_reversed){
    1: sw_fk_kk_2000series_panto_placer_1_rev;
    sw_fk_kk_2000series_panto_placer_1;
}

switch(FEAT_TRAINS, SELF, sw_fk_kk_2000series_panto_placer_2,position_in_consist %8){
    2: fk_kk_2000series_mot;
    5: fk_kk_2000series_mot;
    fk_kk_2000series_wag;
}
switch(FEAT_TRAINS, SELF, sw_fk_kk_2000series_panto_placer_2_rev,position_in_consist_from_end %8){
    2: fk_kk_2000series_mot;
    5: fk_kk_2000series_mot;
    fk_kk_2000series_wag;
}
switch(FEAT_TRAINS, PARENT, sw_fk_kk_2000series_panto_placer_2_main,vehicle_is_reversed){
    1: sw_fk_kk_2000series_panto_placer_2_rev;
    sw_fk_kk_2000series_panto_placer_2;
}

switch(FEAT_TRAINS, SELF, sw_fk_kk_2000series_panto_placer_main,num_vehs_in_consist){
    5: sw_fk_kk_2000series_panto_placer_2_main;
    7..9: sw_fk_kk_2000series_panto_placer_2_main;
    sw_fk_kk_2000series_panto_placer_1_main;
}


switch(FEAT_TRAINS, SELF, sw_fk_kk_2000series_fake_placer,position_in_consist){
    5: fk_kk_2000series_end_f;
    6: fk_kk_2000series_front_f;
sw_fk_kk_2000series_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_fk_kk_2000series_fake_placer_rev,position_in_consist_from_end){
    5: fk_kk_2000series_front_f;
    6: fk_kk_2000series_end_f;
sw_fk_kk_2000series_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_fk_kk_2000series_fake_placer_gfx,vehicle_is_reversed){
    1: sw_fk_kk_2000series_fake_placer_rev;
    sw_fk_kk_2000series_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_fk_kk_2000series_fake_placer_main,num_vehs_in_consist>9){
    1: sw_fk_kk_2000series_fake_placer_gfx;
sw_fk_kk_2000series_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_fk_kk_2000series_end,position_in_consist_from_end){
    0: fk_kk_2000series_end;
    default: sw_fk_kk_2000series_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_fk_kk_2000series_livery_1,position_in_consist){
    0: fk_kk_2000series_front;
    default: sw_fk_kk_2000series_end;
}



switch(FEAT_TRAINS, SELF, sw_fk_kk_2000series_main_capacity,position_in_consist_from_end){
    0: 135*param_capacity_mod/3;
    default: 146*param_capacity_mod/3;
}

switch(FEAT_TRAINS, SELF, fk_kk_2000series_attach_vehid, vehicle_type_id) {
  mu_car_narrow: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}


item(FEAT_TRAINS, fk_kk_2000series,1451) {
    property {
        cargo_capacity: 130;
        climates_available: param_disable_fukuoka == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.2;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        name: string(STR_TRAIN_NAME, string(STR_NAME_FUKUOKA), "2000", string(STR_NAME_SERIES));
        introduction_date: date(1992, 1, 1);
        model_life: 47;
        vehicle_life: 30;
        reliability_decay: 10;

        cost_factor: 20;
        running_cost_factor: 50;
        speed: 110 km/h;
        track_type: TR_1067_DC;
        power: 300 kW;
        weight: 32 ton;
        loading_speed: param_loading_4D;
    }
 graphics {
        default: sw_fk_kk_2000series_livery_1;
        purchase: fk_kk_2000series_purchase;
        can_attach_wagon: fk_kk_2000series_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 6)),
  string(STR_OPERATOR, string(STR_FUKUOKA)),
  string(STR_LINES_USED, string(STR_FUKUOKA_KUKO)));

        start_stop: sw_stop_start_3;
        cargo_capacity: 135*param_capacity_mod/3;
    }
    livery_override(mu_car_narrow){
        loading_speed: param_loading_4D;
        cargo_capacity: sw_fk_kk_2000series_main_capacity;
        default: sw_fk_kk_2000series_livery_1;
        power: 402*3/5;
        weight: 33;
        length: 8;
      }
}
# 196 "src/_metro.pnml" 2

# 1 "src/metro/Fukuoka/nanakuma/3000series.pnml" 1

spriteset(fk_nk_3000series_purchase_c1_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Fukuoka/nanakuma/3000series/3000series.png"){ tmpl_purchase_1c(0, 0) }
spriteset(fk_nk_3000series_purchase_c2_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Fukuoka/nanakuma/3000series/3000series.png"){ tmpl_purchase_2c(0, 75) }
spriteset(fk_nk_3000series_purchase_c1_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Fukuoka/nanakuma/3000series/3000series_1.png"){ tmpl_purchase_1c(0, 0) }
spriteset(fk_nk_3000series_purchase_c2_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Fukuoka/nanakuma/3000series/3000series_1.png"){ tmpl_purchase_2c(0, 75) }
switch(FEAT_TRAINS, SELF, fk_nk_3000series_purchase_c1, current_year){
    0..2021: fk_nk_3000series_purchase_c1_1;
    fk_nk_3000series_purchase_c1_2;
}
switch(FEAT_TRAINS, SELF, fk_nk_3000series_purchase_c2, current_year){
    0..2021: fk_nk_3000series_purchase_c2_1;
    fk_nk_3000series_purchase_c2_2;
}
switch(FEAT_TRAINS, SELF, fk_nk_3000series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_fukuoka_subway; 1: logo_line_fk_nanakuma; 2: fk_nk_3000series_purchase_c1; 3: fk_nk_3000series_purchase_c2;}


spriteset(fk_nk_3000series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Fukuoka/nanakuma/3000series/3000series.png"){ tmpl_std(0, 0) }
spriteset(fk_nk_3000series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Fukuoka/nanakuma/3000series/3000series.png"){ tmpl_std_rev(0, 25) }
spriteset(fk_nk_3000series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Fukuoka/nanakuma/3000series/3000series.png"){ tmpl_std(0, 75) }
spriteset(fk_nk_3000series_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Fukuoka/nanakuma/3000series/3000series.png"){ tmpl_std(0, 50) }
spriteset(fk_nk_3000series_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Fukuoka/nanakuma/3000series/3000series.png"){ tmpl_std(0, 100) }
spriteset(fk_nk_3000series_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Fukuoka/nanakuma/3000series/3000series.png"){ tmpl_std_rev(0, 100) }


spriteset(fk_nk_3000series_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Fukuoka/nanakuma/3000series/3000series_1.png"){ tmpl_std(0, 0) }
spriteset(fk_nk_3000series_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Fukuoka/nanakuma/3000series/3000series_1.png"){ tmpl_std_rev(0, 25) }
spriteset(fk_nk_3000series_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Fukuoka/nanakuma/3000series/3000series_1.png"){ tmpl_std(0, 75) }
spriteset(fk_nk_3000series_1_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Fukuoka/nanakuma/3000series/3000series_1.png"){ tmpl_std(0, 50) }
spriteset(fk_nk_3000series_1_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Fukuoka/nanakuma/3000series/3000series_1.png"){ tmpl_std(0, 100) }
spriteset(fk_nk_3000series_1_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/metro/Fukuoka/nanakuma/3000series/3000series_1.png"){ tmpl_std_rev(0, 100) }




switch(FEAT_TRAINS, SELF, sw_fk_nk_3000series_panto_placer_1,position_in_consist %4){
    3: fk_nk_3000series_mot;
    fk_nk_3000series_wag;
}
switch(FEAT_TRAINS, SELF, sw_fk_nk_3000series_panto_placer_1_rev,position_in_consist_from_end %7){
    3: fk_nk_3000series_mot;
    fk_nk_3000series_wag;
}
switch(FEAT_TRAINS, PARENT, sw_fk_nk_3000series_panto_placer_1_main,vehicle_is_reversed){
    1: sw_fk_nk_3000series_panto_placer_1_rev;
    sw_fk_nk_3000series_panto_placer_1;
}

switch(FEAT_TRAINS, SELF, sw_fk_nk_3000series_panto_placer_main,num_vehs_in_consist >5){
    1:sw_fk_nk_3000series_panto_placer_1_main;
    fk_nk_3000series_wag;
}


switch(FEAT_TRAINS, SELF, sw_fk_nk_3000series_fake_placer,position_in_consist){
    3: fk_nk_3000series_end_f;
    4: fk_nk_3000series_front_f;
sw_fk_nk_3000series_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_fk_nk_3000series_fake_placer_rev,position_in_consist_from_end){
    3: fk_nk_3000series_front_f;
    4: fk_nk_3000series_end_f;
sw_fk_nk_3000series_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_fk_nk_3000series_fake_placer_gfx,vehicle_is_reversed){
    1: sw_fk_nk_3000series_fake_placer_rev;
    sw_fk_nk_3000series_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_fk_nk_3000series_fake_placer_main,num_vehs_in_consist>7){
    1: sw_fk_nk_3000series_fake_placer_gfx;
sw_fk_nk_3000series_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_fk_nk_3000series_end,position_in_consist_from_end){
    0: fk_nk_3000series_end;
    1: fk_nk_3000series_wag;
    default: sw_fk_nk_3000series_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_fk_nk_3000series_livery_1,position_in_consist){
    0: fk_nk_3000series_front;
    1: fk_nk_3000series_wag;
    default: sw_fk_nk_3000series_end;
}




switch(FEAT_TRAINS, SELF, sw_fk_nk_3000series_1_panto_placer_1,position_in_consist %4){
    3: fk_nk_3000series_1_mot;
    fk_nk_3000series_1_wag;
}
switch(FEAT_TRAINS, SELF, sw_fk_nk_3000series_1_panto_placer_1_rev,position_in_consist_from_end %7){
    3: fk_nk_3000series_1_mot;
    fk_nk_3000series_1_wag;
}
switch(FEAT_TRAINS, PARENT, sw_fk_nk_3000series_1_panto_placer_1_main,vehicle_is_reversed){
    1: sw_fk_nk_3000series_1_panto_placer_1_rev;
    sw_fk_nk_3000series_1_panto_placer_1;
}

switch(FEAT_TRAINS, SELF, sw_fk_nk_3000series_1_panto_placer_main,num_vehs_in_consist >5){
    1:sw_fk_nk_3000series_1_panto_placer_1_main;
    fk_nk_3000series_1_wag;
}


switch(FEAT_TRAINS, SELF, sw_fk_nk_3000series_1_fake_placer,position_in_consist){
    3: fk_nk_3000series_1_end_f;
    4: fk_nk_3000series_1_front_f;
sw_fk_nk_3000series_1_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_fk_nk_3000series_1_fake_placer_rev,position_in_consist_from_end){
    3: fk_nk_3000series_1_front_f;
    4: fk_nk_3000series_1_end_f;
sw_fk_nk_3000series_1_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_fk_nk_3000series_1_fake_placer_gfx,vehicle_is_reversed){
    1: sw_fk_nk_3000series_1_fake_placer_rev;
    sw_fk_nk_3000series_1_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_fk_nk_3000series_1_fake_placer_main,num_vehs_in_consist>7){
    1: sw_fk_nk_3000series_1_fake_placer_gfx;
sw_fk_nk_3000series_1_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_fk_nk_3000series_1_end,position_in_consist_from_end){
    0: fk_nk_3000series_1_end;
    1: fk_nk_3000series_1_wag;
    default: sw_fk_nk_3000series_1_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_fk_nk_3000series_livery_2,position_in_consist){
    0: fk_nk_3000series_1_front;
    1: fk_nk_3000series_1_wag;
    default: sw_fk_nk_3000series_1_end;
}


random_switch(FEAT_TRAINS, PARENT, sw_fk_nk_3000series_livery_0_new){
    1: sw_fk_nk_3000series_livery_1;
    2: sw_fk_nk_3000series_livery_2;
}
switch(FEAT_TRAINS, SELF, sw_fk_nk_3000series_livery_0, current_year > 2021){
    1: sw_fk_nk_3000series_livery_0_new;
    sw_fk_nk_3000series_livery_1;
}

switch(FEAT_TRAINS, SELF, sw_fk_nk_3000series_lv_desc, cargo_subtype){
    0: string(LV_RANDOM);
    1: string(LV_fk_nk_3000series_1);
    2: string(LV_DATED, string(LV_ng_MEMORIA), 2022);
}

switch(FEAT_TRAINS, SELF, sw_fk_nk_3000series_lv, cargo_subtype){
    0: sw_fk_nk_3000series_livery_0;
    1: sw_fk_nk_3000series_livery_1;
    2: sw_fk_nk_3000series_livery_2;
}

switch(FEAT_TRAINS, SELF, sw_fk_nk_3000series_main_capacity,position_in_consist_from_end){
    0: 89*param_capacity_mod/3;
    default: 100*param_capacity_mod/3;
}

switch(FEAT_TRAINS, SELF, fk_nk_3000series_attach_vehid, vehicle_type_id) {
  mu_car: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}


item(FEAT_TRAINS, fk_nk_3000series,1455) {
    property {
        cargo_capacity: 130;
        climates_available: param_disable_fukuoka == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.2;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        name: string(STR_TRAIN_NAME, string(STR_NAME_FUKUOKA), "3000", string(STR_NAME_SERIES));
        introduction_date: date(2004, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cost_factor: 19;
        running_cost_factor: 49;
        speed: 120 km/h;
        track_type: TR_1435_DC;
        power: 300 kW;
        weight: 27 ton;
        loading_speed: param_loading_3D;
    }
 graphics {
        default: sw_fk_nk_3000series_lv;
        purchase: fk_nk_3000series_purchase;
        can_attach_wagon: fk_nk_3000series_attach_vehid;
        additional_text:
    string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 4)),
  string(STR_OPERATOR, string(STR_FUKUOKA)),
  string(STR_LINES_USED, string(STR_FUKUOKA_NANAKUMA)));

        cargo_subtype_text: sw_fk_nk_3000series_lv_desc;
        start_stop: sw_stop_start_3;
        cargo_capacity: 89*param_capacity_mod/3;
    }
    livery_override(mu_car){
        loading_speed: param_loading_3D;
        cargo_capacity: sw_fk_nk_3000series_main_capacity;
        default: sw_fk_nk_3000series_lv;
        power: 402;
        weight: 26;
        length: 8;
      }
}
# 198 "src/_metro.pnml" 2
# 15 "JPprivate.pnml" 2
# 1 "src/_private.pnml" 1




# 1 "src/private/Kanto/tokyu/tokyu_deha1.pnml" 1

  spriteset(tokyu_deha1_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu_deha1/tokyu_deha1.png"){ tmpl_purchase_1c_7(0, 0) }
  switch(FEAT_TRAINS, SELF, tokyu_deha1_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_tokyu; 1: tokyu_deha1_purchase_c1;}

spriteset(tokyu_deha1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu_deha1/tokyu_deha1.png"){ tmpl_std(0, 0) }
spriteset(tokyu_deha1_front_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu_deha1/tokyu_deha1.png"){ tmpl_std_rev(0, 25) }
spriteset(tokyu_deha1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu_deha1/tokyu_deha1.png"){ tmpl_std(0, 50) }
spriteset(tokyu_deha1_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu_deha1/tokyu_deha1.png"){ tmpl_std_rev(0, 50) }
spriteset(tokyu_deha1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu_deha1/tokyu_deha1.png"){ tmpl_symm(0, 75) }


switch(FEAT_TRAINS, PARENT, sw_tokyu_deha1_front_gfx, vehicle_is_reversed){
    1:tokyu_deha1_front_rev;
    tokyu_deha1_front;
}

switch(FEAT_TRAINS, PARENT, sw_tokyu_deha1_end_gfx, vehicle_is_reversed){
    1:tokyu_deha1_end_rev;
    tokyu_deha1_end;
}

switch(FEAT_TRAINS, SELF, sw_tokyu_deha1_panto_placer,position_in_consist %2){
    0: sw_tokyu_deha1_end_gfx;
    tokyu_deha1_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu_deha1_panto_placer_rev,position_in_consist_from_end %2){
    0: sw_tokyu_deha1_end_gfx;
    tokyu_deha1_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu_deha1_panto_placer_main,vehicle_is_reversed){
    1: sw_tokyu_deha1_panto_placer_rev;
    sw_tokyu_deha1_panto_placer;
}

switch(FEAT_TRAINS, SELF, sw_tokyu_deha1_end_fix, position_in_consist_from_end){
    0:sw_tokyu_deha1_end_gfx;
    sw_tokyu_deha1_panto_placer_main;
}

switch(FEAT_TRAINS, SELF, sw_tokyu_deha1_livery_0,vehicle_type_id){
    mu_car_narrow:sw_tokyu_deha1_end_fix;
    sw_tokyu_deha1_front_gfx;
}


switch(FEAT_TRAINS, SELF, tokyu_deha1_attach_vehid, vehicle_type_id) {
  mu_car_narrow: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}

item(FEAT_TRAINS, tokyu_deha1,2000) {
    property {
        cargo_capacity: 130;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        climates_available: param_disable_tokyu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        name: string(STR_TRAIN_NAME, string(STR_NAME_TOKYU), string(STR_NAME_DEHA, "1"), string(STR_NAME_TYPE));
        introduction_date: date(1923, 1, 1);
        model_life: 20;
        vehicle_life: 46;
        reliability_decay: 10;

        cost_factor: 12;
        running_cost_factor: 42;
        speed: 75 km/h;
        track_type: TR_1067_DC;
        power: 240 kW;
        weight: 33 ton;
        loading_speed: param_loading_2D;
    }
 graphics {
        default: sw_tokyu_deha1_livery_0;
        purchase: tokyu_deha1_purchase;
        can_attach_wagon: tokyu_deha1_attach_vehid;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 2)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 1)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_TOKYU)));
        cargo_capacity: 80*param_capacity_mod/3;
        length: 7;
    }
    livery_override(mu_car_narrow){
        loading_speed: param_loading_2D;
        cargo_capacity: 80*param_capacity_mod/3;
        default: sw_tokyu_deha1_livery_0;
        power: 240*1342/1000;
        weight: 33;
        length: 7;
      }
}
# 6 "src/_private.pnml" 2
# 1 "src/private/Kanto/tokyu/tokyu_deha3450.pnml" 1

  spriteset(tokyu_deha3450_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu_deha3450/tokyu_deha3450.png"){ tmpl_purchase_1c(0, 0) }
  switch(FEAT_TRAINS, SELF, tokyu_deha3450_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_tokyu; 1: tokyu_deha3450_purchase_c1;}

spriteset(tokyu_deha3450_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu_deha3450/tokyu_deha3450.png"){ tmpl_std(0, 0) }
spriteset(tokyu_deha3450_front_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu_deha3450/tokyu_deha3450.png"){ tmpl_std_rev(0, 25) }
spriteset(tokyu_deha3450_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu_deha3450/tokyu_deha3450.png"){ tmpl_std(0, 50) }
spriteset(tokyu_deha3450_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu_deha3450/tokyu_deha3450.png"){ tmpl_std(0, 75) }
spriteset(tokyu_deha3450_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu_deha3450/tokyu_deha3450.png"){ tmpl_std_rev(0, 75) }
spriteset(tokyu_deha3450_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu_deha3450/tokyu_deha3450.png"){ tmpl_symm(0, 100) }


switch(FEAT_TRAINS, PARENT, sw_tokyu_deha3450_front_mot_gfx, vehicle_is_reversed){
    1:tokyu_deha3450_front_mot_rev;
    tokyu_deha3450_front_mot;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu_deha3450_mot_gfx, vehicle_is_reversed){
    1:tokyu_deha3450_mot_rev;
    tokyu_deha3450_mot;
}

switch(FEAT_TRAINS, SELF, sw_tokyu_deha3450_panto_placer,position_in_consist %2){
    0: tokyu_deha3450_mot;
    tokyu_deha3450_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu_deha3450_panto_placer_rev,position_in_consist_from_end %2){
    0: tokyu_deha3450_mot_rev;
    tokyu_deha3450_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu_deha3450_panto_placer_main,vehicle_is_reversed){
    1: sw_tokyu_deha3450_panto_placer_rev;
    sw_tokyu_deha3450_panto_placer;
}

switch(FEAT_TRAINS, SELF, sw_tokyu_deha3450_mot_fix, position_in_consist_from_end){
    0:sw_tokyu_deha3450_mot_gfx;
    sw_tokyu_deha3450_panto_placer_main;
}

switch(FEAT_TRAINS, SELF, sw_tokyu_deha3450_livery_0,vehicle_type_id){
    mu_car_narrow:sw_tokyu_deha3450_mot_fix;
    sw_tokyu_deha3450_front_mot_gfx;
}


switch(FEAT_TRAINS, SELF, tokyu_deha3450_attach_vehid, vehicle_type_id) {
  mu_car_narrow: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}

item(FEAT_TRAINS, tokyu_deha3450,2001) {
    property {
        cargo_capacity: 130;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        climates_available: param_disable_tokyu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        name: string(STR_TRAIN_NAME, string(STR_NAME_TOKYU), string(STR_NAME_DEHA, "3450"), string(STR_NAME_TYPE));
        introduction_date: date(1930, 1, 1);
        model_life: 20;
        vehicle_life: 59;
        reliability_decay: 10;

        cost_factor: 14;
        running_cost_factor: 44;
        speed: 80 km/h;
        track_type: TR_1067_DC;
        power: 376 kW;
        weight: 33 ton;
        loading_speed: param_loading_3D;
    }
 graphics {
        default: sw_tokyu_deha3450_livery_0;
        purchase: tokyu_deha3450_purchase;
        can_attach_wagon: tokyu_deha3450_attach_vehid;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 1)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_TOKYU)));
        cargo_capacity: 90*param_capacity_mod/3;
        length: 8;
    }
    livery_override(mu_car_narrow){
        loading_speed: param_loading_3D;
        cargo_capacity: 90*param_capacity_mod/3;
        default: sw_tokyu_deha3450_livery_0;
        power: 376*1342/1000;
        weight: 33;
        length: 8;
      }
}
# 7 "src/_private.pnml" 2
# 1 "src/private/Kanto/tokyu/tokyu3300_old.pnml" 1

  spriteset(tokyu3300_old_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu3000_old/tokyu3300.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(tokyu3300_old_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu3000_old/tokyu3300.png"){ tmpl_purchase_2c(0, 75) }
  switch(FEAT_TRAINS, SELF, tokyu3300_old_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_tokyu; 1: tokyu3300_old_purchase_c1; 2: tokyu3300_old_purchase_c2;}

spriteset(tokyu3300_old_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu3000_old/tokyu3300.png"){ tmpl_std(0, 0) }
spriteset(tokyu3300_old_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu3000_old/tokyu3300.png"){ tmpl_std_rev(0, 25) }
spriteset(tokyu3300_old_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu3000_old/tokyu3300.png"){ tmpl_std(0, 25) }
spriteset(tokyu3300_old_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu3000_old/tokyu3300.png"){ tmpl_std(0, 50) }
spriteset(tokyu3300_old_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu3000_old/tokyu3300.png"){ tmpl_std_rev(0, 75) }
spriteset(tokyu3300_old_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu3000_old/tokyu3300.png"){ tmpl_std(0, 75) }



switch(FEAT_TRAINS, SELF, sw_tokyu3300_3_cars_gfx,position_in_consist){
    0: tokyu3300_old_front_mot;
    1: tokyu3300_old_end_mot_rev;
    2: tokyu3300_old_end;
}
switch(FEAT_TRAINS, SELF, sw_tokyu3300_3_cars_rev_gfx,position_in_consist){
    0: tokyu3300_old_front;
    1: tokyu3300_old_end_mot;
    2: tokyu3300_old_end_mot;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu3300_3_cars_main_gfx, vehicle_is_reversed){
    1:sw_tokyu3300_3_cars_rev_gfx;
    sw_tokyu3300_3_cars_gfx;
}


switch(FEAT_TRAINS, PARENT, sw_tokyu3300_old_front_mot_gfx, vehicle_is_reversed){
    1:tokyu3300_old_front;
    tokyu3300_old_front_mot;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu3300_old_mot_gfx, vehicle_is_reversed){
    1:tokyu3300_old_end_mot;
    tokyu3300_old_end;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu3300_old_wag_gfx, vehicle_is_reversed){
    1:tokyu3300_old_end_rev;
    tokyu3300_old_end;
}


switch(FEAT_TRAINS, SELF, sw_tokyu3300_old_panto_placer,position_in_vehid_chain %2){
    0: tokyu3300_old_end_mot_rev;
    sw_tokyu3300_old_wag_gfx;
}
switch(FEAT_TRAINS, SELF, sw_tokyu3300_old_panto_placer_rev,1-position_in_vehid_chain_from_end %2){
    0: tokyu3300_old_end_mot;
    sw_tokyu3300_old_wag_gfx;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu3300_old_panto_placer_main,vehicle_is_reversed){
    1: sw_tokyu3300_old_panto_placer_rev;
    sw_tokyu3300_old_panto_placer;
}

switch(FEAT_TRAINS, SELF, sw_tokyu3300_old_mot_fix, position_in_vehid_chain_from_end){
    0:sw_tokyu3300_old_mot_gfx;
    sw_tokyu3300_old_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tokyu3300_old_id_check,vehicle_type_id){
    mu_car_narrow:sw_tokyu3300_old_mot_fix;
    sw_tokyu3300_old_front_mot_gfx;
}

switch(FEAT_TRAINS, PARENT, sw_tokyu3300_old_livery_0,num_vehs_in_consist){
    1:sw_tokyu3300_3_cars_main_gfx;
    sw_tokyu3300_old_id_check;
}

item(FEAT_TRAINS, tokyu3300_old,2002) {
    property {
        cargo_capacity: 130;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        climates_available: param_disable_tokyu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        name: string(STR_TRAIN_NAME, string(STR_NAME_TOKYU), string(STR_NAME_DEHA, "3300"), string(STR_NAME_TYPE));
        introduction_date: date(1936, 1, 1);
        model_life: 20;
        vehicle_life: 59;
        reliability_decay: 10;

        cost_factor: 14;
        running_cost_factor: 44;
        speed: 85 km/h;
        track_type: TR_1067_DC;
        power: 300 kW;
        weight: 33 ton;
        loading_speed: param_loading_3D;
    }
 graphics {
        default: sw_tokyu3300_old_livery_0;
        purchase: tokyu3300_old_purchase;
        start_stop: sw_stop_start_2;

        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_2, 2,3)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_TOKYU)));
        cargo_capacity: 100*param_capacity_mod/3;
        length: 8;
    }
    livery_override(mu_car_narrow){
        loading_speed: param_loading_3D;
        cargo_capacity: 100*param_capacity_mod/3;
        default: sw_tokyu3300_old_livery_0;
        power: 300*1342/1000;
        weight: 33;
        length: 8;
      }
}
# 8 "src/_private.pnml" 2
# 1 "src/private/Kanto/tokyu/tokyu3500_old.pnml" 1

  spriteset(tokyu3500_old_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu3000_old/tokyu3300.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(tokyu3500_old_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu3000_old/tokyu3300.png"){ tmpl_purchase_2c(0, 25) }
  switch(FEAT_TRAINS, SELF, tokyu3500_old_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_tokyu; 1: tokyu3500_old_purchase_c1; 2: tokyu3500_old_purchase_c2;}

spriteset(tokyu3500_old_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu3000_old/tokyu3500.png"){ tmpl_std(0, 0) }
spriteset(tokyu3500_old_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu3000_old/tokyu3500.png"){ tmpl_std_rev(0, 25) }
spriteset(tokyu3500_old_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu3000_old/tokyu3500.png"){ tmpl_std(0, 25) }
spriteset(tokyu3500_old_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu3000_old/tokyu3500.png"){ tmpl_std(0, 50) }
spriteset(tokyu3500_old_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu3000_old/tokyu3500.png"){ tmpl_std_rev(0, 75) }
spriteset(tokyu3500_old_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu3000_old/tokyu3500.png"){ tmpl_std(0, 75) }



spriteset(tokyu3500_old_2_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu3000_old/tokyu3500_1.png"){ tmpl_std(0, 0) }
spriteset(tokyu3500_old_2_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu3000_old/tokyu3500_1.png"){ tmpl_std_rev(0, 25) }
spriteset(tokyu3500_old_2_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu3000_old/tokyu3500_1.png"){ tmpl_std(0, 25) }
spriteset(tokyu3500_old_2_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu3000_old/tokyu3500_1.png"){ tmpl_std(0, 50) }
spriteset(tokyu3500_old_2_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu3000_old/tokyu3500_1.png"){ tmpl_std_rev(0, 75) }
spriteset(tokyu3500_old_2_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu3000_old/tokyu3500_1.png"){ tmpl_std(0, 75) }



spriteset(tokyu3500_old_1_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu3000_old/tokyu3500_2.png"){ tmpl_std(0, 0) }
spriteset(tokyu3500_old_1_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu3000_old/tokyu3500_2.png"){ tmpl_std_rev(0, 25) }
spriteset(tokyu3500_old_1_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu3000_old/tokyu3500_2.png"){ tmpl_std(0, 25) }
spriteset(tokyu3500_old_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu3000_old/tokyu3500_2.png"){ tmpl_symm(0, 50) }



switch(FEAT_TRAINS, PARENT, sw_tokyu3500_old_wag_gfx, vehicle_is_reversed){
    1:tokyu3500_old_end_rev;
    tokyu3500_old_end;
}


switch(FEAT_TRAINS, SELF, sw_tokyu3500_old_panto_placer,position_in_vehid_chain %2){
    0: tokyu3500_old_end_mot_rev;
    sw_tokyu3500_old_wag_gfx;
}
switch(FEAT_TRAINS, SELF, sw_tokyu3500_old_panto_placer_rev,1-position_in_vehid_chain_from_end %2){
    0: tokyu3500_old_end_mot;
    sw_tokyu3500_old_wag_gfx;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu3500_old_panto_placer_main_1,vehicle_is_reversed){
    1: sw_tokyu3500_old_panto_placer_rev;
    sw_tokyu3500_old_panto_placer;
}

switch(FEAT_TRAINS, SELF, sw_tokyu3500_old_panto_placer_1,1+position_in_vehid_chain %2){
    1: tokyu3500_old_end_mot_rev;
    sw_tokyu3500_old_wag_gfx;
}
switch(FEAT_TRAINS, SELF, sw_tokyu3500_old_panto_placer_1_rev,position_in_vehid_chain_from_end %2){
    1: tokyu3500_old_end_mot;
    sw_tokyu3500_old_wag_gfx;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu3500_old_panto_placer_main_2,vehicle_is_reversed){
    1: sw_tokyu3500_old_panto_placer_1_rev;
    sw_tokyu3500_old_panto_placer_1;
}

random_switch(FEAT_TRAINS, PARENT, sw_tokyu3500_old_panto_placer_main){
    1:sw_tokyu3500_old_panto_placer_main_1;
    1:sw_tokyu3500_old_panto_placer_main_2;
}

switch(FEAT_TRAINS, SELF, sw_tokyu3500_old_end_gfx, position_in_vehid_chain_from_end){
    0:tokyu3500_old_end_mot;
    sw_tokyu3500_old_panto_placer_main;
}

switch(FEAT_TRAINS, SELF, sw_tokyu3500_old_livery_1,vehicle_type_id){
    mu_car_narrow:sw_tokyu3500_old_end_gfx;
    tokyu3500_old_front_mot;
}




switch(FEAT_TRAINS, SELF, sw_tokyu3500_old_1_panto_placer,1+position_in_vehid_chain%4){
    2: tokyu3500_old_1_end_mot;
    3: tokyu3500_old_1_end_mot_rev;
    tokyu3500_old_1_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu3500_old_1_panto_placer_rev,position_in_vehid_chain_from_end%4){
    2: tokyu3500_old_1_end_mot_rev;
    3: tokyu3500_old_1_end_mot;
    tokyu3500_old_1_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu3500_old_1_panto_placer_main,vehicle_is_reversed){
    1: sw_tokyu3500_old_1_panto_placer_rev;
    sw_tokyu3500_old_1_panto_placer;
}

switch(FEAT_TRAINS, SELF, sw_tokyu3500_old_1_end_gfx, position_in_vehid_chain_from_end){
    0:tokyu3500_old_1_end_mot;
    sw_tokyu3500_old_1_panto_placer_main;
}

switch(FEAT_TRAINS, SELF, sw_tokyu3500_old_livery_2,vehicle_type_id){
    mu_car_narrow:sw_tokyu3500_old_1_end_gfx;
    tokyu3500_old_1_front_mot;
}



switch(FEAT_TRAINS, PARENT, sw_tokyu3500_old_2_wag_gfx, vehicle_is_reversed){
    1:tokyu3500_old_2_end_rev;
    tokyu3500_old_2_end;
}


switch(FEAT_TRAINS, SELF, sw_tokyu3500_old_2_panto_placer,position_in_vehid_chain %2){
    0: tokyu3500_old_2_end_mot_rev;
    sw_tokyu3500_old_2_wag_gfx;
}
switch(FEAT_TRAINS, SELF, sw_tokyu3500_old_2_panto_placer_rev,1-position_in_vehid_chain_from_end %2){
    0: tokyu3500_old_2_end_mot;
    sw_tokyu3500_old_2_wag_gfx;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu3500_old_2_panto_placer_main_1,vehicle_is_reversed){
    1: sw_tokyu3500_old_2_panto_placer_rev;
    sw_tokyu3500_old_2_panto_placer;
}

switch(FEAT_TRAINS, SELF, sw_tokyu3500_old_2_panto_placer_1,1+position_in_vehid_chain %2){
    1: tokyu3500_old_2_end_mot_rev;
    sw_tokyu3500_old_2_wag_gfx;
}
switch(FEAT_TRAINS, SELF, sw_tokyu3500_old_2_panto_placer_1_rev,position_in_vehid_chain_from_end %2){
    1: tokyu3500_old_2_end_mot;
    sw_tokyu3500_old_2_wag_gfx;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu3500_old_2_panto_placer_main_2,vehicle_is_reversed){
    1: sw_tokyu3500_old_2_panto_placer_1_rev;
    sw_tokyu3500_old_2_panto_placer_1;
}

random_switch(FEAT_TRAINS, PARENT, sw_tokyu3500_old_2_panto_placer_main){
    1:sw_tokyu3500_old_2_panto_placer_main_1;
    1:sw_tokyu3500_old_2_panto_placer_main_2;
}

switch(FEAT_TRAINS, SELF, sw_tokyu3500_old_2_end_gfx, position_in_vehid_chain_from_end){
    0:tokyu3500_old_2_end_mot;
    sw_tokyu3500_old_2_panto_placer_main;
}

switch(FEAT_TRAINS, SELF, sw_tokyu3500_old_livery_3,vehicle_type_id){
    mu_car_narrow:sw_tokyu3500_old_2_end_gfx;
    tokyu3500_old_2_front_mot;
}

random_switch(FEAT_TRAINS, PARENT, sw_tokyu3500_old_livery_0_new){
    2:sw_tokyu3500_old_livery_2;
    1:sw_tokyu3500_old_livery_3;
}
switch(FEAT_TRAINS, SELF, sw_tokyu3500_old_livery_0, current_year){
    0..1977:sw_tokyu3500_old_livery_1;
    sw_tokyu3500_old_livery_0_new;
}

switch(FEAT_TRAINS, PARENT, sw_tokyu3500_lv, cargo_subtype){
    0:sw_tokyu3500_old_livery_0;
    1:sw_tokyu3500_old_livery_1;
    2:sw_tokyu3500_old_livery_2;
    3:sw_tokyu3500_old_livery_3;
}

switch(FEAT_TRAINS, SELF, sw_tokyu3500_lv_0_desc, cargo_subtype){
    0:string(LV_RANDOM);
    1:string(LV_OLD);
}

switch(FEAT_TRAINS, PARENT, sw_tokyu3500_lv_1_desc, cargo_subtype){
    0:string(LV_RANDOM);
    1:string(LV_OLD);
    2:string(LV_MODERN);
    3:string(LV_tokyu3500_lv_3);
}
switch(FEAT_TRAINS, SELF, sw_tokyu3500_old_lv_desc, current_year){
    0..1977:sw_tokyu3500_lv_0_desc;
    sw_tokyu3500_lv_1_desc;
}

item(FEAT_TRAINS, tokyu3500_old,2003) {
    property {
        cargo_capacity: 130;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
        variant_group:2002;

        climates_available: param_disable_tokyu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        name: string(STR_TRAIN_NAME, string(STR_NAME_TOKYU), string(STR_NAME_DEHA, "3400~3600"), string(STR_NAME_TYPE));
        introduction_date: date(1939, 1, 1);
        model_life: 20;
        vehicle_life: 50;
        reliability_decay: 10;

        cost_factor: 15;
        running_cost_factor: 46;
        speed: 85 km/h;
        track_type: TR_1067_DC;
        power: 300 kW;
        weight: 33 ton;
        loading_speed: param_loading_3D;
    }
 graphics {
        default: sw_tokyu3500_lv;
        purchase: tokyu3500_old_purchase;
        cargo_subtype_text:sw_tokyu3500_old_lv_desc;
        start_stop: sw_stop_start_2;

        cargo_capacity: 100*param_capacity_mod/3;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_RANGE, 2,5)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_TOKYU)));
 }
    livery_override(mu_car_narrow){
        loading_speed: param_loading_3D;
        cargo_capacity: 100*param_capacity_mod/3;
        default: sw_tokyu3500_lv;
        power: 300*1342/1000;
        weight: 33;
      }
}
# 9 "src/_private.pnml" 2
# 1 "src/private/Kanto/tokyu/tokyu3800_old.pnml" 1

  spriteset(tokyu3800_old_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu3000_old/tokyu3500.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(tokyu3800_old_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu3000_old/tokyu3500.png"){ tmpl_purchase_2c(0, 25) }
  switch(FEAT_TRAINS, SELF, tokyu3800_old_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_tokyu; 1: tokyu3800_old_purchase_c1; 2: tokyu3800_old_purchase_c2;}

spriteset(tokyu3800_old_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu3000_old/tokyu3500.png"){ tmpl_std(0, 0) }
spriteset(tokyu3800_old_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu3000_old/tokyu3500.png"){ tmpl_std_rev(0, 25) }
spriteset(tokyu3800_old_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu3000_old/tokyu3500.png"){ tmpl_std(0, 25) }
spriteset(tokyu3800_old_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu3000_old/tokyu3500.png"){ tmpl_std(0, 50) }
spriteset(tokyu3800_old_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu3000_old/tokyu3500.png"){ tmpl_std_rev(0, 75) }
spriteset(tokyu3800_old_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu3000_old/tokyu3500.png"){ tmpl_std(0, 75) }



spriteset(tokyu3800_old_2_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu3000_old/tokyu3800_1.png"){ tmpl_std(0, 0) }
spriteset(tokyu3800_old_2_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu3000_old/tokyu3800_1.png"){ tmpl_std_rev(0, 25) }
spriteset(tokyu3800_old_2_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu3000_old/tokyu3800_1.png"){ tmpl_std(0, 25) }
spriteset(tokyu3800_old_2_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu3000_old/tokyu3800_1.png"){ tmpl_std(0, 50) }
spriteset(tokyu3800_old_2_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu3000_old/tokyu3800_1.png"){ tmpl_std_rev(0, 75) }
spriteset(tokyu3800_old_2_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu3000_old/tokyu3800_1.png"){ tmpl_std(0, 75) }



spriteset(tokyu3800_old_1_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu3000_old/tokyu3500_2.png"){ tmpl_std(0, 0) }
spriteset(tokyu3800_old_1_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu3000_old/tokyu3500_2.png"){ tmpl_std_rev(0, 25) }
spriteset(tokyu3800_old_1_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu3000_old/tokyu3500_2.png"){ tmpl_std(0, 25) }
spriteset(tokyu3800_old_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu3000_old/tokyu3500_2.png"){ tmpl_symm(0, 50) }



switch(FEAT_TRAINS, PARENT, sw_tokyu3800_old_wag_gfx, vehicle_is_reversed){
    1:tokyu3800_old_end_rev;
    tokyu3800_old_end;
}


switch(FEAT_TRAINS, SELF, sw_tokyu3800_old_panto_placer,position_in_vehid_chain %2){
    0: tokyu3800_old_end_mot_rev;
    sw_tokyu3800_old_wag_gfx;
}
switch(FEAT_TRAINS, SELF, sw_tokyu3800_old_panto_placer_rev,1-position_in_vehid_chain_from_end %2){
    0: tokyu3800_old_end_mot;
    sw_tokyu3800_old_wag_gfx;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu3800_old_panto_placer_main_1,vehicle_is_reversed){
    1: sw_tokyu3800_old_panto_placer_rev;
    sw_tokyu3800_old_panto_placer;
}

switch(FEAT_TRAINS, SELF, sw_tokyu3800_old_panto_placer_1,1+position_in_vehid_chain %2){
    1: tokyu3800_old_end_mot_rev;
    sw_tokyu3800_old_wag_gfx;
}
switch(FEAT_TRAINS, SELF, sw_tokyu3800_old_panto_placer_1_rev,position_in_vehid_chain_from_end %2){
    1: tokyu3800_old_end_mot;
    sw_tokyu3800_old_wag_gfx;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu3800_old_panto_placer_main_2,vehicle_is_reversed){
    1: sw_tokyu3800_old_panto_placer_1_rev;
    sw_tokyu3800_old_panto_placer_1;
}

random_switch(FEAT_TRAINS, PARENT, sw_tokyu3800_old_panto_placer_main){
    1:sw_tokyu3800_old_panto_placer_main_1;
    1:sw_tokyu3800_old_panto_placer_main_2;
}

switch(FEAT_TRAINS, SELF, sw_tokyu3800_old_end_gfx, position_in_vehid_chain_from_end){
    0:tokyu3800_old_end_mot;
    sw_tokyu3800_old_panto_placer_main;
}

switch(FEAT_TRAINS, SELF, sw_tokyu3800_old_livery_1,vehicle_type_id){
    mu_car_narrow:sw_tokyu3800_old_end_gfx;
    tokyu3800_old_front_mot;
}




switch(FEAT_TRAINS, SELF, sw_tokyu3800_old_1_panto_placer,1+position_in_vehid_chain %4){
    2: tokyu3800_old_1_end_mot;
    3: tokyu3800_old_1_end_mot_rev;
    tokyu3800_old_1_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu3800_old_1_panto_placer_rev,position_in_vehid_chain_from_end %4){
    2: tokyu3800_old_1_end_mot_rev;
    3: tokyu3800_old_1_end_mot;
    tokyu3800_old_1_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu3800_old_1_panto_placer_main,vehicle_is_reversed){
    1: sw_tokyu3800_old_1_panto_placer_rev;
    sw_tokyu3800_old_1_panto_placer;
}

switch(FEAT_TRAINS, SELF, sw_tokyu3800_old_1_end_gfx, position_in_vehid_chain_from_end){
    0:tokyu3800_old_1_end_mot;
    sw_tokyu3800_old_1_panto_placer_main;
}

switch(FEAT_TRAINS, SELF, sw_tokyu3800_old_livery_2,vehicle_type_id){
    mu_car_narrow:sw_tokyu3800_old_1_end_gfx;
    tokyu3800_old_1_front_mot;
}



switch(FEAT_TRAINS, PARENT, sw_tokyu3800_old_2_wag_gfx, vehicle_is_reversed){
    1:tokyu3800_old_2_end_rev;
    tokyu3800_old_2_end;
}


switch(FEAT_TRAINS, SELF, sw_tokyu3800_old_2_panto_placer,position_in_vehid_chain %2){
    0: tokyu3800_old_2_end_mot_rev;
    sw_tokyu3800_old_2_wag_gfx;
}
switch(FEAT_TRAINS, SELF, sw_tokyu3800_old_2_panto_placer_rev,1-position_in_vehid_chain_from_end %2){
    0: tokyu3800_old_2_end_mot;
    sw_tokyu3800_old_2_wag_gfx;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu3800_old_2_panto_placer_main_1,vehicle_is_reversed){
    1: sw_tokyu3800_old_2_panto_placer_rev;
    sw_tokyu3800_old_2_panto_placer;
}

switch(FEAT_TRAINS, SELF, sw_tokyu3800_old_2_panto_placer_1,1+position_in_vehid_chain %2){
    1: tokyu3800_old_2_end_mot_rev;
    sw_tokyu3800_old_2_wag_gfx;
}
switch(FEAT_TRAINS, SELF, sw_tokyu3800_old_2_panto_placer_1_rev,position_in_vehid_chain_from_end %2){
    1: tokyu3800_old_2_end_mot;
    sw_tokyu3800_old_2_wag_gfx;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu3800_old_2_panto_placer_main_2,vehicle_is_reversed){
    1: sw_tokyu3800_old_2_panto_placer_1_rev;
    sw_tokyu3800_old_2_panto_placer_1;
}

random_switch(FEAT_TRAINS, PARENT, sw_tokyu3800_old_2_panto_placer_main){
    1:sw_tokyu3800_old_2_panto_placer_main_1;
    1:sw_tokyu3800_old_2_panto_placer_main_2;
}

switch(FEAT_TRAINS, SELF, sw_tokyu3800_old_2_end_gfx, position_in_vehid_chain_from_end){
    0:tokyu3800_old_2_end_mot;
    sw_tokyu3800_old_2_panto_placer_main;
}

switch(FEAT_TRAINS, SELF, sw_tokyu3800_old_livery_3,vehicle_type_id){
    mu_car_narrow:sw_tokyu3800_old_2_end_gfx;
    tokyu3800_old_2_front_mot;
}

random_switch(FEAT_TRAINS, PARENT, sw_tokyu3800_old_livery_0_new){
    2:sw_tokyu3800_old_livery_2;
    1:sw_tokyu3800_old_livery_3;
}
switch(FEAT_TRAINS, SELF, sw_tokyu3800_old_livery_0, current_year){
    0..1977:sw_tokyu3800_old_livery_1;
    sw_tokyu3800_old_livery_0_new;
}

switch(FEAT_TRAINS, PARENT, sw_tokyu3800_old_lv, cargo_subtype){
    0:sw_tokyu3800_old_livery_0;
    1:sw_tokyu3800_old_livery_1;
    2:sw_tokyu3800_old_livery_2;
    3:sw_tokyu3800_old_livery_3;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu3800_lv_0_desc, cargo_subtype){
    0:string(LV_RANDOM);
    1:string(LV_OLD);
}

switch(FEAT_TRAINS, PARENT, sw_tokyu3800_lv_1_desc, cargo_subtype){
    0:string(LV_RANDOM);
    1:string(LV_OLD);
    2:string(LV_MODERN);
    3:string(LV_tokyu3500_lv_3);
}
switch(FEAT_TRAINS, SELF, sw_tokyu3800_old_lv_desc, current_year){
    0..1977:sw_tokyu3800_lv_0_desc;
    sw_tokyu3800_lv_1_desc;
}

item(FEAT_TRAINS, tokyu3800_old,2004) {
    property {
        cargo_capacity: 130;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
        variant_group:2002;

        climates_available: param_disable_tokyu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        name: string(STR_TRAIN_NAME, string(STR_NAME_TOKYU), string(STR_NAME_DEHA, "3700/3800"), string(STR_NAME_TYPE));
        introduction_date: date(1948, 1, 1);
        model_life: 20;
        vehicle_life: 41;
        reliability_decay: 10;

        cost_factor: 15;
        running_cost_factor: 46;
        speed: 90 km/h;
        track_type: TR_1067_DC;
        power: 300 kW;
        weight: 33 ton;
        loading_speed: param_loading_3D;
    }
 graphics {
        default: sw_tokyu3800_old_lv;
        purchase: tokyu3800_old_purchase;
        cargo_subtype_text:sw_tokyu3800_old_lv_desc;
        start_stop: sw_stop_start_2;

        cargo_capacity: 110*param_capacity_mod/3;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_RANGE, 2,5)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_TOKYU)));
 }
    livery_override(mu_car_narrow){
        loading_speed: param_loading_3D;
        cargo_capacity: 110*param_capacity_mod/3;
        default: sw_tokyu3800_old_lv;
        power: 300*1342/1000;
        weight: 33;
      }
}
# 10 "src/_private.pnml" 2
# 1 "src/private/Kanto/tokyu/tokyu5000_old.pnml" 1

  spriteset(tokyu5000_old_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000_old/old5000.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(tokyu5000_old_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000_old/old5000.png"){ tmpl_purchase_2c(0, 75) }
  switch(FEAT_TRAINS, SELF, tokyu5000_old_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_tokyu; 1: tokyu5000_old_purchase_c1; 2: tokyu5000_old_purchase_c2;}

spriteset(tokyu5000_old_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000_old/old5000.png"){ tmpl_std(0, 0) }
spriteset(tokyu5000_old_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000_old/old5000.png"){ tmpl_std_rev(0, 25) }
spriteset(tokyu5000_old_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000_old/old5000.png"){ tmpl_std(0, 50) }
spriteset(tokyu5000_old_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000_old/old5000.png"){ tmpl_std_rev(0, 50) }
spriteset(tokyu5000_old_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000_old/old5000.png"){ tmpl_symm(0, 75) }
spriteset(tokyu5000_old_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000_old/old5000.png"){ tmpl_std(0, 25) }
spriteset(tokyu5000_old_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000_old/old5000.png"){ tmpl_std_rev(0, 25) }




switch(FEAT_TRAINS, SELF, sw_tokyu5000_old_panto_placer,position_in_vehid_chain %3){
    0: tokyu5000_old_mot;
    tokyu5000_old_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5000_old_panto_placer_rev,1-position_in_vehid_chain_from_end %3){
    0: tokyu5000_old_mot_rev;
    tokyu5000_old_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu5000_old_panto_placer_main_1,vehicle_is_reversed){
    1: sw_tokyu5000_old_panto_placer_rev;
    sw_tokyu5000_old_panto_placer;
}

switch(FEAT_TRAINS, SELF, sw_tokyu5000_old_1_panto_placer,1+position_in_vehid_chain %5){
    2: tokyu5000_old_mot;
    tokyu5000_old_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5000_old_1_panto_placer_rev,position_in_vehid_chain_from_end %5){
    2: tokyu5000_old_mot_rev;
    tokyu5000_old_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu5000_old_panto_placer_main_2,vehicle_is_reversed){
    1: sw_tokyu5000_old_1_panto_placer_rev;
    sw_tokyu5000_old_1_panto_placer;
}

switch(FEAT_TRAINS, SELF, sw_tokyu5000_old_panto_placer_main,num_vehs_in_vehid_chain+1){
5..6:sw_tokyu5000_old_panto_placer_main_2;
sw_tokyu5000_old_panto_placer_main_1;
}


switch(FEAT_TRAINS, SELF, sw_tokyu5000_old_fake_placer,position_in_vehid_chain+1){
    3: tokyu5000_old_end_f;
    4: tokyu5000_old_front_f;
sw_tokyu5000_old_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5000_old_fake_placer_rev,position_in_vehid_chain_from_end){
    3: tokyu5000_old_front_f;
    4: tokyu5000_old_end_f;
sw_tokyu5000_old_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu5000_old_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tokyu5000_old_fake_placer_rev;
    sw_tokyu5000_old_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5000_old_fake_placer_main,num_vehs_in_vehid_chain>6){
    1: sw_tokyu5000_old_fake_placer_gfx;
sw_tokyu5000_old_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tokyu5000_old_end_gfx_main,position_in_vehid_chain_from_end){
    0: tokyu5000_old_end;
    default: sw_tokyu5000_old_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5000_old_front_gfx_main,position_in_vehid_chain_from_end){
    0: tokyu5000_old_front;
    default: sw_tokyu5000_old_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5000_old_livery_0,vehicle_type_id){
    mu_car_narrow:sw_tokyu5000_old_end_gfx_main;
    mu_car:sw_tokyu5000_old_end_gfx_main;
    sw_tokyu5000_old_front_gfx_main;
}


switch(FEAT_TRAINS, SELF, sw_tokyu5000_old_capacity,position_in_vehid_chain_from_end){
    0: 150*param_capacity_mod/3;
    default: 140*param_capacity_mod/3;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5000_old_capacity_1,position_in_vehid_chain){
    0: 150*param_capacity_mod/3;
    default: sw_tokyu5000_old_capacity;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5000_old_capacity_main,vehicle_type_id){
    mu_car_narrow:sw_tokyu5000_old_capacity;
    mu_car:sw_tokyu5000_old_capacity;
    sw_tokyu5000_old_capacity_1;
}


switch(FEAT_TRAINS, SELF, tokyu5000_old_attach_vehid, vehicle_type_id) {
  mu_car: return string(STR_ATTACH_1067_ERROR);
  mu_car_metro: return string(STR_ATTACH_1067_ERROR);
  return CB_RESULT_ATTACH_ALLOW;
}

item(FEAT_TRAINS, tokyu5000_old,2005) {
    property {
        cargo_capacity: 130;
        climates_available: param_disable_tokyu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        name: string(STR_TRAIN_NAME, string(STR_NAME_TOKYU), "5000", string(STR_NAME_SERIES));
        introduction_date: date(1954, 1, 1);
        model_life: 32;
        vehicle_life: 32;
        reliability_decay: 10;

        cost_factor: 18;
        running_cost_factor: 48;
        speed: 100 km/h;
        track_type: TR_1067_DC;
        power: 440 kW;
        weight: 23 ton;
        loading_speed: param_loading_3D;
    }
 graphics {
        default: sw_tokyu5000_old_livery_0;
        purchase: tokyu5000_old_purchase;
        can_attach_wagon: tokyu5000_old_attach_vehid;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_RANGE, 3,6)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_TOKYU)));

  start_stop: sw_stop_start_2;
        cargo_capacity: sw_tokyu5000_old_capacity_main;
    }
    livery_override(mu_car_narrow){
        loading_speed: param_loading_3D;
        cargo_capacity: sw_tokyu5000_old_capacity_main;
        default: sw_tokyu5000_old_livery_0;
        power: 590/2;
        weight: 23;
        length: 8;
      }
}
# 11 "src/_private.pnml" 2
# 1 "src/private/Kanto/tokyu/tokyu5200_old.pnml" 1

  spriteset(tokyu5200_old_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000_old/old5200.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(tokyu5200_old_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000_old/old5200.png"){ tmpl_purchase_2c(0, 75) }
  switch(FEAT_TRAINS, SELF, tokyu5200_old_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_tokyu; 1: tokyu5200_old_purchase_c1; 2: tokyu5200_old_purchase_c2;}

spriteset(tokyu5200_old_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000_old/old5200.png"){ tmpl_std(0, 0) }
spriteset(tokyu5200_old_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000_old/old5200.png"){ tmpl_std_rev(0, 25) }
spriteset(tokyu5200_old_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000_old/old5200.png"){ tmpl_std(0, 50) }
spriteset(tokyu5200_old_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000_old/old5200.png"){ tmpl_std_rev(0, 50) }
spriteset(tokyu5200_old_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000_old/old5200.png"){ tmpl_symm(0, 75) }
spriteset(tokyu5200_old_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000_old/old5200.png"){ tmpl_std(0, 25) }
spriteset(tokyu5200_old_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000_old/old5200.png"){ tmpl_std_rev(0, 25) }




switch(FEAT_TRAINS, SELF, sw_tokyu5200_old_panto_placer,position_in_vehid_chain %3){
    0: tokyu5200_old_mot;
    tokyu5200_old_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5200_old_panto_placer_rev,1-position_in_vehid_chain_from_end %3){
    0: tokyu5200_old_mot_rev;
    tokyu5200_old_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu5200_old_panto_placer_main_1,vehicle_is_reversed){
    1: sw_tokyu5200_old_panto_placer_rev;
    sw_tokyu5200_old_panto_placer;
}

switch(FEAT_TRAINS, SELF, sw_tokyu5200_old_1_panto_placer,1+position_in_vehid_chain %5){
    2: tokyu5200_old_mot;
    tokyu5200_old_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5200_old_1_panto_placer_rev,position_in_vehid_chain_from_end %5){
    2: tokyu5200_old_mot_rev;
    tokyu5200_old_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu5200_old_panto_placer_main_2,vehicle_is_reversed){
    1: sw_tokyu5200_old_1_panto_placer_rev;
    sw_tokyu5200_old_1_panto_placer;
}

switch(FEAT_TRAINS, SELF, sw_tokyu5200_old_panto_placer_main,num_vehs_in_vehid_chain+1){
5..6:sw_tokyu5200_old_panto_placer_main_2;
sw_tokyu5200_old_panto_placer_main_1;
}


switch(FEAT_TRAINS, SELF, sw_tokyu5200_old_fake_placer,1+position_in_vehid_chain){
    3: tokyu5200_old_end_f;
    4: tokyu5200_old_front_f;
sw_tokyu5200_old_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5200_old_fake_placer_rev,position_in_vehid_chain_from_end){
    3: tokyu5200_old_front_f;
    4: tokyu5200_old_end_f;
sw_tokyu5200_old_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu5200_old_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tokyu5200_old_fake_placer_rev;
    sw_tokyu5200_old_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5200_old_fake_placer_main,num_vehs_in_vehid_chain>6){
    1: sw_tokyu5200_old_fake_placer_gfx;
sw_tokyu5200_old_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tokyu5200_old_livery_1,position_in_vehid_chain_from_end){
    0: tokyu5200_old_end;
    default: sw_tokyu5200_old_fake_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tokyu5200_old_capacity,position_in_vehid_chain_from_end){
    0: 140*param_capacity_mod/3;
    default: 130*param_capacity_mod/3;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5200_old_capacity_1,position_in_vehid_chain){
    0: 140*param_capacity_mod/3;
    default: sw_tokyu5200_old_capacity;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5200_old_capacity_main,vehicle_type_id){
    mu_car_narrow:sw_tokyu5200_old_capacity;
    sw_tokyu5200_old_capacity_1;
}


switch(FEAT_TRAINS, SELF, tokyu5200_old_attach_vehid, vehicle_type_id) {
  mu_car: return string(STR_ATTACH_1067_ERROR);
  mu_car_metro: return string(STR_ATTACH_1067_ERROR);
  return CB_RESULT_ATTACH_ALLOW;
}

item(FEAT_TRAINS, tokyu5200_old,2006) {
    property {
        cargo_capacity: 130;
        climates_available: param_disable_tokyu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        name: string(STR_TRAIN_NAME, string(STR_NAME_TOKYU), "5200", string(STR_NAME_SERIES));
        introduction_date: date(1958, 1, 1);
        model_life: 32;
        vehicle_life: 32;
        reliability_decay: 10;
        variant_group: 2005;

        cost_factor: 18;
        running_cost_factor: 47;
        speed: 100 km/h;
        track_type: TR_1067_DC;
        power: 440 kW;
        weight: 27 ton;
        loading_speed: param_loading_3D;
    }
 graphics {
        default: tokyu5200_old_front;
        purchase: tokyu5200_old_purchase;
        can_attach_wagon: tokyu5200_old_attach_vehid;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_RANGE, 3,5)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_TOKYU)));

  start_stop: sw_stop_start_2;
        cargo_capacity: sw_tokyu5200_old_capacity_main;
    }
    livery_override(mu_car_narrow){
        loading_speed: param_loading_3D;
        cargo_capacity: sw_tokyu5200_old_capacity_main;
        default: sw_tokyu5200_old_livery_1;
        power: 590/2;
        weight: 26;
        length: 8;
      }
}
# 12 "src/_private.pnml" 2
# 1 "src/private/Kanto/tokyu/tokyu6000_old.pnml" 1

  spriteset(tokyu6000_old_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu6000_old/old6000.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(tokyu6000_old_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu6000_old/old6000.png"){ tmpl_purchase_2c(0, 75) }
  switch(FEAT_TRAINS, SELF, tokyu6000_old_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_tokyu; 1: tokyu6000_old_purchase_c1; 2: tokyu6000_old_purchase_c2;}

spriteset(tokyu6000_old_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu6000_old/old6000.png"){ tmpl_std(0, 100) }
spriteset(tokyu6000_old_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu6000_old/old6000.png"){ tmpl_std_rev(0, 125) }
spriteset(tokyu6000_old_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu6000_old/old6000.png"){ tmpl_std(0, 50) }
spriteset(tokyu6000_old_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu6000_old/old6000.png"){ tmpl_std_rev(0, 50) }
spriteset(tokyu6000_old_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu6000_old/old6000.png"){ tmpl_symm(0, 75) }
spriteset(tokyu6000_old_front_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu6000_old/old6000.png"){ tmpl_std(0, 0) }
spriteset(tokyu6000_old_end_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu6000_old/old6000.png"){ tmpl_std_rev(0, 25) }
spriteset(tokyu6000_old_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu6000_old/old6000.png"){ tmpl_std(0, 125) }
spriteset(tokyu6000_old_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu6000_old/old6000.png"){ tmpl_std_rev(0, 125) }




switch(FEAT_TRAINS, PARENT, sw_tokyu6000_old_front_gfx,vehicle_is_reversed){
    1: tokyu6000_old_front;
    tokyu6000_old_front_1;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu6000_old_end_gfx,vehicle_is_reversed){
    1: tokyu6000_old_end_1;
    tokyu6000_old_end;
}



switch(FEAT_TRAINS, SELF, sw_tokyu6000_old_panto_placer,position_in_vehid_chain %2){
    1: tokyu6000_old_mot;
    tokyu6000_old_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu6000_old_panto_placer_rev,1-position_in_vehid_chain_from_end %2){
    1: tokyu6000_old_mot_rev;
    tokyu6000_old_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu6000_old_panto_placer_main_1,vehicle_is_reversed){
    1:sw_tokyu6000_old_panto_placer_rev;
    sw_tokyu6000_old_panto_placer;
}


switch(FEAT_TRAINS, SELF, sw_tokyu6000_old_fake_placer,position_in_vehid_chain +1){
    5: tokyu6000_old_end_f;
    6: tokyu6000_old_front_f;
sw_tokyu6000_old_panto_placer_main_1;
}
switch(FEAT_TRAINS, SELF, sw_tokyu6000_old_fake_placer_rev,position_in_vehid_chain_from_end ){
    5: tokyu6000_old_front_f;
    6: tokyu6000_old_end_f;
sw_tokyu6000_old_panto_placer_main_1;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu6000_old_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tokyu6000_old_fake_placer_rev;
    sw_tokyu6000_old_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tokyu6000_old_fake_placer_main,num_vehs_in_vehid_chain>8){
    1: sw_tokyu6000_old_fake_placer_gfx;
sw_tokyu6000_old_panto_placer_main_1;
}


switch(FEAT_TRAINS, SELF, sw_tokyu6000_old_end_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tokyu6000_old_end_gfx;
    default: sw_tokyu6000_old_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu6000_old_front_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tokyu6000_old_front_gfx;
    default: sw_tokyu6000_old_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu6000_old_livery_0,vehicle_type_id){
    mu_car_narrow:sw_tokyu6000_old_end_gfx_main;
    mu_car:sw_tokyu6000_old_end_gfx_main;
    sw_tokyu6000_old_front_gfx_main;
}


switch(FEAT_TRAINS, SELF, sw_tokyu6000_old_capacity,position_in_vehid_chain_from_end){
    0: 135*param_capacity_mod/3;
    default: 150*param_capacity_mod/3;
}
switch(FEAT_TRAINS, SELF, sw_tokyu6000_old_capacity_1,position_in_vehid_chain){
    0: 135*param_capacity_mod/3;
    default: sw_tokyu6000_old_capacity;
}
switch(FEAT_TRAINS, SELF, sw_tokyu6000_old_capacity_main,vehicle_type_id){
    mu_car_narrow:sw_tokyu6000_old_capacity;
    mu_car:sw_tokyu6000_old_capacity;
    sw_tokyu6000_old_capacity_1;
}


switch(FEAT_TRAINS, SELF, tokyu6000_old_attach_vehid, vehicle_type_id) {
  mu_car: return string(STR_ATTACH_1067_ERROR);
  mu_car_metro: return string(STR_ATTACH_1067_ERROR);
  return CB_RESULT_ATTACH_ALLOW;
}

item(FEAT_TRAINS, tokyu6000_old,2007) {
    property {
        cargo_capacity: 130;
        climates_available: param_disable_tokyu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        name: string(STR_TRAIN_NAME, string(STR_NAME_TOKYU), "6000", string(STR_NAME_SERIES));
        introduction_date: date(1960, 1, 1);
        model_life: 29;
        vehicle_life: 29;
        reliability_decay: 10;

        cost_factor: 21;
        running_cost_factor: 51;
        speed: 100 km/h;
        track_type: TR_1067_DC;
        power: 400 kW;
        weight: 28 ton;
        loading_speed: param_loading_3D;
    }
 graphics {
        default: sw_tokyu6000_old_livery_0;
        purchase: tokyu6000_old_purchase;
        can_attach_wagon: tokyu6000_old_attach_vehid;
        start_stop: sw_stop_start_2;
        cargo_capacity: sw_tokyu6000_old_capacity_main;

        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_4, 2,4,6,8)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_TOKYU)));
    }
    livery_override(mu_car_narrow){
        loading_speed: param_loading_3D;
        cargo_capacity: sw_tokyu6000_old_capacity_main;
        default: sw_tokyu6000_old_livery_0;
        power: 536;
        weight: 28;
      }
}
# 13 "src/_private.pnml" 2
# 1 "src/private/Kanto/tokyu/tokyu7000_old.pnml" 1

  spriteset(tokyu7000_old_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7000.png"){ tmpl_purchase_1c(0, 100) }
  spriteset(tokyu7000_old_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7000.png"){ tmpl_purchase_2c(0, 75) }
  switch(FEAT_TRAINS, SELF, tokyu7000_old_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_tokyu; 1: tokyu7000_old_purchase_c1; 2: tokyu7000_old_purchase_c2;}

spriteset(tokyu7000_old_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7000.png"){ tmpl_std(0, 100) }
spriteset(tokyu7000_old_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7000.png"){ tmpl_std_rev(0, 125) }
spriteset(tokyu7000_old_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7000.png"){ tmpl_std(0, 50) }
spriteset(tokyu7000_old_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7000.png"){ tmpl_std_rev(0, 50) }
spriteset(tokyu7000_old_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7000.png"){ tmpl_symm(0, 75) }
spriteset(tokyu7000_old_front_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7000.png"){ tmpl_std(0, 0) }
spriteset(tokyu7000_old_end_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7000.png"){ tmpl_std_rev(0, 25) }
spriteset(tokyu7000_old_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7000.png"){ tmpl_std(0, 125) }
spriteset(tokyu7000_old_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7000.png"){ tmpl_std_rev(0, 125) }

spriteset(tokyu7000_old_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7000_ac.png"){ tmpl_std(0, 100) }
spriteset(tokyu7000_old_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7000_ac.png"){ tmpl_std_rev(0, 125) }
spriteset(tokyu7000_old_1_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7000_ac.png"){ tmpl_std(0, 50) }
spriteset(tokyu7000_old_1_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7000_ac.png"){ tmpl_std_rev(0, 50) }
spriteset(tokyu7000_old_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7000_ac.png"){ tmpl_symm(0, 75) }
spriteset(tokyu7000_old_1_front_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7000_ac.png"){ tmpl_std(0, 0) }
spriteset(tokyu7000_old_1_end_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7000_ac.png"){ tmpl_std_rev(0, 25) }
spriteset(tokyu7000_old_1_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7000_ac.png"){ tmpl_std(0, 125) }
spriteset(tokyu7000_old_1_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7000_ac.png"){ tmpl_std_rev(0, 125) }




switch(FEAT_TRAINS, PARENT, sw_tokyu7000_old_front_gfx,vehicle_is_reversed){
    1: tokyu7000_old_front;
    tokyu7000_old_front_1;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu7000_old_end_gfx,vehicle_is_reversed){
    1: tokyu7000_old_end_1;
    tokyu7000_old_end;
}



switch(FEAT_TRAINS, SELF, sw_tokyu7000_old_panto_placer,position_in_vehid_chain %2){
    0: tokyu7000_old_mot;
    tokyu7000_old_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu7000_old_panto_placer_rev,1-position_in_vehid_chain_from_end %2){
    0: tokyu7000_old_mot_rev;
    tokyu7000_old_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu7000_old_panto_placer_main_1,vehicle_is_reversed){
    1: sw_tokyu7000_old_panto_placer_rev;
    sw_tokyu7000_old_panto_placer;
}


switch(FEAT_TRAINS, SELF, sw_tokyu7000_old_fake_placer,position_in_vehid_chain +1){
    3: tokyu7000_old_end_f;
    4: tokyu7000_old_front_f;
sw_tokyu7000_old_panto_placer_main_1;
}
switch(FEAT_TRAINS, SELF, sw_tokyu7000_old_fake_placer_rev,position_in_vehid_chain_from_end){
    3: tokyu7000_old_front_f;
    4: tokyu7000_old_end_f;
sw_tokyu7000_old_panto_placer_main_1;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu7000_old_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tokyu7000_old_fake_placer_rev;
    sw_tokyu7000_old_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tokyu7000_old_fake_placer_main,num_vehs_in_vehid_chain>7){
    1: sw_tokyu7000_old_fake_placer_gfx;
sw_tokyu7000_old_panto_placer_main_1;
}


switch(FEAT_TRAINS, SELF, sw_tokyu7000_old_end_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tokyu7000_old_end_gfx;
    default: sw_tokyu7000_old_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu7000_old_front_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tokyu7000_old_front_gfx;
    default: sw_tokyu7000_old_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu7000_old_livery_1,vehicle_type_id){
    mu_car_narrow:sw_tokyu7000_old_end_gfx_main;
    mu_car:sw_tokyu7000_old_end_gfx_main;
    sw_tokyu7000_old_front_gfx_main;
}




switch(FEAT_TRAINS, PARENT, sw_tokyu7000_old_1_front_gfx,vehicle_is_reversed){
    1: tokyu7000_old_1_front;
    tokyu7000_old_1_front_1;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu7000_old_1_end_gfx,vehicle_is_reversed){
    1: tokyu7000_old_1_end_1;
    tokyu7000_old_1_end;
}




switch(FEAT_TRAINS, SELF, sw_tokyu7000_old_1_panto_placer,position_in_vehid_chain %2){
    1: tokyu7000_old_1_mot;
    tokyu7000_old_1_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu7000_old_1_panto_placer_rev,1-position_in_vehid_chain_from_end %2){
    1: tokyu7000_old_1_mot_rev;
    tokyu7000_old_1_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu7000_old_1_panto_placer_main_1,vehicle_is_reversed){
    1: sw_tokyu7000_old_1_panto_placer_rev;
    sw_tokyu7000_old_1_panto_placer;
}


switch(FEAT_TRAINS, SELF, sw_tokyu7000_old_1_fake_placer,position_in_vehid_chain+1){
    3: tokyu7000_old_1_end_f;
    4: tokyu7000_old_1_front_f;
sw_tokyu7000_old_1_panto_placer_main_1;
}
switch(FEAT_TRAINS, SELF, sw_tokyu7000_old_1_fake_placer_rev,position_in_vehid_chain_from_end){
    3: tokyu7000_old_1_front_f;
    4: tokyu7000_old_1_end_f;
sw_tokyu7000_old_1_panto_placer_main_1;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu7000_old_1_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tokyu7000_old_1_fake_placer_rev;
    sw_tokyu7000_old_1_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tokyu7000_old_1_fake_placer_main,num_vehs_in_vehid_chain>7){
    1: sw_tokyu7000_old_1_fake_placer_gfx;
sw_tokyu7000_old_1_panto_placer_main_1;
}


switch(FEAT_TRAINS, SELF, sw_tokyu7000_old_1_end_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tokyu7000_old_1_end_gfx;
    default: sw_tokyu7000_old_1_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu7000_old_1_front_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tokyu7000_old_1_front_gfx;
    default: sw_tokyu7000_old_1_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu7000_old_livery_2,vehicle_type_id){
    mu_car_narrow:sw_tokyu7000_old_1_end_gfx_main;
    sw_tokyu7000_old_1_front_gfx_main;
}


switch(FEAT_TRAINS, PARENT, sw_tokyu7000_old_livery_0, current_year > 1984){
    1:sw_tokyu7000_old_livery_2;
    sw_tokyu7000_old_livery_1;
}


switch(FEAT_TRAINS, SELF, sw_tokyu7000_old_capacity,position_in_vehid_chain_from_end){
    0: 140*param_capacity_mod/3;
    default: 150*param_capacity_mod/3;
}
switch(FEAT_TRAINS, SELF, sw_tokyu7000_old_capacity_1,position_in_vehid_chain){
    0: 140*param_capacity_mod/3;
    default: sw_tokyu7000_old_capacity;
}
switch(FEAT_TRAINS, SELF, sw_tokyu7000_old_capacity_main,vehicle_type_id){
    mu_car_narrow:sw_tokyu7000_old_capacity;
    mu_car:sw_tokyu7000_old_capacity;
    sw_tokyu7000_old_capacity_1;
}


switch(FEAT_TRAINS, SELF, tokyu7000_old_attach_vehid, vehicle_type_id) {
  mu_car: return string(STR_ATTACH_1067_ERROR);
  mu_car_metro: return string(STR_ATTACH_1067_ERROR);
  return CB_RESULT_ATTACH_ALLOW;
}

item(FEAT_TRAINS, tokyu7000_old,2008) {
    property {
        cargo_capacity: 130;
        climates_available: param_disable_tokyu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        name: string(STR_TRAIN_NAME, string(STR_NAME_TOKYU), "7000", string(STR_NAME_SERIES));
        introduction_date: date(1962, 1, 1);
        model_life: 38;
        vehicle_life: 38;
        reliability_decay: 10;

        cost_factor: 19;
        running_cost_factor: 49;
        speed: 100 km/h;
        track_type: TR_1067_DC;
        power: 280 kW;
        weight: 28 ton;
        loading_speed: param_loading_3D;
    }
 graphics {
        default: sw_tokyu7000_old_livery_0;
        purchase: tokyu7000_old_purchase;
        can_attach_wagon: tokyu7000_old_attach_vehid;
        start_stop: sw_stop_start_2;
        cargo_capacity: sw_tokyu7000_old_capacity_main;

        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_4, 2,4,6,8)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_TOKYU)));
    }
    livery_override(mu_car_narrow){
        loading_speed: param_loading_3D;
        cargo_capacity: sw_tokyu7000_old_capacity_main;
        default: sw_tokyu7000_old_livery_0;
        power: 375;
        weight: 27;
      }
}
# 14 "src/_private.pnml" 2
# 1 "src/private/Kanto/tokyu/tokyu7200_old.pnml" 1

  spriteset(tokyu7200_old_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7200.png"){ tmpl_purchase_1c(0, 100) }
  spriteset(tokyu7200_old_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7200.png"){ tmpl_purchase_2c(0, 75) }
  switch(FEAT_TRAINS, SELF, tokyu7200_old_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_tokyu; 1: tokyu7200_old_purchase_c1; 2: tokyu7200_old_purchase_c2;}

spriteset(tokyu7200_old_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7200.png"){ tmpl_std(0, 0) }
spriteset(tokyu7200_old_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7200.png"){ tmpl_std_rev(0, 25) }
spriteset(tokyu7200_old_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7200.png"){ tmpl_std(0, 50) }
spriteset(tokyu7200_old_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7200.png"){ tmpl_std_rev(0, 50) }
spriteset(tokyu7200_old_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7200.png"){ tmpl_symm(0, 75) }
spriteset(tokyu7200_old_front_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7200.png"){ tmpl_std(0, 100) }
spriteset(tokyu7200_old_end_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7200.png"){ tmpl_std_rev(0, 125) }
spriteset(tokyu7200_old_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7200.png"){ tmpl_std(0, 25) }
spriteset(tokyu7200_old_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7200.png"){ tmpl_std_rev(0, 25) }

spriteset(tokyu7200_old_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7200_ac.png"){ tmpl_std(0, 0) }
spriteset(tokyu7200_old_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7200_ac.png"){ tmpl_std_rev(0, 25) }
spriteset(tokyu7200_old_1_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7200_ac.png"){ tmpl_std(0, 50) }
spriteset(tokyu7200_old_1_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7200_ac.png"){ tmpl_std_rev(0, 50) }
spriteset(tokyu7200_old_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7200_ac.png"){ tmpl_symm(0, 75) }
spriteset(tokyu7200_old_1_front_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7200_ac.png"){ tmpl_std(0, 100) }
spriteset(tokyu7200_old_1_end_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7200_ac.png"){ tmpl_std_rev(0, 125) }
spriteset(tokyu7200_old_1_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7200_ac.png"){ tmpl_std(0, 25) }
spriteset(tokyu7200_old_1_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7200_ac.png"){ tmpl_std_rev(0, 25) }


spriteset(tokyu7200_old_2_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7200_al.png"){ tmpl_std(0, 0) }
spriteset(tokyu7200_old_2_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7200_al.png"){ tmpl_std_rev(0, 25) }
spriteset(tokyu7200_old_2_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7200_al.png"){ tmpl_std(0, 50) }
spriteset(tokyu7200_old_2_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7200_al.png"){ tmpl_std_rev(0, 50) }
spriteset(tokyu7200_old_2_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7200_al.png"){ tmpl_symm(0, 75) }
spriteset(tokyu7200_old_2_front_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7200_al.png"){ tmpl_std(0, 100) }
spriteset(tokyu7200_old_2_end_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7200_al.png"){ tmpl_std_rev(0, 125) }
spriteset(tokyu7200_old_2_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7200_al.png"){ tmpl_std(0, 25) }
spriteset(tokyu7200_old_2_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7200_al.png"){ tmpl_std_rev(0, 25) }


spriteset(tokyu7200_old_3_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7200_al_ac.png"){ tmpl_std(0, 0) }
spriteset(tokyu7200_old_3_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7200_al_ac.png"){ tmpl_std_rev(0, 25) }
spriteset(tokyu7200_old_3_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7200_al_ac.png"){ tmpl_std(0, 50) }
spriteset(tokyu7200_old_3_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7200_al_ac.png"){ tmpl_std_rev(0, 50) }
spriteset(tokyu7200_old_3_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7200_al_ac.png"){ tmpl_symm(0, 75) }
spriteset(tokyu7200_old_3_front_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7200_al_ac.png"){ tmpl_std(0, 100) }
spriteset(tokyu7200_old_3_end_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7200_al_ac.png"){ tmpl_std_rev(0, 125) }
spriteset(tokyu7200_old_3_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7200_al_ac.png"){ tmpl_std(0, 25) }
spriteset(tokyu7200_old_3_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7200_al_ac.png"){ tmpl_std_rev(0, 25) }




switch(FEAT_TRAINS, PARENT, sw_tokyu7200_old_front_gfx,vehicle_is_reversed){
    1: tokyu7200_old_front;
    tokyu7200_old_front_1;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu7200_old_end_gfx,vehicle_is_reversed){
    1: tokyu7200_old_end_1;
    tokyu7200_old_end;
}



switch(FEAT_TRAINS, SELF, sw_tokyu7200_old_panto_placer,position_in_vehid_chain %2){
    1: tokyu7200_old_mot;
    tokyu7200_old_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu7200_old_panto_placer_rev,1-position_in_vehid_chain_from_end %2){
    1: tokyu7200_old_mot_rev;
    tokyu7200_old_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu7200_old_panto_placer_main_1,vehicle_is_reversed){
    1: sw_tokyu7200_old_panto_placer_rev;
    sw_tokyu7200_old_panto_placer;
}


switch(FEAT_TRAINS, SELF, sw_tokyu7200_old_fake_placer,position_in_vehid_chain+1){
    3: tokyu7200_old_end_f;
    4: tokyu7200_old_front_f;
sw_tokyu7200_old_panto_placer_main_1;
}
switch(FEAT_TRAINS, SELF, sw_tokyu7200_old_fake_placer_rev,position_in_vehid_chain_from_end){
    3: tokyu7200_old_front_f;
    4: tokyu7200_old_end_f;
sw_tokyu7200_old_panto_placer_main_1;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu7200_old_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tokyu7200_old_fake_placer_rev;
    sw_tokyu7200_old_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tokyu7200_old_fake_placer_main,num_vehs_in_vehid_chain>7){
    1: sw_tokyu7200_old_fake_placer_gfx;
sw_tokyu7200_old_panto_placer_main_1;
}


switch(FEAT_TRAINS, SELF, sw_tokyu7200_old_end_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tokyu7200_old_end_gfx;
    default: sw_tokyu7200_old_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu7200_old_front_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tokyu7200_old_front_gfx;
    default: sw_tokyu7200_old_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu7200_old_livery_1,vehicle_type_id){
    mu_car_narrow:sw_tokyu7200_old_end_gfx_main;
    mu_car:sw_tokyu7200_old_end_gfx_main;
    sw_tokyu7200_old_front_gfx_main;
}




switch(FEAT_TRAINS, PARENT, sw_tokyu7200_old_1_front_gfx,vehicle_is_reversed){
    1: tokyu7200_old_1_front;
    tokyu7200_old_1_front_1;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu7200_old_1_end_gfx,vehicle_is_reversed){
    1: tokyu7200_old_1_end_1;
    tokyu7200_old_1_end;
}



switch(FEAT_TRAINS, SELF, sw_tokyu7200_old_1_panto_placer,position_in_vehid_chain %2){
    1: tokyu7200_old_1_mot;
    tokyu7200_old_1_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu7200_old_1_panto_placer_rev,1-position_in_vehid_chain_from_end %2){
    1: tokyu7200_old_1_mot_rev;
    tokyu7200_old_1_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu7200_old_1_panto_placer_main_1,vehicle_is_reversed){
    1: sw_tokyu7200_old_1_panto_placer_rev;
    sw_tokyu7200_old_1_panto_placer;
}


switch(FEAT_TRAINS, SELF, sw_tokyu7200_old_1_fake_placer,position_in_vehid_chain+1){
    3: tokyu7200_old_1_end_f;
    4: tokyu7200_old_1_front_f;
sw_tokyu7200_old_1_panto_placer_main_1;
}
switch(FEAT_TRAINS, SELF, sw_tokyu7200_old_1_fake_placer_rev,position_in_vehid_chain_from_end){
    3: tokyu7200_old_1_front_f;
    4: tokyu7200_old_1_end_f;
sw_tokyu7200_old_1_panto_placer_main_1;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu7200_old_1_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tokyu7200_old_1_fake_placer_rev;
    sw_tokyu7200_old_1_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tokyu7200_old_1_fake_placer_main,num_vehs_in_vehid_chain>7){
    1: sw_tokyu7200_old_1_fake_placer_gfx;
sw_tokyu7200_old_1_panto_placer_main_1;
}


switch(FEAT_TRAINS, SELF, sw_tokyu7200_old_1_end_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tokyu7200_old_1_end_gfx;
    default: sw_tokyu7200_old_1_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu7200_old_1_front_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tokyu7200_old_1_front_gfx;
    default: sw_tokyu7200_old_1_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu7200_old_livery_2,vehicle_type_id){
    mu_car_narrow:sw_tokyu7200_old_1_end_gfx_main;
    mu_car:sw_tokyu7200_old_1_end_gfx_main;
    sw_tokyu7200_old_1_front_gfx_main;
}




switch(FEAT_TRAINS, PARENT, sw_tokyu7200_old_2_front_gfx,vehicle_is_reversed){
    1: tokyu7200_old_2_front;
    tokyu7200_old_2_front_1;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu7200_old_2_end_gfx,vehicle_is_reversed){
    1: tokyu7200_old_2_end_1;
    tokyu7200_old_2_end;
}



switch(FEAT_TRAINS, SELF, sw_tokyu7200_old_2_panto_placer,position_in_vehid_chain %2){
    1: tokyu7200_old_2_mot;
    tokyu7200_old_2_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu7200_old_2_panto_placer_rev,1-position_in_vehid_chain_from_end %2){
    1: tokyu7200_old_2_mot_rev;
    tokyu7200_old_2_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu7200_old_2_panto_placer_main_1,vehicle_is_reversed){
    1: sw_tokyu7200_old_2_panto_placer_rev;
    sw_tokyu7200_old_2_panto_placer;
}


switch(FEAT_TRAINS, SELF, sw_tokyu7200_old_2_fake_placer,1+position_in_vehid_chain){
    3: tokyu7200_old_2_end_f;
    4: tokyu7200_old_2_front_f;
sw_tokyu7200_old_2_panto_placer_main_1;
}
switch(FEAT_TRAINS, SELF, sw_tokyu7200_old_2_fake_placer_rev,position_in_vehid_chain_from_end){
    3: tokyu7200_old_2_front_f;
    4: tokyu7200_old_2_end_f;
sw_tokyu7200_old_2_panto_placer_main_1;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu7200_old_2_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tokyu7200_old_2_fake_placer_rev;
    sw_tokyu7200_old_2_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tokyu7200_old_2_fake_placer_main,num_vehs_in_vehid_chain>8){
    1: sw_tokyu7200_old_2_fake_placer_gfx;
sw_tokyu7200_old_2_panto_placer_main_1;
}


switch(FEAT_TRAINS, SELF, sw_tokyu7200_old_2_end_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tokyu7200_old_2_end_gfx;
    default: sw_tokyu7200_old_2_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu7200_old_2_front_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tokyu7200_old_2_front_gfx;
    default: sw_tokyu7200_old_2_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu7200_old_livery_3,vehicle_type_id){
    mu_car_narrow:sw_tokyu7200_old_2_end_gfx_main;
    mu_car:sw_tokyu7200_old_2_end_gfx_main;
    sw_tokyu7200_old_2_front_gfx_main;
}




switch(FEAT_TRAINS, PARENT, sw_tokyu7200_old_3_front_gfx,vehicle_is_reversed){
    1: tokyu7200_old_3_front;
    tokyu7200_old_3_front_1;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu7200_old_3_end_gfx,vehicle_is_reversed){
    1: tokyu7200_old_3_end_1;
    tokyu7200_old_3_end;
}



switch(FEAT_TRAINS, SELF, sw_tokyu7200_old_3_panto_placer,position_in_vehid_chain %2){
    1: tokyu7200_old_3_mot;
    tokyu7200_old_3_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu7200_old_3_panto_placer_rev,1-position_in_vehid_chain_from_end %2){
    1: tokyu7200_old_3_mot_rev;
    tokyu7200_old_3_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu7200_old_3_panto_placer_main_1,vehicle_is_reversed){
    1: sw_tokyu7200_old_3_panto_placer_rev;
    sw_tokyu7200_old_3_panto_placer;
}


switch(FEAT_TRAINS, SELF, sw_tokyu7200_old_3_fake_placer,1+position_in_vehid_chain){
    3: tokyu7200_old_3_end_f;
    4: tokyu7200_old_3_front_f;
sw_tokyu7200_old_3_panto_placer_main_1;
}
switch(FEAT_TRAINS, SELF, sw_tokyu7200_old_3_fake_placer_rev,position_in_vehid_chain_from_end){
    3: tokyu7200_old_3_front_f;
    4: tokyu7200_old_3_end_f;
sw_tokyu7200_old_3_panto_placer_main_1;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu7200_old_3_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tokyu7200_old_3_fake_placer_rev;
    sw_tokyu7200_old_3_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tokyu7200_old_3_fake_placer_main,num_vehs_in_vehid_chain>8){
    1: sw_tokyu7200_old_3_fake_placer_gfx;
sw_tokyu7200_old_3_panto_placer_main_1;
}


switch(FEAT_TRAINS, SELF, sw_tokyu7200_old_3_end_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tokyu7200_old_3_end_gfx;
    default: sw_tokyu7200_old_3_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu7200_old_3_front_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tokyu7200_old_3_front_gfx;
    default: sw_tokyu7200_old_3_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu7200_old_livery_4,vehicle_type_id){
    mu_car_narrow:sw_tokyu7200_old_3_end_gfx_main;
    mu_car:sw_tokyu7200_old_3_end_gfx_main;
    sw_tokyu7200_old_3_front_gfx_main;
}


switch(FEAT_TRAINS, PARENT, sw_tokyu7200_old_livery_0_steel, current_year > 1985){
    1:sw_tokyu7200_old_livery_2;
    sw_tokyu7200_old_livery_1;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu7200_old_livery_0_alumi, current_year > 1986){
    1:sw_tokyu7200_old_livery_4;
    sw_tokyu7200_old_livery_3;
}
random_switch(FEAT_TRAINS, PARENT, sw_tokyu7200_old_livery_0){
    1:sw_tokyu7200_old_livery_0_steel;
    1:sw_tokyu7200_old_livery_0_alumi;
}

switch(FEAT_TRAINS, PARENT, sw_tokyu7200_old_lv, cargo_subtype){
    0:sw_tokyu7200_old_livery_0;
    1:sw_tokyu7200_old_livery_0_steel;
    2:sw_tokyu7200_old_livery_0_alumi;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu7200_old_lv_desc, cargo_subtype){
    0:string(LV_RANDOM);
    1:string(LV_STEEL);
    2:string(LV_ALUMI);
}


switch(FEAT_TRAINS, SELF, sw_tokyu7200_old_capacity,position_in_vehid_chain_from_end){
    0: 140*param_capacity_mod/3;
    default: 150*param_capacity_mod/3;
}
switch(FEAT_TRAINS, SELF, sw_tokyu7200_old_capacity_1,position_in_vehid_chain){
    0: 140*param_capacity_mod/3;
    default: sw_tokyu7200_old_capacity;
}
switch(FEAT_TRAINS, SELF, sw_tokyu7200_old_capacity_main,vehicle_type_id){
    mu_car_narrow:sw_tokyu7200_old_capacity;
    mu_car:sw_tokyu7200_old_capacity;
    sw_tokyu7200_old_capacity_1;
}


switch(FEAT_TRAINS, SELF, tokyu7200_old_attach_vehid, vehicle_type_id) {
  mu_car: return string(STR_ATTACH_1067_ERROR);
  mu_car_metro: return string(STR_ATTACH_1067_ERROR);
  return CB_RESULT_ATTACH_ALLOW;
}

item(FEAT_TRAINS, tokyu7200_old,2009) {
    property {
        cargo_capacity: 130;
        climates_available: param_disable_tokyu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        variant_group:2008;
        name: string(STR_TRAIN_NAME, string(STR_NAME_TOKYU), "7200", string(STR_NAME_SERIES));
        introduction_date: date(1967, 1, 1);
        model_life: 38;
        vehicle_life: 38;
        reliability_decay: 10;

        cost_factor: 20;
        running_cost_factor: 49;
        speed: 100 km/h;
        track_type: TR_1067_DC;
        power: 440 kW;
        weight: 28 ton;
        loading_speed: param_loading_3D;
    }
 graphics {
        default: sw_tokyu7200_old_lv;
        purchase: tokyu7200_old_purchase;
        can_attach_wagon: tokyu7200_old_attach_vehid;
        start_stop: sw_stop_start_2;
        cargo_capacity: sw_tokyu7200_old_capacity_main;
        cargo_subtype_text: sw_tokyu7200_old_lv_desc;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_5, 2,3,4,6,8)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_TOKYU)));
    }
    livery_override(mu_car_narrow){
        loading_speed: param_loading_3D;
        cargo_capacity: sw_tokyu7200_old_capacity_main;
        default: sw_tokyu7200_old_lv;
        power: 590*2/5;
        weight: 27;
      }
}
# 15 "src/_private.pnml" 2
# 1 "src/private/Kanto/tokyu/tokyu7600_old.pnml" 1

  spriteset(tokyu7600_old_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7600.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(tokyu7600_old_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7600.png"){ tmpl_purchase_2c(0, 75) }
  switch(FEAT_TRAINS, SELF, tokyu7600_old_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_tokyu; 1: tokyu7600_old_purchase_c1; 2: tokyu7600_old_purchase_c2;}

spriteset(tokyu7600_old_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7600.png"){ tmpl_std(0, 125) }
spriteset(tokyu7600_old_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7600.png"){ tmpl_std_rev(0, 150) }
spriteset(tokyu7600_old_mot_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7600.png"){ tmpl_std(0, 50) }
spriteset(tokyu7600_old_mot_1_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7600.png"){ tmpl_std_rev(0, 50) }
spriteset(tokyu7600_old_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7600.png"){ tmpl_symm(0, 75) }
spriteset(tokyu7600_old_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7600.png"){ tmpl_symm(0, 100) }
spriteset(tokyu7600_old_front_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7600.png"){ tmpl_std(0, 0) }
spriteset(tokyu7600_old_end_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7600.png"){ tmpl_std_rev(0, 25) }
spriteset(tokyu7600_old_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7600.png"){ tmpl_std(0, 150) }
spriteset(tokyu7600_old_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7600.png"){ tmpl_std_rev(0, 150) }




switch(FEAT_TRAINS, PARENT, sw_tokyu7600_old_front_gfx,vehicle_is_reversed){
    1: tokyu7600_old_front;
    tokyu7600_old_front_1;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu7600_old_end_gfx,vehicle_is_reversed){
    1: tokyu7600_old_end_1;
    tokyu7600_old_end;
}



switch(FEAT_TRAINS, SELF, sw_tokyu7600_old_panto_placer,1+position_in_vehid_chain %3){
    1: tokyu7600_old_mot_1;
    tokyu7600_old_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu7600_old_panto_placer_rev,position_in_vehid_chain_from_end %3){
    1: tokyu7600_old_mot_1_rev;
    tokyu7600_old_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu7600_old_panto_placer_main_1,vehicle_is_reversed){
    1: sw_tokyu7600_old_panto_placer_rev;
    sw_tokyu7600_old_panto_placer;
}


switch(FEAT_TRAINS, SELF, sw_tokyu7600_old_fake_placer,position_in_vehid_chain +1){
    2: tokyu7600_old_end_f;
    3: tokyu7600_old_front_f;
sw_tokyu7600_old_panto_placer_main_1;
}
switch(FEAT_TRAINS, SELF, sw_tokyu7600_old_fake_placer_rev,position_in_vehid_chain_from_end){
    2: tokyu7600_old_front_f;
    3: tokyu7600_old_end_f;
sw_tokyu7600_old_panto_placer_main_1;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu7600_old_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tokyu7600_old_fake_placer_rev;
    sw_tokyu7600_old_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tokyu7600_old_fake_placer_main,num_vehs_in_vehid_chain>4){
    1: sw_tokyu7600_old_fake_placer_gfx;
sw_tokyu7600_old_panto_placer_main_1;
}


switch(FEAT_TRAINS, SELF, sw_tokyu7600_old_end_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tokyu7600_old_end_gfx;
    default: sw_tokyu7600_old_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu7600_old_front_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tokyu7600_old_front_gfx;
    default: sw_tokyu7600_old_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu7600_old_livery_1,vehicle_type_id){
    mu_car_narrow:sw_tokyu7600_old_end_gfx_main;
    mu_car:sw_tokyu7600_old_end_gfx_main;
    sw_tokyu7600_old_front_gfx_main;
}




switch(FEAT_TRAINS, SELF, sw_tokyu7600_old_1_panto_placer,1+position_in_vehid_chain %3){
    1: tokyu7600_old_mot;
    tokyu7600_old_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu7600_old_1_panto_placer_rev,position_in_vehid_chain_from_end %3){
    1: tokyu7600_old_mot;
    tokyu7600_old_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu7600_old_1_panto_placer_main_1,vehicle_is_reversed){
    1: sw_tokyu7600_old_1_panto_placer_rev;
    sw_tokyu7600_old_1_panto_placer;
}


switch(FEAT_TRAINS, SELF, sw_tokyu7600_old_1_fake_placer,1+position_in_vehid_chain){
    2: tokyu7600_old_end_f;
    3: tokyu7600_old_front_f;
sw_tokyu7600_old_1_panto_placer_main_1;
}
switch(FEAT_TRAINS, SELF, sw_tokyu7600_old_1_fake_placer_rev,position_in_vehid_chain){
    2: tokyu7600_old_front_f;
    3: tokyu7600_old_end_f;
sw_tokyu7600_old_1_panto_placer_main_1;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu7600_old_1_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tokyu7600_old_1_fake_placer_rev;
    sw_tokyu7600_old_1_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tokyu7600_old_1_fake_placer_main,num_vehs_in_vehid_chain>4){
    1: sw_tokyu7600_old_1_fake_placer_gfx;
sw_tokyu7600_old_1_panto_placer_main_1;
}


switch(FEAT_TRAINS, SELF, sw_tokyu7600_old_1_end_gfx_main,position_in_vehid_chain_from_end){
    0: tokyu7600_old_end;
    default: sw_tokyu7600_old_1_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu7600_old_1_front_gfx_main,position_in_vehid_chain_from_end){
    0: tokyu7600_old_front;
    default: sw_tokyu7600_old_1_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu7600_old_livery_2,vehicle_type_id){
    mu_car_narrow:sw_tokyu7600_old_1_end_gfx_main;
    mu_car:sw_tokyu7600_old_1_end_gfx_main;
    sw_tokyu7600_old_1_front_gfx_main;
}


random_switch(FEAT_TRAINS, PARENT, sw_tokyu7600_old_livery_0){
    1:sw_tokyu7600_old_livery_1;
    1:sw_tokyu7600_old_livery_2;
}


switch(FEAT_TRAINS, SELF, sw_tokyu7600_old_capacity,position_in_vehid_chain_from_end){
    0: 122*param_capacity_mod/3;
    default: 131*param_capacity_mod/3;
}
switch(FEAT_TRAINS, SELF, sw_tokyu7600_old_capacity_1,position_in_vehid_chain){
    0: 122*param_capacity_mod/3;
    default: sw_tokyu7600_old_capacity;
}
switch(FEAT_TRAINS, SELF, sw_tokyu7600_old_capacity_main,vehicle_type_id){
    mu_car_narrow:sw_tokyu7600_old_capacity;
    mu_car:sw_tokyu7600_old_capacity;
    sw_tokyu7600_old_capacity_1;
}


switch(FEAT_TRAINS, SELF, tokyu7600_old_attach_vehid, vehicle_type_id) {
  mu_car: return string(STR_ATTACH_1067_ERROR);
  mu_car_metro: return string(STR_ATTACH_1067_ERROR);
  return CB_RESULT_ATTACH_ALLOW;
}

item(FEAT_TRAINS, tokyu7600_old,2010) {
    property {
        cargo_capacity: 130;
        climates_available: param_disable_tokyu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        variant_group:2008;
        name: string(STR_TRAIN_NAME, string(STR_NAME_TOKYU), "7600", string(STR_NAME_SERIES));
        introduction_date: date(1984, 1, 1);
        model_life: 38;
        vehicle_life: 38;
        reliability_decay: 10;

        cost_factor: 20;
        running_cost_factor: 50;
        speed: 110 km/h;
        track_type: TR_1067_DC;
        power: 440 kW;
        weight: 32 ton;
        loading_speed: param_loading_3D;
    }
 graphics {
        default: sw_tokyu7600_old_livery_0;
        purchase: tokyu7600_old_purchase;
        can_attach_wagon: tokyu7600_old_attach_vehid;
        start_stop: sw_stop_start_2;
        cargo_capacity: sw_tokyu7600_old_capacity_main;

        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 3)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_TOKYU)));
    }
    livery_override(mu_car_narrow){
        loading_speed: param_loading_3D;
        cargo_capacity: sw_tokyu7600_old_capacity_main;
        default: sw_tokyu7600_old_livery_0;
        power: 590/2;
        weight: 31;
      }
}
# 16 "src/_private.pnml" 2
# 1 "src/private/Kanto/tokyu/tokyu7700_old.pnml" 1

  spriteset(tokyu7700_old_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7700.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(tokyu7700_old_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7700.png"){ tmpl_purchase_2c(0, 75) }
  switch(FEAT_TRAINS, SELF, tokyu7700_old_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_tokyu; 1: tokyu7700_old_purchase_c1; 2: tokyu7700_old_purchase_c2;}

spriteset(tokyu7700_old_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7700.png"){ tmpl_std(0, 100) }
spriteset(tokyu7700_old_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7700.png"){ tmpl_std_rev(0, 125) }
spriteset(tokyu7700_old_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7700.png"){ tmpl_std(0, 50) }
spriteset(tokyu7700_old_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7700.png"){ tmpl_std_rev(0, 50) }
spriteset(tokyu7700_old_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7700.png"){ tmpl_symm(0, 75) }
spriteset(tokyu7700_old_front_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7700.png"){ tmpl_std(0, 0) }
spriteset(tokyu7700_old_end_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7700.png"){ tmpl_std_rev(0, 25) }


spriteset(tokyu7700_old_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7700_1.png"){ tmpl_std(0, 100) }
spriteset(tokyu7700_old_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7700_1.png"){ tmpl_std_rev(0, 125) }
spriteset(tokyu7700_old_1_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7700_1.png"){ tmpl_std(0, 50) }
spriteset(tokyu7700_old_1_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7700_1.png"){ tmpl_std_rev(0, 50) }
spriteset(tokyu7700_old_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7700_1.png"){ tmpl_symm(0, 75) }
spriteset(tokyu7700_old_1_front_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7700_1.png"){ tmpl_std(0, 0) }
spriteset(tokyu7700_old_1_end_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000_old/old7700_1.png"){ tmpl_std_rev(0, 25) }




switch(FEAT_TRAINS, PARENT, sw_tokyu7700_old_front_gfx,vehicle_is_reversed){
    1: tokyu7700_old_front;
    tokyu7700_old_front_1;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu7700_old_end_gfx,vehicle_is_reversed){
    1: tokyu7700_old_end_1;
    tokyu7700_old_end;
}



switch(FEAT_TRAINS, SELF, sw_tokyu7700_old_panto_placer,position_in_vehid_chain %2){
    1: tokyu7700_old_mot;
    tokyu7700_old_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu7700_old_panto_placer_rev,1-position_in_vehid_chain_from_end %2){
    1: tokyu7700_old_mot_rev;
    tokyu7700_old_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu7700_old_panto_placer_main_1,vehicle_is_reversed){
    1: sw_tokyu7700_old_panto_placer_rev;
    sw_tokyu7700_old_panto_placer;
}


switch(FEAT_TRAINS, SELF, sw_tokyu7700_old_fake_placer,position_in_vehid_chain +1){
    3: sw_tokyu7700_old_end_gfx;
    4: sw_tokyu7700_old_front_gfx;
sw_tokyu7700_old_panto_placer_main_1;
}
switch(FEAT_TRAINS, SELF, sw_tokyu7700_old_fake_placer_rev,position_in_vehid_chain_from_end){
    3: sw_tokyu7700_old_front_gfx;
    4: sw_tokyu7700_old_end_gfx;
sw_tokyu7700_old_panto_placer_main_1;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu7700_old_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tokyu7700_old_fake_placer_rev;
    sw_tokyu7700_old_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tokyu7700_old_fake_placer_main,num_vehs_in_vehid_chain>3){
    1: sw_tokyu7700_old_fake_placer_gfx;
sw_tokyu7700_old_panto_placer_main_1;
}


switch(FEAT_TRAINS, SELF, sw_tokyu7700_old_end_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tokyu7700_old_end_gfx;
    default: sw_tokyu7700_old_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu7700_old_front_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tokyu7700_old_front_gfx;
    default: sw_tokyu7700_old_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu7700_old_livery_1,vehicle_type_id){
    mu_car_narrow:sw_tokyu7700_old_end_gfx_main;
    mu_car:sw_tokyu7700_old_end_gfx_main;
    sw_tokyu7700_old_front_gfx_main;
}




switch(FEAT_TRAINS, PARENT, sw_tokyu7700_old_1_front_gfx,vehicle_is_reversed){
    1: tokyu7700_old_1_front;
    tokyu7700_old_1_front_1;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu7700_old_1_end_gfx,vehicle_is_reversed){
    1: tokyu7700_old_1_end_1;
    tokyu7700_old_1_end;
}



switch(FEAT_TRAINS, SELF, sw_tokyu7700_old_1_panto_placer,position_in_vehid_chain %2){
    1: tokyu7700_old_1_mot;
    tokyu7700_old_1_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu7700_old_1_panto_placer_rev,1-position_in_vehid_chain_from_end %2){
    1: tokyu7700_old_1_mot_rev;
    tokyu7700_old_1_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu7700_old_1_panto_placer_main_1,vehicle_is_reversed){
    1: sw_tokyu7700_old_1_panto_placer_rev;
    sw_tokyu7700_old_1_panto_placer;
}


switch(FEAT_TRAINS, SELF, sw_tokyu7700_old_1_fake_placer,position_in_vehid_chain+1){
    3: sw_tokyu7700_old_end_gfx_main;
    4: sw_tokyu7700_old_front_gfx_main;
sw_tokyu7700_old_1_panto_placer_main_1;
}
switch(FEAT_TRAINS, SELF, sw_tokyu7700_old_1_fake_placer_rev,position_in_vehid_chain_from_end){
    3: sw_tokyu7700_old_front_gfx_main;
    4: sw_tokyu7700_old_end_gfx_main;
sw_tokyu7700_old_1_panto_placer_main_1;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu7700_old_1_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tokyu7700_old_1_fake_placer_rev;
    sw_tokyu7700_old_1_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tokyu7700_old_1_fake_placer_main,num_vehs_in_vehid_chain>4){
    1: sw_tokyu7700_old_1_fake_placer_gfx;
sw_tokyu7700_old_1_panto_placer_main_1;
}


switch(FEAT_TRAINS, SELF, sw_tokyu7700_old_1_end_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tokyu7700_old_1_end_gfx;
    default: sw_tokyu7700_old_1_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu7700_old_1_front_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tokyu7700_old_1_front_gfx;
    default: sw_tokyu7700_old_1_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu7700_old_livery_2,vehicle_type_id){
    mu_car_narrow:sw_tokyu7700_old_1_end_gfx_main;
    mu_car:sw_tokyu7700_old_1_end_gfx_main;
    sw_tokyu7700_old_1_front_gfx_main;
}


random_switch(FEAT_TRAINS, PARENT, sw_tokyu7700_old_livery_0){
    1:sw_tokyu7700_old_livery_1;
    1:sw_tokyu7700_old_livery_2;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu7700_old_lv, cargo_subtype){
    0:sw_tokyu7700_old_livery_0;
    1:sw_tokyu7700_old_livery_1;
    2:sw_tokyu7700_old_livery_2;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu7700_old_lv_desc, cargo_subtype){
    0:string(LV_RANDOM);
    1:string(LV_DEFAULT);
    2:string(LV_tokyu7700_1);
}


switch(FEAT_TRAINS, SELF, sw_tokyu7700_old_capacity,position_in_vehid_chain_from_end){
    0: 124*param_capacity_mod/3;
    default: 133*param_capacity_mod/3;
}
switch(FEAT_TRAINS, SELF, sw_tokyu7700_old_capacity_1,position_in_vehid_chain){
    0: 124*param_capacity_mod/3;
    default: sw_tokyu7700_old_capacity;
}
switch(FEAT_TRAINS, SELF, sw_tokyu7700_old_capacity_main,vehicle_type_id){
    mu_car_narrow:sw_tokyu7700_old_capacity;
    mu_car:sw_tokyu7700_old_capacity;
    sw_tokyu7700_old_capacity_1;
}


switch(FEAT_TRAINS, SELF, tokyu7700_old_attach_vehid, vehicle_type_id) {
  mu_car: return string(STR_ATTACH_1067_ERROR);
  mu_car_metro: return string(STR_ATTACH_1067_ERROR);
  return CB_RESULT_ATTACH_ALLOW;
}

item(FEAT_TRAINS, tokyu7700_old,2011) {
    property {
        cargo_capacity: 130;
        climates_available: param_disable_tokyu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        variant_group:2008;
        name: string(STR_TRAIN_NAME, string(STR_NAME_TOKYU), "7700", string(STR_NAME_SERIES));
        introduction_date: date(1987, 1, 1);
        model_life: 38;
        vehicle_life: 38;
        reliability_decay: 10;

        cost_factor: 19;
        running_cost_factor: 51;
        speed: 100 km/h;
        track_type: TR_1067_DC;
        power: 680 kW;
        weight: 32 ton;
        loading_speed: param_loading_3D;
    }
 graphics {
        default: sw_tokyu7700_old_lv;
        purchase: tokyu7700_old_purchase;
        can_attach_wagon: tokyu7700_old_attach_vehid;
        start_stop: sw_stop_start_2;
        cargo_capacity: sw_tokyu7700_old_capacity_main;
        cargo_subtype_text: sw_tokyu7700_old_lv_desc;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_3, 3,4,6)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_TOKYU)));
    }
    livery_override(mu_car_narrow){
        loading_speed: param_loading_3D;
        cargo_capacity: sw_tokyu7700_old_capacity_main;
        default: sw_tokyu7700_old_lv;
        power: 912*2/5;
        weight: 33;
      }
}
# 17 "src/_private.pnml" 2
# 1 "src/private/Kanto/tokyu/tokyu8000.pnml" 1

  spriteset(tokyu8000_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu8000/tokyu8000.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(tokyu8000_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu8000/tokyu8000.png"){ tmpl_purchase_2c(0, 75) }
  switch(FEAT_TRAINS, SELF, tokyu8000_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_tokyu; 1: tokyu8000_purchase_c1; 2: tokyu8000_purchase_c2;}

spriteset(tokyu8000_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu8000/tokyu8000.png"){ tmpl_std(0, 0) }
spriteset(tokyu8000_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu8000/tokyu8000.png"){ tmpl_std_rev(0, 25) }
spriteset(tokyu8000_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu8000/tokyu8000.png"){ tmpl_std(0, 25) }
spriteset(tokyu8000_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu8000/tokyu8000.png"){ tmpl_std(0, 50) }
spriteset(tokyu8000_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu8000/tokyu8000.png"){ tmpl_std_rev(0, 50) }
spriteset(tokyu8000_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu8000/tokyu8000.png"){ tmpl_symm(0, 75) }


spriteset(tokyu8000_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu8000/tokyu8000_ac.png"){ tmpl_std(0, 0) }
spriteset(tokyu8000_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu8000/tokyu8000_ac.png"){ tmpl_std_rev(0, 25) }
spriteset(tokyu8000_1_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu8000/tokyu8000_ac.png"){ tmpl_std(0, 25) }
spriteset(tokyu8000_1_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu8000/tokyu8000_ac.png"){ tmpl_std(0, 50) }
spriteset(tokyu8000_1_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu8000/tokyu8000_ac.png"){ tmpl_std_rev(0, 50) }
spriteset(tokyu8000_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu8000/tokyu8000_ac.png"){ tmpl_symm(0, 75) }


spriteset(tokyu8000_2_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu8000/tokyu8000_1.png"){ tmpl_std(0, 0) }
spriteset(tokyu8000_2_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu8000/tokyu8000_1.png"){ tmpl_std_rev(0, 25) }
spriteset(tokyu8000_2_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu8000/tokyu8000_1.png"){ tmpl_std(0, 25) }
spriteset(tokyu8000_2_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu8000/tokyu8000_1.png"){ tmpl_std(0, 50) }
spriteset(tokyu8000_2_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu8000/tokyu8000_1.png"){ tmpl_std_rev(0, 50) }
spriteset(tokyu8000_2_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu8000/tokyu8000_1.png"){ tmpl_symm(0, 75) }


spriteset(tokyu8500_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu8000/tokyu8000.png"){ tmpl_std(0, 100) }
spriteset(tokyu8500_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu8000/tokyu8000.png"){ tmpl_std_rev(0, 125) }
spriteset(tokyu8500_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu8000/tokyu8000.png"){ tmpl_std(0, 125) }
spriteset(tokyu8500_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu8000/tokyu8000.png"){ tmpl_std(0, 150) }
spriteset(tokyu8500_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu8000/tokyu8000.png"){ tmpl_std_rev(0, 175) }


spriteset(tokyu8500_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu8000/tokyu8000_ac.png"){ tmpl_std(0, 100) }
spriteset(tokyu8500_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu8000/tokyu8000_ac.png"){ tmpl_std_rev(0, 125) }
spriteset(tokyu8500_1_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu8000/tokyu8000_ac.png"){ tmpl_std(0, 125) }
spriteset(tokyu8500_1_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu8000/tokyu8000_ac.png"){ tmpl_std(0, 150) }
spriteset(tokyu8500_1_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu8000/tokyu8000_ac.png"){ tmpl_std_rev(0, 175) }
spriteset(tokyu8500_1_mot_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu8000/tokyu8000_ac.png"){ tmpl_std(0, 200) }
spriteset(tokyu8500_1_mot_2_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu8000/tokyu8000_ac.png"){ tmpl_std_rev(0, 200) }
spriteset(tokyu8500_1_front_mot_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu8000/tokyu8000_ac.png"){ tmpl_std(0, 225) }
spriteset(tokyu8500_1_end_mot_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu8000/tokyu8000_ac.png"){ tmpl_std_rev(0, 250) }



spriteset(tokyu8500_2_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu8000/tokyu8500_1.png"){ tmpl_std(0, 0) }
spriteset(tokyu8500_2_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu8000/tokyu8500_1.png"){ tmpl_std_rev(0, 25) }
spriteset(tokyu8500_2_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu8000/tokyu8500_1.png"){ tmpl_std(0, 25) }
spriteset(tokyu8500_2_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu8000/tokyu8500_1.png"){ tmpl_std(0, 50) }
spriteset(tokyu8500_2_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu8000/tokyu8500_1.png"){ tmpl_std_rev(0, 75) }
spriteset(tokyu8500_2_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu8000/tokyu8500_1.png"){ tmpl_std(0, 100) }
spriteset(tokyu8500_2_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu8000/tokyu8500_1.png"){ tmpl_std_rev(0, 100) }
spriteset(tokyu8500_2_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu8000/tokyu8500_1.png"){ tmpl_symm(0, 125) }




switch(FEAT_TRAINS, SELF, sw_tokyu8000_panto_placer,1+position_in_vehid_chain %2){
    1: tokyu8000_mot;
    tokyu8000_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8000_panto_placer_rev,position_in_vehid_chain_from_end %2){
    1: tokyu8000_mot_rev;
    tokyu8000_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu8000_panto_placer_main,vehicle_is_reversed){
    1:sw_tokyu8000_panto_placer;
    sw_tokyu8000_panto_placer_rev;
}


switch(FEAT_TRAINS, SELF, sw_tokyu8000_fake_placer,position_in_vehid_chain +1){
    4: tokyu8000_end;
    5: tokyu8000_end_rev;
sw_tokyu8000_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8000_fake_placer_rev,position_in_vehid_chain_from_end){
    4: tokyu8000_end_rev;
    5: tokyu8000_end;
sw_tokyu8000_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu8000_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tokyu8000_fake_placer_rev;
    sw_tokyu8000_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8000_fake_placer_main,num_vehs_in_vehid_chain+1>9){
    1: sw_tokyu8000_fake_placer_gfx;
sw_tokyu8000_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tokyu8000_end_gfx_main,position_in_vehid_chain_from_end){
    0: tokyu8000_end;
    default: sw_tokyu8000_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8000_front_gfx_main,position_in_vehid_chain_from_end){
    0: tokyu8000_front;
    default: sw_tokyu8000_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8000_livery_1,vehicle_type_id){
    mu_car_narrow:sw_tokyu8000_end_gfx_main;
    mu_car:sw_tokyu8000_end_gfx_main;
    sw_tokyu8000_front_gfx_main;
}



switch(FEAT_TRAINS, SELF, sw_tokyu8000_1_panto_placer,1+position_in_vehid_chain %2){
    1: tokyu8000_1_mot;
    tokyu8000_1_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8000_1_panto_placer_rev,position_in_vehid_chain_from_end %2){
    1: tokyu8000_1_mot_rev;
    tokyu8000_1_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu8000_1_panto_placer_main,vehicle_is_reversed){
    1:sw_tokyu8000_1_panto_placer;
    sw_tokyu8000_1_panto_placer_rev;
}


switch(FEAT_TRAINS, SELF, sw_tokyu8000_1_fake_placer,position_in_vehid_chain +1){
    4: tokyu8000_1_end;
    5: tokyu8000_1_end_rev;
sw_tokyu8000_1_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8000_1_fake_placer_rev,position_in_vehid_chain_from_end){
    4: tokyu8000_1_end_rev;
    5: tokyu8000_1_end;
sw_tokyu8000_1_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu8000_1_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tokyu8000_1_fake_placer_rev;
    sw_tokyu8000_1_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8000_1_fake_placer_main,num_vehs_in_vehid_chain+1>9){
    1: sw_tokyu8000_1_fake_placer_gfx;
sw_tokyu8000_1_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tokyu8000_1_end_gfx_main,position_in_vehid_chain_from_end){
    0: tokyu8000_1_end;
    default: sw_tokyu8000_1_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8000_1_front_gfx_main,position_in_vehid_chain_from_end){
    0: tokyu8000_1_front;
    default: sw_tokyu8000_1_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8000_livery_2,vehicle_type_id){
    mu_car_narrow:sw_tokyu8000_1_end_gfx_main;
    sw_tokyu8000_1_front_gfx_main;
}




switch(FEAT_TRAINS, SELF, sw_tokyu8000_2_panto_placer,1+position_in_vehid_chain %2){
    1: tokyu8000_2_mot;
    tokyu8000_2_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8000_2_panto_placer_rev,position_in_vehid_chain_from_end %2){
    1: tokyu8000_2_mot_rev;
    tokyu8000_2_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu8000_2_panto_placer_main,vehicle_is_reversed){
    1: sw_tokyu8000_2_panto_placer_rev;
    sw_tokyu8000_2_panto_placer;
}


switch(FEAT_TRAINS, SELF, sw_tokyu8000_2_fake_placer,position_in_vehid_chain +1){
    4: tokyu8000_2_end;
    5: tokyu8000_2_end_rev;
sw_tokyu8000_2_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8000_2_fake_placer_rev,position_in_vehid_chain_from_end){
    4: tokyu8000_2_end_rev;
    5: tokyu8000_2_end;
sw_tokyu8000_2_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu8000_2_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tokyu8000_2_fake_placer_rev;
    sw_tokyu8000_2_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8000_2_fake_placer_main,num_vehs_in_vehid_chain+1>9){
    1: sw_tokyu8000_2_fake_placer_gfx;
sw_tokyu8000_2_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tokyu8000_2_end_gfx_main,position_in_vehid_chain_from_end){
    0: tokyu8000_2_end;
    default: sw_tokyu8000_2_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8000_2_front_gfx_main,position_in_vehid_chain_from_end){
    0: tokyu8000_2_front;
    default: sw_tokyu8000_2_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8000_livery_3,vehicle_type_id){
    mu_car_narrow:sw_tokyu8000_2_end_gfx_main;
    mu_car:sw_tokyu8000_2_end_gfx_main;
    sw_tokyu8000_2_front_gfx_main;
}




switch(FEAT_TRAINS, PARENT, sw_tokyu8500_mot_gfx_1,vehicle_is_reversed){
    1: tokyu8000_mot;
    tokyu8000_mot_rev;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8500_mot_gfx_2,(position_in_vehid_chain_from_end==1&&num_vehs_in_vehid_chain>2)){
    1: tokyu8000_wag;
    sw_tokyu8500_mot_gfx_1;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8500_mot_gfx_3,(1+position_in_vehid_chain==1&&num_vehs_in_vehid_chain>2)){
    1: tokyu8000_wag;
    sw_tokyu8500_mot_gfx_1;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu8500_mot_gfx,vehicle_is_reversed){
    1: sw_tokyu8500_mot_gfx_3;
    sw_tokyu8500_mot_gfx_2;
}


switch(FEAT_TRAINS, PARENT, sw_tokyu8500_front_gfx,vehicle_is_reversed){
    1: tokyu8500_front_mot;
    tokyu8500_front;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu8500_end_gfx,vehicle_is_reversed){
    1: tokyu8500_end;
    tokyu8500_end_mot;
}



switch(FEAT_TRAINS, SELF, sw_tokyu8500_panto_placer,1+position_in_vehid_chain %8){
    1: sw_tokyu8500_mot_gfx;
    4: sw_tokyu8500_mot_gfx;
    6: sw_tokyu8500_mot_gfx;
    tokyu8000_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8500_panto_placer_rev,position_in_vehid_chain_from_end %8){
    1: sw_tokyu8500_mot_gfx;
    4: sw_tokyu8500_mot_gfx;
    6: sw_tokyu8500_mot_gfx;
    tokyu8000_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu8500_panto_placer_main_1,vehicle_is_reversed){
    1: sw_tokyu8500_panto_placer_rev;
    sw_tokyu8500_panto_placer;
}

switch(FEAT_TRAINS, SELF, sw_tokyu8500_panto_placer_1,1+position_in_vehid_chain %2){
    1: sw_tokyu8500_mot_gfx;
    tokyu8000_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8500_panto_placer_1_rev,position_in_vehid_chain_from_end %2){
    1: sw_tokyu8500_mot_gfx;
    tokyu8000_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu8500_panto_placer_main_2,vehicle_is_reversed){
    1: sw_tokyu8500_panto_placer_1_rev;
    sw_tokyu8500_panto_placer_1;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8500_panto_placer_main,num_vehs_in_vehid_chain+1){
    0..6: sw_tokyu8500_panto_placer_main_2;
    sw_tokyu8500_panto_placer_main_1;
}

switch(FEAT_TRAINS, SELF, sw_tokyu8500_fake_placer,position_in_vehid_chain +1){
    7: tokyu8500_end;
    8: tokyu8500_end_rev;
sw_tokyu8500_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8500_fake_placer_rev,position_in_vehid_chain_from_end){
    7: tokyu8500_end_rev;
    8: tokyu8500_end;
sw_tokyu8500_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu8500_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tokyu8500_fake_placer_rev;
    sw_tokyu8500_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8500_fake_placer_main,num_vehs_in_vehid_chain+1>10){
    1: sw_tokyu8500_fake_placer_gfx;
sw_tokyu8500_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tokyu8500_end_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tokyu8500_end_gfx;
    default: sw_tokyu8500_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8500_front_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tokyu8500_front_gfx;
    default: sw_tokyu8500_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8500_livery_1,vehicle_type_id){
    mu_car_narrow:sw_tokyu8500_end_gfx_main;
    sw_tokyu8500_front_gfx_main;
}




switch(FEAT_TRAINS, PARENT, sw_tokyu8500_1_mot_gfx_1,vehicle_is_reversed){
    1: tokyu8000_1_mot;
    tokyu8000_1_mot_rev;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8500_1_mot_gfx_2,(position_in_vehid_chain_from_end==1&&num_vehs_in_vehid_chain>2)){
    1: tokyu8000_1_wag;
    sw_tokyu8500_1_mot_gfx_1;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8500_1_mot_gfx_3,(1+position_in_vehid_chain==1&&num_vehs_in_vehid_chain>2)){
    1: tokyu8000_1_wag;
    sw_tokyu8500_1_mot_gfx_1;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu8500_1_mot_gfx,vehicle_is_reversed){
    1: sw_tokyu8500_1_mot_gfx_3;
    sw_tokyu8500_1_mot_gfx_2;
}

switch(FEAT_TRAINS, PARENT, sw_tokyu8500_1_mot_2_gfx_1,vehicle_is_reversed){
    1: tokyu8500_1_mot_2;
    tokyu8500_1_mot_2_rev;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8500_1_mot_2_gfx_2,(position_in_vehid_chain_from_end==1&&num_vehs_in_vehid_chain>2)){
    1: tokyu8000_1_wag;
    sw_tokyu8500_1_mot_2_gfx_1;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8500_1_mot_2_gfx_3,(1+position_in_vehid_chain==1&&num_vehs_in_vehid_chain>2)){
    1: tokyu8000_1_wag;
    sw_tokyu8500_1_mot_2_gfx_1;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu8500_1_mot_2_gfx,vehicle_is_reversed){
    1: sw_tokyu8500_1_mot_2_gfx_3;
    sw_tokyu8500_1_mot_2_gfx_2;
}





switch(FEAT_TRAINS, PARENT, sw_tokyu8500_1_front_gfx,vehicle_is_reversed){
    1: tokyu8500_1_front_mot;
    tokyu8500_1_front;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu8500_1_end_gfx,vehicle_is_reversed){
    1: tokyu8500_1_end;
    tokyu8500_1_end_mot;
}

switch(FEAT_TRAINS, PARENT, sw_tokyu8500_1_front_1_gfx,vehicle_is_reversed){
    1: tokyu8500_1_front_mot_2;
    tokyu8500_1_front;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu8500_1_end_1_gfx,vehicle_is_reversed){
    1: tokyu8500_1_end;
    tokyu8500_1_end_mot_2;
}

switch(FEAT_TRAINS, PARENT, sw_tokyu8500_1_front_2_gfx,(build_year>1986&&1+num_vehs_in_vehid_chain<6)){
    1: sw_tokyu8500_1_front_1_gfx;
    sw_tokyu8500_1_front_gfx;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu8500_1_end_2_gfx,(build_year>1986&&1+num_vehs_in_vehid_chain<6)){
    1: sw_tokyu8500_1_end_1_gfx;
    sw_tokyu8500_1_end_gfx;
}



switch(FEAT_TRAINS, SELF, sw_tokyu8500_1_panto_placer,1+position_in_vehid_chain %8){
    1: sw_tokyu8500_1_mot_gfx;
    4: sw_tokyu8500_1_mot_gfx;
    6: sw_tokyu8500_1_mot_gfx;
    tokyu8000_1_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8500_1_panto_placer_rev,position_in_vehid_chain_from_end %8){
    1: sw_tokyu8500_1_mot_gfx;
    4: sw_tokyu8500_1_mot_gfx;
    6: sw_tokyu8500_1_mot_gfx;
    tokyu8000_1_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu8500_1_panto_placer_main_1,vehicle_is_reversed){
    1: sw_tokyu8500_1_panto_placer_rev;
    sw_tokyu8500_1_panto_placer;
}

switch(FEAT_TRAINS, SELF, sw_tokyu8500_1_panto_placer_1,1+position_in_vehid_chain %2){
    1: sw_tokyu8500_1_mot_gfx;
    tokyu8000_1_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8500_1_panto_placer_1_rev,position_in_vehid_chain_from_end %2){
    1: sw_tokyu8500_1_mot_gfx;
    tokyu8000_1_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu8500_1_panto_placer_main_2,vehicle_is_reversed){
    1: sw_tokyu8500_1_panto_placer_1_rev;
    sw_tokyu8500_1_panto_placer_1;
}

switch(FEAT_TRAINS, SELF, sw_tokyu8500_1_panto_placer_2,1+position_in_vehid_chain %2){
    1: sw_tokyu8500_1_mot_2_gfx;
    tokyu8000_1_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8500_1_panto_placer_2_rev,position_in_vehid_chain_from_end %2){
    1: sw_tokyu8500_1_mot_2_gfx;
    tokyu8000_1_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu8500_1_panto_placer_main_3,vehicle_is_reversed){
    1: sw_tokyu8500_1_panto_placer_2_rev;
    sw_tokyu8500_1_panto_placer_2;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu8500_1_panto_placer_time,build_year>1986){
    1: sw_tokyu8500_1_panto_placer_main_3;
    sw_tokyu8500_1_panto_placer_main_2;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8500_1_panto_placer_main,num_vehs_in_vehid_chain+1){
    0..6: sw_tokyu8500_1_panto_placer_time;
    sw_tokyu8500_1_panto_placer_main_1;
}

switch(FEAT_TRAINS, SELF, sw_tokyu8500_1_fake_placer,position_in_vehid_chain +1){
    6: tokyu8500_1_end;
    7: tokyu8500_1_end_rev;
sw_tokyu8500_1_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8500_1_fake_placer_rev,position_in_vehid_chain_from_end){
    6: tokyu8500_1_end_rev;
    7: tokyu8500_1_end;
sw_tokyu8500_1_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu8500_1_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tokyu8500_1_fake_placer_rev;
    sw_tokyu8500_1_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8500_1_fake_placer_main,num_vehs_in_vehid_chain+1>10){
    1: sw_tokyu8500_1_fake_placer_gfx;
sw_tokyu8500_1_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tokyu8500_1_end_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tokyu8500_1_end_2_gfx;
    default: sw_tokyu8500_1_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8500_1_front_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tokyu8500_1_front_2_gfx;
    default: sw_tokyu8500_1_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8500_livery_2,vehicle_type_id){
    mu_car_narrow:sw_tokyu8500_1_end_gfx_main;
    sw_tokyu8500_1_front_gfx_main;
}




switch(FEAT_TRAINS, PARENT, sw_tokyu8500_2_mot_gfx_1,vehicle_is_reversed){
    1: tokyu8500_2_mot;
    tokyu8500_2_mot_rev;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8500_2_mot_gfx_2,(position_in_vehid_chain_from_end==1&&num_vehs_in_vehid_chain>2)){
    1: tokyu8500_2_wag;
    sw_tokyu8500_2_mot_gfx_1;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8500_2_mot_gfx_3,(1+position_in_vehid_chain==1&&num_vehs_in_vehid_chain>2)){
    1: tokyu8500_2_wag;
    sw_tokyu8500_2_mot_gfx_1;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu8500_2_mot_gfx,vehicle_is_reversed){
    1: sw_tokyu8500_2_mot_gfx_3;
    sw_tokyu8500_2_mot_gfx_2;
}


switch(FEAT_TRAINS, PARENT, sw_tokyu8500_2_front_gfx,vehicle_is_reversed){
    1: tokyu8500_2_front_mot;
    tokyu8500_2_front;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu8500_2_end_gfx,vehicle_is_reversed){
    1: tokyu8500_2_end;
    tokyu8500_2_end_mot;
}



switch(FEAT_TRAINS, SELF, sw_tokyu8500_2_panto_placer,1+position_in_vehid_chain %8){
    1: sw_tokyu8500_2_mot_gfx;
    4: sw_tokyu8500_2_mot_gfx;
    6: sw_tokyu8500_2_mot_gfx;
    tokyu8500_2_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8500_2_panto_placer_rev,position_in_vehid_chain_from_end %8){
    1: sw_tokyu8500_2_mot_gfx;
    4: sw_tokyu8500_2_mot_gfx;
    6: sw_tokyu8500_2_mot_gfx;
    tokyu8500_2_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu8500_2_panto_placer_main_1,vehicle_is_reversed){
    1: sw_tokyu8500_2_panto_placer_rev;
    sw_tokyu8500_2_panto_placer;
}

switch(FEAT_TRAINS, SELF, sw_tokyu8500_2_panto_placer_1,1+position_in_vehid_chain %2){
    1: sw_tokyu8500_2_mot_gfx;
    tokyu8500_2_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8500_2_panto_placer_1_rev,position_in_vehid_chain_from_end %2){
    1: sw_tokyu8500_2_mot_gfx;
    tokyu8500_2_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu8500_2_panto_placer_main_2,vehicle_is_reversed){
    1: sw_tokyu8500_2_panto_placer_1_rev;
    sw_tokyu8500_2_panto_placer_1;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8500_2_panto_placer_main,num_vehs_in_vehid_chain+1){
    0..6: sw_tokyu8500_2_panto_placer_main_2;
    sw_tokyu8500_2_panto_placer_main_1;
}


switch(FEAT_TRAINS, SELF, sw_tokyu8500_2_fake_placer,position_in_vehid_chain +1){
    6: tokyu8500_2_end;
    7: tokyu8500_2_end_rev;
sw_tokyu8500_2_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8500_2_fake_placer_rev,position_in_vehid_chain_from_end){
    6: tokyu8500_2_end_rev;
    7: tokyu8500_2_end;
sw_tokyu8500_2_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu8500_2_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tokyu8500_2_fake_placer_rev;
    sw_tokyu8500_2_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8500_2_fake_placer_main,num_vehs_in_vehid_chain+1>10){
    1: sw_tokyu8500_2_fake_placer_gfx;
sw_tokyu8500_2_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tokyu8500_2_end_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tokyu8500_2_end_gfx;
    default: sw_tokyu8500_2_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8500_2_front_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tokyu8500_2_front_gfx;
    default: sw_tokyu8500_2_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8500_livery_3,vehicle_type_id){
    mu_car_narrow:sw_tokyu8500_2_end_gfx_main;
    sw_tokyu8500_2_front_gfx_main;
}



switch(FEAT_TRAINS, SELF, sw_tokyu8000_livery_gfx_1, current_year){
    0..1984:sw_tokyu8000_livery_1;
    sw_tokyu8000_livery_2;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8000_livery_gfx, current_year){
    0..1984:sw_tokyu8000_livery_1;
    1984..1991:sw_tokyu8000_livery_2;
    sw_tokyu8000_livery_3;
}


switch(FEAT_TRAINS, SELF, sw_tokyu8500_livery_gfx_1, current_year){
    0..1984:sw_tokyu8500_livery_1;
    sw_tokyu8500_livery_2;
}


random_switch(FEAT_TRAINS, PARENT, sw_tokyu8500_livery_0_gfx){
    2:sw_tokyu8500_livery_2;
    1:sw_tokyu8500_livery_3;
}

switch(FEAT_TRAINS, SELF, sw_tokyu8500_livery_gfx, current_year){
    0..1984:sw_tokyu8500_livery_1;
    sw_tokyu8500_livery_0_gfx;
}

random_switch(FEAT_TRAINS, PARENT, sw_tokyu8000_livery_0_gfx){
    3:sw_tokyu8000_livery_gfx;
    4:sw_tokyu8500_livery_gfx;
}

switch(FEAT_TRAINS, PARENT, sw_tokyu8000_livery_0, current_year){
    0..1974: sw_tokyu8000_livery_gfx;
    sw_tokyu8000_livery_0_gfx;
}

switch(FEAT_TRAINS, PARENT, sw_tokyu8000_lv, cargo_subtype){
    0:sw_tokyu8000_livery_0;
    1:sw_tokyu8000_livery_gfx_1;
    2:sw_tokyu8000_livery_3;
    3:sw_tokyu8500_livery_gfx_1;
    4:sw_tokyu8500_livery_3;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8000_lv_desc, cargo_subtype){
    0:string(LV_RANDOM);
    1:string(LV_tokyu8000_1);
    2:string(LV_tokyu8000_2);
    3:string(LV_tokyu8500_1);
    4:string(LV_tokyu8500_2);
}



switch(FEAT_TRAINS, SELF, sw_tokyu8000_capacity,position_in_vehid_chain_from_end){
    0: 136*param_capacity_mod/3;
    default: 144*param_capacity_mod/3;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8000_capacity_1,position_in_vehid_chain){
    0: 136*param_capacity_mod/3;
    default: sw_tokyu8000_capacity;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8000_capacity_main,vehicle_type_id){
    mu_car_narrow:sw_tokyu8000_capacity;
    mu_car:sw_tokyu8000_capacity;
    sw_tokyu8000_capacity_1;
}



switch(FEAT_TRAINS, SELF, tokyu8000_attach_vehid, vehicle_type_id) {
  mu_car: return string(STR_ATTACH_1067_ERROR);
  mu_car_metro: return string(STR_ATTACH_1067_ERROR);
  return CB_RESULT_ATTACH_ALLOW;
}

item(FEAT_TRAINS, tokyu8000,2012) {
    property {
        cargo_capacity: 130;
        climates_available: param_disable_tokyu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;


        name: string(STR_TRAIN_NAME, string(STR_NAME_TOKYU), "8000/8500", string(STR_NAME_SERIES));
        introduction_date: date(1969, 1, 1);
        model_life: 38;
        vehicle_life: 38;
        reliability_decay: 10;

        cost_factor: 20;
        running_cost_factor: 50;
        speed: 110 km/h;
        track_type: TR_1067_DC;
        power: 520 kW;
        weight: 31 ton;
        loading_speed: param_loading_4D;
    }
 graphics {
        default: sw_tokyu8000_lv;
        purchase: tokyu8000_purchase;
        can_attach_wagon: tokyu8000_attach_vehid;
        start_stop: sw_stop_start_3;
        cargo_capacity: sw_tokyu8000_capacity_main;
        cargo_subtype_text: sw_tokyu8000_lv_desc;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_4, 4,5,8,10)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_TOKYU)));
    }
    livery_override(mu_car_narrow){
        loading_speed: param_loading_4D;
        cargo_capacity: sw_tokyu8000_capacity_main;
        default: sw_tokyu8000_lv;
        power: 697*5/7;
        weight: 33;
      }
}
# 18 "src/_private.pnml" 2
# 1 "src/private/Kanto/tokyu/tokyu8090.pnml" 1

  spriteset(tokyu8090_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu8090/tokyu8090.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(tokyu8090_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu8090/tokyu8090.png"){ tmpl_purchase_2c(0, 200) }
  switch(FEAT_TRAINS, SELF, tokyu8090_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_tokyu; 1: tokyu8090_purchase_c1; 2: tokyu8090_purchase_c2;}

spriteset(tokyu8090_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu8090/tokyu8090.png"){ tmpl_std(0, 0) }
spriteset(tokyu8090_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu8090/tokyu8090.png"){ tmpl_std_rev(0, 25) }
spriteset(tokyu8090_mot_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu8090/tokyu8090.png"){ tmpl_std(0, 150) }
spriteset(tokyu8090_mot_2_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu8090/tokyu8090.png"){ tmpl_std_rev(0, 150) }
spriteset(tokyu8090_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu8090/tokyu8090.png"){ tmpl_std(0, 175) }
spriteset(tokyu8090_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu8090/tokyu8090.png"){ tmpl_std_rev(0, 175) }
spriteset(tokyu8090_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu8090/tokyu8090.png"){ tmpl_symm(0, 200) }
spriteset(tokyu8090_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu8090/tokyu8090.png"){ tmpl_std(0, 25) }
spriteset(tokyu8090_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu8090/tokyu8090.png"){ tmpl_std_rev(0, 25) }

spriteset(tokyu8090_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu8090/tokyu8090.png"){ tmpl_std(0, 50) }
spriteset(tokyu8090_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu8090/tokyu8090.png"){ tmpl_std_rev(0, 75) }
spriteset(tokyu8090_1_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu8090/tokyu8090.png"){ tmpl_std(0, 75) }
spriteset(tokyu8090_1_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu8090/tokyu8090.png"){ tmpl_std_rev(0, 75) }

spriteset(tokyu8090_2_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu8090/tokyu8090.png"){ tmpl_std(0, 100) }
spriteset(tokyu8090_2_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu8090/tokyu8090.png"){ tmpl_std_rev(0, 125) }
spriteset(tokyu8090_2_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu8090/tokyu8090.png"){ tmpl_std(0, 125) }
spriteset(tokyu8090_2_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu8090/tokyu8090.png"){ tmpl_std_rev(0, 125) }


spriteset(tokyu8590_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu8090/tokyu8090.png"){ tmpl_std(0, 225) }
spriteset(tokyu8590_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu8090/tokyu8090.png"){ tmpl_std_rev(0, 250) }
spriteset(tokyu8590_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu8090/tokyu8090.png"){ tmpl_std(0, 275) }
spriteset(tokyu8590_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu8090/tokyu8090.png"){ tmpl_std_rev(0, 300) }
spriteset(tokyu8590_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu8090/tokyu8090.png"){ tmpl_std(0, 250) }
spriteset(tokyu8590_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu8090/tokyu8090.png"){ tmpl_std_rev(0, 250) }

spriteset(tokyu8590_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu8090/tokyu8090_1.png"){ tmpl_std(0, 0) }
spriteset(tokyu8590_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu8090/tokyu8090_1.png"){ tmpl_std_rev(0, 25) }
spriteset(tokyu8590_1_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu8090/tokyu8090_1.png"){ tmpl_std(0, 50) }
spriteset(tokyu8590_1_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu8090/tokyu8090_1.png"){ tmpl_std_rev(0, 75) }
spriteset(tokyu8590_1_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu8090/tokyu8090_1.png"){ tmpl_std(0, 25) }
spriteset(tokyu8590_1_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu8090/tokyu8090_1.png"){ tmpl_std_rev(0, 25) }




switch(FEAT_TRAINS, SELF, sw_tokyu8090_panto_placer,1+position_in_vehid_chain %5){
    1: tokyu8090_mot_2_rev;
    3: tokyu8090_mot_2_rev;
    tokyu8090_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8090_panto_placer_rev,position_in_vehid_chain_from_end %5){
    1: tokyu8090_mot_2;
    3: tokyu8090_mot_2;
    tokyu8090_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu8090_panto_placer_main_1,vehicle_is_reversed){
    1: sw_tokyu8090_panto_placer_rev;
    sw_tokyu8090_panto_placer;
}

switch(FEAT_TRAINS, SELF, sw_tokyu8090_1_panto_placer,1+position_in_vehid_chain %8){
    2: tokyu8090_mot_2_rev;
    4: tokyu8090_mot_2_rev;
    7: tokyu8090_mot_2_rev;
    tokyu8090_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8090_1_panto_placer_rev,position_in_vehid_chain_from_end %8){
    2: tokyu8090_mot_2;
    4: tokyu8090_mot_2;
    7: tokyu8090_mot_2;
    tokyu8090_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu8090_panto_placer_main_2,vehicle_is_reversed){
    1: sw_tokyu8090_1_panto_placer_rev;
    sw_tokyu8090_1_panto_placer;
}

switch(FEAT_TRAINS, SELF, sw_tokyu8090_1_panto_placer_1,1+position_in_vehid_chain %2){
    1: tokyu8090_mot_2_rev;
    tokyu8090_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8090_1_panto_placer_1_rev,position_in_vehid_chain_from_end %2){
    1: tokyu8090_mot_2;
    tokyu8090_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu8090_panto_placer_main_3,vehicle_is_reversed){
    1: sw_tokyu8090_1_panto_placer_1_rev;
    sw_tokyu8090_1_panto_placer_1;
}

random_switch(FEAT_TRAINS, PARENT, sw_tokyu8090_panto_placer_random){
    1:sw_tokyu8090_panto_placer_main_1;
    1:sw_tokyu8090_panto_placer_main_2;
}

switch(FEAT_TRAINS, SELF, sw_tokyu8090_panto_placer_main, num_vehs_in_vehid_chain+1){
0..5:sw_tokyu8090_panto_placer_main_3;
7:sw_tokyu8090_panto_placer_main_3;
sw_tokyu8090_panto_placer_random;
}

switch(FEAT_TRAINS, SELF, sw_tokyu8090_fake_placer,position_in_vehid_chain +1){
    7: tokyu8090_end_f;
    8: tokyu8090_front_f;
sw_tokyu8090_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8090_fake_placer_rev,position_in_vehid_chain_from_end){
    7: tokyu8090_front_f;
    8: tokyu8090_end_f;
sw_tokyu8090_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu8090_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tokyu8090_fake_placer_rev;
    sw_tokyu8090_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8090_fake_placer_main,num_vehs_in_vehid_chain>9){
    1: sw_tokyu8090_fake_placer_gfx;
sw_tokyu8090_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tokyu8090_end_gfx_main,position_in_vehid_chain_from_end){
    0: tokyu8090_end;
    default: sw_tokyu8090_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8090_front_gfx_main,position_in_vehid_chain_from_end){
    0: tokyu8090_front;
    default: sw_tokyu8090_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8090_livery_1,vehicle_type_id){
    mu_car_narrow:sw_tokyu8090_end_gfx_main;
    sw_tokyu8090_front_gfx_main;
}



switch(FEAT_TRAINS, SELF, sw_tokyu8090_1_end_gfx_main,position_in_vehid_chain_from_end){
    0: tokyu8090_1_end;
    default: sw_tokyu8090_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8090_1_front_gfx_main,position_in_vehid_chain_from_end){
    0: tokyu8090_1_front;
    default: sw_tokyu8090_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8090_livery_2,vehicle_type_id){
    mu_car_narrow:sw_tokyu8090_1_end_gfx_main;
    sw_tokyu8090_1_front_gfx_main;
}




switch(FEAT_TRAINS, SELF, sw_tokyu8090_2_panto_placer,1+position_in_vehid_chain %5){
    1: tokyu8090_mot_rev;
    3: tokyu8090_mot_rev;
    tokyu8090_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8090_2_panto_placer_rev,position_in_vehid_chain_from_end %5){
    1: tokyu8090_mot;
    3: tokyu8090_mot;
    tokyu8090_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu8090_2_panto_placer_main_1,vehicle_is_reversed){
    1: sw_tokyu8090_2_panto_placer_rev;
    sw_tokyu8090_2_panto_placer;
}

switch(FEAT_TRAINS, SELF, sw_tokyu8090_2_panto_placer_1,1+position_in_vehid_chain %4){
    1: tokyu8090_mot_rev;
    3: tokyu8090_mot_rev;
    tokyu8090_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8090_2_panto_placer_1_rev,position_in_vehid_chain_from_end %4){
    1: tokyu8090_mot;
    3: tokyu8090_mot;
    tokyu8090_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu8090_2_panto_placer_main_2,vehicle_is_reversed){
    1: sw_tokyu8090_2_panto_placer_1_rev;
    sw_tokyu8090_2_panto_placer_1;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8090_2_panto_placer_main, num_vehs_in_vehid_chain+1){
7:sw_tokyu8090_2_panto_placer_main_2;
sw_tokyu8090_2_panto_placer_main_1;
}


switch(FEAT_TRAINS, SELF, sw_tokyu8090_2_fake_placer,position_in_vehid_chain +1){
    4: tokyu8090_2_end_f;
    5: tokyu8090_2_front_f;
sw_tokyu8090_2_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8090_2_fake_placer_rev,position_in_vehid_chain_from_end){
    4: tokyu8090_2_front_f;
    5: tokyu8090_2_end_f;
sw_tokyu8090_2_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu8090_2_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tokyu8090_2_fake_placer_rev;
    sw_tokyu8090_2_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8090_2_fake_placer_main,num_vehs_in_vehid_chain>7+1){
    1: sw_tokyu8090_2_fake_placer_gfx;
sw_tokyu8090_2_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tokyu8090_2_end_gfx_main,position_in_vehid_chain_from_end){
    0: tokyu8090_2_end;
    default: sw_tokyu8090_2_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8090_2_front_gfx_main,position_in_vehid_chain_from_end){
    0: tokyu8090_2_front;
    default: sw_tokyu8090_2_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8090_livery_3,vehicle_type_id){
    mu_car_narrow:sw_tokyu8090_2_end_gfx_main;
    mu_car:sw_tokyu8090_2_end_gfx_main;
    sw_tokyu8090_2_front_gfx_main;
}




switch(FEAT_TRAINS, PARENT, sw_tokyu8590_mot_gfx_1,vehicle_is_reversed){
    1: tokyu8090_mot_2;
    tokyu8090_mot_2_rev;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8590_mot_gfx_2,(position_in_vehid_chain_from_end==1&&num_vehs_in_vehid_chain>2)){
    1: tokyu8090_wag;
    sw_tokyu8590_mot_gfx_1;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8590_mot_gfx_3,(1+position_in_vehid_chain==1&&num_vehs_in_vehid_chain>2)){
    1: tokyu8090_wag;
    sw_tokyu8590_mot_gfx_1;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu8590_mot_gfx,vehicle_is_reversed){
    1: sw_tokyu8590_mot_gfx_3;
    sw_tokyu8590_mot_gfx_2;
}


switch(FEAT_TRAINS, PARENT, sw_tokyu8590_front_gfx,vehicle_is_reversed){
    1: tokyu8590_front_mot;
    tokyu8590_front;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu8590_end_gfx,vehicle_is_reversed){
    1: tokyu8590_end;
    tokyu8590_end_mot;
}



switch(FEAT_TRAINS, SELF, sw_tokyu8590_panto_placer,1+position_in_vehid_chain %2){
    1: sw_tokyu8590_mot_gfx;
    tokyu8090_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8590_panto_placer_rev,position_in_vehid_chain_from_end %2){
    1: sw_tokyu8590_mot_gfx;
    tokyu8090_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu8590_panto_placer_main_1,vehicle_is_reversed){
    1: sw_tokyu8590_panto_placer_rev;
    sw_tokyu8590_panto_placer;
}

switch(FEAT_TRAINS, SELF, sw_tokyu8590_panto_placer_1,1+position_in_vehid_chain %5){
    1: sw_tokyu8590_mot_gfx;
    4: sw_tokyu8590_mot_gfx;
    tokyu8090_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8590_panto_placer_1_rev,position_in_vehid_chain_from_end %5){
    1: sw_tokyu8590_mot_gfx;
    4: sw_tokyu8590_mot_gfx;
    tokyu8090_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu8590_panto_placer_main_2,vehicle_is_reversed){
    1: sw_tokyu8590_panto_placer_1_rev;
    sw_tokyu8590_panto_placer_1;
}

switch(FEAT_TRAINS, SELF, sw_tokyu8590_panto_placer_main, num_vehs_in_vehid_chain+1){
    0..7:sw_tokyu8590_panto_placer_main_1;
sw_tokyu8590_panto_placer_main_2;
}


switch(FEAT_TRAINS, SELF, sw_tokyu8590_fake_placer,position_in_vehid_chain +1){
    7: tokyu8590_end_f;
    8: tokyu8590_front_f;
sw_tokyu8590_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8590_fake_placer_rev,position_in_vehid_chain_from_end){
    7: tokyu8590_front_f;
    8: tokyu8590_end_f;
sw_tokyu8590_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu8590_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tokyu8590_fake_placer_rev;
    sw_tokyu8590_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8590_fake_placer_main,num_vehs_in_vehid_chain>10){
    1: sw_tokyu8590_fake_placer_gfx;
sw_tokyu8590_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tokyu8590_end_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tokyu8590_end_gfx;
    default: sw_tokyu8590_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8590_front_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tokyu8590_front_gfx;
    default: sw_tokyu8590_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8590_livery_1,vehicle_type_id){
    mu_car_narrow:sw_tokyu8590_end_gfx_main;
    sw_tokyu8590_front_gfx_main;
}



switch(FEAT_TRAINS, PARENT, sw_tokyu8590_1_mot_gfx_1,vehicle_is_reversed){
    1: tokyu8090_mot;
    tokyu8090_mot_rev;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8590_1_mot_gfx_2,(position_in_vehid_chain_from_end==1&&num_vehs_in_vehid_chain>2)){
    1: tokyu8090_wag;
    sw_tokyu8590_1_mot_gfx_1;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8590_1_mot_gfx_3,(1+position_in_vehid_chain==1&&num_vehs_in_vehid_chain>2)){
    1: tokyu8090_wag;
    sw_tokyu8590_1_mot_gfx_1;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu8590_1_mot_gfx,vehicle_is_reversed){
    1: sw_tokyu8590_1_mot_gfx_3;
    sw_tokyu8590_1_mot_gfx_2;
}


switch(FEAT_TRAINS, PARENT, sw_tokyu8590_1_front_gfx,vehicle_is_reversed){
    1: tokyu8590_1_front_mot;
    tokyu8590_1_front;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu8590_1_end_gfx,vehicle_is_reversed){
    1: tokyu8590_1_end;
    tokyu8590_1_end_mot;
}



switch(FEAT_TRAINS, SELF, sw_tokyu8590_1_panto_placer,1+position_in_vehid_chain %5){
    1: sw_tokyu8590_1_mot_gfx;
    3: sw_tokyu8590_1_mot_gfx;
    tokyu8090_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8590_1_panto_placer_rev,position_in_vehid_chain_from_end %5){
    1: sw_tokyu8590_1_mot_gfx;
    3: sw_tokyu8590_1_mot_gfx;
    tokyu8090_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu8590_1_panto_placer_main,vehicle_is_reversed){
    1: sw_tokyu8590_1_panto_placer_rev;
    sw_tokyu8590_1_panto_placer;
}


switch(FEAT_TRAINS, SELF, sw_tokyu8590_1_fake_placer,position_in_vehid_chain +1){
    4: tokyu8590_1_end_f;
    5: tokyu8590_1_front_f;
sw_tokyu8590_1_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8590_1_fake_placer_rev,position_in_vehid_chain_from_end){
    4: tokyu8590_1_front_f;
    5: tokyu8590_1_end_f;
sw_tokyu8590_1_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu8590_1_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tokyu8590_1_fake_placer_rev;
    sw_tokyu8590_1_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8590_1_fake_placer_main,num_vehs_in_vehid_chain>8){
    1: sw_tokyu8590_1_fake_placer_gfx;
sw_tokyu8590_1_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tokyu8590_1_end_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tokyu8590_1_end_gfx;
    default: sw_tokyu8590_1_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8590_1_front_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tokyu8590_1_front_gfx;
    default: sw_tokyu8590_1_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8590_livery_2,vehicle_type_id){
    mu_car_narrow:sw_tokyu8590_1_end_gfx_main;
    sw_tokyu8590_1_front_gfx_main;
}


random_switch(FEAT_TRAINS, PARENT, sw_tokyu8090_livery_0_gfx){
    1:sw_tokyu8090_livery_1;
    1:sw_tokyu8090_livery_2;
}

random_switch(FEAT_TRAINS, PARENT, sw_tokyu8590_lv_randomizer){
    3:sw_tokyu8590_livery_1;
    1:sw_tokyu8090_livery_2;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8090_livery_0, build_year){
    0..1987: sw_tokyu8090_livery_0_gfx;
    sw_tokyu8590_lv_randomizer;
}

switch(FEAT_TRAINS, PARENT, sw_tokyu8090_lv, cargo_subtype){
    0:sw_tokyu8090_livery_0;
    1:sw_tokyu8090_livery_0_gfx;
    2:sw_tokyu8090_livery_3;
    3:sw_tokyu8590_livery_1;
    4:sw_tokyu8590_livery_2;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu8090_lv_desc, cargo_subtype){
    0:string(LV_RANDOM);
    1:string(LV_tokyu8090_1);
    2:string(LV_tokyu8090_2);
    3:string(LV_tokyu8590_1);
    4:string(LV_tokyu8590_2);
}



switch(FEAT_TRAINS, SELF, sw_tokyu8090_capacity,position_in_vehid_chain_from_end){
    0: 136*param_capacity_mod/3;
    default: 144*param_capacity_mod/3;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8090_capacity_1,position_in_vehid_chain){
    0: 136*param_capacity_mod/3;
    default: sw_tokyu8090_capacity;
}
switch(FEAT_TRAINS, SELF, sw_tokyu8090_capacity_main,vehicle_type_id){
    mu_car_narrow:sw_tokyu8090_capacity;
    mu_car:sw_tokyu8090_capacity;
    sw_tokyu8090_capacity_1;
}


switch(FEAT_TRAINS, SELF, tokyu8090_attach_vehid, vehicle_type_id) {
  mu_car: return string(STR_ATTACH_1067_ERROR);
  mu_car_metro: return string(STR_ATTACH_1067_ERROR);
  return CB_RESULT_ATTACH_ALLOW;
}

item(FEAT_TRAINS, tokyu8090,2013) {
    property {
        cargo_capacity: 130;
        climates_available: param_disable_tokyu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        variant_group:2012;
        name: string(STR_TRAIN_NAME, string(STR_NAME_TOKYU), "8090/8590", string(STR_NAME_SERIES));
        introduction_date: date(1980, 1, 1);
        model_life: 39;
        vehicle_life: 39;
        reliability_decay: 10;

        cost_factor: 20;
        running_cost_factor: 49;
        speed: 110 km/h;
        track_type: TR_1067_DC;
        power: 520 kW;
        weight: 31 ton;
        loading_speed: param_loading_4D;
    }
 graphics {
        default: sw_tokyu8090_lv;
        purchase: tokyu8090_purchase;
        can_attach_wagon: tokyu8090_attach_vehid;
        start_stop: sw_stop_start_3;
        cargo_capacity: sw_tokyu8090_capacity_main;
        cargo_subtype_text: sw_tokyu8090_lv_desc;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_3, 5,8,9)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_TOKYU)));
    }
    livery_override(mu_car_narrow){
        loading_speed: param_loading_4D;
        cargo_capacity: sw_tokyu8090_capacity_main;
        default: sw_tokyu8090_lv;
        power: 697*5/7;
        weight: 33;
      }
}
# 19 "src/_private.pnml" 2
# 1 "src/private/Kanto/tokyu/tokyu9000.pnml" 1

  spriteset(tokyu9000_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu9000/tokyu9000.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(tokyu9000_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu9000/tokyu9000.png"){ tmpl_purchase_2c(0, 250) }
  switch(FEAT_TRAINS, SELF, tokyu9000_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_tokyu; 1: tokyu9000_purchase_c1; 2: tokyu9000_purchase_c2;}

spriteset(tokyu9000_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu9000/tokyu9000.png"){ tmpl_std(0, 0) }
spriteset(tokyu9000_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu9000/tokyu9000.png"){ tmpl_std_rev(0, 25) }
spriteset(tokyu9000_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu9000/tokyu9000.png"){ tmpl_std(0, 25) }
spriteset(tokyu9000_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu9000/tokyu9000.png"){ tmpl_std(0, 50) }
spriteset(tokyu9000_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu9000/tokyu9000.png"){ tmpl_std_rev(0, 75) }
spriteset(tokyu9000_2_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu9000/tokyu9000.png"){ tmpl_std(0, 100) }
spriteset(tokyu9000_2_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu9000/tokyu9000.png"){ tmpl_std_rev(0, 125) }
spriteset(tokyu9000_2_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu9000/tokyu9000.png"){ tmpl_std(0, 125) }
spriteset(tokyu9000_3_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu9000/tokyu9000.png"){ tmpl_std(0, 150) }
spriteset(tokyu9000_3_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu9000/tokyu9000.png"){ tmpl_std_rev(0, 175) }
spriteset(tokyu9000_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu9000/tokyu9000.png"){ tmpl_std(0, 200) }
spriteset(tokyu9000_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu9000/tokyu9000.png"){ tmpl_std_rev(0, 200) }
spriteset(tokyu9000_mot_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu9000/tokyu9000.png"){ tmpl_std(0, 225) }
spriteset(tokyu9000_mot_1_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu9000/tokyu9000.png"){ tmpl_std_rev(0, 225) }
spriteset(tokyu9000_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu9000/tokyu9000.png"){ tmpl_symm(0, 250) }




switch(FEAT_TRAINS, SELF, sw_tokyu9000_panto_placer,1+position_in_vehid_chain %2){
    1: tokyu9000_mot_1;
    tokyu9000_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu9000_panto_placer_rev,position_in_vehid_chain_from_end %2){
    1: tokyu9000_mot_1_rev;
    tokyu9000_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu9000_panto_placer_main_1,vehicle_is_reversed){
    1: sw_tokyu9000_panto_placer_rev;
    sw_tokyu9000_panto_placer;
}

switch(FEAT_TRAINS, SELF, sw_tokyu9000_panto_placer_1,1+position_in_vehid_chain %4){
    1: tokyu9000_mot;
    2: tokyu9000_mot;
    3: tokyu9000_mot;
    tokyu9000_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu9000_panto_placer_1_rev,position_in_vehid_chain_from_end %4){
    1: tokyu9000_mot_rev;
    2: tokyu9000_mot_rev;
    3: tokyu9000_mot_rev;
    tokyu9000_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu9000_panto_placer_main_2,vehicle_is_reversed){
    1: sw_tokyu9000_panto_placer_1_rev;
    sw_tokyu9000_panto_placer_1;
}
switch(FEAT_TRAINS, SELF, sw_tokyu9000_panto_placer_main,num_vehs_in_vehid_chain+1){
    0..6: sw_tokyu9000_panto_placer_main_2;
    sw_tokyu9000_panto_placer_main_1;
}


switch(FEAT_TRAINS, SELF, sw_tokyu9000_fake_placer,position_in_vehid_chain +1){
    7: tokyu9000_end;
    8: tokyu9000_end_rev;
sw_tokyu9000_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu9000_fake_placer_rev,position_in_vehid_chain_from_end ){
    7: tokyu9000_end;
    8: tokyu9000_end_rev;
sw_tokyu9000_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu9000_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tokyu9000_fake_placer_rev;
    sw_tokyu9000_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tokyu9000_fake_placer_main,num_vehs_in_vehid_chain>11 - 1){
    1: sw_tokyu9000_fake_placer_gfx;
sw_tokyu9000_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tokyu9000_end_gfx_main,position_in_vehid_chain_from_end){
    0: tokyu9000_end;
    default: sw_tokyu9000_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu9000_front_gfx_main,position_in_vehid_chain_from_end){
    0: tokyu9000_front;
    default: sw_tokyu9000_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu9000_livery_1,vehicle_type_id){
    mu_car_narrow:sw_tokyu9000_end_gfx_main;
    mu_car:sw_tokyu9000_end_gfx_main;
    sw_tokyu9000_front_gfx_main;
}



switch(FEAT_TRAINS, SELF, sw_tokyu9000_1_end_gfx_main,position_in_vehid_chain_from_end){
    0: tokyu9000_1_end;
    default: sw_tokyu9000_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu9000_1_front_gfx_main,position_in_vehid_chain_from_end){
    0: tokyu9000_1_front;
    default: sw_tokyu9000_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu9000_livery_2,vehicle_type_id){
    mu_car_narrow:sw_tokyu9000_1_end_gfx_main;
    mu_car:sw_tokyu9000_1_end_gfx_main;
    sw_tokyu9000_1_front_gfx_main;
}



switch(FEAT_TRAINS, SELF, sw_tokyu9000_1_fake_placer,position_in_vehid_chain +1){
    7: tokyu9000_2_end;
    8: tokyu9000_2_end_rev;
sw_tokyu9000_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu9000_1_fake_placer_rev,position_in_vehid_chain_from_end ){
    7: tokyu9000_2_end;
    8: tokyu9000_2_end_rev;
sw_tokyu9000_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu9000_1_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tokyu9000_1_fake_placer_rev;
    sw_tokyu9000_1_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tokyu9000_fake_placer_main_1,num_vehs_in_vehid_chain>11 - 1){
    1: sw_tokyu9000_1_fake_placer_gfx;
sw_tokyu9000_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tokyu9000_2_end_gfx_main,position_in_vehid_chain_from_end){
    0: tokyu9000_2_end;
    default: sw_tokyu9000_fake_placer_main_1;
}
switch(FEAT_TRAINS, SELF, sw_tokyu9000_2_front_gfx_main,position_in_vehid_chain_from_end){
    0: tokyu9000_2_front;
    default: sw_tokyu9000_fake_placer_main_1;
}
switch(FEAT_TRAINS, SELF, sw_tokyu9000_livery_3,vehicle_type_id){
    mu_car_narrow:sw_tokyu9000_2_end_gfx_main;
    mu_car:sw_tokyu9000_2_end_gfx_main;
    sw_tokyu9000_2_front_gfx_main;
}



switch(FEAT_TRAINS, SELF, sw_tokyu9000_3_end_gfx_main,position_in_vehid_chain_from_end){
    0: tokyu9000_3_end;
    default: sw_tokyu9000_1_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tokyu9000_3_front_gfx_main,position_in_vehid_chain_from_end){
    0: tokyu9000_3_front;
    default: sw_tokyu9000_1_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tokyu9000_livery_4,vehicle_type_id){
    mu_car_narrow:sw_tokyu9000_3_end_gfx_main;
    mu_car:sw_tokyu9000_3_end_gfx_main;
    sw_tokyu9000_3_front_gfx_main;
}



random_switch(FEAT_TRAINS, PARENT,sw_tokyu9000_livery_0){
    1: sw_tokyu9000_livery_1;
    1: sw_tokyu9000_livery_2;
}
random_switch(FEAT_TRAINS, PARENT,sw_tokyu9000_livery_0_1){
    1: sw_tokyu9000_livery_3;
    1: sw_tokyu9000_livery_4;
}

switch(FEAT_TRAINS, PARENT, sw_tokyu9000_lv, cargo_subtype){
    0:sw_tokyu9000_livery_0;
    1:sw_tokyu9000_livery_0_1;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu9000_lv_desc, cargo_subtype){
    0:string(LV_tokyu9000_1);
    1:string(LV_tokyu9000_2);
}



switch(FEAT_TRAINS, SELF, sw_tokyu9000_capacity,position_in_vehid_chain_from_end){
    0: 130*param_capacity_mod/3;
    default: 144*param_capacity_mod/3;
}
switch(FEAT_TRAINS, SELF, sw_tokyu9000_capacity_1,position_in_vehid_chain){
    0: 130*param_capacity_mod/3;
    default: sw_tokyu9000_capacity;
}
switch(FEAT_TRAINS, SELF, sw_tokyu9000_capacity_main,vehicle_type_id){
    mu_car_narrow:sw_tokyu9000_capacity;
    mu_car:sw_tokyu9000_capacity;
    sw_tokyu9000_capacity_1;
}


switch(FEAT_TRAINS, SELF, tokyu9000_attach_vehid, vehicle_type_id) {
  mu_car: return string(STR_ATTACH_1067_ERROR);
  mu_car_metro: return string(STR_ATTACH_1067_ERROR);
  return CB_RESULT_ATTACH_ALLOW;
}

item(FEAT_TRAINS, tokyu9000,2014) {
    property {
        cargo_capacity: 130;
        climates_available: param_disable_tokyu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        name: string(STR_TRAIN_NAME, string(STR_NAME_TOKYU), "9000", string(STR_NAME_SERIES));
        introduction_date: date(1986, 1, 1);
        model_life: 20;
        vehicle_life: 36;
        reliability_decay: 10;

        cost_factor: 22;
        running_cost_factor: 52;
        speed: 110 km/h;
        track_type: TR_1067_DC;
        power: 680 kW;
        weight: 32 ton;
        loading_speed: param_loading_4D;
    }
 graphics {
        default: sw_tokyu9000_lv;
        purchase: tokyu9000_purchase;
        can_attach_wagon: tokyu9000_attach_vehid;
        start_stop: sw_stop_start_2;
        cargo_capacity: sw_tokyu9000_capacity_main;
        cargo_subtype_text: sw_tokyu9000_lv_desc;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_2, 5,8)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_TOKYU)));
    }
    livery_override(mu_car_narrow){
        loading_speed: param_loading_4D;
        cargo_capacity: sw_tokyu9000_capacity_main;
        default: sw_tokyu9000_lv;
        power: 912*4/7;
        weight: 29;
      }
}
# 20 "src/_private.pnml" 2
# 1 "src/private/Kanto/tokyu/tokyu1000.pnml" 1

  spriteset(tokyu1000_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu1000/tokyu1000.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(tokyu1000_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu1000/tokyu1000.png"){ tmpl_purchase_2c(0, 125) }
  switch(FEAT_TRAINS, SELF, tokyu1000_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_tokyu; 1: tokyu1000_purchase_c1; 2: tokyu1000_purchase_c2;}

spriteset(tokyu1000_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu1000/tokyu1000.png"){ tmpl_std(0, 0) }
spriteset(tokyu1000_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu1000/tokyu1000.png"){ tmpl_std_rev(0, 25) }
spriteset(tokyu1000_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu1000/tokyu1000.png"){ tmpl_std(0, 25) }
spriteset(tokyu1000_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu1000/tokyu1000.png"){ tmpl_symm(0, 50) }
spriteset(tokyu1000_mot_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu1000/tokyu1000.png"){ tmpl_std(0, 75) }
spriteset(tokyu1000_mot_1_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu1000/tokyu1000.png"){ tmpl_std_rev(0, 75) }
spriteset(tokyu1000_mot_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu1000/tokyu1000.png"){ tmpl_std(0, 100) }
spriteset(tokyu1000_mot_2_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu1000/tokyu1000.png"){ tmpl_std_rev(0, 100) }
spriteset(tokyu1000_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu1000/tokyu1000.png"){ tmpl_symm(0, 125) }
spriteset(tokyu1000_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu1000/tokyu1000.png"){ tmpl_std(0, 150) }
spriteset(tokyu1000_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu1000/tokyu1000.png"){ tmpl_std_rev(0, 175) }

spriteset(tokyu1000_2_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu1000/tokyu1000_2.png"){ tmpl_std(0, 0) }
spriteset(tokyu1000_2_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu1000/tokyu1000_2.png"){ tmpl_std_rev(0, 25) }
spriteset(tokyu1000_2_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu1000/tokyu1000_2.png"){ tmpl_std(0, 25) }
spriteset(tokyu1000_2_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu1000/tokyu1000_2.png"){ tmpl_std(0, 50) }
spriteset(tokyu1000_2_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu1000/tokyu1000_2.png"){ tmpl_std_rev(0, 50) }
spriteset(tokyu1000_2_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu1000/tokyu1000_2.png"){ tmpl_symm(0, 75) }
spriteset(tokyu1000_2_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu1000/tokyu1000_2.png"){ tmpl_std(0, 100) }
spriteset(tokyu1000_2_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu1000/tokyu1000_2.png"){ tmpl_std_rev(0, 125) }

spriteset(tokyu1000_3_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu1000/tokyu1000_3.png"){ tmpl_std(0, 0) }
spriteset(tokyu1000_3_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu1000/tokyu1000_3.png"){ tmpl_std_rev(0, 25) }
spriteset(tokyu1000_3_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu1000/tokyu1000_3.png"){ tmpl_std(0, 25) }
spriteset(tokyu1000_3_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu1000/tokyu1000_3.png"){ tmpl_std(0, 50) }
spriteset(tokyu1000_3_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu1000/tokyu1000_3.png"){ tmpl_std_rev(0, 50) }
spriteset(tokyu1000_3_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu1000/tokyu1000_3.png"){ tmpl_symm(0, 75) }
spriteset(tokyu1000_3_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu1000/tokyu1000_3.png"){ tmpl_std(0, 100) }
spriteset(tokyu1000_3_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu1000/tokyu1000_3.png"){ tmpl_std_rev(0, 125) }

spriteset(tokyu1000_4_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu1000/tokyu1000_1.png"){ tmpl_std(0, 0) }
spriteset(tokyu1000_4_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu1000/tokyu1000_1.png"){ tmpl_std_rev(0, 25) }
spriteset(tokyu1000_4_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu1000/tokyu1000_1.png"){ tmpl_std(0, 25) }
spriteset(tokyu1000_4_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu1000/tokyu1000_1.png"){ tmpl_symm(0, 50) }
spriteset(tokyu1000_4_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu1000/tokyu1000_1.png"){ tmpl_symm(0, 75) }



switch(FEAT_TRAINS, PARENT, sw_tokyu1000_front_gfx,vehicle_is_reversed){
    1: tokyu1000_front_mot;
    tokyu1000_front;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu1000_end_gfx,vehicle_is_reversed){
    1: tokyu1000_end;
    tokyu1000_end_mot;
}


switch(FEAT_TRAINS, SELF, sw_tokyu1000_panto_placer,1+position_in_vehid_chain %2){
    1: tokyu1000_mot_1_rev;
    tokyu1000_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu1000_panto_placer_rev,position_in_vehid_chain_from_end %2){
    1: tokyu1000_mot_1;
    tokyu1000_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu1000_panto_placer_main_1_1,vehicle_is_reversed){
    1: sw_tokyu1000_panto_placer_rev;
    sw_tokyu1000_panto_placer;
}

switch(FEAT_TRAINS, SELF, sw_tokyu1000_panto_placer_1,1+position_in_vehid_chain %3){
    1: tokyu1000_mot_1_rev;
    2: tokyu1000_mot_1_rev;
    tokyu1000_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu1000_panto_placer_1_rev,position_in_vehid_chain_from_end %3){
    1: tokyu1000_mot_1;
    2: tokyu1000_mot_1;
    tokyu1000_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu1000_panto_placer_main_1_2,vehicle_is_reversed){
    1: sw_tokyu1000_panto_placer_1_rev;
    sw_tokyu1000_panto_placer_1;
}
switch(FEAT_TRAINS, SELF, sw_tokyu1000_panto_placer_main_1, num_vehs_in_vehid_chain+1){
    0..5:sw_tokyu1000_panto_placer_main_1_2;
    sw_tokyu1000_panto_placer_main_1_1;
}


switch(FEAT_TRAINS, SELF, sw_tokyu1000_fake_placer,position_in_vehid_chain +1){
    7: tokyu1000_end;
    8: tokyu1000_end_rev;
sw_tokyu1000_panto_placer_main_1;
}
switch(FEAT_TRAINS, SELF, sw_tokyu1000_fake_placer_rev,position_in_vehid_chain_from_end ){
    7: tokyu1000_end;
    8: tokyu1000_end_rev;
sw_tokyu1000_panto_placer_main_1;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu1000_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tokyu1000_fake_placer_rev;
    sw_tokyu1000_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tokyu1000_fake_placer_main,num_vehs_in_vehid_chain>11 - 1){
    1: sw_tokyu1000_fake_placer_gfx;
sw_tokyu1000_panto_placer_main_1;
}


switch(FEAT_TRAINS, SELF, sw_tokyu1000_end_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tokyu1000_end_gfx;
    default: sw_tokyu1000_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu1000_front_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tokyu1000_front_gfx;
    default: sw_tokyu1000_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu1000_livery_1_1,vehicle_type_id){
    mu_car_narrow:sw_tokyu1000_end_gfx_main;
    mu_car:sw_tokyu1000_end_gfx_main;
    sw_tokyu1000_front_gfx_main;
}




switch(FEAT_TRAINS, SELF, sw_tokyu1000_1_panto_placer,1+position_in_vehid_chain %2){
    1: tokyu1000_mot_1_rev;
    tokyu1000_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu1000_1_panto_placer_rev,position_in_vehid_chain_from_end %2){
    1: tokyu1000_mot_1;
    tokyu1000_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu1000_panto_placer_main_2,vehicle_is_reversed){
    1: sw_tokyu1000_1_panto_placer_rev;
    sw_tokyu1000_1_panto_placer;
}


switch(FEAT_TRAINS, SELF, sw_tokyu1000_1_fake_placer,position_in_vehid_chain +1){
    7: tokyu1000_end;
    8: tokyu1000_end_rev;
sw_tokyu1000_panto_placer_main_2;
}
switch(FEAT_TRAINS, SELF, sw_tokyu1000_1_fake_placer_rev,position_in_vehid_chain_from_end ){
    7: tokyu1000_end;
    8: tokyu1000_end_rev;
sw_tokyu1000_panto_placer_main_2;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu1000_1_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tokyu1000_1_fake_placer_rev;
    sw_tokyu1000_1_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tokyu1000_1_fake_placer_main,num_vehs_in_vehid_chain>11 - 1){
    1: sw_tokyu1000_1_fake_placer_gfx;
sw_tokyu1000_panto_placer_main_2;
}


switch(FEAT_TRAINS, SELF, sw_tokyu1000_1_end_gfx_main,position_in_vehid_chain_from_end){
    0: tokyu1000_end;
    default: sw_tokyu1000_1_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu1000_1_front_gfx_main,position_in_vehid_chain_from_end){
    0: tokyu1000_front;
    default: sw_tokyu1000_1_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu1000_livery_1_2,vehicle_type_id){
    mu_car_narrow:sw_tokyu1000_1_end_gfx_main;
    mu_car:sw_tokyu1000_1_end_gfx_main;
    sw_tokyu1000_1_front_gfx_main;
}



switch(FEAT_TRAINS, PARENT, sw_tokyu1000_2_front_gfx,vehicle_is_reversed){
    1: tokyu1000_2_front_mot;
    tokyu1000_2_front;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu1000_2_end_gfx,vehicle_is_reversed){
    1: tokyu1000_2_end;
    tokyu1000_2_end_mot;
}



switch(FEAT_TRAINS, SELF, sw_tokyu1000_2_panto_placer,1+position_in_vehid_chain %2){
    1: tokyu1000_2_mot_rev;
    tokyu1000_2_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu1000_2_panto_placer_rev,position_in_vehid_chain_from_end %2){
    1: tokyu1000_2_mot;
    tokyu1000_2_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu1000_2_panto_placer_main_1_1,vehicle_is_reversed){
    1: sw_tokyu1000_2_panto_placer_rev;
    sw_tokyu1000_2_panto_placer;
}

switch(FEAT_TRAINS, SELF, sw_tokyu1000_2_panto_placer_1,1+position_in_vehid_chain %3){
    1: tokyu1000_2_mot_rev;
    2: tokyu1000_2_mot_rev;
    tokyu1000_2_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu1000_2_panto_placer_1_rev,position_in_vehid_chain_from_end %3){
    1: tokyu1000_2_mot;
    2: tokyu1000_2_mot;
    tokyu1000_2_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu1000_2_panto_placer_main_1_2,vehicle_is_reversed){
    1: sw_tokyu1000_2_panto_placer_1_rev;
    sw_tokyu1000_2_panto_placer_1;
}
switch(FEAT_TRAINS, SELF, sw_tokyu1000_2_panto_placer_main_1, num_vehs_in_vehid_chain+1){
    0..5:sw_tokyu1000_2_panto_placer_main_1_2;
    sw_tokyu1000_2_panto_placer_main_1_1;
}


switch(FEAT_TRAINS, SELF, sw_tokyu1000_2_fake_placer,position_in_vehid_chain +1){
    7: tokyu1000_2_end;
    8: tokyu1000_2_end_rev;
sw_tokyu1000_2_panto_placer_main_1;
}
switch(FEAT_TRAINS, SELF, sw_tokyu1000_2_fake_placer_rev,position_in_vehid_chain_from_end ){
    7: tokyu1000_2_end;
    8: tokyu1000_2_end_rev;
sw_tokyu1000_2_panto_placer_main_1;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu1000_2_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tokyu1000_2_fake_placer_rev;
    sw_tokyu1000_2_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tokyu1000_2_fake_placer_main,num_vehs_in_vehid_chain>11 - 1){
    1: sw_tokyu1000_2_fake_placer_gfx;
sw_tokyu1000_2_panto_placer_main_1;
}


switch(FEAT_TRAINS, SELF, sw_tokyu1000_2_end_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tokyu1000_2_end_gfx;
    default: sw_tokyu1000_2_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu1000_2_front_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tokyu1000_2_front_gfx;
    default: sw_tokyu1000_2_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu1000_livery_2,vehicle_type_id){
    mu_car_narrow:sw_tokyu1000_2_end_gfx_main;
    mu_car:sw_tokyu1000_2_end_gfx_main;
    sw_tokyu1000_2_front_gfx_main;
}




switch(FEAT_TRAINS, SELF, sw_tokyu1000_3_panto_placer,1+position_in_vehid_chain %2){
    1: tokyu1000_3_mot_rev;
    tokyu1000_3_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu1000_3_panto_placer_rev,position_in_vehid_chain_from_end %2){
    1: tokyu1000_3_mot;
    tokyu1000_3_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu1000_3_panto_placer_main_1_1,vehicle_is_reversed){
    1: sw_tokyu1000_3_panto_placer_rev;
    sw_tokyu1000_3_panto_placer;
}

switch(FEAT_TRAINS, SELF, sw_tokyu1000_3_panto_placer_1,1+position_in_vehid_chain %3){
    1: tokyu1000_3_mot_rev;
    2: tokyu1000_3_mot_rev;
    tokyu1000_3_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu1000_3_panto_placer_1_rev,position_in_vehid_chain_from_end %3){
    1: tokyu1000_3_mot;
    2: tokyu1000_3_mot;
    tokyu1000_3_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu1000_3_panto_placer_main_1_2,vehicle_is_reversed){
    1: sw_tokyu1000_3_panto_placer_1_rev;
    sw_tokyu1000_3_panto_placer_1;
}
switch(FEAT_TRAINS, SELF, sw_tokyu1000_3_panto_placer_main_1, num_vehs_in_vehid_chain+1){
    0..5:sw_tokyu1000_3_panto_placer_main_1_2;
    sw_tokyu1000_3_panto_placer_main_1_1;
}


switch(FEAT_TRAINS, SELF, sw_tokyu1000_3_fake_placer,position_in_vehid_chain +1){
    7: tokyu1000_3_end;
    8: tokyu1000_3_end_rev;
sw_tokyu1000_3_panto_placer_main_1;
}
switch(FEAT_TRAINS, SELF, sw_tokyu1000_3_fake_placer_rev,position_in_vehid_chain_from_end ){
    7: tokyu1000_3_end;
    8: tokyu1000_3_end_rev;
sw_tokyu1000_3_panto_placer_main_1;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu1000_3_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tokyu1000_3_fake_placer_rev;
    sw_tokyu1000_3_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tokyu1000_3_fake_placer_main,num_vehs_in_vehid_chain>11 - 1){
    1: sw_tokyu1000_3_fake_placer_gfx;
sw_tokyu1000_3_panto_placer_main_1;
}


switch(FEAT_TRAINS, SELF, sw_tokyu1000_3_end_gfx_main,position_in_vehid_chain_from_end){
    0: tokyu1000_3_end;
    default: sw_tokyu1000_3_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu1000_3_front_gfx_main,position_in_vehid_chain_from_end){
    0: tokyu1000_3_front;
    default: sw_tokyu1000_3_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu1000_livery_3,vehicle_type_id){
    mu_car_narrow:sw_tokyu1000_3_end_gfx_main;
    sw_tokyu1000_3_front_gfx_main;
}




switch(FEAT_TRAINS, SELF, sw_tokyu1000_4_panto_placer,1+position_in_vehid_chain %3){
    1: tokyu1000_4_mot;
    tokyu1000_4_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu1000_4_panto_placer_rev,position_in_vehid_chain_from_end %3){
    1: tokyu1000_4_mot;
    tokyu1000_4_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu1000_4_panto_placer_main_3_1,vehicle_is_reversed){
    1: sw_tokyu1000_4_panto_placer_rev;
    sw_tokyu1000_4_panto_placer;
}

switch(FEAT_TRAINS, SELF, sw_tokyu1000_4_panto_placer_1,1+position_in_vehid_chain %2){
    1: tokyu1000_4_mot;
    tokyu1000_4_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu1000_4_panto_placer_1_rev,position_in_vehid_chain_from_end %2){
    1: tokyu1000_4_mot;
    tokyu1000_4_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu1000_4_panto_placer_main_3_2,vehicle_is_reversed){
    1: sw_tokyu1000_4_panto_placer_1_rev;
    sw_tokyu1000_4_panto_placer_1;
}

switch(FEAT_TRAINS, SELF,sw_tokyu1000_4_panto_placer_main_3,num_vehs_in_vehid_chain+1){
    5: sw_tokyu1000_4_panto_placer_main_3_2;
    sw_tokyu1000_4_panto_placer_main_3_1;
}


switch(FEAT_TRAINS, SELF, sw_tokyu1000_4_fake_placer,position_in_vehid_chain +1){
    2: tokyu1000_4_end;
    3: tokyu1000_4_end_rev;
sw_tokyu1000_4_panto_placer_main_3;
}
switch(FEAT_TRAINS, SELF, sw_tokyu1000_4_fake_placer_rev,position_in_vehid_chain_from_end ){
    2: tokyu1000_4_end;
    3: tokyu1000_4_end_rev;
sw_tokyu1000_4_panto_placer_main_3;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu1000_4_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tokyu1000_4_fake_placer_rev;
    sw_tokyu1000_4_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tokyu1000_4_fake_placer_main,num_vehs_in_vehid_chain>5 - 1){
    1: sw_tokyu1000_4_fake_placer_gfx;
sw_tokyu1000_4_panto_placer_main_3;
}


switch(FEAT_TRAINS, SELF, sw_tokyu1000_4_end_gfx_main,position_in_vehid_chain_from_end){
    0: tokyu1000_4_end;
    default: sw_tokyu1000_4_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu1000_4_front_gfx_main,position_in_vehid_chain_from_end){
    0: tokyu1000_4_front;
    default: sw_tokyu1000_4_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu1000_livery_4,vehicle_type_id){
    mu_car_narrow:sw_tokyu1000_4_end_gfx_main;
    mu_car:sw_tokyu1000_4_end_gfx_main;
    sw_tokyu1000_4_front_gfx_main;
}



random_switch(FEAT_TRAINS, PARENT, sw_tokyu1000_livery_1_random){
    2:sw_tokyu1000_livery_1_1;
    1:sw_tokyu1000_livery_1_2;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu1000_livery_1_gfx, build_year>2000){
    1:sw_tokyu1000_livery_1_random;
    sw_tokyu1000_livery_1_2;
}
switch(FEAT_TRAINS, SELF, sw_tokyu1000_livery_1, num_vehs_in_vehid_chain+1){
    0..5:sw_tokyu1000_livery_1_1;
    sw_tokyu1000_livery_1_gfx;
}

random_switch(FEAT_TRAINS, PARENT, sw_tokyu1000_livery_0){
    5:sw_tokyu1000_livery_1;
    1:sw_tokyu1000_livery_2;
    1:sw_tokyu1000_livery_3;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu1000_lv,cargo_subtype){
    0:sw_tokyu1000_livery_0;
    1:sw_tokyu1000_livery_1;
    2:sw_tokyu1000_livery_2;
    3:sw_tokyu1000_livery_3;
    4:sw_tokyu1000_livery_4;
}
switch(FEAT_TRAINS, SELF, sw_tokyu1000_lv_desc,cargo_subtype){
    0:string(LV_RANDOM);
    1:string(LV_DEFAULT);
    2:string(LV_tokyu1000_2);
    3:string(LV_tokyu1000_3);
    4:string(LV_tokyu1000_4);
}



switch(FEAT_TRAINS, SELF, sw_tokyu1000_capacity,position_in_vehid_chain_from_end){
    0: 125*param_capacity_mod/3;
    default: 135*param_capacity_mod/3;
}
switch(FEAT_TRAINS, SELF, sw_tokyu1000_capacity_1,position_in_vehid_chain){
    0: 125*param_capacity_mod/3;
    default: sw_tokyu1000_capacity;
}
switch(FEAT_TRAINS, SELF, sw_tokyu1000_capacity_main,vehicle_type_id){
    mu_car_narrow:sw_tokyu1000_capacity;
    mu_car:sw_tokyu1000_capacity;
    sw_tokyu1000_capacity_1;
}


switch(FEAT_TRAINS, SELF, tokyu1000_attach_vehid, vehicle_type_id) {
  mu_car: return string(STR_ATTACH_1067_ERROR);
  mu_car_metro: return string(STR_ATTACH_1067_ERROR);
  return CB_RESULT_ATTACH_ALLOW;
}

item(FEAT_TRAINS, tokyu1000,2015) {
    property {
        cargo_capacity: 130;
        climates_available: param_disable_tokyu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        name: string(STR_TRAIN_NAME, string(STR_NAME_TOKYU), "1000", string(STR_NAME_SERIES));
        introduction_date: date(1986, 1, 1);
        model_life: 20;
        vehicle_life: 36;
        reliability_decay: 10;

        cost_factor: 19;
        running_cost_factor: 49;
        speed: 110 km/h;
        track_type: TR_1067_DC;
        power: 520 kW;
        weight: 32 ton;
        loading_speed: param_loading_3D;
    }
 graphics {
        default: sw_tokyu1000_lv;
        purchase: tokyu1000_purchase;
        can_attach_wagon: tokyu1000_attach_vehid;
        start_stop: sw_stop_start_3;
        cargo_capacity: sw_tokyu1000_capacity_main;
        cargo_subtype_text: sw_tokyu1000_lv_desc;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_2, 3,8)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_TOKYU)));
    }
    livery_override(mu_car_narrow){
        loading_speed: param_loading_3D;
        cargo_capacity: sw_tokyu1000_capacity_main;
        default: sw_tokyu1000_lv;
        power: 697*5/7;
        weight: 31;
      }
}
# 21 "src/_private.pnml" 2
# 1 "src/private/Kanto/tokyu/tokyu2000.pnml" 1



spriteset(tokyu2000_2_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu2000/tokyu2000.png"){ tmpl_std(0, 0) }
spriteset(tokyu2000_2_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu2000/tokyu2000.png"){ tmpl_std_rev(0, 25) }
spriteset(tokyu2000_2_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu2000/tokyu2000.png"){ tmpl_std(0, 25) }
spriteset(tokyu2000_2_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu2000/tokyu2000.png"){ tmpl_symm(0, 50) }
spriteset(tokyu2000_2_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu2000/tokyu2000.png"){ tmpl_symm(0, 75) }




switch(FEAT_TRAINS, SELF, sw_tokyu2000_panto_placer,1+position_in_vehid_chain %3){
    2: tokyu9000_mot_1_rev;
    tokyu9000_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu2000_panto_placer_rev,position_in_vehid_chain_from_end %3){
    2: tokyu9000_mot_1;
    tokyu9000_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu2000_panto_placer_main_1,vehicle_is_reversed){
    1: sw_tokyu2000_panto_placer_rev;
    sw_tokyu2000_panto_placer;
}

switch(FEAT_TRAINS, SELF, sw_tokyu2000_panto_placer_1,1+position_in_vehid_chain %4){
    1: tokyu9000_mot;
    2: tokyu9000_mot;
    tokyu9000_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu2000_panto_placer_1_rev,position_in_vehid_chain_from_end %4){
    1: tokyu9000_mot_rev;
    2: tokyu9000_mot_rev;
    tokyu9000_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu2000_panto_placer_main_2,vehicle_is_reversed){
    1: sw_tokyu2000_panto_placer_1_rev;
    sw_tokyu2000_panto_placer_1;
}

switch(FEAT_TRAINS, SELF, sw_tokyu2000_panto_placer_2,1+position_in_vehid_chain %3){
    2: tokyu2000_2_mot;
    tokyu2000_2_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu2000_panto_placer_2_rev,position_in_vehid_chain_from_end %3){
    2: tokyu2000_2_mot;
    tokyu2000_2_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu2000_panto_placer_main_3,vehicle_is_reversed){
    1: sw_tokyu2000_panto_placer_2_rev;
    sw_tokyu2000_panto_placer_2;
}

switch(FEAT_TRAINS, PARENT, sw_tokyu2000_panto_placer_time, build_year){
    0..2016:sw_tokyu2000_panto_placer_main_1;
    sw_tokyu2000_panto_placer_main_3;
}
switch(FEAT_TRAINS, SELF, sw_tokyu2000_panto_placer_main,num_vehs_in_vehid_chain+1){
    0..6: sw_tokyu2000_panto_placer_main_2;
    sw_tokyu2000_panto_placer_time;
}


switch(FEAT_TRAINS, SELF, sw_tokyu2000_fake_placer,position_in_vehid_chain +1){
    7: tokyu9000_end;
    8: tokyu9000_end_rev;
sw_tokyu2000_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu2000_fake_placer_rev,position_in_vehid_chain_from_end ){
    7: tokyu9000_end;
    8: tokyu9000_end_rev;
sw_tokyu2000_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu2000_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tokyu2000_fake_placer_rev;
    sw_tokyu2000_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tokyu2000_fake_placer_main,num_vehs_in_vehid_chain>11 - 1){
    1: sw_tokyu2000_fake_placer_gfx;
sw_tokyu2000_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tokyu2000_end_gfx_main,position_in_vehid_chain_from_end){
    0: tokyu9000_end;
    default: sw_tokyu2000_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu2000_front_gfx_main,position_in_vehid_chain_from_end){
    0: tokyu9000_front;
    default: sw_tokyu2000_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu2000_livery_1_1,vehicle_type_id){
    mu_car_narrow:sw_tokyu2000_end_gfx_main;
    mu_car:sw_tokyu2000_end_gfx_main;
    sw_tokyu2000_front_gfx_main;
}



switch(FEAT_TRAINS, SELF, sw_tokyu2000_1_end_gfx_main,position_in_vehid_chain_from_end){
    0: tokyu9000_1_end;
    default: sw_tokyu2000_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu2000_1_front_gfx_main,position_in_vehid_chain_from_end){
    0: tokyu9000_1_front;
    default: sw_tokyu2000_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu2000_livery_1_2,vehicle_type_id){
    mu_car_narrow:sw_tokyu2000_1_end_gfx_main;
    mu_car:sw_tokyu2000_1_end_gfx_main;
    sw_tokyu2000_1_front_gfx_main;
}

random_switch(FEAT_TRAINS, PARENT, sw_tokyu2000_livery_1){
    2:sw_tokyu2000_livery_1_2;
    1:sw_tokyu2000_livery_1_1;
}




switch(FEAT_TRAINS, SELF, sw_tokyu2000_2_panto_placer,1+position_in_vehid_chain %2){
    1: tokyu2000_2_mot;
    tokyu2000_2_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu2000_2_panto_placer_rev,position_in_vehid_chain_from_end %2){
    1: tokyu2000_2_mot;
    tokyu2000_2_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu2000_2_panto_placer_main,vehicle_is_reversed){
    1: sw_tokyu2000_2_panto_placer_rev;
    sw_tokyu2000_2_panto_placer;
}


switch(FEAT_TRAINS, SELF, sw_tokyu2000_2_fake_placer,position_in_vehid_chain +1){
    4: tokyu2000_2_end;
    5: tokyu2000_2_end_rev;
sw_tokyu2000_2_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu2000_2_fake_placer_rev,position_in_vehid_chain_from_end ){
    4: tokyu2000_2_end;
    5: tokyu2000_2_end_rev;
sw_tokyu2000_2_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu2000_2_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tokyu2000_2_fake_placer_rev;
    sw_tokyu2000_2_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tokyu2000_2_fake_placer_main,num_vehs_in_vehid_chain>9 - 1){
    1: sw_tokyu2000_2_fake_placer_gfx;
sw_tokyu2000_2_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tokyu2000_2_end_gfx_main,position_in_vehid_chain_from_end){
    0: tokyu2000_2_end;
    default: sw_tokyu2000_2_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu2000_2_front_gfx_main,position_in_vehid_chain_from_end){
    0: tokyu2000_2_front;
    default: sw_tokyu2000_2_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu2000_livery_2,vehicle_type_id){
    mu_car_narrow:sw_tokyu2000_2_end_gfx_main;
    sw_tokyu2000_2_front_gfx_main;
}


switch(FEAT_TRAINS, PARENT, sw_tokyu2000_lv,cargo_subtype){
    0: sw_tokyu2000_livery_1;
    1: sw_tokyu2000_livery_2;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu2000_lv_desc,cargo_subtype){
    0: string(LV_DEFAULT);
    1: string(LV_tokyu9000_2);
}



switch(FEAT_TRAINS, PARENT, sw_tokyu2000_power_time, build_year){
    0..2016: 680*1342/1000;
     700*1342/1000;
}

switch(FEAT_TRAINS, SELF, sw_tokyu2000_capacity,position_in_vehid_chain_from_end){
    0: 130*param_capacity_mod/3;
    default: 144*param_capacity_mod/3;
}
switch(FEAT_TRAINS, SELF, sw_tokyu2000_capacity_1,position_in_vehid_chain){
    0: 130*param_capacity_mod/3;
    default: sw_tokyu2000_capacity;
}
switch(FEAT_TRAINS, SELF, sw_tokyu2000_capacity_main,vehicle_type_id){
    mu_car_narrow:sw_tokyu2000_capacity;
    sw_tokyu2000_capacity_1;
}


switch(FEAT_TRAINS, SELF, tokyu2000_attach_vehid, vehicle_type_id) {
  mu_car: return string(STR_ATTACH_1067_ERROR);
  mu_car_metro: return string(STR_ATTACH_1067_ERROR);
  return CB_RESULT_ATTACH_ALLOW;
}

item(FEAT_TRAINS, tokyu2000,2016) {
    property {
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        ai_special_flag: AI_FLAG_PASSENGER;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        sprite_id: SPRITE_ID_NEW_TRAIN;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        tractive_effort_coefficient: 0.3;
        cargo_capacity: 39;
        power: 39;
        air_drag_coefficient: 0.07;

        track_type: TR_1067_DC;
        climates_available: param_disable_tokyu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        name: string(STR_TRAIN_NAME, string(STR_NAME_TOKYU), "9020/2000", string(STR_NAME_SERIES));
        introduction_date: date(1992, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cost_factor: 23;
        running_cost_factor: 52;
        speed: 120 km/h;
        weight: 33 ton;
        loading_speed: param_loading_4D;
    }
 graphics {
        default: sw_tokyu2000_lv;
        power: sw_tokyu2000_power_time;
        purchase: tokyu9000_purchase;
        can_attach_wagon: tokyu2000_attach_vehid;
        start_stop: sw_stop_start_3;
        cargo_capacity: sw_tokyu2000_capacity_main;
        cargo_subtype_text: sw_tokyu2000_lv_desc;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_3, 5,8,10)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_TOKYU)));
    }
    livery_override(mu_car_narrow){
        loading_speed: param_loading_4D;
        cargo_capacity: sw_tokyu2000_capacity_main;
        default: sw_tokyu2000_lv;
        power:sw_tokyu2000_power_time()*5/9;
        weight: 31;
      }
}
# 22 "src/_private.pnml" 2
# 1 "src/private/Kanto/tokyu/tokyu3000.pnml" 1

  spriteset(tokyu3000_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu3000/tokyu3000.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(tokyu3000_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu3000/tokyu3000.png"){ tmpl_purchase_2c(0, 100) }
  switch(FEAT_TRAINS, SELF, tokyu3000_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_tokyu; 1: tokyu3000_purchase_c1; 2: tokyu3000_purchase_c2;}

spriteset(tokyu3000_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu3000/tokyu3000.png"){ tmpl_std(0, 0) }
spriteset(tokyu3000_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu3000/tokyu3000.png"){ tmpl_std_rev(0, 25) }
spriteset(tokyu3000_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu3000/tokyu3000.png"){ tmpl_std(0, 25) }
spriteset(tokyu3000_mot_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu3000/tokyu3000.png"){ tmpl_std(0, 50) }
spriteset(tokyu3000_mot_1_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu3000/tokyu3000.png"){ tmpl_std_rev(0, 50) }
spriteset(tokyu3000_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu3000/tokyu3000.png"){ tmpl_symm(0, 75) }
spriteset(tokyu3000_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu3000/tokyu3000.png"){ tmpl_symm(0, 100) }




switch(FEAT_TRAINS, SELF, sw_tokyu3000_panto_placer_1,1+position_in_vehid_chain %7){
    2: tokyu3000_mot;
    4: tokyu3000_mot_1;
    6: tokyu3000_mot;
    tokyu3000_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu3000_panto_placer_1_rev,position_in_vehid_chain_from_end %7){
    2: tokyu3000_mot;
    4: tokyu3000_mot_1_rev;
    6: tokyu3000_mot;
    tokyu3000_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu3000_panto_placer_main_1,vehicle_is_reversed){
    1: sw_tokyu3000_panto_placer_1_rev;
    sw_tokyu3000_panto_placer_1;
}


switch(FEAT_TRAINS, SELF, sw_tokyu3000_panto_placer_2,1+position_in_vehid_chain %5){
    2: tokyu3000_mot;
    4: tokyu3000_mot;
    tokyu3000_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu3000_panto_placer_2_rev,position_in_vehid_chain_from_end %5){
    2: tokyu3000_mot;
    4: tokyu3000_mot;
    tokyu3000_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu3000_panto_placer_main_2,vehicle_is_reversed){
    1: sw_tokyu3000_panto_placer_2_rev;
    sw_tokyu3000_panto_placer_2;
}


switch(FEAT_TRAINS, SELF, sw_tokyu3000_panto_placer_3,1+position_in_vehid_chain %4){
    2: tokyu3000_mot;
    tokyu3000_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu3000_panto_placer_3_rev,position_in_vehid_chain_from_end %4){
    2: tokyu3000_mot;
    tokyu3000_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu3000_panto_placer_main_3,vehicle_is_reversed){
    1: sw_tokyu3000_panto_placer_3_rev;
    sw_tokyu3000_panto_placer_3;
}


switch(FEAT_TRAINS, SELF, sw_tokyu3000_panto_placer_4,1+position_in_vehid_chain %3){
    1: tokyu3000_mot;
    tokyu3000_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu3000_panto_placer_4_rev,position_in_vehid_chain_from_end %3){
    1: tokyu3000_mot;
    tokyu3000_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu3000_panto_placer_main_4,vehicle_is_reversed){
    1: sw_tokyu3000_panto_placer_4_rev;
    sw_tokyu3000_panto_placer_4;
}
switch(FEAT_TRAINS,PARENT,sw_tokyu3000_panto_placer_time,(build_year<2000||date_of_last_service<2000)){
    1:sw_tokyu3000_panto_placer_main_3;
    sw_tokyu3000_panto_placer_main_1;
}
switch(FEAT_TRAINS, SELF, sw_tokyu3000_panto_placer_main,num_vehs_in_vehid_chain+1){
    0..3:sw_tokyu3000_panto_placer_main_4;
    4..7: sw_tokyu3000_panto_placer_main_2;
    sw_tokyu3000_panto_placer_time;
}


switch(FEAT_TRAINS, SELF, sw_tokyu3000_fake_placer,position_in_vehid_chain +1){
    7: tokyu3000_end;
    8: tokyu3000_end_rev;
sw_tokyu3000_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu3000_fake_placer_rev,position_in_vehid_chain_from_end ){
    7: tokyu3000_end;
    8: tokyu3000_end_rev;
sw_tokyu3000_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu3000_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tokyu3000_fake_placer_rev;
    sw_tokyu3000_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tokyu3000_fake_placer_main,num_vehs_in_vehid_chain>11 - 1){
    1: sw_tokyu3000_fake_placer_gfx;
sw_tokyu3000_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tokyu3000_end_gfx_main,position_in_vehid_chain_from_end){
    0: tokyu3000_end;
    default: sw_tokyu3000_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu3000_front_gfx_main,position_in_vehid_chain_from_end){
    0: tokyu3000_front;
    default: sw_tokyu3000_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu3000_lv,vehicle_type_id){
    mu_car_narrow:sw_tokyu3000_end_gfx_main;
    sw_tokyu3000_front_gfx_main;
}



switch(FEAT_TRAINS, SELF, sw_tokyu3000_capacity,position_in_vehid_chain_from_end){
    0: 141*param_capacity_mod/3;
    default: 151*param_capacity_mod/3;
}
switch(FEAT_TRAINS, SELF, sw_tokyu3000_capacity_1,position_in_vehid_chain){
    0: 141*param_capacity_mod/3;
    default: sw_tokyu3000_capacity;
}
switch(FEAT_TRAINS, SELF, sw_tokyu3000_capacity_main,vehicle_type_id){
    mu_car_narrow:sw_tokyu3000_capacity;
    mu_car:sw_tokyu3000_capacity;
    sw_tokyu3000_capacity_1;
}


switch(FEAT_TRAINS, SELF, tokyu3000_attach_vehid, vehicle_type_id) {
  mu_car: return string(STR_ATTACH_1067_ERROR);
  mu_car_metro: return string(STR_ATTACH_1067_ERROR);
  return CB_RESULT_ATTACH_ALLOW;
}

item(FEAT_TRAINS, tokyu3000,2017) {
    property {
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        sprite_id: SPRITE_ID_NEW_TRAIN;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        tractive_effort_coefficient: 0.3;
        cargo_capacity: 130;
        air_drag_coefficient: 0.07;
        ai_special_flag: AI_FLAG_PASSENGER;

        climates_available: param_disable_tokyu == 0 ? ALL_CLIMATES : NO_CLIMATE;

        name: string(STR_TRAIN_NAME, string(STR_NAME_TOKYU), "3000", string(STR_NAME_SERIES));
        introduction_date: date(1999, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cost_factor: 22;
        running_cost_factor: 52;
        speed: 120 km/h;
        track_type: TR_1067_DC;
        power: 760 kW;
        weight: 32 ton;
        loading_speed: param_loading_4D;
    }
 graphics {
        default: sw_tokyu3000_lv;
        purchase: tokyu3000_purchase;
        can_attach_wagon: tokyu3000_attach_vehid;
        start_stop: sw_stop_start_3;
        cargo_capacity: sw_tokyu3000_capacity_main;

        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_2, 6,8)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_TOKYU)));
    }
    livery_override(mu_car_narrow){
        loading_speed: param_loading_4D;
        cargo_capacity: sw_tokyu3000_capacity_main;
        default: sw_tokyu3000_lv;
        power:1019*3/8;
        weight: 30;
      }
}
# 23 "src/_private.pnml" 2
# 1 "src/private/Kanto/tokyu/y000.pnml" 1

  spriteset(y000_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu3000/y000.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(y000_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu3000/y000.png"){ tmpl_purchase_2c(0, 75) }
  switch(FEAT_TRAINS, SELF, y000_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_minatomirai; 1: y000_purchase_c1; 2: y000_purchase_c2;}

spriteset(y000_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu3000/y000.png"){ tmpl_std(0, 0) }
spriteset(y000_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu3000/y000.png"){ tmpl_std_rev(0, 25) }
spriteset(y000_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu3000/y000.png"){ tmpl_std(0, 100) }
spriteset(y000_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu3000/y000.png"){ tmpl_std_rev(0, 125) }
spriteset(y000_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu3000/y000.png"){ tmpl_symm(0, 50) }
spriteset(y000_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu3000/y000.png"){ tmpl_symm(0, 75) }
spriteset(y000_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu3000/y000.png"){ tmpl_std(0, 150) }
spriteset(y000_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu3000/y000.png"){ tmpl_std_rev(0, 150) }
spriteset(y000_front_mot_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu3000/y000.png"){ tmpl_std(0, 175) }
spriteset(y000_end_mot_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu3000/y000.png"){ tmpl_std_rev(0, 175) }




switch(FEAT_TRAINS,SELF,sw_y000_front_pos_check_1,position_in_vehid_chain_from_end){
    0:y000_front;
    y000_front_f;
}
switch(FEAT_TRAINS,SELF,sw_y000_front_pos_check_2,position_in_vehid_chain_from_end){
    0:y000_front_mot;
    y000_front_mot_f;
}
switch(FEAT_TRAINS, PARENT, sw_y000_front_gfx,vehicle_is_reversed){
    1: sw_y000_front_pos_check_2;
    sw_y000_front_pos_check_1;
}

switch(FEAT_TRAINS,SELF,sw_y000_end_pos_check_1,position_in_vehid_chain_from_end){
    0:y000_end;
    y000_end_f;
}
switch(FEAT_TRAINS,SELF,sw_y000_end_pos_check_2,position_in_vehid_chain_from_end){
    0:y000_end_mot;
    y000_end_mot_f;
}
switch(FEAT_TRAINS, PARENT, sw_y000_end_gfx,vehicle_is_reversed){
    1: sw_y000_end_pos_check_1;
    sw_y000_end_pos_check_2;
}

switch(FEAT_TRAINS,SELF,sw_y000_panto_placer_check_1,1+position_in_vehid_chain<2){
    1:y000_wag;
    y000_mot;
}
switch(FEAT_TRAINS,SELF,sw_y000_panto_placer_check_2,position_in_vehid_chain_from_end<2){
    1:y000_wag;
    y000_mot;
}
switch(FEAT_TRAINS,PARENT,sw_y000_panto_placer_check,vehicle_is_reversed){
    1:sw_y000_panto_placer_check_1;
    sw_y000_panto_placer_check_2;
}



switch(FEAT_TRAINS, SELF, sw_y000_panto_placer_1,1+position_in_vehid_chain %3){
    1: sw_y000_panto_placer_check;
    y000_wag;
}
switch(FEAT_TRAINS, SELF, sw_y000_panto_placer_1_rev,position_in_vehid_chain_from_end %3){
    1: sw_y000_panto_placer_check;
    y000_wag;
}
switch(FEAT_TRAINS, PARENT, sw_y000_panto_placer_main,vehicle_is_reversed){
    1: sw_y000_panto_placer_1_rev;
    sw_y000_panto_placer_1;
}



switch(FEAT_TRAINS, SELF, sw_y000_fake_placer,position_in_vehid_chain +1){
    1: sw_y000_end_gfx;
    2: sw_y000_front_gfx;
sw_y000_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_y000_fake_placer_rev,position_in_vehid_chain_from_end ){
    1: sw_y000_front_gfx;
    2: sw_y000_end_gfx;
sw_y000_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_y000_fake_placer_gfx,vehicle_is_reversed){
    1: sw_y000_fake_placer_rev;
    sw_y000_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_y000_fake_placer_main_1,num_vehs_in_vehid_chain>3 - 1){
    1: sw_y000_fake_placer_gfx;
sw_y000_panto_placer_main;
}

switch(FEAT_TRAINS, SELF, sw_y000_fake_placer_2,position_in_vehid_chain +1){
    4: sw_y000_end_gfx;
    5: sw_y000_front_gfx;
sw_y000_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_y000_fake_placer_2_rev,position_in_vehid_chain_from_end ){
    4: sw_y000_front_gfx;
    5: sw_y000_end_gfx;
sw_y000_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_y000_fake_placer_2_gfx,vehicle_is_reversed){
    1: sw_y000_fake_placer_2_rev;
    sw_y000_fake_placer_2;
}
switch(FEAT_TRAINS, SELF, sw_y000_fake_placer_main_2,num_vehs_in_vehid_chain>6 - 1){
    1: sw_y000_fake_placer_2_gfx;
sw_y000_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_y000_fake_placer_main, num_vehs_in_vehid_chain+1){
    0..4:sw_y000_fake_placer_main_1;
    sw_y000_fake_placer_main_2;
}


switch(FEAT_TRAINS, SELF, sw_y000_end_gfx_main,position_in_vehid_chain_from_end){
    0: sw_y000_end_gfx;
    default: sw_y000_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_y000_front_gfx_main,position_in_vehid_chain_from_end){
    0: sw_y000_front_gfx;
    default: sw_y000_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_y000_lv,vehicle_type_id){
    mu_car_narrow:sw_y000_end_gfx_main;
    sw_y000_front_gfx_main;
}




switch(FEAT_TRAINS, PARENT, sw_tokyu2000_power, num_vehs_in_consist){
    2: 0;
    760*1342/2000;
}


switch(FEAT_TRAINS, SELF, y000_attach_vehid, vehicle_type_id) {
  mu_car: return string(STR_ATTACH_1067_ERROR);
  mu_car_metro: return string(STR_ATTACH_1067_ERROR);
  return CB_RESULT_ATTACH_ALLOW;
}

item(FEAT_TRAINS, y000,2018) {
    property {
        cargo_capacity: 130;
        climates_available: param_disable_tokyu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        name: string(STR_TRAIN_NAME, string(STR_NAME_MINATO), "Y000", string(STR_NAME_SERIES));
        introduction_date: date(1999, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;
        variant_group:2017;

        cost_factor: 22;
        running_cost_factor: 52;
        speed: 120 km/h;
        track_type: TR_1067_DC;
        power: 760 kW;
        weight: 32 ton;
        loading_speed: param_loading_4D;
    }
 graphics {
        default: sw_y000_lv;
        purchase: y000_purchase;
        can_attach_wagon: y000_attach_vehid;
        start_stop: sw_stop_start_2;
        cargo_capacity: 141*param_capacity_mod/3;

        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 2)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_MINATO)));
    }
    livery_override(mu_car_narrow){
        loading_speed: param_loading_4D;
        cargo_capacity: 141*param_capacity_mod/3;
        default: sw_y000_lv;
        power:sw_tokyu2000_power()/4;
        weight: 30;
      }
}
# 24 "src/_private.pnml" 2
# 1 "src/private/Kanto/tokyu/tokyu5000.pnml" 1

  spriteset(tokyu5000_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000/tokyu5000.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(tokyu5000_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000/tokyu5000.png"){ tmpl_purchase_2c(0, 75) }
  switch(FEAT_TRAINS, SELF, tokyu5000_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_tokyu; 1: tokyu5000_purchase_c1; 2: tokyu5000_purchase_c2;}

spriteset(tokyu5000_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000/tokyu5000.png"){ tmpl_std(0, 0) }
spriteset(tokyu5000_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000/tokyu5000.png"){ tmpl_std_rev(0, 25) }
spriteset(tokyu5000_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000/tokyu5000.png"){ tmpl_std(0, 25) }
spriteset(tokyu5000_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000/tokyu5000.png"){ tmpl_symm(0, 50) }
spriteset(tokyu5000_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000/tokyu5000.png"){ tmpl_symm(0, 75) }
spriteset(tokyu5000_mot_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000/tokyu5000.png"){ tmpl_std(0, 100) }
spriteset(tokyu5000_mot_1_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000/tokyu5000.png"){ tmpl_std_rev(0, 100) }
spriteset(tokyu5000_mot_6D, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000/tokyu5000.png"){ tmpl_symm(0, 125) }
spriteset(tokyu5000_wag_6D, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000/tokyu5000.png"){ tmpl_symm(0, 150) }

spriteset(tokyu5050_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000/tokyu5050.png"){ tmpl_std(0, 0) }
spriteset(tokyu5050_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000/tokyu5050.png"){ tmpl_std_rev(0, 25) }
spriteset(tokyu5050_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000/tokyu5050.png"){ tmpl_std(0, 25) }
spriteset(tokyu5050_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000/tokyu5050.png"){ tmpl_symm(0, 50) }
spriteset(tokyu5050_mot_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000/tokyu5050.png"){ tmpl_std(0, 75) }
spriteset(tokyu5050_mot_1_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000/tokyu5050.png"){ tmpl_std_rev(0, 75) }
spriteset(tokyu5050_mot_1_Qseat, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000/tokyu5050.png"){ tmpl_std(0, 100) }
spriteset(tokyu5050_mot_1_rev_Qseat, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000/tokyu5050.png"){ tmpl_std_rev(0, 100) }
spriteset(tokyu5050_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000/tokyu5050.png"){ tmpl_symm(0, 125) }
spriteset(tokyu5050_wag_Qseat, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000/tokyu5050.png"){ tmpl_symm(0, 150) }

spriteset(tokyu5050_2_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000/tokyu5050_1.png"){ tmpl_std(0, 0) }
spriteset(tokyu5050_2_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000/tokyu5050_1.png"){ tmpl_std_rev(0, 25) }
spriteset(tokyu5050_2_mot_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000/tokyu5050_1.png"){ tmpl_std(0, 50) }
spriteset(tokyu5050_2_mot_1_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000/tokyu5050_1.png"){ tmpl_std_rev(0, 50) }
spriteset(tokyu5050_2_mot_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000/tokyu5050_1.png"){ tmpl_std(0, 75) }
spriteset(tokyu5050_2_mot_2_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000/tokyu5050_1.png"){ tmpl_std_rev(0, 75) }
spriteset(tokyu5050_2_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000/tokyu5050_1.png"){ tmpl_std(0, 100) }
spriteset(tokyu5050_2_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000/tokyu5050_1.png"){ tmpl_std_rev(0, 100) }
spriteset(tokyu5050_2_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000/tokyu5050_1.png"){ tmpl_std(0, 125) }
spriteset(tokyu5050_2_wag_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000/tokyu5050_1.png"){ tmpl_std_rev(0, 125) }

spriteset(tokyu5050_3_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000/tokyu5050_2.png"){ tmpl_std(0, 0) }
spriteset(tokyu5050_3_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000/tokyu5050_2.png"){ tmpl_std_rev(0, 25) }
spriteset(tokyu5050_3_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000/tokyu5050_2.png"){ tmpl_std(0, 25) }
spriteset(tokyu5050_3_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000/tokyu5050_2.png"){ tmpl_symm(0, 50) }
spriteset(tokyu5050_3_mot_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000/tokyu5050_2.png"){ tmpl_std(0, 75) }
spriteset(tokyu5050_3_mot_1_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000/tokyu5050_2.png"){ tmpl_std_rev(0, 75) }
spriteset(tokyu5050_3_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000/tokyu5050_2.png"){ tmpl_symm(0, 100) }

spriteset(tokyu5050_4_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000/tokyu5050_3.png"){ tmpl_std(0, 0) }
spriteset(tokyu5050_4_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000/tokyu5050_3.png"){ tmpl_std_rev(0, 25) }
spriteset(tokyu5050_4_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000/tokyu5050_3.png"){ tmpl_std(0, 25) }
spriteset(tokyu5050_4_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000/tokyu5050_3.png"){ tmpl_symm(0, 50) }
spriteset(tokyu5050_4_mot_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000/tokyu5050_3.png"){ tmpl_std(0, 75) }
spriteset(tokyu5050_4_mot_1_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000/tokyu5050_3.png"){ tmpl_std_rev(0, 75) }
spriteset(tokyu5050_4_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000/tokyu5050_3.png"){ tmpl_symm(0, 100) }

spriteset(tokyu5080_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000/tokyu5080.png"){ tmpl_std(0, 0) }
spriteset(tokyu5080_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000/tokyu5080.png"){ tmpl_std_rev(0, 25) }
spriteset(tokyu5080_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000/tokyu5080.png"){ tmpl_std(0, 25) }
spriteset(tokyu5080_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000/tokyu5080.png"){ tmpl_symm(0, 50) }
spriteset(tokyu5080_mot_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000/tokyu5080.png"){ tmpl_std(0, 75) }
spriteset(tokyu5080_mot_1_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000/tokyu5080.png"){ tmpl_std_rev(0, 75) }
spriteset(tokyu5080_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000/tokyu5080.png"){ tmpl_symm(0, 100) }




switch(FEAT_TRAINS, SELF, sw_tokyu5000_panto_placer_1,1+position_in_vehid_chain %9){
    1: tokyu5000_mot_1;
    4: tokyu5000_mot;
    8: tokyu5000_mot;
    tokyu5000_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5000_panto_placer_1_rev,position_in_vehid_chain_from_end %9){
    1: tokyu5000_mot_1_rev;
    4: tokyu5000_mot;
    8: tokyu5000_mot;
    tokyu5000_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu5000_panto_placer_main_1,vehicle_is_reversed){
    1: sw_tokyu5000_panto_placer_1_rev;
    sw_tokyu5000_panto_placer_1;
}


switch(FEAT_TRAINS, SELF, sw_tokyu5000_panto_placer_2,1+position_in_vehid_chain %9){
    2: tokyu5000_mot;
    6: tokyu5000_mot;
    8: tokyu5000_mot_1;
    tokyu5000_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5000_panto_placer_2_rev,position_in_vehid_chain_from_end %9){
    2: tokyu5000_mot;
    6: tokyu5000_mot;
    8: tokyu5000_mot_1_rev;
    tokyu5000_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu5000_panto_placer_main_2,vehicle_is_reversed){
    1: sw_tokyu5000_panto_placer_2_rev;
    sw_tokyu5000_panto_placer_2;
}


switch(FEAT_TRAINS, SELF, sw_tokyu5000_panto_placer_3,1+position_in_vehid_chain %3){
    1: tokyu5000_mot;
    tokyu5000_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5000_panto_placer_3_rev,position_in_vehid_chain_from_end %3){
    1: tokyu5000_mot;
    tokyu5000_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu5000_panto_placer_main_3,vehicle_is_reversed){
    1: sw_tokyu5000_panto_placer_3_rev;
    sw_tokyu5000_panto_placer_3;
}

switch(FEAT_TRAINS,PARENT,sw_tokyu5000_panto_placer_time,(build_year<2006)){
    1:sw_tokyu5000_panto_placer_main_1;
    sw_tokyu5000_panto_placer_main_2;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5000_panto_placer_main,num_vehs_in_vehid_chain+1){
    0..4:sw_tokyu5000_panto_placer_main_3;
    6..7:sw_tokyu5000_panto_placer_main_3;
    sw_tokyu5000_panto_placer_time;
}


switch(FEAT_TRAINS, SELF, sw_tokyu5000_fake_placer,position_in_vehid_chain +1){
    7: tokyu5000_end;
    8: tokyu5000_end_rev;
sw_tokyu5000_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5000_fake_placer_rev,position_in_vehid_chain_from_end ){
    7: tokyu5000_end;
    8: tokyu5000_end_rev;
sw_tokyu5000_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu5000_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tokyu5000_fake_placer_rev;
    sw_tokyu5000_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5000_fake_placer_main,num_vehs_in_vehid_chain>12 - 1){
    1: sw_tokyu5000_fake_placer_gfx;
sw_tokyu5000_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tokyu5000_end_gfx_main,position_in_vehid_chain_from_end){
    0: tokyu5000_end;
    default: sw_tokyu5000_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5000_front_gfx_main,position_in_vehid_chain_from_end){
    0: tokyu5000_front;
    default: sw_tokyu5000_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5000_livery_1,vehicle_type_id){
    mu_car_narrow:sw_tokyu5000_end_gfx_main;
    sw_tokyu5000_front_gfx_main;
}




switch(FEAT_TRAINS, SELF, sw_tokyu5000_1_wag_gfx_1_1,1+position_in_vehid_chain){
    4:tokyu5000_wag_6D;
    7:tokyu5000_wag_6D;
    tokyu5000_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5000_1_wag_gfx_1_2,position_in_vehid_chain_from_end){
    4:tokyu5000_wag_6D;
    7:tokyu5000_wag_6D;
    tokyu5000_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu5000_1_wag_gfx_1,vehicle_is_reversed){
    1:sw_tokyu5000_1_wag_gfx_1_2;
    sw_tokyu5000_1_wag_gfx_1_1;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5000_1_wag_gfx_2_1,1+position_in_vehid_chain){
    3:tokyu5000_wag_6D;
    4:tokyu5000_wag_6D;
    tokyu5000_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5000_1_wag_gfx_2_2,position_in_vehid_chain_from_end){
    3:tokyu5000_wag_6D;
    4:tokyu5000_wag_6D;
    tokyu5000_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu5000_1_wag_gfx_2,vehicle_is_reversed){
    1:sw_tokyu5000_1_wag_gfx_2_1;
    sw_tokyu5000_1_wag_gfx_2_2;
}

switch(FEAT_TRAINS, SELF, sw_tokyu5000_1_wag_gfx,1+num_vehs_in_vehid_chain){
    8:sw_tokyu5000_1_wag_gfx_2;
    sw_tokyu5000_1_wag_gfx_1;
}

switch(FEAT_TRAINS, SELF, sw_tokyu5000_1_wag_load_1_1,1+position_in_vehid_chain){
    4:param_loading_6D;
    7:param_loading_6D;
    param_loading_4D;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5000_1_wag_load_1_2,position_in_vehid_chain_from_end){
    4:param_loading_6D;
    7:param_loading_6D;
    param_loading_4D;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu5000_1_wag_load_1,vehicle_is_reversed){
    1:sw_tokyu5000_1_wag_load_1_2;
    sw_tokyu5000_1_wag_load_1_1;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5000_1_wag_load_2_1,1+position_in_vehid_chain){
    3:param_loading_6D;
    4:param_loading_6D;
    param_loading_4D;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5000_1_wag_load_2_2,position_in_vehid_chain_from_end){
    3:param_loading_6D;
    4:param_loading_6D;
    param_loading_4D;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu5000_1_wag_load_2,vehicle_is_reversed){
    1:sw_tokyu5000_1_wag_load_2_1;
    sw_tokyu5000_1_wag_load_2_2;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5000_1_wag_load,num_vehs_in_vehid_chain+1){
    0..7:param_loading_4D;
    8:sw_tokyu5000_1_wag_load_2;
    sw_tokyu5000_1_wag_load_1;
}



switch(FEAT_TRAINS, SELF, sw_tokyu5000_1_panto_placer_2,1+position_in_vehid_chain %9){
    2: tokyu5000_mot;
    6: tokyu5000_mot;
    8: tokyu5000_mot_1;
    sw_tokyu5000_1_wag_gfx;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5000_1_panto_placer_2_rev,position_in_vehid_chain_from_end %9){
    2: tokyu5000_mot;
    6: tokyu5000_mot;
    8: tokyu5000_mot_1_rev;
    sw_tokyu5000_1_wag_gfx;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu5000_1_panto_placer_main_2,vehicle_is_reversed){
    1: sw_tokyu5000_1_panto_placer_2_rev;
    sw_tokyu5000_1_panto_placer_2;
}

switch(FEAT_TRAINS, SELF, sw_tokyu5000_1_panto_placer_main,num_vehs_in_vehid_chain+1){
    0..4:sw_tokyu5000_panto_placer_main_3;
    6..7:sw_tokyu5000_panto_placer_main_3;
    sw_tokyu5000_1_panto_placer_main_2;
}


switch(FEAT_TRAINS, SELF, sw_tokyu5000_1_fake_placer,position_in_vehid_chain +1){
    7: tokyu5000_end;
    8: tokyu5000_end_rev;
sw_tokyu5000_1_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5000_1_fake_placer_rev,position_in_vehid_chain_from_end ){
    7: tokyu5000_end;
    8: tokyu5000_end_rev;
sw_tokyu5000_1_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu5000_1_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tokyu5000_1_fake_placer_rev;
    sw_tokyu5000_1_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5000_1_fake_placer_main,num_vehs_in_vehid_chain>12 - 1){
    1: sw_tokyu5000_1_fake_placer_gfx;
sw_tokyu5000_1_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tokyu5000_1_end_gfx_main,position_in_vehid_chain_from_end){
    0: tokyu5000_end;
    default: sw_tokyu5000_1_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5000_1_front_gfx_main,position_in_vehid_chain_from_end){
    0: tokyu5000_front;
    default: sw_tokyu5000_1_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5000_livery_2,vehicle_type_id){
    mu_car_narrow:sw_tokyu5000_1_end_gfx_main;
    sw_tokyu5000_1_front_gfx_main;
}




switch(FEAT_TRAINS, SELF, sw_tokyu5050_panto_placer_1,1+position_in_vehid_chain %9){
    2: tokyu5050_mot;
    6: tokyu5050_mot;
    tokyu5050_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5050_panto_placer_1_rev,position_in_vehid_chain_from_end %9){
    2: tokyu5050_mot;
    6: tokyu5050_mot;
    tokyu5050_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu5050_panto_placer_main_1,vehicle_is_reversed){
    1: sw_tokyu5050_panto_placer_1_rev;
    sw_tokyu5050_panto_placer_1;
}


switch(FEAT_TRAINS, SELF, sw_tokyu5050_panto_placer_2,1+position_in_vehid_chain %9){
    2: tokyu5050_mot;
    5: tokyu5050_mot_1;
    8: tokyu5050_mot;
    tokyu5050_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5050_panto_placer_2_rev,position_in_vehid_chain_from_end %9){
    2: tokyu5050_mot;
    5: tokyu5050_mot_1_rev;
    8: tokyu5050_mot;
    tokyu5050_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu5050_panto_placer_main_2,vehicle_is_reversed){
    1: sw_tokyu5050_panto_placer_2_rev;
    sw_tokyu5050_panto_placer_2;
}


switch(FEAT_TRAINS, SELF, sw_tokyu5050_panto_placer_3,1+position_in_vehid_chain %3){
    1: tokyu5050_mot;
    tokyu5050_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5050_panto_placer_3_rev,position_in_vehid_chain_from_end %3){
    1: tokyu5050_mot;
    tokyu5050_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu5050_panto_placer_main_3,vehicle_is_reversed){
    1: sw_tokyu5050_panto_placer_3_rev;
    sw_tokyu5050_panto_placer_3;
}

switch(FEAT_TRAINS, SELF, sw_tokyu5050_panto_placer_main,num_vehs_in_vehid_chain+1){
    0..4:sw_tokyu5050_panto_placer_main_3;
    6..7:sw_tokyu5050_panto_placer_main_3;
    8..9: sw_tokyu5050_panto_placer_main_1;
    sw_tokyu5050_panto_placer_main_2;
}


switch(FEAT_TRAINS, SELF, sw_tokyu5050_fake_placer,position_in_vehid_chain +1){
    6: tokyu5050_end;
    7: tokyu5050_end_rev;
sw_tokyu5050_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5050_fake_placer_rev,position_in_vehid_chain_from_end ){
    6: tokyu5050_end;
    7: tokyu5050_end_rev;
sw_tokyu5050_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu5050_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tokyu5050_fake_placer_rev;
    sw_tokyu5050_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5050_fake_placer_main,num_vehs_in_vehid_chain>12 - 1){
    1: sw_tokyu5050_fake_placer_gfx;
sw_tokyu5050_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tokyu5050_end_gfx_main,position_in_vehid_chain_from_end){
    0: tokyu5050_end;
    default: sw_tokyu5050_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5050_front_gfx_main,position_in_vehid_chain_from_end){
    0: tokyu5050_front;
    default: sw_tokyu5050_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5050_livery_3,vehicle_type_id){
    mu_car_narrow:sw_tokyu5050_end_gfx_main;
    sw_tokyu5050_front_gfx_main;
}




switch(FEAT_TRAINS, SELF, sw_tokyu5050_1_wag_gfx_1_1,1+position_in_vehid_chain){
    3:tokyu5050_wag_Qseat;
    tokyu5050_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5050_1_wag_gfx_1_2,position_in_vehid_chain_from_end){
    3:tokyu5050_wag_Qseat;
    tokyu5050_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu5050_1_wag_gfx_1,vehicle_is_reversed){
    1:sw_tokyu5050_1_wag_gfx_1_2;
    sw_tokyu5050_1_wag_gfx_1_1;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5050_1_wag_gfx,num_vehs_in_vehid_chain+1){
    0..7:tokyu5050_wag;
    sw_tokyu5050_1_wag_gfx_1;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5050_1_mot_1_gfx_1_1,1+position_in_vehid_chain){
    4:tokyu5050_mot_1_Qseat;
    tokyu5050_mot_1;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5050_1_mot_1_gfx_1_2,position_in_vehid_chain_from_end){
    4:tokyu5050_mot_1_rev_Qseat;
    tokyu5050_mot_1_rev;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu5050_1_mot_1_gfx,vehicle_is_reversed){
    1:sw_tokyu5050_1_mot_1_gfx_1_2;
    sw_tokyu5050_1_mot_1_gfx_1_1;
}



switch(FEAT_TRAINS, SELF, sw_tokyu5050_1_panto_placer_1,1+position_in_vehid_chain %9){
    2: tokyu5050_mot;
    6: tokyu5050_mot;
    sw_tokyu5050_1_wag_gfx;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5050_1_panto_placer_1_rev,position_in_vehid_chain_from_end %9){
    2: tokyu5050_mot;
    6: tokyu5050_mot;
    sw_tokyu5050_1_wag_gfx;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu5050_1_panto_placer_main_1,vehicle_is_reversed){
    1: sw_tokyu5050_1_panto_placer_1_rev;
    sw_tokyu5050_1_panto_placer_1;
}


switch(FEAT_TRAINS, SELF, sw_tokyu5050_1_panto_placer_2,1+position_in_vehid_chain %9){
    2: tokyu5050_mot;
    4: sw_tokyu5050_1_mot_1_gfx;
    8: tokyu5050_mot;
    sw_tokyu5050_1_wag_gfx;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5050_1_panto_placer_2_rev,position_in_vehid_chain_from_end %9){
    2: tokyu5050_mot;
    4: sw_tokyu5050_1_mot_1_gfx;
    8: tokyu5050_mot;
    sw_tokyu5050_1_wag_gfx;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu5050_1_panto_placer_main_2,vehicle_is_reversed){
    1: sw_tokyu5050_1_panto_placer_2_rev;
    sw_tokyu5050_1_panto_placer_2;
}

switch(FEAT_TRAINS, SELF, sw_tokyu5050_1_panto_placer_main,num_vehs_in_vehid_chain+1){
    0..4:sw_tokyu5050_panto_placer_main_3;
    6..7:sw_tokyu5050_panto_placer_main_3;
    8..9: sw_tokyu5050_1_panto_placer_main_1;
    sw_tokyu5050_1_panto_placer_main_2;
}


switch(FEAT_TRAINS, SELF, sw_tokyu5050_1_fake_placer,position_in_vehid_chain +1){
    6: tokyu5050_end;
    7: tokyu5050_end_rev;
sw_tokyu5050_1_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5050_1_fake_placer_rev,position_in_vehid_chain_from_end ){
    6: tokyu5050_end;
    7: tokyu5050_end_rev;
sw_tokyu5050_1_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu5050_1_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tokyu5050_1_fake_placer_rev;
    sw_tokyu5050_1_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5050_1_fake_placer_main,num_vehs_in_vehid_chain>12 - 1){
    1: sw_tokyu5050_1_fake_placer_gfx;
sw_tokyu5050_1_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tokyu5050_1_end_gfx_main,position_in_vehid_chain_from_end){
    0: tokyu5050_end;
    default: sw_tokyu5050_1_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5050_1_front_gfx_main,position_in_vehid_chain_from_end){
    0: tokyu5050_front;
    default: sw_tokyu5050_1_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5050_livery_4,vehicle_type_id){
    mu_car_narrow:sw_tokyu5050_1_end_gfx_main;
    sw_tokyu5050_1_front_gfx_main;
}




switch(FEAT_TRAINS, SELF, sw_tokyu5050_2_wag_gfx_1, 1+position_in_vehid_chain%2){
    1:tokyu5050_2_wag_rev;
    tokyu5050_2_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5050_2_wag_gfx_2, position_in_vehid_chain_from_end%2){
    1:tokyu5050_2_wag;
    tokyu5050_2_wag_rev;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu5050_2_wag_gfx, vehicle_is_reversed){
    1:sw_tokyu5050_2_wag_gfx_2;
    sw_tokyu5050_2_wag_gfx_1;
}


switch(FEAT_TRAINS, SELF, sw_tokyu5050_2_mot_gfx_1, 1+position_in_vehid_chain%2){
    1:tokyu5050_2_mot_rev;
    tokyu5050_2_mot;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5050_2_mot_gfx_2, position_in_vehid_chain_from_end%2){
    1:tokyu5050_2_mot;
    tokyu5050_2_mot_rev;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu5050_2_mot_gfx, vehicle_is_reversed){
    1:sw_tokyu5050_2_mot_gfx_2;
    sw_tokyu5050_2_mot_gfx_1;
}


switch(FEAT_TRAINS, SELF, sw_tokyu5050_2_mot_1_gfx_1, 1+position_in_vehid_chain%2){
    1:tokyu5050_2_mot_1_rev;
    tokyu5050_2_mot_2;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5050_2_mot_1_rev_gfx_1, position_in_vehid_chain_from_end%2){
    1:tokyu5050_2_mot_1;
    tokyu5050_2_mot_2_rev;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu5050_2_mot_1_gfx, vehicle_is_reversed){
    1:sw_tokyu5050_2_mot_1_rev_gfx_1;
    sw_tokyu5050_2_mot_1_gfx_1;
}



switch(FEAT_TRAINS, SELF, sw_tokyu5050_2_panto_placer_1,1+position_in_vehid_chain %9){
    2: sw_tokyu5050_2_mot_gfx;
    6: sw_tokyu5050_2_mot_gfx;
    sw_tokyu5050_2_wag_gfx;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5050_2_panto_placer_1_rev,position_in_vehid_chain_from_end %9){
    2: sw_tokyu5050_2_mot_gfx;
    6: sw_tokyu5050_2_mot_gfx;
    sw_tokyu5050_2_wag_gfx;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu5050_2_panto_placer_main_1,vehicle_is_reversed){
    1: sw_tokyu5050_2_panto_placer_1_rev;
    sw_tokyu5050_2_panto_placer_1;
}


switch(FEAT_TRAINS, SELF, sw_tokyu5050_2_panto_placer_2,1+position_in_vehid_chain %9){
    2: sw_tokyu5050_2_mot_gfx;
    5: sw_tokyu5050_2_mot_1_gfx;
    8: sw_tokyu5050_2_mot_gfx;
    sw_tokyu5050_2_wag_gfx;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5050_2_panto_placer_2_rev,position_in_vehid_chain_from_end %9){
    2: sw_tokyu5050_2_mot_gfx;
    5: sw_tokyu5050_2_mot_1_gfx;
    8: sw_tokyu5050_2_mot_gfx;
    sw_tokyu5050_2_wag_gfx;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu5050_2_panto_placer_main_2,vehicle_is_reversed){
    1: sw_tokyu5050_2_panto_placer_2_rev;
    sw_tokyu5050_2_panto_placer_2;
}


switch(FEAT_TRAINS, SELF, sw_tokyu5050_2_panto_placer_3,1+position_in_vehid_chain %3){
    1: sw_tokyu5050_2_mot_gfx;
    sw_tokyu5050_2_wag_gfx;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5050_2_panto_placer_3_rev,position_in_vehid_chain_from_end %3){
    1: sw_tokyu5050_2_mot_gfx;
    sw_tokyu5050_2_wag_gfx;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu5050_2_panto_placer_main_3,vehicle_is_reversed){
    1: sw_tokyu5050_2_panto_placer_3_rev;
    sw_tokyu5050_2_panto_placer_3;
}

switch(FEAT_TRAINS, SELF, sw_tokyu5050_2_panto_placer_main,num_vehs_in_vehid_chain+1){
    0..4:sw_tokyu5050_2_panto_placer_main_3;
    6..7:sw_tokyu5050_2_panto_placer_main_3;
    8..9: sw_tokyu5050_2_panto_placer_main_1;
    sw_tokyu5050_2_panto_placer_main_2;
}


switch(FEAT_TRAINS, SELF, sw_tokyu5050_2_end_gfx_main,position_in_vehid_chain_from_end){
    0: tokyu5050_2_end;
    default: sw_tokyu5050_2_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5050_2_front_gfx_main,position_in_vehid_chain_from_end){
    0: tokyu5050_2_front;
    default: sw_tokyu5050_2_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5050_livery_5,vehicle_type_id){
    mu_car_narrow:sw_tokyu5050_2_end_gfx_main;
    sw_tokyu5050_2_front_gfx_main;
}




switch(FEAT_TRAINS, SELF, sw_tokyu5050_3_panto_placer_1,1+position_in_vehid_chain %9){
    2: tokyu5050_3_mot;
    6: tokyu5050_3_mot;
    tokyu5050_3_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5050_3_panto_placer_1_rev,position_in_vehid_chain_from_end %9){
    2: tokyu5050_3_mot;
    6: tokyu5050_3_mot;
    tokyu5050_3_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu5050_3_panto_placer_main_1,vehicle_is_reversed){
    1: sw_tokyu5050_3_panto_placer_1_rev;
    sw_tokyu5050_3_panto_placer_1;
}


switch(FEAT_TRAINS, SELF, sw_tokyu5050_3_panto_placer_2,1+position_in_vehid_chain %9){
    2: tokyu5050_3_mot;
    5: tokyu5050_3_mot_1;
    8: tokyu5050_3_mot;
    tokyu5050_3_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5050_3_panto_placer_2_rev,position_in_vehid_chain_from_end %9){
    2: tokyu5050_3_mot;
    5: tokyu5050_3_mot_1_rev;
    8: tokyu5050_3_mot;
    tokyu5050_3_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu5050_3_panto_placer_main_2,vehicle_is_reversed){
    1: sw_tokyu5050_3_panto_placer_2_rev;
    sw_tokyu5050_3_panto_placer_2;
}


switch(FEAT_TRAINS, SELF, sw_tokyu5050_3_panto_placer_3,1+position_in_vehid_chain %3){
    1: tokyu5050_3_mot;
    tokyu5050_3_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5050_3_panto_placer_3_rev,position_in_vehid_chain_from_end %3){
    1: tokyu5050_3_mot;
    tokyu5050_3_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu5050_3_panto_placer_main_3,vehicle_is_reversed){
    1: sw_tokyu5050_3_panto_placer_3_rev;
    sw_tokyu5050_3_panto_placer_3;
}

switch(FEAT_TRAINS, SELF, sw_tokyu5050_3_panto_placer_main,num_vehs_in_vehid_chain+1){
    0..4:sw_tokyu5050_3_panto_placer_main_3;
    6..7:sw_tokyu5050_3_panto_placer_main_3;
    8..9: sw_tokyu5050_3_panto_placer_main_1;
    sw_tokyu5050_3_panto_placer_main_2;
}


switch(FEAT_TRAINS, SELF, sw_tokyu5050_3_fake_placer,position_in_vehid_chain +1){
    6: tokyu5050_3_end;
    7: tokyu5050_3_end_rev;
sw_tokyu5050_3_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5050_3_fake_placer_rev,position_in_vehid_chain_from_end ){
    6: tokyu5050_3_end;
    7: tokyu5050_3_end_rev;
sw_tokyu5050_3_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu5050_3_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tokyu5050_3_fake_placer_rev;
    sw_tokyu5050_3_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5050_3_fake_placer_main,num_vehs_in_vehid_chain>12 - 1){
    1: sw_tokyu5050_3_fake_placer_gfx;
sw_tokyu5050_3_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tokyu5050_3_end_gfx_main,position_in_vehid_chain_from_end){
    0: tokyu5050_3_end;
    default: sw_tokyu5050_3_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5050_3_front_gfx_main,position_in_vehid_chain_from_end){
    0: tokyu5050_3_front;
    default: sw_tokyu5050_3_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5050_livery_6,vehicle_type_id){
    mu_car_narrow:sw_tokyu5050_3_end_gfx_main;
    sw_tokyu5050_3_front_gfx_main;
}




switch(FEAT_TRAINS, SELF, sw_tokyu5050_4_panto_placer_1,1+position_in_vehid_chain %9){
    2: tokyu5050_4_mot;
    6: tokyu5050_4_mot;
    tokyu5050_4_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5050_4_panto_placer_1_rev,position_in_vehid_chain_from_end %9){
    2: tokyu5050_4_mot;
    6: tokyu5050_4_mot;
    tokyu5050_4_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu5050_4_panto_placer_main_1,vehicle_is_reversed){
    1: sw_tokyu5050_4_panto_placer_1_rev;
    sw_tokyu5050_4_panto_placer_1;
}


switch(FEAT_TRAINS, SELF, sw_tokyu5050_4_panto_placer_2,1+position_in_vehid_chain %9){
    2: tokyu5050_4_mot;
    5: tokyu5050_4_mot_1;
    8: tokyu5050_4_mot;
    tokyu5050_4_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5050_4_panto_placer_2_rev,position_in_vehid_chain_from_end %9){
    2: tokyu5050_4_mot;
    5: tokyu5050_4_mot_1_rev;
    8: tokyu5050_4_mot;
    tokyu5050_4_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu5050_4_panto_placer_main_2,vehicle_is_reversed){
    1: sw_tokyu5050_4_panto_placer_2_rev;
    sw_tokyu5050_4_panto_placer_2;
}


switch(FEAT_TRAINS, SELF, sw_tokyu5050_4_panto_placer_3,1+position_in_vehid_chain %3){
    1: tokyu5050_4_mot;
    tokyu5050_4_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5050_4_panto_placer_4_rev,position_in_vehid_chain_from_end %3){
    1: tokyu5050_4_mot;
    tokyu5050_4_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu5050_4_panto_placer_main_3,vehicle_is_reversed){
    1: sw_tokyu5050_4_panto_placer_4_rev;
    sw_tokyu5050_4_panto_placer_3;
}

switch(FEAT_TRAINS, SELF, sw_tokyu5050_4_panto_placer_main,num_vehs_in_vehid_chain+1){
    0..4:sw_tokyu5050_4_panto_placer_main_3;
    6..7:sw_tokyu5050_4_panto_placer_main_3;
    8..9: sw_tokyu5050_4_panto_placer_main_1;
    sw_tokyu5050_4_panto_placer_main_2;
}


switch(FEAT_TRAINS, SELF, sw_tokyu5050_4_fake_placer,position_in_vehid_chain +1){
    6: tokyu5050_4_end;
    7: tokyu5050_4_end_rev;
sw_tokyu5050_4_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5050_4_fake_placer_rev,position_in_vehid_chain_from_end ){
    6: tokyu5050_4_end;
    7: tokyu5050_4_end_rev;
sw_tokyu5050_4_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu5050_4_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tokyu5050_4_fake_placer_rev;
    sw_tokyu5050_4_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5050_4_fake_placer_main,num_vehs_in_vehid_chain>12 - 1){
    1: sw_tokyu5050_4_fake_placer_gfx;
sw_tokyu5050_4_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tokyu5050_4_end_gfx_main,position_in_vehid_chain_from_end){
    0: tokyu5050_4_end;
    default: sw_tokyu5050_4_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5050_4_front_gfx_main,position_in_vehid_chain_from_end){
    0: tokyu5050_4_front;
    default: sw_tokyu5050_4_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5050_livery_7,vehicle_type_id){
    mu_car_narrow:sw_tokyu5050_4_end_gfx_main;
    sw_tokyu5050_4_front_gfx_main;
}




switch(FEAT_TRAINS, SELF, sw_tokyu5080_panto_placer_1,1+position_in_vehid_chain %9){
    2: tokyu5080_mot;
    6: tokyu5080_mot;
    tokyu5080_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5080_panto_placer_1_rev,position_in_vehid_chain_from_end %9){
    2: tokyu5080_mot;
    6: tokyu5080_mot;
    tokyu5080_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu5080_panto_placer_main_1,vehicle_is_reversed){
    1: sw_tokyu5080_panto_placer_1_rev;
    sw_tokyu5080_panto_placer_1;
}


switch(FEAT_TRAINS, SELF, sw_tokyu5080_panto_placer_2,1+position_in_vehid_chain %9){
    2: tokyu5080_mot;
    5: tokyu5080_mot_1;
    8: tokyu5080_mot;
    tokyu5080_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5080_panto_placer_2_rev,position_in_vehid_chain_from_end %9){
    2: tokyu5080_mot;
    5: tokyu5080_mot_1_rev;
    8: tokyu5080_mot;
    tokyu5080_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu5080_panto_placer_main_2,vehicle_is_reversed){
    1: sw_tokyu5080_panto_placer_2_rev;
    sw_tokyu5080_panto_placer_2;
}


switch(FEAT_TRAINS, SELF, sw_tokyu5080_panto_placer_3,1+position_in_vehid_chain %3){
    1: tokyu5080_mot;
    tokyu5080_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5080_panto_placer_3_rev,position_in_vehid_chain_from_end %3){
    1: tokyu5080_mot;
    tokyu5080_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu5080_panto_placer_main_3,vehicle_is_reversed){
    1: sw_tokyu5080_panto_placer_3_rev;
    sw_tokyu5080_panto_placer_3;
}

switch(FEAT_TRAINS, SELF, sw_tokyu5080_panto_placer_main,num_vehs_in_vehid_chain){
    0..4:sw_tokyu5080_panto_placer_main_3;
    6..7:sw_tokyu5080_panto_placer_main_3;
    8..9: sw_tokyu5080_panto_placer_main_1;
    sw_tokyu5080_panto_placer_main_2;
}


switch(FEAT_TRAINS, SELF, sw_tokyu5080_fake_placer,position_in_vehid_chain +1){
    6: tokyu5080_end;
    7: tokyu5080_end_rev;
sw_tokyu5080_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5080_fake_placer_rev,position_in_vehid_chain_from_end ){
    6: tokyu5080_end;
    7: tokyu5080_end_rev;
sw_tokyu5080_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu5080_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tokyu5080_fake_placer_rev;
    sw_tokyu5080_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5080_fake_placer_main,num_vehs_in_vehid_chain>12 - 1){
    1: sw_tokyu5080_fake_placer_gfx;
sw_tokyu5080_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tokyu5080_end_gfx_main,position_in_vehid_chain_from_end){
    0: tokyu5080_end;
    default: sw_tokyu5080_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5080_front_gfx_main,position_in_vehid_chain_from_end){
    0: tokyu5080_front;
    default: sw_tokyu5080_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5080_livery_8,vehicle_type_id){
    mu_car_narrow:sw_tokyu5080_end_gfx_main;
    sw_tokyu5080_front_gfx_main;
}


random_switch(FEAT_TRAINS, PARENT, sw_tokyu5000_livery_0){
    5:sw_tokyu5050_livery_3;
    3:sw_tokyu5050_livery_4;
    2:sw_tokyu5050_livery_5;
    2:sw_tokyu5050_livery_6;
    1:sw_tokyu5050_livery_7;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu5000_lv, cargo_subtype){
    0: sw_tokyu5000_livery_0;
    1: sw_tokyu5000_livery_1;
    2: sw_tokyu5000_livery_2;
    3: sw_tokyu5050_livery_3;
    4: sw_tokyu5050_livery_4;
    5: sw_tokyu5050_livery_5;
    6: sw_tokyu5050_livery_6;
    7: sw_tokyu5050_livery_7;
    8: sw_tokyu5080_livery_8;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5000_lv_desc, cargo_subtype){
    0: string(LV_RANDOM);
    1: string(LV_tokyu5000_1);
    2: string(LV_tokyu5000_2);
    3: string(LV_tokyu5050_3);
    4: string(LV_tokyu5050_4);
    5: string(LV_tokyu5050_5);
    6: string(LV_tokyu5050_6);
    7: string(LV_tokyu5080_7);
    8: string(LV_tokyu5080_8);
}



switch(FEAT_TRAINS, SELF, sw_tokyu5000_load, cargo_subtype){
2: sw_tokyu5000_1_wag_load;
param_loading_4D;
}


switch(FEAT_TRAINS, SELF, sw_tokyu5000_capacity,position_in_vehid_chain_from_end){
    0: 141*param_capacity_mod/3;
    default: 152*param_capacity_mod/3;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5000_capacity_1,position_in_vehid_chain){
    0: 141*param_capacity_mod/3;
    default: sw_tokyu5000_capacity;
}
switch(FEAT_TRAINS, SELF, sw_tokyu5000_capacity_main,vehicle_type_id){
    mu_car_narrow:sw_tokyu5000_capacity;
    sw_tokyu5000_capacity_1;
}


switch(FEAT_TRAINS, SELF, tokyu5000_attach_vehid, vehicle_type_id) {
  mu_car: return string(STR_ATTACH_1067_ERROR);
  mu_car_metro: return string(STR_ATTACH_1067_ERROR);
  return CB_RESULT_ATTACH_ALLOW;
}

item(FEAT_TRAINS, tokyu5000,2019) {
    property {
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        sprite_id: SPRITE_ID_NEW_TRAIN;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        tractive_effort_coefficient: 0.3;
        cargo_capacity: 130;
        air_drag_coefficient: 0.07;
        ai_special_flag: AI_FLAG_PASSENGER;

        climates_available: param_disable_tokyu == 0 ? ALL_CLIMATES : NO_CLIMATE;

        name: string(STR_TRAIN_NAME, string(STR_NAME_TOKYU), "5000/5050/5080", string(STR_NAME_SERIES));
        introduction_date: date(2002, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cost_factor: 23;
        running_cost_factor: 52;
        speed: 120 km/h;
        track_type: TR_1067_DC;
        power: 760 kW;
        weight: 28 ton;
        loading_speed: param_loading_4D;
    }
 graphics {
        default: sw_tokyu5000_lv;
        loading_speed:sw_tokyu5000_load;
        purchase: tokyu5000_purchase;
        can_attach_wagon: tokyu5000_attach_vehid;
        start_stop: sw_stop_start_3;
        cargo_capacity: sw_tokyu5000_capacity_main;
        cargo_subtype_text: sw_tokyu5000_lv_desc;
        additional_text:
  string(STR_TRAIN_DESC,
                            string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
                            string(STR_LOAD_SPEED,
                            string(STR_DOORS_REFIT, 4, 6),),
                            string(STR_FORMATION, string(STR_NUM_CARS_3, 6,8,10)),


                            string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_TOKYU)));
    }
    livery_override(mu_car_narrow){
        loading_speed: sw_tokyu5000_load;
        cargo_capacity: sw_tokyu5000_capacity_main;
        default: sw_tokyu5000_lv;
        power:1019*4/9;
        weight: 29;
      }
}
# 25 "src/_private.pnml" 2
# 1 "src/private/Kanto/tokyu/y500.pnml" 1

  spriteset(y500_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000/y500.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(y500_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000/y500.png"){ tmpl_purchase_2c(0, 75) }
  switch(FEAT_TRAINS, SELF, y500_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_minatomirai; 1: y500_purchase_c1; 2: y500_purchase_c2;}

spriteset(y500_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000/y500.png"){ tmpl_std(0, 0) }
spriteset(y500_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000/y500.png"){ tmpl_std_rev(0, 25) }
spriteset(y500_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000/y500.png"){ tmpl_std(0, 25) }
spriteset(y500_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000/y500.png"){ tmpl_std(0, 50) }
spriteset(y500_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000/y500.png"){ tmpl_std_rev(0, 50) }
spriteset(y500_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000/y500.png"){ tmpl_std(0, 75) }
spriteset(y500_wag_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu5000/y500.png"){ tmpl_std_rev(0, 75) }




switch(FEAT_TRAINS, SELF, sw_y500_wag_gfx_1, 1+position_in_vehid_chain>(num_vehs_in_vehid_chain/2)){
    1:y500_wag_rev;
    y500_wag;
}
switch(FEAT_TRAINS, SELF, sw_y500_wag_gfx_2, position_in_vehid_chain_from_end>(num_vehs_in_vehid_chain/2)){
    1:y500_wag;
    y500_wag_rev;
}
switch(FEAT_TRAINS, PARENT, sw_y500_wag_gfx, vehicle_is_reversed){
    1:sw_y500_wag_gfx_2;
    sw_y500_wag_gfx_1;
}

switch(FEAT_TRAINS, SELF, sw_y500_mot_gfx_1, 1+position_in_vehid_chain>(num_vehs_in_vehid_chain/2)){
    1:y500_mot_rev;
    y500_mot;
}
switch(FEAT_TRAINS, SELF, sw_y500_mot_gfx_2, position_in_vehid_chain_from_end>(num_vehs_in_vehid_chain/2)){
    1:y500_mot;
    y500_mot_rev;
}
switch(FEAT_TRAINS, PARENT, sw_y500_mot_gfx, vehicle_is_reversed){
    1:sw_y500_mot_gfx_2;
    sw_y500_mot_gfx_1;
}



switch(FEAT_TRAINS, SELF, sw_y500_panto_placer_1,1+position_in_vehid_chain %7){
    2: sw_y500_mot_gfx;
    6: sw_y500_mot_gfx;
    sw_y500_wag_gfx;
}
switch(FEAT_TRAINS, SELF, sw_y500_panto_placer_1_rev,position_in_vehid_chain_from_end %7){
    2: sw_y500_mot_gfx;
    6: sw_y500_mot_gfx;
    sw_y500_wag_gfx;
}
switch(FEAT_TRAINS, PARENT, sw_y500_panto_placer_main_1,vehicle_is_reversed){
    1: sw_y500_panto_placer_1_rev;
    sw_y500_panto_placer_1;
}


switch(FEAT_TRAINS, SELF, sw_y500_panto_placer_2,1+position_in_vehid_chain %7){
    1: sw_y500_mot_gfx;
    5: sw_y500_mot_gfx;
    sw_y500_wag_gfx;
}
switch(FEAT_TRAINS, SELF, sw_y500_panto_placer_2_rev,position_in_vehid_chain_from_end %7){
    1: sw_y500_mot_gfx;
    5: sw_y500_mot_gfx;
    sw_y500_wag_gfx;
}
switch(FEAT_TRAINS, PARENT, sw_y500_panto_placer_main_2,vehicle_is_reversed){
    1: sw_y500_panto_placer_2_rev;
    sw_y500_panto_placer_2;
}


switch(FEAT_TRAINS, SELF, sw_y500_panto_placer_3,1+position_in_vehid_chain %5){
    1: sw_y500_mot_gfx;
    4: sw_y500_mot_gfx;
    sw_y500_wag_gfx;
}
switch(FEAT_TRAINS, SELF, sw_y500_panto_placer_3_rev,position_in_vehid_chain_from_end %5){
    1: sw_y500_mot_gfx;
    4: sw_y500_mot_gfx;
    sw_y500_wag_gfx;
}
switch(FEAT_TRAINS, PARENT, sw_y500_panto_placer_main_3,vehicle_is_reversed){
    1: sw_y500_panto_placer_3_rev;
    sw_y500_panto_placer_3;
}

switch(FEAT_TRAINS, SELF, sw_y500_panto_placer_main,num_vehs_in_vehid_chain+1){
    0..3:sw_y500_panto_placer_main_3;
    6:sw_y500_panto_placer_main_3;
    7: sw_y500_panto_placer_main_2;
    sw_y500_panto_placer_main_1;
}


switch(FEAT_TRAINS, SELF, sw_y500_end_gfx_main,position_in_vehid_chain_from_end){
    0: y500_end;
    default: sw_y500_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_y500_front_gfx_main,position_in_vehid_chain_from_end){
    0: y500_front;
    default: sw_y500_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_y500_lv,vehicle_type_id){
    mu_car_narrow:sw_y500_end_gfx_main;
    sw_y500_front_gfx_main;
}



switch(FEAT_TRAINS, SELF, sw_y500_capacity,position_in_vehid_chain_from_end){
    0: 141*param_capacity_mod/3;
    default: 152*param_capacity_mod/3;
}
switch(FEAT_TRAINS, SELF, sw_y500_capacity_1,position_in_vehid_chain){
    0: 141*param_capacity_mod/3;
    default: sw_y500_capacity;
}
switch(FEAT_TRAINS, SELF, sw_y500_capacity_main,vehicle_type_id){
    mu_car_narrow:sw_y500_capacity;
    sw_y500_capacity_1;
}


switch(FEAT_TRAINS, SELF, y500_attach_vehid, vehicle_type_id) {
  mu_car: return string(STR_ATTACH_1067_ERROR);
  mu_car_metro: return string(STR_ATTACH_1067_ERROR);
  return CB_RESULT_ATTACH_ALLOW;
}

item(FEAT_TRAINS, y500,2020) {
    property {
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        sprite_id: SPRITE_ID_NEW_TRAIN;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        tractive_effort_coefficient: 0.3;
        cargo_capacity: 130;
        air_drag_coefficient: 0.07;
        ai_special_flag: AI_FLAG_PASSENGER;

        climates_available: param_disable_tokyu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        variant_group:2019;

        name: string(STR_TRAIN_NAME, string(STR_NAME_MINATO), "Y500", string(STR_NAME_SERIES));
        introduction_date: date(2004, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cost_factor: 23;
        running_cost_factor: 52;
        speed: 120 km/h;
        track_type: TR_1067_DC;
        power: 760 kW;
        weight: 28 ton;
        loading_speed: param_loading_4D;
    }
 graphics {
        default: sw_y500_lv;
        purchase: y500_purchase;
        can_attach_wagon: y500_attach_vehid;
        start_stop: sw_stop_start_3;
        cargo_capacity: sw_y500_capacity_main;

        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 8)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_MINATO)));
    }
    livery_override(mu_car_narrow){
        loading_speed: param_loading_4D;
        cargo_capacity: sw_y500_capacity_main;
        default: sw_y500_lv;
        power:1019*3/7;
        weight: 29;
      }
}
# 26 "src/_private.pnml" 2
# 1 "src/private/Kanto/tokyu/tokyu6000.pnml" 1

  spriteset(tokyu6000_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu6000/tokyu6000.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(tokyu6000_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu6000/tokyu6000.png"){ tmpl_purchase_2c(0, 125) }
  switch(FEAT_TRAINS, SELF, tokyu6000_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_tokyu; 1: tokyu6000_purchase_c1; 2: tokyu6000_purchase_c2;}

spriteset(tokyu6000_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu6000/tokyu6000.png"){ tmpl_std(0, 0) }
spriteset(tokyu6000_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu6000/tokyu6000.png"){ tmpl_std_rev(0, 25) }
spriteset(tokyu6000_mot_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu6000/tokyu6000.png"){ tmpl_std(0, 50) }
spriteset(tokyu6000_mot_1_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu6000/tokyu6000.png"){ tmpl_std_rev(0, 50) }
spriteset(tokyu6000_mot_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu6000/tokyu6000.png"){ tmpl_std(0, 75) }
spriteset(tokyu6000_mot_2_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu6000/tokyu6000.png"){ tmpl_std_rev(0, 75) }
spriteset(tokyu6000_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu6000/tokyu6000.png"){ tmpl_std(0, 100) }
spriteset(tokyu6000_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu6000/tokyu6000.png"){ tmpl_std_rev(0, 100) }
spriteset(tokyu6000_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu6000/tokyu6000.png"){ tmpl_std(0, 125) }
spriteset(tokyu6000_wag_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu6000/tokyu6000.png"){ tmpl_std_rev(0, 125) }
spriteset(tokyu6000_mot_1_Qseat, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu6000/tokyu6000.png"){ tmpl_std(0, 150) }
spriteset(tokyu6000_mot_1_rev_Qseat, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu6000/tokyu6000.png"){ tmpl_std_rev(0, 150) }




switch(FEAT_TRAINS, SELF, sw_tokyu6000_wag_gfx_1, 1+position_in_vehid_chain>(num_vehs_in_vehid_chain/2)){
    1:tokyu6000_wag_rev;
    tokyu6000_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu6000_wag_gfx_2, position_in_vehid_chain_from_end>(num_vehs_in_vehid_chain/2)){
    1:tokyu6000_wag;
    tokyu6000_wag_rev;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu6000_wag_gfx, vehicle_is_reversed){
    1:sw_tokyu6000_wag_gfx_1;
    sw_tokyu6000_wag_gfx_2;
}


switch(FEAT_TRAINS, SELF, sw_tokyu6000_mot_gfx_1, 1+position_in_vehid_chain>(num_vehs_in_vehid_chain/2)){
    1:tokyu6000_mot_rev;
    tokyu6000_mot;
}
switch(FEAT_TRAINS, SELF, sw_tokyu6000_mot_gfx_2, position_in_vehid_chain_from_end>(num_vehs_in_vehid_chain/2)){
    1:tokyu6000_mot;
    tokyu6000_mot_rev;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu6000_mot_gfx, vehicle_is_reversed){
    1:sw_tokyu6000_mot_gfx_2;
    sw_tokyu6000_mot_gfx_1;
}


switch(FEAT_TRAINS, SELF, sw_tokyu6000_mot_1_gfx_1, 1+position_in_vehid_chain>(num_vehs_in_vehid_chain/2)){
    1:tokyu6000_mot_1_rev;
    tokyu6000_mot_2;
}
switch(FEAT_TRAINS, SELF, sw_tokyu6000_mot_1_rev_gfx_1, position_in_vehid_chain_from_end>(num_vehs_in_vehid_chain/2)){
    1:tokyu6000_mot_1;
    tokyu6000_mot_2_rev;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu6000_mot_1_gfx, vehicle_is_reversed){
    1:sw_tokyu6000_mot_1_rev_gfx_1;
    sw_tokyu6000_mot_1_gfx_1;
}



switch(FEAT_TRAINS, SELF, sw_tokyu6000_panto_placer_1,1+position_in_vehid_chain %5){
    1: sw_tokyu6000_mot_1_gfx;
    4: sw_tokyu6000_mot_gfx;
    sw_tokyu6000_wag_gfx;
}
switch(FEAT_TRAINS, SELF, sw_tokyu6000_panto_placer_1_rev,position_in_vehid_chain_from_end %5){
    1: sw_tokyu6000_mot_1_gfx;
    4: sw_tokyu6000_mot_gfx;
    sw_tokyu6000_wag_gfx;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu6000_panto_placer_main_1,vehicle_is_reversed){
    1: sw_tokyu6000_panto_placer_1_rev;
    sw_tokyu6000_panto_placer_1;
}


switch(FEAT_TRAINS, SELF, sw_tokyu6000_panto_placer_2,1+position_in_vehid_chain %6){
    1: sw_tokyu6000_mot_1_gfx;
    2: sw_tokyu6000_mot_1_gfx;
    5: sw_tokyu6000_mot_gfx;
    sw_tokyu6000_wag_gfx;
}
switch(FEAT_TRAINS, SELF, sw_tokyu6000_panto_placer_2_rev,position_in_vehid_chain_from_end %6){
    1: sw_tokyu6000_mot_1_gfx;
    2: sw_tokyu6000_mot_1_gfx;
    5: sw_tokyu6000_mot_gfx;
    sw_tokyu6000_wag_gfx;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu6000_panto_placer_main_2,vehicle_is_reversed){
    1: sw_tokyu6000_panto_placer_2_rev;
    sw_tokyu6000_panto_placer_2;
}


switch(FEAT_TRAINS, SELF, sw_tokyu6000_panto_placer_3,1+position_in_vehid_chain %4){
    1: sw_tokyu6000_mot_gfx;
    3: sw_tokyu6000_mot_1_gfx;
    sw_tokyu6000_wag_gfx;
}
switch(FEAT_TRAINS, SELF, sw_tokyu6000_panto_placer_3_rev,position_in_vehid_chain_from_end %4){
    1: sw_tokyu6000_mot_gfx;
    3: sw_tokyu6000_mot_1_gfx;
    sw_tokyu6000_wag_gfx;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu6000_panto_placer_main_3,vehicle_is_reversed){
    1: sw_tokyu6000_panto_placer_3_rev;
    sw_tokyu6000_panto_placer_3;
}

switch(FEAT_TRAINS, SELF, sw_tokyu6000_panto_placer_main,num_vehs_in_vehid_chain+1){
    0..5:sw_tokyu6000_panto_placer_main_3;
    6: sw_tokyu6000_panto_placer_main_1;
    sw_tokyu6000_panto_placer_main_2;
}


switch(FEAT_TRAINS, SELF, sw_tokyu6000_end_gfx_main,position_in_vehid_chain_from_end){
    0: tokyu6000_end;
    default: sw_tokyu6000_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu6000_front_gfx_main,position_in_vehid_chain_from_end){
    0: tokyu6000_front;
    default: sw_tokyu6000_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu6000_livery_1,vehicle_type_id){
    mu_car_narrow:sw_tokyu6000_end_gfx_main;
    sw_tokyu6000_front_gfx_main;
}




switch(FEAT_TRAINS, SELF, sw_tokyu6000_1_mot_1_Qcar_gfx_1,position_in_vehid_chain+1){
    2: tokyu6000_mot_1_rev_Qseat;
    sw_tokyu6000_mot_1_gfx;
}
switch(FEAT_TRAINS, SELF, sw_tokyu6000_1_mot_1_Qcar_gfx_2,position_in_vehid_chain_from_end){
    2: tokyu6000_mot_1_Qseat;
    sw_tokyu6000_mot_1_gfx;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu6000_1_mot_1_Qcar_gfx,vehicle_is_reversed){
    1: sw_tokyu6000_1_mot_1_Qcar_gfx_2;
    sw_tokyu6000_1_mot_1_Qcar_gfx_1;
}



switch(FEAT_TRAINS, SELF, sw_tokyu6000_1_panto_placer_2,1+position_in_vehid_chain %6){
    1: sw_tokyu6000_mot_1_gfx;
    2: sw_tokyu6000_1_mot_1_Qcar_gfx;
    5: sw_tokyu6000_mot_gfx;
    sw_tokyu6000_wag_gfx;
}
switch(FEAT_TRAINS, SELF, sw_tokyu6000_1_panto_placer_2_rev,position_in_vehid_chain_from_end %6){
    1: sw_tokyu6000_mot_1_gfx;
    2: sw_tokyu6000_1_mot_1_Qcar_gfx;
    5: sw_tokyu6000_mot_gfx;
    sw_tokyu6000_wag_gfx;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu6000_1_panto_placer_main_2,vehicle_is_reversed){
    1: sw_tokyu6000_1_panto_placer_2_rev;
    sw_tokyu6000_1_panto_placer_2;
}

switch(FEAT_TRAINS, SELF, sw_tokyu6000_1_panto_placer_main,num_vehs_in_vehid_chain+1){
    0..5:sw_tokyu6000_panto_placer_main_3;
    6: sw_tokyu6000_panto_placer_main_1;
    sw_tokyu6000_1_panto_placer_main_2;
}


switch(FEAT_TRAINS, SELF, sw_tokyu6000_1_end_gfx_main,position_in_vehid_chain_from_end){
    0: tokyu6000_end;
    default: sw_tokyu6000_1_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu6000_livery_2,vehicle_type_id){
    mu_car_narrow:sw_tokyu6000_1_end_gfx_main;
    sw_tokyu6000_front_gfx_main;
}


random_switch(FEAT_TRAINS, PARENT, sw_tokyu6000_livery_0){
    2:sw_tokyu6000_livery_1;
    1:sw_tokyu6000_livery_2;
}

switch(FEAT_TRAINS, PARENT, sw_tokyu6000_lv,cargo_subtype){
    0:sw_tokyu6000_livery_0;
    1:sw_tokyu6000_livery_1;
    2:sw_tokyu6000_livery_2;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu6000_lv_desc,cargo_subtype){
    0:string(LV_RANDOM);
    1:string(LV_DEFAULT);
    2:string(LV_tokyu6000_2);
}



switch(FEAT_TRAINS, SELF, sw_tokyu6000_capacity,position_in_vehid_chain_from_end){
    0: 141*param_capacity_mod/3;
    default: 149*param_capacity_mod/3;
}
switch(FEAT_TRAINS, SELF, sw_tokyu6000_capacity_1,position_in_vehid_chain){
    0: 141*param_capacity_mod/3;
    default: sw_tokyu6000_capacity;
}
switch(FEAT_TRAINS, SELF, sw_tokyu6000_capacity_main,vehicle_type_id){
    mu_car_narrow:sw_tokyu6000_capacity;
    sw_tokyu6000_capacity_1;
}


switch(FEAT_TRAINS, SELF, tokyu6000_attach_vehid, vehicle_type_id) {
  mu_car: return string(STR_ATTACH_1067_ERROR);
  mu_car_metro: return string(STR_ATTACH_1067_ERROR);
  return CB_RESULT_ATTACH_ALLOW;
}
item(FEAT_TRAINS, tokyu6000,2021) {
    property {
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        sprite_id: SPRITE_ID_NEW_TRAIN;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        tractive_effort_coefficient: 0.3;
        cargo_capacity: 130;
        air_drag_coefficient: 0.07;
        ai_special_flag: AI_FLAG_PASSENGER;

        climates_available: param_disable_tokyu == 0 ? ALL_CLIMATES : NO_CLIMATE;


        name: string(STR_TRAIN_NAME, string(STR_NAME_TOKYU), "6000", string(STR_NAME_SERIES));
        introduction_date: date(2008, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cost_factor: 23;
        running_cost_factor: 52;
        speed: 120 km/h;
        track_type: TR_1067_DC;
        power: 760 kW;
        weight: 28 ton;
        loading_speed: param_loading_4D;
    }
 graphics {
        default: sw_tokyu6000_lv;
        purchase: tokyu6000_purchase;
        can_attach_wagon: tokyu6000_attach_vehid;
        start_stop: sw_stop_start_3;
        cargo_capacity: sw_tokyu6000_capacity_main;
        cargo_subtype_text: sw_tokyu6000_lv_desc;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_2, 6,7)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_TOKYU)));
    }
    livery_override(mu_car_narrow){
        loading_speed: param_loading_4D;
        cargo_capacity: sw_tokyu6000_capacity_main;
        default: sw_tokyu6000_lv;
        power:1019*3/7;
        weight: 30;
      }
}
# 27 "src/_private.pnml" 2
# 1 "src/private/Kanto/tokyu/tokyu7000.pnml" 1

  spriteset(tokyu7000_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000/tokyu7000.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(tokyu7000_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000/tokyu7000.png"){ tmpl_purchase_2c(0, 50) }
  switch(FEAT_TRAINS, SELF, tokyu7000_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_tokyu; 1: tokyu7000_purchase_c1; 2: tokyu7000_purchase_c2;}

spriteset(tokyu7000_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000/tokyu7000.png"){ tmpl_std(0, 0) }
spriteset(tokyu7000_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000/tokyu7000.png"){ tmpl_std_rev(0, 25) }
spriteset(tokyu7000_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000/tokyu7000.png"){ tmpl_symm(0, 50) }
spriteset(tokyu7000_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000/tokyu7000.png"){ tmpl_symm(0, 75) }
spriteset(tokyu7000_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000/tokyu7000.png"){ tmpl_std(0, 100) }
spriteset(tokyu7000_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu7000/tokyu7000.png"){ tmpl_std_rev(0, 100) }




switch(FEAT_TRAINS, SELF, sw_tokyu7000_panto_placer_1,position_in_vehid_chain %3+1){
    1: tokyu7000_mot;
    tokyu7000_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu7000_panto_placer_1_rev,(position_in_vehid_chain_from_end %3)){
    1: tokyu7000_mot;
    tokyu7000_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu7000_panto_placer_main_1,vehicle_is_reversed){
    1: sw_tokyu7000_panto_placer_1_rev;
    sw_tokyu7000_panto_placer_1;
}


switch(FEAT_TRAINS, SELF, sw_tokyu7000_panto_placer_2,position_in_vehid_chain %3){
    1: tokyu7000_mot;
    tokyu7000_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu7000_panto_placer_2_rev,(position_in_vehid_chain_from_end %3)-1){
    1: tokyu7000_mot;
    tokyu7000_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu7000_panto_placer_main_2,vehicle_is_reversed){
    1: sw_tokyu7000_panto_placer_2_rev;
    sw_tokyu7000_panto_placer_2;
}

switch(FEAT_TRAINS, SELF, sw_tokyu7000_panto_placer_main,num_vehs_in_vehid_chain+1){
    0..4:sw_tokyu7000_panto_placer_main_1;
    6: sw_tokyu7000_panto_placer_main_1;
    sw_tokyu7000_panto_placer_main_2;
}


switch(FEAT_TRAINS, SELF, sw_tokyu7000_fake_placer,position_in_vehid_chain +1){
    3: tokyu7000_end_f;
    4: tokyu7000_front_f;
sw_tokyu7000_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu7000_fake_placer_rev,position_in_vehid_chain_from_end ){
    3: tokyu7000_front_f;
    4: tokyu7000_end_f;
sw_tokyu7000_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu7000_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tokyu7000_fake_placer_rev;
    sw_tokyu7000_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tokyu7000_fake_placer_main,num_vehs_in_vehid_chain>7 - 1){
    1: sw_tokyu7000_fake_placer_gfx;
sw_tokyu7000_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tokyu7000_end_gfx_main,position_in_vehid_chain_from_end){
    0: tokyu7000_end;
    default: sw_tokyu7000_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu7000_front_gfx_main,position_in_vehid_chain_from_end){
    0: tokyu7000_front;
    default: sw_tokyu7000_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu7000_lv,vehicle_type_id){
    mu_car_narrow:sw_tokyu7000_end_gfx_main;
    sw_tokyu7000_front_gfx_main;
}



switch(FEAT_TRAINS, SELF, sw_tokyu7000_capacity,position_in_vehid_chain_from_end){
    0: 122*param_capacity_mod/3;
    default: 134*param_capacity_mod/3;
}
switch(FEAT_TRAINS, SELF, sw_tokyu7000_capacity_1,position_in_vehid_chain){
    0: 122*param_capacity_mod/3;
    default: sw_tokyu7000_capacity;
}
switch(FEAT_TRAINS, SELF, sw_tokyu7000_capacity_main,vehicle_type_id){
    mu_car_narrow:sw_tokyu7000_capacity;
    sw_tokyu7000_capacity_1;
}


switch(FEAT_TRAINS, PARENT, sw_tokyu7000_power, num_vehs_in_consist){
    3: 760*1342/2000;
    760*1342/3000;
}


switch(FEAT_TRAINS, SELF, tokyu7000_attach_vehid, vehicle_type_id) {
  mu_car: return string(STR_ATTACH_1067_ERROR);
  mu_car_metro: return string(STR_ATTACH_1067_ERROR);
  return CB_RESULT_ATTACH_ALLOW;
}

item(FEAT_TRAINS, tokyu7000,2022) {
    property {
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        sprite_id: SPRITE_ID_NEW_TRAIN;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        tractive_effort_coefficient: 0.3;
        cargo_capacity: 130;
        air_drag_coefficient: 0.07;
        ai_special_flag: AI_FLAG_PASSENGER;

        climates_available: param_disable_tokyu == 0 ? ALL_CLIMATES : NO_CLIMATE;


        name: string(STR_TRAIN_NAME, string(STR_NAME_TOKYU), "7000", string(STR_NAME_SERIES));
        introduction_date: date(2007, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cost_factor: 19;
        running_cost_factor: 49;
        speed: 120 km/h;
        track_type: TR_1067_DC;
        power: 760 kW;
        weight: 30 ton;
        loading_speed: param_loading_3D;
    }
 graphics {
        default: sw_tokyu7000_lv;
        purchase: tokyu7000_purchase;
        can_attach_wagon: tokyu7000_attach_vehid;
        start_stop: sw_stop_start_3;
        cargo_capacity: sw_tokyu7000_capacity_main;

        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 3)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_TOKYU)));
    }
    livery_override(mu_car_narrow){
        loading_speed: param_loading_3D;
        cargo_capacity: sw_tokyu7000_capacity_main;
        default: sw_tokyu7000_lv;
        power:sw_tokyu7000_power;
        weight: 31;
      }
}
# 28 "src/_private.pnml" 2
# 1 "src/private/Kanto/tokyu/tokyu2020.pnml" 1

  spriteset(tokyu2020_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu2020/tokyu2020.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(tokyu2020_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu2020/tokyu2020.png"){ tmpl_purchase_2c(0, 100) }
  switch(FEAT_TRAINS, SELF, tokyu2020_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_tokyu; 1: tokyu2020_purchase_c1; 2: tokyu2020_purchase_c2;}

spriteset(tokyu2020_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu2020/tokyu2020.png"){ tmpl_std(0, 0) }
spriteset(tokyu2020_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu2020/tokyu2020.png"){ tmpl_std_rev(0, 25) }
spriteset(tokyu2020_mot_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu2020/tokyu2020.png"){ tmpl_std(0, 50) }
spriteset(tokyu2020_mot_1_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu2020/tokyu2020.png"){ tmpl_std_rev(0, 50) }
spriteset(tokyu2020_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu2020/tokyu2020.png"){ tmpl_symm(0, 75) }
spriteset(tokyu2020_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu2020/tokyu2020.png"){ tmpl_symm(0, 100) }
spriteset(tokyu2020_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu2020/tokyu2020.png"){ tmpl_std(0, 125) }
spriteset(tokyu2020_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu2020/tokyu2020.png"){ tmpl_std_rev(0, 125) }

spriteset(tokyu2020_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu2020/tokyu2020_1.png"){ tmpl_std(0, 0) }
spriteset(tokyu2020_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu2020/tokyu2020_1.png"){ tmpl_std_rev(0, 25) }
spriteset(tokyu2020_1_mot_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu2020/tokyu2020_1.png"){ tmpl_std(0, 50) }
spriteset(tokyu2020_1_mot_1_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu2020/tokyu2020_1.png"){ tmpl_std_rev(0, 50) }
spriteset(tokyu2020_1_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu2020/tokyu2020_1.png"){ tmpl_symm(0, 75) }
spriteset(tokyu2020_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu2020/tokyu2020_1.png"){ tmpl_symm(0, 100) }
spriteset(tokyu2020_1_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu2020/tokyu2020_1.png"){ tmpl_std(0, 125) }
spriteset(tokyu2020_1_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu2020/tokyu2020_1.png"){ tmpl_std_rev(0, 125) }

spriteset(tokyu6020_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu2020/tokyu6020.png"){ tmpl_std(0, 0) }
spriteset(tokyu6020_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu2020/tokyu6020.png"){ tmpl_std_rev(0, 25) }
spriteset(tokyu6020_mot_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu2020/tokyu6020.png"){ tmpl_std(0, 50) }
spriteset(tokyu6020_mot_1_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu2020/tokyu6020.png"){ tmpl_std_rev(0, 50) }
spriteset(tokyu6020_mot_Qcar, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu2020/tokyu6020.png"){ tmpl_symm(0, 75) }
spriteset(tokyu6020_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu2020/tokyu6020.png"){ tmpl_symm(0, 100) }
spriteset(tokyu6020_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu2020/tokyu6020.png"){ tmpl_symm(0, 125) }
spriteset(tokyu6020_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu2020/tokyu6020.png"){ tmpl_std(0, 150) }
spriteset(tokyu6020_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu2020/tokyu6020.png"){ tmpl_std_rev(0, 150) }

spriteset(tokyu3020_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu2020/tokyu3020.png"){ tmpl_std(0, 0) }
spriteset(tokyu3020_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu2020/tokyu3020.png"){ tmpl_std_rev(0, 25) }
spriteset(tokyu3020_mot_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu2020/tokyu3020.png"){ tmpl_std(0, 50) }
spriteset(tokyu3020_mot_1_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu2020/tokyu3020.png"){ tmpl_std_rev(0, 50) }
spriteset(tokyu3020_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu2020/tokyu3020.png"){ tmpl_symm(0, 75) }
spriteset(tokyu3020_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu2020/tokyu3020.png"){ tmpl_symm(0, 100) }
spriteset(tokyu3020_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu2020/tokyu3020.png"){ tmpl_std(0, 125) }
spriteset(tokyu3020_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu2020/tokyu3020.png"){ tmpl_std_rev(0, 125) }

spriteset(tokyu3020_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu2020/tokyu3020_1.png"){ tmpl_std(0, 0) }
spriteset(tokyu3020_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu2020/tokyu3020_1.png"){ tmpl_std_rev(0, 25) }
spriteset(tokyu3020_1_mot_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu2020/tokyu3020_1.png"){ tmpl_std(0, 50) }
spriteset(tokyu3020_1_mot_1_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu2020/tokyu3020_1.png"){ tmpl_std_rev(0, 50) }
spriteset(tokyu3020_1_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu2020/tokyu3020_1.png"){ tmpl_symm(0, 75) }
spriteset(tokyu3020_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu2020/tokyu3020_1.png"){ tmpl_symm(0, 100) }
spriteset(tokyu3020_1_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu2020/tokyu3020_1.png"){ tmpl_std(0, 125) }
spriteset(tokyu3020_1_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tokyu/tokyu2020/tokyu3020_1.png"){ tmpl_std_rev(0, 125) }




switch(FEAT_TRAINS, PARENT, sw_tokyu2020_mot_1_gfx,vehicle_is_reversed){
    1:tokyu2020_mot_1;
    tokyu2020_mot_1_rev;
}



switch(FEAT_TRAINS, SELF, sw_tokyu2020_panto_placer_1,1+position_in_vehid_chain %9){
    2: tokyu2020_mot;
    5: sw_tokyu2020_mot_1_gfx;
    8: tokyu2020_mot;
    tokyu2020_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu2020_panto_placer_1_rev,position_in_vehid_chain_from_end %9){
    2: tokyu2020_mot;
    5: sw_tokyu2020_mot_1_gfx;
    8: tokyu2020_mot;
    tokyu2020_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu2020_panto_placer_main_1,vehicle_is_reversed){
    1: sw_tokyu2020_panto_placer_1_rev;
    sw_tokyu2020_panto_placer_1;
}


switch(FEAT_TRAINS, SELF, sw_tokyu2020_panto_placer_2,1+position_in_vehid_chain %7){
    2: tokyu2020_mot;
    6: tokyu2020_mot;
    tokyu2020_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu2020_panto_placer_2_rev,position_in_vehid_chain_from_end %7){
    2: tokyu2020_mot;
    6: tokyu2020_mot;
    tokyu2020_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu2020_panto_placer_main_2,vehicle_is_reversed){
    1: sw_tokyu2020_panto_placer_2_rev;
    sw_tokyu2020_panto_placer_2;
}


switch(FEAT_TRAINS, SELF, sw_tokyu2020_panto_placer_3,1+position_in_vehid_chain %3){
    1: tokyu2020_mot;
    tokyu2020_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu2020_panto_placer_3_rev,position_in_vehid_chain_from_end %3){
    1: tokyu2020_mot;
    tokyu2020_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu2020_panto_placer_main_3,vehicle_is_reversed){
    1:sw_tokyu2020_panto_placer_3;
    sw_tokyu2020_panto_placer_3_rev;
}

switch(FEAT_TRAINS, SELF, sw_tokyu2020_panto_placer_main,num_vehs_in_vehid_chain+1){
    0..3:sw_tokyu2020_panto_placer_main_3;
    4..5:sw_tokyu2020_panto_placer_main_2;
    6..7: sw_tokyu2020_panto_placer_main_3;
    8..9:sw_tokyu2020_panto_placer_main_2;
    sw_tokyu2020_panto_placer_main_1;
}


switch(FEAT_TRAINS, SELF, sw_tokyu2020_fake_placer,position_in_vehid_chain +1){
    6: tokyu2020_end_f;
    7: tokyu2020_front_f;
sw_tokyu2020_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu2020_fake_placer_rev,position_in_vehid_chain_from_end ){
    6: tokyu2020_front_f;
    7: tokyu2020_end_f;
sw_tokyu2020_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu2020_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tokyu2020_fake_placer_rev;
    sw_tokyu2020_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tokyu2020_fake_placer_main,num_vehs_in_vehid_chain>10 - 1){
    1: sw_tokyu2020_fake_placer_gfx;
sw_tokyu2020_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tokyu2020_end_gfx_main,position_in_vehid_chain_from_end){
    0: tokyu2020_end;
    default: sw_tokyu2020_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu2020_front_gfx_main,position_in_vehid_chain_from_end){
    0: tokyu2020_front;
    default: sw_tokyu2020_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu2020_livery_1,vehicle_type_id){
    mu_car_narrow:sw_tokyu2020_end_gfx_main;
    sw_tokyu2020_front_gfx_main;
}




switch(FEAT_TRAINS, PARENT, sw_tokyu2020_1_mot_1_gfx,vehicle_is_reversed){
    1:tokyu2020_1_mot_1;
    tokyu2020_1_mot_1_rev;
}



switch(FEAT_TRAINS, SELF, sw_tokyu2020_1_panto_placer_1,1+position_in_vehid_chain %9){
    2: tokyu2020_1_mot;
    5: sw_tokyu2020_1_mot_1_gfx;
    8: tokyu2020_1_mot;
    tokyu2020_1_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu2020_1_panto_placer_1_rev,position_in_vehid_chain_from_end %9){
    2: tokyu2020_1_mot;
    5: sw_tokyu2020_1_mot_1_gfx;
    8: tokyu2020_1_mot;
    tokyu2020_1_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu2020_1_panto_placer_main_1,vehicle_is_reversed){
    1: sw_tokyu2020_1_panto_placer_1_rev;
    sw_tokyu2020_1_panto_placer_1;
}


switch(FEAT_TRAINS, SELF, sw_tokyu2020_1_panto_placer_2,1+position_in_vehid_chain %7){
    2: tokyu2020_1_mot;
    6: tokyu2020_1_mot;
    tokyu2020_1_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu2020_1_panto_placer_2_rev,position_in_vehid_chain_from_end %7){
    2: tokyu2020_1_mot;
    6: tokyu2020_1_mot;
    tokyu2020_1_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu2020_1_panto_placer_main_2,vehicle_is_reversed){
    1: sw_tokyu2020_1_panto_placer_2_rev;
    sw_tokyu2020_1_panto_placer_2;
}


switch(FEAT_TRAINS, SELF, sw_tokyu2020_1_panto_placer_3,1+position_in_vehid_chain %3){
    1: tokyu2020_1_mot;
    tokyu2020_1_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu2020_1_panto_placer_3_rev,position_in_vehid_chain_from_end %3){
    1: tokyu2020_1_mot;
    tokyu2020_1_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu2020_1_panto_placer_main_3,vehicle_is_reversed){
    1:sw_tokyu2020_1_panto_placer_3;
    sw_tokyu2020_1_panto_placer_3_rev;
}

switch(FEAT_TRAINS, SELF, sw_tokyu2020_1_panto_placer_main,num_vehs_in_vehid_chain+1){
    0..3:sw_tokyu2020_1_panto_placer_main_3;
    4..5:sw_tokyu2020_1_panto_placer_main_2;
    6..7: sw_tokyu2020_1_panto_placer_main_3;
    8..9:sw_tokyu2020_1_panto_placer_main_2;
    sw_tokyu2020_1_panto_placer_main_1;
}


switch(FEAT_TRAINS, SELF, sw_tokyu2020_1_fake_placer,position_in_vehid_chain +1){
    6: tokyu2020_1_end_f;
    7: tokyu2020_1_front_f;
sw_tokyu2020_1_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu2020_1_fake_placer_rev,position_in_vehid_chain_from_end ){
    6: tokyu2020_1_front_f;
    7: tokyu2020_1_end_f;
sw_tokyu2020_1_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu2020_1_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tokyu2020_1_fake_placer_rev;
    sw_tokyu2020_1_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tokyu2020_1_fake_placer_main,num_vehs_in_vehid_chain>10 - 1){
    1: sw_tokyu2020_1_fake_placer_gfx;
sw_tokyu2020_1_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tokyu2020_1_end_gfx_main,position_in_vehid_chain_from_end){
    0: tokyu2020_1_end;
    default: sw_tokyu2020_1_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu2020_1_front_gfx_main,position_in_vehid_chain_from_end){
    0: tokyu2020_1_front;
    default: sw_tokyu2020_1_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu2020_livery_2,vehicle_type_id){
    mu_car_narrow:sw_tokyu2020_1_end_gfx_main;
    sw_tokyu2020_1_front_gfx_main;
}




switch(FEAT_TRAINS, PARENT, sw_tokyu6020_mot_1_gfx,vehicle_is_reversed){
    1:tokyu6020_mot_1;
    tokyu6020_mot_1_rev;
}



switch(FEAT_TRAINS, SELF, sw_tokyu6020_panto_placer_1,1+position_in_vehid_chain %9){
    2: tokyu6020_mot;
    5: sw_tokyu6020_mot_1_gfx;
    8: tokyu6020_mot;
    tokyu6020_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu6020_panto_placer_1_rev,position_in_vehid_chain_from_end %9){
    2: tokyu6020_mot;
    5: sw_tokyu6020_mot_1_gfx;
    8: tokyu6020_mot;
    tokyu6020_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu6020_panto_placer_main_1,vehicle_is_reversed){
    1: sw_tokyu6020_panto_placer_1_rev;
    sw_tokyu6020_panto_placer_1;
}


switch(FEAT_TRAINS, SELF, sw_tokyu6020_panto_placer_2,1+position_in_vehid_chain %7){
    2: tokyu6020_mot;
    6: tokyu6020_mot;
    tokyu6020_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu6020_panto_placer_2_rev,position_in_vehid_chain_from_end %7){
    2: tokyu6020_mot;
    6: tokyu6020_mot;
    tokyu6020_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu6020_panto_placer_main_2,vehicle_is_reversed){
    1: sw_tokyu6020_panto_placer_2_rev;
    sw_tokyu6020_panto_placer_2;
}


switch(FEAT_TRAINS, SELF, sw_tokyu6020_panto_placer_3,1+position_in_vehid_chain %3){
    1: tokyu6020_mot;
    tokyu6020_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu6020_panto_placer_3_rev,position_in_vehid_chain_from_end %3){
    1: tokyu6020_mot;
    tokyu6020_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu6020_panto_placer_main_3,vehicle_is_reversed){
    1:sw_tokyu6020_panto_placer_3;
    sw_tokyu6020_panto_placer_3_rev;
}

switch(FEAT_TRAINS, SELF, sw_tokyu6020_panto_placer_main,num_vehs_in_vehid_chain+1){
    0..3:sw_tokyu6020_panto_placer_main_3;
    4..5:sw_tokyu6020_panto_placer_main_2;
    6..7: sw_tokyu6020_panto_placer_main_3;
    8..9:sw_tokyu6020_panto_placer_main_2;
    sw_tokyu6020_panto_placer_main_1;
}


switch(FEAT_TRAINS, SELF, sw_tokyu6020_fake_placer,position_in_vehid_chain +1){
    6: tokyu6020_end_f;
    7: tokyu6020_front_f;
sw_tokyu6020_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu6020_fake_placer_rev,position_in_vehid_chain_from_end ){
    6: tokyu6020_front_f;
    7: tokyu6020_end_f;
sw_tokyu6020_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu6020_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tokyu6020_fake_placer_rev;
    sw_tokyu6020_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tokyu6020_fake_placer_main,num_vehs_in_vehid_chain>10 - 1){
    1: sw_tokyu6020_fake_placer_gfx;
sw_tokyu6020_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tokyu6020_end_gfx_main,position_in_vehid_chain_from_end){
    0: tokyu6020_end;
    default: sw_tokyu6020_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu6020_front_gfx_main,position_in_vehid_chain_from_end){
    0: tokyu6020_front;
    default: sw_tokyu6020_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu6020_livery_3,vehicle_type_id){
    mu_car_narrow:sw_tokyu6020_end_gfx_main;
    sw_tokyu6020_front_gfx_main;
}




switch(FEAT_TRAINS, PARENT, sw_tokyu6020_1_mot_1_gfx,vehicle_is_reversed){
    1:tokyu6020_mot_1;
    tokyu6020_mot_1_rev;
}

switch(FEAT_TRAINS, SELF, sw_tokyu6020_1_mot_Qcar_gfx,(num_vehs_in_vehid_chain>5&&(position_in_vehid_chain==1||position_in_vehid_chain_from_end==2))){
    1:tokyu6020_mot_Qcar;
    tokyu6020_mot;
}



switch(FEAT_TRAINS, SELF, sw_tokyu6020_1_panto_placer_1,1+position_in_vehid_chain %9){
    2: sw_tokyu6020_1_mot_Qcar_gfx;
    5: sw_tokyu6020_1_mot_1_gfx;
    8: tokyu6020_mot;
    tokyu6020_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu6020_1_panto_placer_1_rev,position_in_vehid_chain_from_end %9){
    2: sw_tokyu6020_1_mot_Qcar_gfx;
    5: sw_tokyu6020_1_mot_1_gfx;
    8: tokyu6020_mot;
    tokyu6020_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu6020_1_panto_placer_main_1,vehicle_is_reversed){
    1: sw_tokyu6020_1_panto_placer_1_rev;
    sw_tokyu6020_1_panto_placer_1;
}


switch(FEAT_TRAINS, SELF, sw_tokyu6020_1_panto_placer_2,1+position_in_vehid_chain %7){
    2: sw_tokyu6020_1_mot_Qcar_gfx;
    6: tokyu6020_mot;
    tokyu6020_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu6020_1_panto_placer_2_rev,position_in_vehid_chain_from_end %7){
    2: sw_tokyu6020_1_mot_Qcar_gfx;
    6: tokyu6020_mot;
    tokyu6020_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu6020_1_panto_placer_main_2,vehicle_is_reversed){
    1: sw_tokyu6020_1_panto_placer_2_rev;
    sw_tokyu6020_1_panto_placer_2;
}


switch(FEAT_TRAINS, SELF, sw_tokyu6020_1_panto_placer_3,1+position_in_vehid_chain %3){
    1: sw_tokyu6020_1_mot_Qcar_gfx;
    tokyu6020_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu6020_1_panto_placer_3_rev,position_in_vehid_chain_from_end %3){
    1: sw_tokyu6020_1_mot_Qcar_gfx;
    tokyu6020_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu6020_1_panto_placer_main_3,vehicle_is_reversed){
    1:sw_tokyu6020_1_panto_placer_3;
    sw_tokyu6020_1_panto_placer_3_rev;
}

switch(FEAT_TRAINS, SELF, sw_tokyu6020_1_panto_placer_main,num_vehs_in_vehid_chain+1){
    0..3:sw_tokyu6020_1_panto_placer_main_3;
    4..5:sw_tokyu6020_1_panto_placer_main_2;
    6..7: sw_tokyu6020_1_panto_placer_main_3;
    8..9:sw_tokyu6020_1_panto_placer_main_2;
    sw_tokyu6020_1_panto_placer_main_1;
}


switch(FEAT_TRAINS, SELF, sw_tokyu6020_1_fake_placer,position_in_vehid_chain +1){
    6: tokyu6020_end_f;
    7: tokyu6020_front_f;
sw_tokyu6020_1_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu6020_1_fake_placer_rev,position_in_vehid_chain_from_end ){
    6: tokyu6020_front_f;
    7: tokyu6020_end_f;
sw_tokyu6020_1_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu6020_1_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tokyu6020_1_fake_placer_rev;
    sw_tokyu6020_1_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tokyu6020_1_fake_placer_main,num_vehs_in_vehid_chain>10 - 1){
    1: sw_tokyu6020_1_fake_placer_gfx;
sw_tokyu6020_1_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tokyu6020_1_end_gfx_main,position_in_vehid_chain_from_end){
    0: tokyu6020_end;
    default: sw_tokyu6020_1_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu6020_1_front_gfx_main,position_in_vehid_chain_from_end){
    0: tokyu6020_front;
    default: sw_tokyu6020_1_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu6020_livery_4,vehicle_type_id){
    mu_car_narrow:sw_tokyu6020_1_end_gfx_main;
    sw_tokyu6020_1_front_gfx_main;
}




switch(FEAT_TRAINS, PARENT, sw_tokyu3020_mot_1_gfx,vehicle_is_reversed){
    1:tokyu3020_mot_1;
    tokyu3020_mot_1_rev;
}



switch(FEAT_TRAINS, SELF, sw_tokyu3020_panto_placer_1,1+position_in_vehid_chain %9){
    2: tokyu3020_mot;
    5: sw_tokyu3020_mot_1_gfx;
    8: tokyu3020_mot;
    tokyu3020_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu3020_panto_placer_1_rev,position_in_vehid_chain_from_end %9){
    2: tokyu3020_mot;
    5: sw_tokyu3020_mot_1_gfx;
    8: tokyu3020_mot;
    tokyu3020_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu3020_panto_placer_main_1,vehicle_is_reversed){
    1: sw_tokyu3020_panto_placer_1_rev;
    sw_tokyu3020_panto_placer_1;
}


switch(FEAT_TRAINS, SELF, sw_tokyu3020_panto_placer_2,1+position_in_vehid_chain %7){
    2: tokyu3020_mot;
    6: tokyu3020_mot;
    tokyu3020_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu3020_panto_placer_2_rev,position_in_vehid_chain_from_end %7){
    2: tokyu3020_mot;
    6: tokyu3020_mot;
    tokyu3020_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu3020_panto_placer_main_2,vehicle_is_reversed){
    1: sw_tokyu3020_panto_placer_2_rev;
    sw_tokyu3020_panto_placer_2;
}


switch(FEAT_TRAINS, SELF, sw_tokyu3020_panto_placer_3,1+position_in_vehid_chain %3){
    1: tokyu3020_mot;
    tokyu3020_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu3020_panto_placer_3_rev,position_in_vehid_chain_from_end %3){
    1: tokyu3020_mot;
    tokyu3020_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu3020_panto_placer_main_3,vehicle_is_reversed){
    1:sw_tokyu3020_panto_placer_3;
    sw_tokyu3020_panto_placer_3_rev;
}

switch(FEAT_TRAINS, SELF, sw_tokyu3020_panto_placer_main,num_vehs_in_vehid_chain+1){
    0..3:sw_tokyu3020_panto_placer_main_3;
    4..5:sw_tokyu3020_panto_placer_main_2;
    6..7: sw_tokyu3020_panto_placer_main_3;
    8..9:sw_tokyu3020_panto_placer_main_2;
    sw_tokyu3020_panto_placer_main_1;
}


switch(FEAT_TRAINS, SELF, sw_tokyu3020_fake_placer,position_in_vehid_chain +1){
    6: tokyu3020_end_f;
    7: tokyu3020_front_f;
sw_tokyu3020_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu3020_fake_placer_rev,position_in_vehid_chain_from_end ){
    6: tokyu3020_front_f;
    7: tokyu3020_end_f;
sw_tokyu3020_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu3020_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tokyu3020_fake_placer_rev;
    sw_tokyu3020_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tokyu3020_fake_placer_main,num_vehs_in_vehid_chain>10 - 1){
    1: sw_tokyu3020_fake_placer_gfx;
sw_tokyu3020_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tokyu3020_end_gfx_main,position_in_vehid_chain_from_end){
    0: tokyu3020_end;
    default: sw_tokyu3020_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu3020_front_gfx_main,position_in_vehid_chain_from_end){
    0: tokyu3020_front;
    default: sw_tokyu3020_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu3020_livery_5,vehicle_type_id){
    mu_car_narrow:sw_tokyu3020_end_gfx_main;
    sw_tokyu3020_front_gfx_main;
}




switch(FEAT_TRAINS, PARENT, sw_tokyu3020_1_mot_1_gfx,vehicle_is_reversed){
    1:tokyu3020_1_mot_1;
    tokyu3020_1_mot_1_rev;
}



switch(FEAT_TRAINS, SELF, sw_tokyu3020_1_panto_placer_1,1+position_in_vehid_chain %9){
    2: tokyu3020_1_mot;
    5: sw_tokyu3020_1_mot_1_gfx;
    8: tokyu3020_1_mot;
    tokyu3020_1_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu3020_1_panto_placer_1_rev,position_in_vehid_chain_from_end %9){
    2: tokyu3020_1_mot;
    5: sw_tokyu3020_1_mot_1_gfx;
    8: tokyu3020_1_mot;
    tokyu3020_1_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu3020_1_panto_placer_main_1,vehicle_is_reversed){
    1: sw_tokyu3020_1_panto_placer_1_rev;
    sw_tokyu3020_1_panto_placer_1;
}


switch(FEAT_TRAINS, SELF, sw_tokyu3020_1_panto_placer_2,1+position_in_vehid_chain %7){
    2: tokyu3020_1_mot;
    6: tokyu3020_1_mot;
    tokyu3020_1_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu3020_1_panto_placer_2_rev,position_in_vehid_chain_from_end %7){
    2: tokyu3020_1_mot;
    6: tokyu3020_1_mot;
    tokyu3020_1_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu3020_1_panto_placer_main_2,vehicle_is_reversed){
    1: sw_tokyu3020_1_panto_placer_2_rev;
    sw_tokyu3020_1_panto_placer_2;
}


switch(FEAT_TRAINS, SELF, sw_tokyu3020_1_panto_placer_3,1+position_in_vehid_chain %3){
    1: tokyu3020_1_mot;
    tokyu3020_1_wag;
}
switch(FEAT_TRAINS, SELF, sw_tokyu3020_1_panto_placer_3_rev,position_in_vehid_chain_from_end %3){
    1: tokyu3020_1_mot;
    tokyu3020_1_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu3020_1_panto_placer_main_3,vehicle_is_reversed){
    1:sw_tokyu3020_1_panto_placer_3;
    sw_tokyu3020_1_panto_placer_3_rev;
}

switch(FEAT_TRAINS, SELF, sw_tokyu3020_1_panto_placer_main,num_vehs_in_vehid_chain+1){
    0..3:sw_tokyu3020_1_panto_placer_main_3;
    4..5:sw_tokyu3020_1_panto_placer_main_2;
    6..7: sw_tokyu3020_1_panto_placer_main_3;
    8..9:sw_tokyu3020_1_panto_placer_main_2;
    sw_tokyu3020_1_panto_placer_main_1;
}


switch(FEAT_TRAINS, SELF, sw_tokyu3020_1_fake_placer,position_in_vehid_chain +1){
    6: tokyu3020_1_end_f;
    7: tokyu3020_1_front_f;
sw_tokyu3020_1_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu3020_1_fake_placer_rev,position_in_vehid_chain_from_end ){
    6: tokyu3020_1_front_f;
    7: tokyu3020_1_end_f;
sw_tokyu3020_1_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu3020_1_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tokyu3020_1_fake_placer_rev;
    sw_tokyu3020_1_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tokyu3020_1_fake_placer_main,num_vehs_in_vehid_chain>10 - 1){
    1: sw_tokyu3020_1_fake_placer_gfx;
sw_tokyu3020_1_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tokyu3020_1_end_gfx_main,position_in_vehid_chain_from_end){
    0: tokyu3020_1_end;
    default: sw_tokyu3020_1_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu3020_1_front_gfx_main,position_in_vehid_chain_from_end){
    0: tokyu3020_1_front;
    default: sw_tokyu3020_1_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tokyu3020_livery_6,vehicle_type_id){
    mu_car_narrow:sw_tokyu3020_1_end_gfx_main;
    sw_tokyu3020_1_front_gfx_main;
}


random_switch(FEAT_TRAINS, PARENT, sw_tokyu2020_livery_0){
    3:sw_tokyu2020_livery_1;
    1:sw_tokyu2020_livery_2;
}
switch(FEAT_TRAINS, PARENT, sw_tokyu2020_lv, cargo_subtype){
    0:sw_tokyu2020_livery_0;
    1:sw_tokyu2020_livery_1;
    2:sw_tokyu2020_livery_2;
    3:sw_tokyu6020_livery_3;
    4:sw_tokyu6020_livery_4;
    5:sw_tokyu3020_livery_5;
    6:sw_tokyu3020_livery_6;
}
switch(FEAT_TRAINS, SELF, sw_tokyu2020_lv_desc, cargo_subtype){
    0:string(LV_RANDOM);
    1:string(LV_tokyu2020_1);
    2:string(LV_tokyu2020_2);
    3:string(LV_tokyu6020_3);
    4:string(LV_tokyu6020_4);
    5:string(LV_tokyu3020_5);
    6:string(LV_tokyu3020_6);
}



switch(FEAT_TRAINS, SELF, sw_tokyu2020_capacity,position_in_vehid_chain_from_end){
    0: 143*param_capacity_mod/3;
    default: 155*param_capacity_mod/3;
}
switch(FEAT_TRAINS, SELF, sw_tokyu2020_capacity_1,position_in_vehid_chain){
    0: 143*param_capacity_mod/3;
    default: sw_tokyu2020_capacity;
}
switch(FEAT_TRAINS, SELF, sw_tokyu2020_capacity_main,vehicle_type_id){
    mu_car_narrow:sw_tokyu2020_capacity;
    sw_tokyu2020_capacity_1;
}


switch(FEAT_TRAINS, SELF, tokyu2020_attach_vehid, vehicle_type_id) {
  mu_car: return string(STR_ATTACH_1067_ERROR);
  mu_car_metro: return string(STR_ATTACH_1067_ERROR);
  return CB_RESULT_ATTACH_ALLOW;
}

item(FEAT_TRAINS, tokyu2020,2023) {
    property {
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        sprite_id: SPRITE_ID_NEW_TRAIN;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        tractive_effort_coefficient: 0.3;
        cargo_capacity: 130;
        air_drag_coefficient: 0.07;
        ai_special_flag: AI_FLAG_PASSENGER;

        climates_available: param_disable_tokyu == 0 ? ALL_CLIMATES : NO_CLIMATE;


        name: string(STR_TRAIN_NAME, string(STR_NAME_TOKYU), "2020/6020/3020", string(STR_NAME_SERIES));
        introduction_date: date(2017, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cost_factor: 23;
        running_cost_factor: 53;
        speed: 120 km/h;
        track_type: TR_1067_DC;
        power: 760 kW;
        weight: 32 ton;
        loading_speed: param_loading_4D;
    }
 graphics {
        default: sw_tokyu2020_lv;
        purchase: tokyu2020_purchase;
        can_attach_wagon: tokyu2020_attach_vehid;
        start_stop: sw_stop_start_3;
        cargo_capacity: sw_tokyu2020_capacity_main;
        cargo_subtype_text: sw_tokyu2020_lv_desc;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_4, 6,7,8,10)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_TOKYU)));
    }
    livery_override(mu_car_narrow){
        loading_speed: param_loading_4D;
        cargo_capacity: sw_tokyu2020_capacity_main;
        default: sw_tokyu2020_lv;
        power:760*4*1342/9000;
        weight: 31;
      }
}
# 29 "src/_private.pnml" 2


# 1 "src/private/Kanto/tobu/tobu5700.pnml" 1

  spriteset(tobu5700_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu5700/tobu5700_1.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(tobu5700_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu5700/tobu5700_1.png"){ tmpl_purchase_2c(0, 75) }
  switch(FEAT_TRAINS, SELF, tobu5700_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_tobu; 1: tobu5700_purchase_c1; 2: tobu5700_purchase_c2;}

    spriteset(tobu5700_1_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu5700/tobu5700_1.png"){ tmpl_std(0, 0) }
    spriteset(tobu5700_1_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu5700/tobu5700_1.png"){ tmpl_std_rev(0, 25) }
    spriteset(tobu5700_1_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu5700/tobu5700_1.png"){ tmpl_std(0, 25) }
    spriteset(tobu5700_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu5700/tobu5700_1.png"){ tmpl_std(0, 50) }
    spriteset(tobu5700_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu5700/tobu5700_1.png"){ tmpl_std_rev(0, 75) }
    spriteset(tobu5700_1_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu5700/tobu5700_1.png"){ tmpl_std(0, 75) }


    spriteset(tobu5700_2_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu5700/tobu5700_2.png"){ tmpl_std(0, 0) }
    spriteset(tobu5700_2_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu5700/tobu5700_2.png"){ tmpl_std_rev(0, 25) }
    spriteset(tobu5700_2_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu5700/tobu5700_2.png"){ tmpl_std(0, 25) }
    spriteset(tobu5700_2_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu5700/tobu5700_2.png"){ tmpl_std(0, 50) }
    spriteset(tobu5700_2_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu5700/tobu5700_2.png"){ tmpl_std_rev(0, 75) }
    spriteset(tobu5700_2_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu5700/tobu5700_2.png"){ tmpl_std(0, 75) }


    spriteset(tobu5700_3_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu5700/tobu5700_3.png"){ tmpl_std(0, 0) }
    spriteset(tobu5700_3_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu5700/tobu5700_3.png"){ tmpl_std_rev(0, 25) }
    spriteset(tobu5700_3_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu5700/tobu5700_3.png"){ tmpl_std(0, 25) }
    spriteset(tobu5700_3_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu5700/tobu5700_3.png"){ tmpl_std(0, 50) }
    spriteset(tobu5700_3_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu5700/tobu5700_3.png"){ tmpl_std_rev(0, 75) }
    spriteset(tobu5700_3_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu5700/tobu5700_3.png"){ tmpl_std(0, 75) }


    spriteset(tobu5700_4_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu5700/tobu5700_4.png"){ tmpl_std(0, 0) }
    spriteset(tobu5700_4_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu5700/tobu5700_4.png"){ tmpl_std_rev(0, 25) }
    spriteset(tobu5700_4_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu5700/tobu5700_4.png"){ tmpl_std(0, 25) }
    spriteset(tobu5700_4_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu5700/tobu5700_4.png"){ tmpl_std(0, 50) }
    spriteset(tobu5700_4_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu5700/tobu5700_4.png"){ tmpl_std_rev(0, 75) }
    spriteset(tobu5700_4_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu5700/tobu5700_4.png"){ tmpl_std(0, 75) }


    spriteset(tobu5700_5_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu5700/tobu5700_5.png"){ tmpl_std(0, 0) }
    spriteset(tobu5700_5_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu5700/tobu5700_5.png"){ tmpl_std_rev(0, 25) }
    spriteset(tobu5700_5_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu5700/tobu5700_5.png"){ tmpl_std(0, 25) }
    spriteset(tobu5700_5_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu5700/tobu5700_5.png"){ tmpl_std(0, 50) }
    spriteset(tobu5700_5_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu5700/tobu5700_5.png"){ tmpl_std_rev(0, 75) }
    spriteset(tobu5700_5_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu5700/tobu5700_5.png"){ tmpl_std(0, 75) }





    switch(FEAT_TRAINS, PARENT, sw_tobu5700_1_front_gfx, vehicle_is_reversed){
        1: tobu5700_1_front;
        tobu5700_1_front_mot;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu5700_1_end_gfx, vehicle_is_reversed){
        1: tobu5700_1_end_mot;
        tobu5700_1_end;
    }


    switch(FEAT_TRAINS, SELF, sw_tobu5700_1_panto_placer,position_in_vehid_chain %2){
        0:tobu5700_1_end;
        tobu5700_1_end_mot_rev;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu5700_1_panto_placer_rev,1-position_in_vehid_chain_from_end %2){
        0: tobu5700_1_end_rev;
        tobu5700_1_end_mot;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu5700_1_panto_placer_main,vehicle_is_reversed){
        1: sw_tobu5700_1_panto_placer_rev;
        sw_tobu5700_1_panto_placer;
    }

    switch(FEAT_TRAINS, SELF, sw_tobu5700_1_end_fix, position_in_vehid_chain_from_end){
        0:sw_tobu5700_1_end_gfx;
        sw_tobu5700_1_panto_placer_main;
    }

    switch(FEAT_TRAINS, SELF, sw_tobu5700_livery_1,vehicle_type_id){
        mu_car_narrow:sw_tobu5700_1_end_fix;
        sw_tobu5700_1_front_gfx;
    }


    switch(FEAT_TRAINS, SELF, tobu5700_attach_vehid, vehicle_type_id) {
    mu_car_narrow: return CB_RESULT_ATTACH_ALLOW;
    return string(STR_ATTACH_ERROR);
    }




    switch(FEAT_TRAINS, PARENT, sw_tobu5700_2_front_gfx, vehicle_is_reversed){
        1: tobu5700_2_front;
        tobu5700_2_front_mot;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu5700_2_end_gfx, vehicle_is_reversed){
        1: tobu5700_2_end_mot;
        tobu5700_2_end;
    }


    switch(FEAT_TRAINS, SELF, sw_tobu5700_2_panto_placer,position_in_vehid_chain %2){
        0:tobu5700_2_end;
        tobu5700_2_end_mot_rev;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu5700_2_panto_placer_rev,1-position_in_vehid_chain_from_end %2){
        0: tobu5700_2_end_rev;
        tobu5700_2_end_mot;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu5700_2_panto_placer_main,vehicle_is_reversed){
        1: sw_tobu5700_2_panto_placer_rev;
        sw_tobu5700_2_panto_placer;
    }

    switch(FEAT_TRAINS, SELF, sw_tobu5700_2_end_fix, position_in_vehid_chain_from_end){
        0:sw_tobu5700_2_end_gfx;
        sw_tobu5700_2_panto_placer_main;
    }

    switch(FEAT_TRAINS, SELF, sw_tobu5700_livery_2,vehicle_type_id){
        mu_car_narrow:sw_tobu5700_2_end_fix;
        sw_tobu5700_2_front_gfx;
    }




    switch(FEAT_TRAINS, PARENT, sw_tobu5700_3_front_gfx, vehicle_is_reversed){
        1: tobu5700_3_front;
        tobu5700_3_front_mot;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu5700_3_end_gfx, vehicle_is_reversed){
        1: tobu5700_3_end_mot;
        tobu5700_3_end;
    }


    switch(FEAT_TRAINS, SELF, sw_tobu5700_3_panto_placer,position_in_vehid_chain %2){
        0:tobu5700_3_end;
        tobu5700_3_end_mot_rev;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu5700_3_panto_placer_rev,1-position_in_vehid_chain_from_end %2){
        0: tobu5700_3_end_rev;
        tobu5700_3_end_mot;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu5700_3_panto_placer_main,vehicle_is_reversed){
        1: sw_tobu5700_3_panto_placer_rev;
        sw_tobu5700_3_panto_placer;
    }

    switch(FEAT_TRAINS, SELF, sw_tobu5700_3_end_fix, position_in_vehid_chain_from_end){
        0:sw_tobu5700_3_end_gfx;
        sw_tobu5700_3_panto_placer_main;
    }

    switch(FEAT_TRAINS, SELF, sw_tobu5700_livery_3,vehicle_type_id){
        mu_car_narrow:sw_tobu5700_3_end_fix;
        sw_tobu5700_3_front_gfx;
    }




    switch(FEAT_TRAINS, PARENT, sw_tobu5700_4_front_gfx, vehicle_is_reversed){
        1: tobu5700_4_front;
        tobu5700_4_front_mot;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu5700_4_end_gfx, vehicle_is_reversed){
        1: tobu5700_4_end_mot;
        tobu5700_4_end;
    }


    switch(FEAT_TRAINS, SELF, sw_tobu5700_4_panto_placer,position_in_vehid_chain %2){
        0:tobu5700_1_end;
        tobu5700_1_end_mot_rev;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu5700_4_panto_placer_rev,1-position_in_vehid_chain_from_end %2){
        0: tobu5700_1_end_rev;
        tobu5700_1_end_mot;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu5700_4_panto_placer_main,vehicle_is_reversed){
        1: sw_tobu5700_4_panto_placer_rev;
        sw_tobu5700_4_panto_placer;
    }

    switch(FEAT_TRAINS, SELF, sw_tobu5700_4_end_fix, position_in_vehid_chain_from_end){
        0:sw_tobu5700_4_end_gfx;
        sw_tobu5700_4_panto_placer_main;
    }

    switch(FEAT_TRAINS, SELF, sw_tobu5700_livery_4,vehicle_type_id){
        mu_car_narrow:sw_tobu5700_4_end_fix;
        sw_tobu5700_4_front_gfx;
    }




    switch(FEAT_TRAINS, PARENT, sw_tobu5700_5_front_gfx, vehicle_is_reversed){
        1: tobu5700_5_front;
        tobu5700_5_front_mot;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu5700_5_end_gfx, vehicle_is_reversed){
        1: tobu5700_5_end_mot;
        tobu5700_5_end;
    }


    switch(FEAT_TRAINS, SELF, sw_tobu5700_5_panto_placer,position_in_vehid_chain %2){
        0:tobu5700_2_end;
        tobu5700_2_end_mot_rev;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu5700_5_panto_placer_rev,1-position_in_vehid_chain_from_end %2){
        0: tobu5700_2_end_rev;
        tobu5700_2_end_mot;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu5700_5_panto_placer_main,vehicle_is_reversed){
        1: sw_tobu5700_5_panto_placer_rev;
        sw_tobu5700_5_panto_placer;
    }

    switch(FEAT_TRAINS, SELF, sw_tobu5700_5_end_fix, position_in_vehid_chain_from_end){
        0:sw_tobu5700_5_end_gfx;
        sw_tobu5700_5_panto_placer_main;
    }

    switch(FEAT_TRAINS, SELF, sw_tobu5700_livery_5,vehicle_type_id){
        mu_car_narrow:sw_tobu5700_5_end_fix;
        sw_tobu5700_5_front_gfx;
    }




    random_switch(FEAT_TRAINS, PARENT, sw_tobu5700_livery_0_0){
        1:sw_tobu5700_livery_1;
        1:sw_tobu5700_livery_4;
    }

    random_switch(FEAT_TRAINS, PARENT, sw_tobu5700_livery_0_1){
        1:sw_tobu5700_livery_1;
        2:sw_tobu5700_livery_3;
        2:sw_tobu5700_livery_4;
    }

    random_switch(FEAT_TRAINS, PARENT, sw_tobu5700_livery_0_2){
        1:sw_tobu5700_livery_2;
        1:sw_tobu5700_livery_5;
    }

    switch(FEAT_TRAINS, PARENT, sw_tobu5700_livery_0, build_year){
        0..1952:sw_tobu5700_livery_0_0;
        1953..1955:sw_tobu5700_livery_0_1;
        sw_tobu5700_livery_0_2;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu5700_lv, cargo_subtype){
        0:sw_tobu5700_livery_0;
        1:sw_tobu5700_livery_4;
        2:sw_tobu5700_livery_5;
        3:sw_tobu5700_livery_1;
        4:sw_tobu5700_livery_2;
        5:sw_tobu5700_livery_3;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu5700_lv_desc, cargo_subtype){
        0:string(LV_RANDOM);
        1:string(STR_CONCAT_2,
        string(LV_tobu5700_1),
        string(STR_PAX_LTD_AGE));
        2:string(STR_CONCAT_2,
        string(LV_tobu5700_2),
        string(STR_PAX_AGE));
        3:string(STR_CONCAT_2,
        string(LV_tobu5700_3),
        string(STR_PAX_LTD_AGE));
        4:string(STR_CONCAT_2,
        string(LV_tobu5700_4),
        string(STR_PAX_AGE));
        5:string(STR_CONCAT_2,
        string(LV_tobu5700_5),
        string(STR_PAX_LTD_AGE));
    }

    switch(FEAT_TRAINS, SELF, sw_tobu5700_cargo_age_main,cargo_subtype){
        2:express_cargo_age;
        6:express_cargo_age;
        ltd_express_cargo_age;
    }

    switch(FEAT_TRAINS, SELF, tobu5700_power, position_in_vehid_chain %2) {
        1: return 110*4*1342/1000;
    return 0;
}

item(FEAT_TRAINS, tobu5700,2050) {
    property {
        cargo_capacity: 130;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        climates_available: param_disable_tobu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        name: string(STR_TRAIN_NAME, string(STR_NAME_TOBU), "5700", string(STR_NAME_SERIES));
        introduction_date: date(1951, 1, 1);
        vehicle_life: 30;
        model_life: 35;
        reliability_decay: 10;

        cost_factor: 12;
        running_cost_factor: 42;
        speed: 95 km/h;
        track_type: TR_1067_DC;
        power: 440 kW;
        weight: 36 ton;
        loading_speed: param_loading_1D;
    }
 graphics {
        start_stop: sw_stop_start_2;
        default: sw_tobu5700_lv;
        purchase: tobu5700_purchase;
        can_attach_wagon: tobu5700_attach_vehid;
        cargo_subtype_text:sw_tobu5700_lv_desc;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 1)),
  string(STR_FORMATION, string(STR_NUM_CARS_3, 2,4,6)),
     string(STR_USAGE,
  string(STR_CONCAT_2_OR, string(STR_EXPRESS), string(STR_LIMITED))),
  string(STR_OPERATOR, string(STR_TOBU)));

  cargo_age_period:sw_tobu5700_cargo_age_main;
        cargo_capacity: 56*param_capacity_mod/3;
    }
    livery_override(mu_car_narrow){
        cargo_age_period:sw_tobu5700_cargo_age_main;
        loading_speed: param_loading_1D;
        cargo_capacity: 56*param_capacity_mod/3;
        default: sw_tobu5700_lv;
        power: tobu5700_power;
        weight: 35;
      }
}
# 32 "src/_private.pnml" 2
# 1 "src/private/Kanto/tobu/tobu1700.pnml" 1

  spriteset(tobu1700_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu1700/tobu1700.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(tobu1700_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu1700/tobu1700.png"){ tmpl_purchase_2c(0, 50) }
  switch(FEAT_TRAINS, SELF, tobu1700_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_tobu; 1: tobu1700_purchase_c1; 2: tobu1700_purchase_c2;}

    spriteset(tobu1700_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu1700/tobu1700.png"){ tmpl_std(0, 0) }
    spriteset(tobu1700_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu1700/tobu1700.png"){ tmpl_std_rev(0, 25) }
    spriteset(tobu1700_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu1700/tobu1700.png"){ tmpl_std(0, 25) }
    spriteset(tobu1700_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu1700/tobu1700.png"){ tmpl_std(0, 50) }
    spriteset(tobu1700_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu1700/tobu1700.png"){ tmpl_std_rev(0, 75) }
    spriteset(tobu1700_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu1700/tobu1700.png"){ tmpl_std(0, 75) }




    switch(FEAT_TRAINS, PARENT, sw_tobu1700_front_gfx, vehicle_is_reversed){
        1: tobu1700_front;
        tobu1700_front_mot;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu1700_end_gfx, vehicle_is_reversed){
        1: tobu1700_end_mot;
        tobu1700_end;
    }


    switch(FEAT_TRAINS, SELF, sw_tobu1700_panto_placer,position_in_vehid_chain %2){
        0:tobu1700_end;
        tobu1700_end_mot_rev;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu1700_panto_placer_rev,1-position_in_vehid_chain_from_end %2){
        0: tobu1700_end_rev;
        tobu1700_end_mot;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu1700_panto_placer_main,vehicle_is_reversed){
        1: sw_tobu1700_panto_placer_rev;
        sw_tobu1700_panto_placer;
    }

    switch(FEAT_TRAINS, SELF, sw_tobu1700_end_fix, position_in_vehid_chain_from_end){
        0:sw_tobu1700_end_gfx;
        sw_tobu1700_panto_placer_main;
    }

    switch(FEAT_TRAINS, SELF, sw_tobu1700_lv,vehicle_type_id){
        mu_car_narrow:sw_tobu1700_end_fix;
        sw_tobu1700_front_gfx;
    }


    switch(FEAT_TRAINS, SELF, tobu1700_attach_vehid, vehicle_type_id) {
    mu_car_narrow: return CB_RESULT_ATTACH_ALLOW;
    return string(STR_ATTACH_ERROR);
    }


    switch(FEAT_TRAINS, SELF, tobu1700_power, position_in_vehid_chain %2) {
        1: return 75*4*1342/1000;
    return 0;
}

item(FEAT_TRAINS, tobu1700,2051) {
    property {
        cargo_capacity: 130;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        climates_available: param_disable_tobu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        name: string(STR_TRAIN_NAME, string(STR_NAME_TOBU), "1700", string(STR_NAME_SERIES));
        introduction_date: date(1956, 1, 1);
        vehicle_life: 35;
        model_life: 30;
        reliability_decay: 10;

        cost_factor: 19;
        running_cost_factor: 49;
        speed: 105 km/h;
        track_type: TR_1067_DC;
        power: 300 kW;
        weight: 36 ton;
        loading_speed: param_loading_1D;
    }
 graphics {
        start_stop: sw_stop_start_2;
        default: sw_tobu1700_lv;
        purchase: tobu1700_purchase;
        can_attach_wagon: tobu1700_attach_vehid;

        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 1)),
  string(STR_FORMATION, string(STR_NUM_CARS_3, 2,4,6)),
     string(STR_USAGE,
  string(STR_CONCAT_2_OR, string(STR_EXPRESS),string(STR_LIMITED))),
  string(STR_OPERATOR, string(STR_TOBU)));

  cargo_age_period:ltd_express_cargo_age;
        cargo_capacity: 56*param_capacity_mod/3;
    }
    livery_override(mu_car_narrow){
        cargo_age_period:ltd_express_cargo_age;
        loading_speed: param_loading_1D;
        cargo_capacity: 56*param_capacity_mod/3;
        default: sw_tobu1700_lv;
        power: tobu1700_power;
        weight: 35;
      }
}
# 33 "src/_private.pnml" 2
# 1 "src/private/Kanto/tobu/tobu1720.pnml" 1

  spriteset(tobu1720_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu1700/tobu1720.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(tobu1720_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu1700/tobu1720.png"){ tmpl_purchase_2c(88, 50) }
  switch(FEAT_TRAINS, SELF, tobu1720_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_tobu; 1: tobu1720_purchase_c1; 2: tobu1720_purchase_c2;}

    spriteset(tobu1720_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu1700/tobu1720.png"){ tmpl_std(0, 0) }
    spriteset(tobu1720_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu1700/tobu1720.png"){ tmpl_std_rev(0, 25) }
    spriteset(tobu1720_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu1700/tobu1720.png"){ tmpl_std(0, 50) }
    spriteset(tobu1720_wag_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu1700/tobu1720.png"){ tmpl_std_rev(0, 50) }
    spriteset(tobu1720_wag_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu1700/tobu1720.png"){ tmpl_std(0, 75) }
    spriteset(tobu1720_wag_1_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu1700/tobu1720.png"){ tmpl_std_rev(0, 75) }
    spriteset(tobu1720_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu1700/tobu1720.png"){ tmpl_std(0, 100) }
    spriteset(tobu1720_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu1700/tobu1720.png"){ tmpl_std_rev(0, 100) }
    spriteset(tobu1720_wag_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu1700/tobu1720.png"){ tmpl_std(0, 125) }
    spriteset(tobu1720_wag_2_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu1700/tobu1720.png"){ tmpl_std_rev(0, 125) }
    spriteset(tobu1720_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu1700/tobu1720.png"){ tmpl_std_rev(0, 150) }
    spriteset(tobu1720_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu1700/tobu1720.png"){ tmpl_std(0, 150) }




    switch(FEAT_TRAINS, SELF, sw_tobu1720_panto_placer_1,position_in_vehid_chain %6){
        0: tobu1720_wag;
        1: tobu1720_wag_1;
        2: tobu1720_mot;
        3: tobu1720_wag_2;
        tobu1720_wag_2;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu1720_panto_placer_1_rev,position_in_vehid_chain_from_end %6 -1){
        0: tobu1720_wag_rev;
        1: tobu1720_wag_1_rev;
        2: tobu1720_mot_rev;
        3: tobu1720_wag_2_rev;
        tobu1720_wag_2_rev;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu1720_panto_placer_main_1,vehicle_is_reversed){
        1: sw_tobu1720_panto_placer_1_rev;
        sw_tobu1720_panto_placer_1;
    }

    switch(FEAT_TRAINS, SELF, sw_tobu1720_panto_placer_2,position_in_vehid_chain %4){
        0: tobu1720_wag;
        1: tobu1720_wag_1;
        2: tobu1720_mot;
        3: tobu1720_wag_2;
        tobu1720_wag_2;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu1720_panto_placer_2_rev,position_in_vehid_chain_from_end %4 -1){
        0: tobu1720_wag_rev;
        1: tobu1720_wag_1_rev;
        2: tobu1720_mot_rev;
        3: tobu1720_wag_2_rev;
        tobu1720_wag_2_rev;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu1720_panto_placer_main_2,vehicle_is_reversed){
        1: sw_tobu1720_panto_placer_2_rev;
        sw_tobu1720_panto_placer_2;
    }

    switch(FEAT_TRAINS, SELF, sw_tobu1720_panto_placer_3,position_in_vehid_chain %8){
        0: tobu1720_wag;
        1: tobu1720_mot_rev;
        2: tobu1720_wag_1;
        4: tobu1720_mot;
        tobu1720_wag_2;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu1720_panto_placer_3_rev,position_in_vehid_chain_from_end %8 -1){
        0: tobu1720_wag_rev;
        1: tobu1720_mot;
        2: tobu1720_wag_1_rev;
        4: tobu1720_mot_rev;
        tobu1720_wag_2_rev;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu1720_panto_placer_main_3,vehicle_is_reversed){
        1: sw_tobu1720_panto_placer_3_rev;
        sw_tobu1720_panto_placer_3;
    }

    switch(FEAT_TRAINS, SELF, sw_tobu1720_panto_placer_main,num_vehs_in_vehid_chain+1){
        0..5:sw_tobu1720_panto_placer_main_2;
        6..7: sw_tobu1720_panto_placer_main_1;
        12..13: sw_tobu1720_panto_placer_main_1;
        sw_tobu1720_panto_placer_main_3;
    }


    switch(FEAT_TRAINS, SELF, sw_tobu1720_fake_placer,position_in_vehid_chain +1){
        5: tobu1720_front_f;
        6: tobu1720_end_f;
    sw_tobu1720_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu1720_fake_placer_rev,position_in_vehid_chain_from_end ){
        5: tobu1720_end_f;
        6: tobu1720_front_f;
    sw_tobu1720_panto_placer_main;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu1720_fake_placer_gfx,vehicle_is_reversed){
        1: sw_tobu1720_fake_placer_rev;
        sw_tobu1720_fake_placer;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu1720_fake_placer_main,num_vehs_in_vehid_chain>11 - 1){
        1: sw_tobu1720_fake_placer_gfx;
    sw_tobu1720_panto_placer_main;
    }


    switch(FEAT_TRAINS, SELF, sw_tobu1720_end_gfx_main,position_in_vehid_chain_from_end){
        0: tobu1720_end;
        default: sw_tobu1720_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu1720_front_gfx_main,position_in_vehid_chain_from_end){
        0: tobu1720_front;
        default: sw_tobu1720_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu1720_lv,vehicle_type_id){
        mu_car_narrow:sw_tobu1720_end_gfx_main;
        sw_tobu1720_front_gfx_main;
    }


    switch(FEAT_TRAINS, SELF, sw_tobu1720_capacity,position_in_vehid_chain_from_end%6){
        0: 58;
        default: 50;
    }


    switch(FEAT_TRAINS, SELF, tobu1720_attach_vehid, vehicle_type_id) {
    mu_car_narrow: return CB_RESULT_ATTACH_ALLOW;
    return string(STR_ATTACH_ERROR);
    }

item(FEAT_TRAINS, tobu1720,2052) {
    property {
        cargo_capacity: 130;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        climates_available: param_disable_tobu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        name: string(STR_TRAIN_NAME, string(STR_NAME_TOBU), "1720", string(STR_NAME_SERIES));
        introduction_date: date(1960, 1, 1);
        vehicle_life: 31;
        model_life: 26;
        reliability_decay: 10;

        cost_factor: 20;
        running_cost_factor: 50;
        speed: 120 km/h;
        track_type: TR_1067_DC;
        power: 520 kW;
        weight: 37 ton;
        loading_speed: param_loading_1D;
    }
 graphics {
        default: sw_tobu1720_lv;
        purchase: tobu1720_purchase;
        cargo_age_period:ltd_express_cargo_age;
        can_attach_wagon: tobu1720_attach_vehid;

        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 1)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 6)),
  string(STR_USAGE, string(STR_LIMITED)),
  string(STR_OPERATOR, string(STR_TOBU)));

  cargo_capacity: sw_tobu1720_capacity()*param_capacity_mod/3;
        power: 75*4*1342/1000;
    }
    livery_override(mu_car_narrow){
        cargo_age_period:ltd_express_cargo_age;
        loading_speed: param_loading_1D;
        cargo_capacity: sw_tobu1720_capacity()*param_capacity_mod/3;
        default: sw_tobu1720_lv;
        power: 75*4*1342/1000;
        weight: 36;
      }
}
# 34 "src/_private.pnml" 2
# 1 "src/private/Kanto/tobu/tobu6000.pnml" 1

  spriteset(tobu6000_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu6000/tobu6000.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(tobu6000_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu6000/tobu6000.png"){ tmpl_purchase_2c(0, 75) }
  switch(FEAT_TRAINS, SELF, tobu6000_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_tobu; 1: tobu6000_purchase_c1; 2: tobu6000_purchase_c2;}

    spriteset(tobu6000_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu6000/tobu6000.png"){ tmpl_std(0, 0) }
    spriteset(tobu6000_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu6000/tobu6000.png"){ tmpl_std_rev(0, 25) }
    spriteset(tobu6000_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu6000/tobu6000.png"){ tmpl_std(0, 25) }
    spriteset(tobu6000_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu6000/tobu6000.png"){ tmpl_std(0, 50) }
    spriteset(tobu6000_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu6000/tobu6000.png"){ tmpl_std_rev(0, 75) }
    spriteset(tobu6000_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu6000/tobu6000.png"){ tmpl_std(0, 75) }




    switch(FEAT_TRAINS, PARENT, sw_tobu6000_front_gfx, vehicle_is_reversed){
        1: tobu6000_front;
        tobu6000_front_mot;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu6000_end_gfx, vehicle_is_reversed){
        1: tobu6000_end_mot;
        tobu6000_end;
    }


    switch(FEAT_TRAINS, SELF, sw_tobu6000_panto_placer,position_in_vehid_chain %2){
        0:tobu6000_end;
        tobu6000_end_mot_rev;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu6000_panto_placer_rev,1-position_in_vehid_chain_from_end %2){
        0: tobu6000_end_rev;
        tobu6000_end_mot;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu6000_panto_placer_main,vehicle_is_reversed){
        1: sw_tobu6000_panto_placer_rev;
        sw_tobu6000_panto_placer;
    }

    switch(FEAT_TRAINS, SELF, sw_tobu6000_end_fix, position_in_vehid_chain_from_end){
        0:sw_tobu6000_end_gfx;
        sw_tobu6000_panto_placer_main;
    }

    switch(FEAT_TRAINS, SELF, sw_tobu6000_livery_1,vehicle_type_id){
        mu_car_narrow:sw_tobu6000_end_fix;
        sw_tobu6000_front_gfx;
    }

    switch(FEAT_TRAINS, SELF, tobu6000_power, position_in_vehid_chain %2) {
        1: return 130*4*1342/1000;
    return 0;
    }

    switch(FEAT_TRAINS, SELF, sw_tobu6000_capacity_1_0,position_in_vehid_chain %2){
        0: 145;
        default: 150;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu6000_capacity_1,vehicle_type_id){
        mu_car_narrow:sw_tobu6000_capacity_1_0;
        150;
    }

    switch(FEAT_TRAINS, SELF, sw_tobu6000_capacity_2_0,position_in_vehid_chain %2){
        0: 81;
        default: 84;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu6000_capacity_2,vehicle_type_id){
        mu_car_narrow:sw_tobu6000_capacity_2_0;
        84;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu6000_capacity,cargo_subtype){
        0:sw_tobu6000_capacity_2;
        1:sw_tobu6000_capacity_1;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu6000_cargo_age_main,cargo_subtype){
        0:ltd_express_cargo_age;
        1:express_cargo_age;
    }

    switch(FEAT_TRAINS, PARENT, sw_tobu6000_lv, cargo_subtype){
        0:sw_tobu6000_livery_1;
        1:sw_tobu6000_livery_1;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu6000_lv_desc, cargo_subtype){
        0:string(STR_CONCAT_2,
        string(LV_DEFAULT),
        string(STR_PAX_LTD_AGE));
        1:string(STR_CONCAT_2,
        string(LV_DEFAULT),
        string(STR_PAX_AGE));
    }


    switch(FEAT_TRAINS, SELF, tobu6000_attach_vehid, vehicle_type_id) {
    mu_car_narrow: return CB_RESULT_ATTACH_ALLOW;
    return string(STR_ATTACH_ERROR);
    }

item(FEAT_TRAINS, tobu6000,2053) {
    property {
        cargo_capacity: 130;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        climates_available: param_disable_tobu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        name: string(STR_TRAIN_NAME, string(STR_NAME_TOBU), "6000", string(STR_NAME_SERIES));
        introduction_date: date(1964, 1, 1);
        vehicle_life: 22;
        model_life: 17;
        reliability_decay: 10;

        cost_factor: 16;
        running_cost_factor: 46;
        speed: 110 km/h;
        track_type: TR_1067_DC;
        power: 520 kW;
        weight: 36 ton;
        loading_speed: param_loading_2D;
    }
 graphics {
        start_stop: sw_stop_start_2;
        default: sw_tobu6000_lv;
        purchase: tobu6000_purchase;
        cargo_age_period:sw_tobu6000_cargo_age_main;
        can_attach_wagon: tobu6000_attach_vehid;
        cargo_subtype_text:sw_tobu6000_lv_desc;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 2)),
  string(STR_FORMATION, string(STR_NUM_CARS_3, 2,4,6)),
     string(STR_USAGE,
  string(STR_CONCAT_2_OR, string(STR_EXPRESS), string(STR_LIMITED))),
  string(STR_OPERATOR, string(STR_TOBU)));

  cargo_capacity: sw_tobu6000_capacity()*param_capacity_mod/3;
    }
    livery_override(mu_car_narrow){
        cargo_age_period:sw_tobu6000_cargo_age_main;
        loading_speed: param_loading_2D;
        cargo_capacity: sw_tobu6000_capacity()*param_capacity_mod/3;
        default: sw_tobu6000_lv;
        power: tobu6000_power;
        weight: 35;
      }
}
# 35 "src/_private.pnml" 2
# 1 "src/private/Kanto/tobu/tobu1800.pnml" 1

  spriteset(tobu1800_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu1800/tobu1800_1.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(tobu1800_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu1800/tobu1800_1.png"){ tmpl_purchase_2c(0, 75) }
  switch(FEAT_TRAINS, SELF, tobu1800_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_tobu; 1: tobu1800_purchase_c1; 2: tobu1800_purchase_c2;}

    spriteset(tobu1800_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu1800/tobu1800_1.png"){ tmpl_std(0, 0) }
    spriteset(tobu1800_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu1800/tobu1800_1.png"){ tmpl_std_rev(0, 25) }
    spriteset(tobu1800_1_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu1800/tobu1800_1.png"){ tmpl_std(0, 25) }
    spriteset(tobu1800_1_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu1800/tobu1800_1.png"){ tmpl_std(0, 50) }
    spriteset(tobu1800_1_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu1800/tobu1800_1.png"){ tmpl_std_rev(0, 50) }
    spriteset(tobu1800_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu1800/tobu1800_1.png"){ tmpl_std(0, 75) }
    spriteset(tobu1800_1_wag_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu1800/tobu1800_1.png"){ tmpl_std_rev(0, 75) }
    spriteset(tobu1800_1_mot_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu1800/tobu1800_1.png"){ tmpl_std(0, 100) }
    spriteset(tobu1800_1_mot_2_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu1800/tobu1800_1.png"){ tmpl_std_rev(0, 100) }


    spriteset(tobu1800_1n_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu1800/tobu1800_1n.png"){ tmpl_std(0, 0) }
    spriteset(tobu1800_1n_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu1800/tobu1800_1n.png"){ tmpl_std_rev(0, 25) }
    spriteset(tobu1800_1n_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu1800/tobu1800_1n.png"){ tmpl_std(0, 25) }
    spriteset(tobu1800_1n_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu1800/tobu1800_1n.png"){ tmpl_std(0, 50) }
    spriteset(tobu1800_1n_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu1800/tobu1800_1n.png"){ tmpl_std_rev(0, 50) }
    spriteset(tobu1800_1n_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu1800/tobu1800_1n.png"){ tmpl_std(0, 75) }
    spriteset(tobu1800_1n_wag_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu1800/tobu1800_1n.png"){ tmpl_std_rev(0, 75) }
    spriteset(tobu1800_1n_mot_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu1800/tobu1800_1n.png"){ tmpl_std(0, 100) }
    spriteset(tobu1800_1n_mot_2_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu1800/tobu1800_1n.png"){ tmpl_std_rev(0, 100) }


    spriteset(tobu1800_2_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu1800/tobu1800_2.png"){ tmpl_std(0, 0) }
    spriteset(tobu1800_2_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu1800/tobu1800_2.png"){ tmpl_std_rev(0, 25) }
    spriteset(tobu1800_2_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu1800/tobu1800_2.png"){ tmpl_std(0, 25) }
    spriteset(tobu1800_2_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu1800/tobu1800_2.png"){ tmpl_std(0, 50) }
    spriteset(tobu1800_2_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu1800/tobu1800_2.png"){ tmpl_std_rev(0, 50) }
    spriteset(tobu1800_2_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu1800/tobu1800_2.png"){ tmpl_std(0, 75) }
    spriteset(tobu1800_2_wag_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu1800/tobu1800_2.png"){ tmpl_std_rev(0, 75) }
    spriteset(tobu1800_2_mot_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu1800/tobu1800_2.png"){ tmpl_std(0, 100) }
    spriteset(tobu1800_2_mot_2_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu1800/tobu1800_2.png"){ tmpl_std_rev(0, 100) }


    spriteset(tobu1800_3_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu1800/tobu1800_3.png"){ tmpl_std(0, 0) }
    spriteset(tobu1800_3_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu1800/tobu1800_3.png"){ tmpl_std_rev(0, 25) }
    spriteset(tobu1800_3_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu1800/tobu1800_3.png"){ tmpl_std(0, 25) }
    spriteset(tobu1800_3_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu1800/tobu1800_3.png"){ tmpl_std(0, 50) }
    spriteset(tobu1800_3_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu1800/tobu1800_3.png"){ tmpl_std_rev(0, 50) }
    spriteset(tobu1800_3_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu1800/tobu1800_3.png"){ tmpl_std(0, 75) }
    spriteset(tobu1800_3_wag_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu1800/tobu1800_3.png"){ tmpl_std_rev(0, 75) }
    spriteset(tobu1800_3_mot_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu1800/tobu1800_3.png"){ tmpl_std(0, 100) }
    spriteset(tobu1800_3_mot_2_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu1800/tobu1800_3.png"){ tmpl_std_rev(0, 100) }



    switch(FEAT_TRAINS, SELF, tobu1800_1_front_gfx, build_year > 1988){
        1:tobu1800_1n_front;
        tobu1800_1_front;
    }
    switch(FEAT_TRAINS, SELF, tobu1800_1_end_gfx, build_year > 1988){
        1:tobu1800_1n_end;
        tobu1800_1_end;
    }
    switch(FEAT_TRAINS, SELF, tobu1800_1_end_rev_gfx, build_year > 1988){
        1:tobu1800_1n_end_rev;
        tobu1800_1_end_rev;
    }
    switch(FEAT_TRAINS, SELF, tobu1800_1_mot_gfx, build_year > 1988){
        1:tobu1800_1n_mot;
        tobu1800_1_mot;
    }
    switch(FEAT_TRAINS, SELF, tobu1800_1_mot_rev_gfx, build_year > 1988){
        1:tobu1800_1n_mot_rev;
        tobu1800_1_mot_rev;
    }
    switch(FEAT_TRAINS, SELF, tobu1800_1_wag_gfx, build_year > 1988){
        1:tobu1800_1n_wag;
        tobu1800_1_wag;
    }
    switch(FEAT_TRAINS, SELF, tobu1800_1_wag_rev_gfx, build_year > 1988){
        1:tobu1800_1n_wag_rev;
        tobu1800_1_wag_rev;
    }
    switch(FEAT_TRAINS, SELF, tobu1800_1_mot_2_gfx, build_year > 1988){
        1:tobu1800_1n_mot_2;
        tobu1800_1_mot_2;
    }
    switch(FEAT_TRAINS, SELF, tobu1800_1_mot_2_rev_gfx, build_year > 1988){
        1:tobu1800_1n_mot_2_rev;
        tobu1800_1_mot_2_rev;
    }




    switch(FEAT_TRAINS, SELF, sw_tobu1800_1_panto_placer_1,position_in_vehid_chain %5){
        1: tobu1800_1_mot_2_gfx;
        2: tobu1800_1_wag_rev_gfx;
        3: tobu1800_1_mot_gfx;
        tobu1800_1_wag_gfx;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu1800_1_panto_placer_1_rev,position_in_vehid_chain_from_end %5-1){
        1: tobu1800_1_mot_2_rev_gfx;
        2: tobu1800_1_wag_gfx;
        3: tobu1800_1_mot_rev_gfx;
        tobu1800_1_wag_rev_gfx;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu1800_1_panto_placer_main_1,vehicle_is_reversed){
        1: sw_tobu1800_1_panto_placer_1_rev;
        sw_tobu1800_1_panto_placer_1;
    }

    switch(FEAT_TRAINS, SELF, sw_tobu1800_1_panto_placer_2,position_in_vehid_chain %4){
        0: tobu1800_1_mot_2_gfx;
        1: tobu1800_1_wag_rev_gfx;
        2: tobu1800_1_mot_gfx;
        tobu1800_1_wag_gfx;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu1800_1_panto_placer_2_rev,position_in_vehid_chain_from_end %4 -1){
        0: tobu1800_1_mot_2_rev_gfx;
        1: tobu1800_1_wag_gfx;
        2: tobu1800_1_mot_rev_gfx;
        tobu1800_1_wag_rev_gfx;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu1800_1_panto_placer_main_2,vehicle_is_reversed){
        1: sw_tobu1800_1_panto_placer_2_rev;
        sw_tobu1800_1_panto_placer_2;
    }

    switch(FEAT_TRAINS, SELF, sw_tobu1800_1_panto_placer_main,num_vehs_in_vehid_chain+1){
        0..5:sw_tobu1800_1_panto_placer_main_2;
        sw_tobu1800_1_panto_placer_main_1;
    }


    switch(FEAT_TRAINS, SELF, sw_tobu1800_1_fake_placer,position_in_vehid_chain +1){
        3: tobu1800_1_end_gfx;
        4: tobu1800_1_end_rev_gfx;
    sw_tobu1800_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu1800_1_fake_placer_rev,position_in_vehid_chain_from_end ){
        3: tobu1800_1_end_rev_gfx;
        4: tobu1800_1_end_gfx;
    sw_tobu1800_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu1800_1_fake_placer_gfx,vehicle_is_reversed){
        1: sw_tobu1800_1_fake_placer_rev;
        sw_tobu1800_1_fake_placer;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu1800_1_fake_placer_main,num_vehs_in_vehid_chain>10 - 1){
        1: sw_tobu1800_1_fake_placer_gfx;
    sw_tobu1800_1_panto_placer_main;
    }


    switch(FEAT_TRAINS, SELF, sw_tobu1800_1_end_gfx_main,position_in_vehid_chain_from_end){
        0: tobu1800_1_end_gfx;
        default: sw_tobu1800_1_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu1800_1_front_gfx_main,position_in_vehid_chain_from_end){
        0: tobu1800_1_front_gfx;
        default: sw_tobu1800_1_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu1800_livery_1,vehicle_type_id){
        mu_car_narrow:sw_tobu1800_1_end_gfx_main;
        sw_tobu1800_1_front_gfx_main;
    }




    switch(FEAT_TRAINS, SELF, sw_tobu1800_2_panto_placer_1,position_in_vehid_chain %5){
        1: tobu1800_2_mot_2;
        2: tobu1800_2_wag_rev;
        3: tobu1800_2_mot;
        tobu1800_2_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu1800_2_panto_placer_1_rev,position_in_vehid_chain_from_end %5 -1){
        1: tobu1800_2_mot_2_rev;
        2: tobu1800_2_wag;
        3: tobu1800_2_mot_rev;
        tobu1800_2_wag_rev;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu1800_2_panto_placer_main_1,vehicle_is_reversed){
        1: sw_tobu1800_2_panto_placer_1_rev;
        sw_tobu1800_2_panto_placer_1;
    }

    switch(FEAT_TRAINS, SELF, sw_tobu1800_2_panto_placer_2,position_in_vehid_chain %4){
        0: tobu1800_2_mot_2;
        1: tobu1800_2_wag_rev;
        2: tobu1800_2_mot;
        tobu1800_2_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu1800_2_panto_placer_2_rev,position_in_vehid_chain_from_end %4 -1){
        0: tobu1800_2_mot_2_rev;
        1: tobu1800_2_wag;
        2: tobu1800_2_mot_rev;
        tobu1800_2_wag_rev;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu1800_2_panto_placer_main_2,vehicle_is_reversed){
        1: sw_tobu1800_2_panto_placer_2_rev;
        sw_tobu1800_2_panto_placer_2;
    }

    switch(FEAT_TRAINS, SELF, sw_tobu1800_2_panto_placer_main,num_vehs_in_vehid_chain+1){
        0..5:sw_tobu1800_2_panto_placer_main_2;
        sw_tobu1800_2_panto_placer_main_1;
    }


    switch(FEAT_TRAINS, SELF, sw_tobu1800_2_fake_placer,position_in_vehid_chain +1){
        3: tobu1800_2_end;
        4: tobu1800_2_end_rev;
    sw_tobu1800_2_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu1800_2_fake_placer_rev,position_in_vehid_chain_from_end ){
        3: tobu1800_2_end_rev;
        4: tobu1800_2_end;
    sw_tobu1800_2_panto_placer_main;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu1800_2_fake_placer_gfx,vehicle_is_reversed){
        1: sw_tobu1800_2_fake_placer_rev;
        sw_tobu1800_2_fake_placer;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu1800_2_fake_placer_main,num_vehs_in_vehid_chain>10 - 1){
        1: sw_tobu1800_2_fake_placer_gfx;
    sw_tobu1800_2_panto_placer_main;
    }


    switch(FEAT_TRAINS, SELF, sw_tobu1800_2_end_gfx_main,position_in_vehid_chain_from_end){
        0: tobu1800_2_end;
        default: sw_tobu1800_2_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu1800_2_front_gfx_main,position_in_vehid_chain_from_end){
        0: tobu1800_2_front;
        default: sw_tobu1800_2_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu1800_livery_2,vehicle_type_id){
        mu_car_narrow:sw_tobu1800_2_end_gfx_main;
        sw_tobu1800_2_front_gfx_main;
    }




    switch(FEAT_TRAINS, SELF, sw_tobu1800_3_panto_placer_1,position_in_vehid_chain %5){
        1: tobu1800_3_mot_2;
        2: tobu1800_3_wag_rev;
        3: tobu1800_3_mot;
        tobu1800_3_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu1800_3_panto_placer_1_rev,position_in_vehid_chain_from_end %5 -1){
        1: tobu1800_3_mot_2_rev;
        2: tobu1800_3_wag;
        3: tobu1800_3_mot_rev;
        tobu1800_3_wag_rev;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu1800_3_panto_placer_main_1,vehicle_is_reversed){
        1: sw_tobu1800_3_panto_placer_1_rev;
        sw_tobu1800_3_panto_placer_1;
    }

    switch(FEAT_TRAINS, SELF, sw_tobu1800_3_panto_placer_2,position_in_vehid_chain %4){
        0: tobu1800_3_mot_2;
        1: tobu1800_3_wag_rev;
        2: tobu1800_3_mot;
        tobu1800_3_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu1800_3_panto_placer_2_rev,position_in_vehid_chain_from_end %4 -1){
        0: tobu1800_3_mot_2_rev;
        1: tobu1800_3_wag;
        2: tobu1800_3_mot_rev;
        tobu1800_3_wag_rev;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu1800_3_panto_placer_main_2,vehicle_is_reversed){
        1: sw_tobu1800_3_panto_placer_2_rev;
        sw_tobu1800_3_panto_placer_2;
    }

    switch(FEAT_TRAINS, SELF, sw_tobu1800_3_panto_placer_main,num_vehs_in_vehid_chain+1){
        0..5:sw_tobu1800_3_panto_placer_main_2;
        sw_tobu1800_3_panto_placer_main_1;
    }


    switch(FEAT_TRAINS, SELF, sw_tobu1800_3_fake_placer,position_in_vehid_chain +1){
        3: tobu1800_3_end;
        4: tobu1800_3_end_rev;
    sw_tobu1800_3_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu1800_3_fake_placer_rev,position_in_vehid_chain_from_end ){
        3: tobu1800_3_end_rev;
        4: tobu1800_3_end;
    sw_tobu1800_3_panto_placer_main;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu1800_3_fake_placer_gfx,vehicle_is_reversed){
        1: sw_tobu1800_3_fake_placer_rev;
        sw_tobu1800_3_fake_placer;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu1800_3_fake_placer_main,num_vehs_in_vehid_chain>10 - 1){
        1: sw_tobu1800_3_fake_placer_gfx;
    sw_tobu1800_3_panto_placer_main;
    }


    switch(FEAT_TRAINS, SELF, sw_tobu1800_3_end_gfx_main,position_in_vehid_chain_from_end){
        0: tobu1800_3_end;
        default: sw_tobu1800_3_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu1800_3_front_gfx_main,position_in_vehid_chain_from_end){
        0: tobu1800_3_front;
        default: sw_tobu1800_3_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu1800_livery_3,vehicle_type_id){
        mu_car_narrow:sw_tobu1800_3_end_gfx_main;
        sw_tobu1800_3_front_gfx_main;
    }



    random_switch(FEAT_TRAINS, PARENT, sw_tobu1800_livery_0_1){
        1:sw_tobu1800_livery_1;
        1:sw_tobu1800_livery_2;
    }


    switch(FEAT_TRAINS, PARENT, sw_tobu1800_livery_0, build_year){
        0..1988:sw_tobu1800_livery_0_1;
        sw_tobu1800_livery_1;
    }

    switch(FEAT_TRAINS, PARENT, sw_tobu1800_lv, cargo_subtype){
        0:sw_tobu1800_livery_0;
        1:sw_tobu1800_livery_1;
        2:sw_tobu1800_livery_2;
        3:sw_tobu1800_livery_3;
    }

    switch(FEAT_TRAINS, SELF, sw_tobu1800_lv_desc, cargo_subtype){
        0:string(LV_RANDOM);
        1:string(LV_tobu1800_1);
        2:string(LV_tobu1800_2);
        3:string(LV_tobu1800_3);
    }

    switch(FEAT_TRAINS, SELF, sw_tobu1800_capacity_1,position_in_vehid_chain_from_end%6){
        0: 64;
        1: 72;
        4: 72;
        default: 68;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu1800_capacity_2,position_in_vehid_chain_from_end%6){
        0: 130;
        default: 140;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu1800_capacity,cargo_subtype){
            3:sw_tobu1800_capacity_2;
            sw_tobu1800_capacity_1;
        }

    switch(FEAT_TRAINS, SELF, sw_tobu1800_cargo_age_main,cargo_subtype){
        3:express_cargo_age;
        ltd_express_cargo_age;
    }

    switch(FEAT_TRAINS, SELF, sw_tobu1800_power,position_in_vehid_chain_from_end%5){
        1..2:return 130;
        4:return 130;
        return 0;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu1800_head_power,num_vehs_in_consist){
        39: return 130;
        return 0;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu1800_power_main,vehicle_type_id){
        mu_car_narrow:sw_tobu1800_power;
        sw_tobu1800_head_power;
    }


    switch(FEAT_TRAINS, SELF, tobu1800_attach_vehid, vehicle_type_id) {
    mu_car_narrow: return CB_RESULT_ATTACH_ALLOW;
    return string(STR_ATTACH_ERROR);
    }

item(FEAT_TRAINS, tobu1800,2055) {
    property {
        cargo_capacity: 130;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        climates_available: param_disable_tobu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        name: string(STR_TRAIN_NAME, string(STR_NAME_TOBU), "1800", string(STR_NAME_SERIES),);
        introduction_date: date(1969, 1, 1);
        vehicle_life: 49;
        model_life: 44;
        reliability_decay: 10;

        cost_factor: 17;
        running_cost_factor: 47;
        speed: 110 km/h;
        track_type: TR_1067_DC;
        power: 520 kW;
        weight: 33 ton;
        loading_speed: param_loading_1D;
    }
 graphics {
        default: sw_tobu1800_lv;
        purchase: tobu1800_purchase;
        cargo_age_period:sw_tobu1800_cargo_age_main;
        can_attach_wagon: tobu1800_attach_vehid;
        cargo_subtype_text:sw_tobu1800_lv_desc;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 1)),
  string(STR_FORMATION, string(STR_NUM_CARS_2, 4,6)),
     string(STR_USAGE,
  string(STR_CONCAT_2_OR, string(STR_LIMITED), string(STR_COMMUTER))),
  string(STR_OPERATOR, string(STR_TOBU)));

  cargo_capacity: sw_tobu1800_capacity()*param_capacity_mod/3;
        power: sw_tobu1800_power_main()*4*1342/1000;
    }
    livery_override(mu_car_narrow){
        cargo_age_period:sw_tobu1800_cargo_age_main;
        loading_speed: param_loading_1D;
        cargo_capacity: sw_tobu1800_capacity()*param_capacity_mod/3;
        default: sw_tobu1800_lv;
        power: sw_tobu1800_power_main()*4*1342/1000;
        weight: 36;
      }
}
# 36 "src/_private.pnml" 2
# 1 "src/private/Kanto/tobu/tobu6050.pnml" 1

  spriteset(tobu6050_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu6000/tobu6050_1.png"){ tmpl_purchase_1c(0, 50) }
  spriteset(tobu6050_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu6000/tobu6050_1.png"){ tmpl_purchase_2c(0, 25) }
  switch(FEAT_TRAINS, SELF, tobu6050_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_tobu; 1: tobu6050_purchase_c1; 2: tobu6050_purchase_c2;}

    spriteset(tobu6050_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu6000/tobu6050_1.png"){ tmpl_std(0, 0) }
    spriteset(tobu6050_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu6000/tobu6050_1.png"){ tmpl_std_rev(0, 25) }
    spriteset(tobu6050_1_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu6000/tobu6050_1.png"){ tmpl_std(0, 25) }
    spriteset(tobu6050_1_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu6000/tobu6050_1.png"){ tmpl_std(0, 50) }
    spriteset(tobu6050_1_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu6000/tobu6050_1.png"){ tmpl_std_rev(0, 75) }
    spriteset(tobu6050_1_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu6000/tobu6050_1.png"){ tmpl_std(0, 75) }
    spriteset(tobu6050_1_front_mot_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu6000/tobu6050_1.png"){ tmpl_std(0, 100) }
    spriteset(tobu6050_1_end_mot_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu6000/tobu6050_1.png"){ tmpl_std_rev(0, 125) }
    spriteset(tobu6050_1_end_mot_2_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu6000/tobu6050_1.png"){ tmpl_std(0, 125) }


    spriteset(tobu6050_2_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu6000/tobu6050_2.png"){ tmpl_std(0, 0) }
    spriteset(tobu6050_2_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu6000/tobu6050_2.png"){ tmpl_std_rev(0, 25) }
    spriteset(tobu6050_2_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu6000/tobu6050_2.png"){ tmpl_std(0, 25) }
    spriteset(tobu6050_2_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu6000/tobu6050_2.png"){ tmpl_std(0, 50) }
    spriteset(tobu6050_2_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu6000/tobu6050_2.png"){ tmpl_std_rev(0, 75) }
    spriteset(tobu6050_2_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu6000/tobu6050_2.png"){ tmpl_std(0, 75) }
    spriteset(tobu6050_2_front_mot_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu6000/tobu6050_2.png"){ tmpl_std(0, 100) }
    spriteset(tobu6050_2_end_mot_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu6000/tobu6050_2.png"){ tmpl_std_rev(0, 125) }
    spriteset(tobu6050_2_end_mot_2_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu6000/tobu6050_2.png"){ tmpl_std(0, 125) }




    switch(FEAT_TRAINS, PARENT, sw_tobu6050_1_front_gfx, vehicle_is_reversed){
        1: tobu6050_1_front;
        tobu6050_1_front_mot;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu6050_1_end_gfx, vehicle_is_reversed){
        1: tobu6050_1_end_mot;
        tobu6050_1_end;
    }


    switch(FEAT_TRAINS, SELF, sw_tobu6050_1_panto_placer,position_in_vehid_chain %2){
        0:tobu6050_1_end;
        tobu6050_1_end_mot_rev;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu6050_1_panto_placer_rev,1-position_in_vehid_chain_from_end %2){
        0: tobu6050_1_end_rev;
        tobu6050_1_end_mot;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu6050_1_panto_placer_main,vehicle_is_reversed){
        1: sw_tobu6050_1_panto_placer_rev;
        sw_tobu6050_1_panto_placer;
    }

    switch(FEAT_TRAINS, SELF, sw_tobu6050_1_end_fix, position_in_vehid_chain_from_end){
        0:sw_tobu6050_1_end_gfx;
        sw_tobu6050_1_panto_placer_main;
    }

    switch(FEAT_TRAINS, SELF, sw_tobu6050_livery_1,vehicle_type_id){
        mu_car_narrow:sw_tobu6050_1_end_fix;
        sw_tobu6050_1_front_gfx;
    }




    switch(FEAT_TRAINS, PARENT, sw_tobu6050_2_front_gfx, vehicle_is_reversed){
        1: tobu6050_1_front;
        tobu6050_1_front_mot_2;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu6050_2_end_gfx, vehicle_is_reversed){
        1: tobu6050_1_end_mot_2;
        tobu6050_1_end;
    }


    switch(FEAT_TRAINS, SELF, sw_tobu6050_2_end_fix, position_in_vehid_chain_from_end){
        0:sw_tobu6050_2_end_gfx;
        sw_tobu6050_1_panto_placer_main;
    }

    switch(FEAT_TRAINS, SELF, sw_tobu6050_livery_2,vehicle_type_id){
        mu_car_narrow:sw_tobu6050_2_end_fix;
        sw_tobu6050_2_front_gfx;
    }




    switch(FEAT_TRAINS, PARENT, sw_tobu6050_3_front_gfx, vehicle_is_reversed){
        1: tobu6050_2_front;
        tobu6050_2_front_mot;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu6050_3_end_gfx, vehicle_is_reversed){
        1: tobu6050_2_end_mot;
        tobu6050_2_end;
    }


    switch(FEAT_TRAINS, SELF, sw_tobu6050_3_panto_placer,position_in_vehid_chain %2){
        0:tobu6050_2_end;
        tobu6050_2_end_mot_rev;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu6050_3_panto_placer_rev,1-position_in_vehid_chain_from_end %2){
        0: tobu6050_2_end_rev;
        tobu6050_2_end_mot;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu6050_3_panto_placer_main,vehicle_is_reversed){
        1: sw_tobu6050_3_panto_placer_rev;
        sw_tobu6050_3_panto_placer;
    }

    switch(FEAT_TRAINS, SELF, sw_tobu6050_3_end_fix, position_in_vehid_chain_from_end){
        0:sw_tobu6050_3_end_gfx;
        sw_tobu6050_3_panto_placer_main;
    }

    switch(FEAT_TRAINS, SELF, sw_tobu6050_livery_3,vehicle_type_id){
        mu_car_narrow:sw_tobu6050_3_end_fix;
        sw_tobu6050_3_front_gfx;
    }




    switch(FEAT_TRAINS, PARENT, sw_tobu6050_4_front_gfx, vehicle_is_reversed){
        1: tobu6050_2_front;
        tobu6050_2_front_mot_2;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu6050_4_end_gfx, vehicle_is_reversed){
        1: tobu6050_2_end_mot_2;
        tobu6050_2_end;
    }


    switch(FEAT_TRAINS, SELF, sw_tobu6050_4_end_fix, position_in_vehid_chain_from_end){
        0:sw_tobu6050_4_end_gfx;
        sw_tobu6050_3_panto_placer_main;
    }

    switch(FEAT_TRAINS, SELF, sw_tobu6050_livery_4,vehicle_type_id){
        mu_car_narrow:sw_tobu6050_4_end_fix;
        sw_tobu6050_4_front_gfx;
    }


    random_switch(FEAT_TRAINS, PARENT, sw_tobu6050_livery_1_0){
        2:sw_tobu6050_livery_1;
        1:sw_tobu6050_livery_2;
    }
    random_switch(FEAT_TRAINS, PARENT, sw_tobu6050_livery_1_1){
        2:sw_tobu6050_livery_3;
        1:sw_tobu6050_livery_4;
    }

    random_switch(FEAT_TRAINS, PARENT, sw_tobu6050_livery_0_1){
        2:sw_tobu6050_livery_1_0;
        1:sw_tobu6050_livery_1_1;
    }

    switch(FEAT_TRAINS, PARENT, sw_tobu6050_livery_0, build_year){
        0..2018:sw_tobu6050_livery_1_0;
        sw_tobu6050_livery_0_1;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu6050_lv, cargo_subtype){
        0:sw_tobu6050_livery_0;
        1:sw_tobu6050_livery_1_0;
        2:sw_tobu6050_livery_1_1;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu6050_lv_desc, cargo_subtype){
        0: string(LV_RANDOM);
        1: string(LV_tobu6050_1);
        2: string(LV_tobu6050_2);
    }


    switch(FEAT_TRAINS, SELF, tobu6050_power, position_in_vehid_chain %2) {
        1: return 130*4*1342/1000;
    return 0;
    }

    switch(FEAT_TRAINS, SELF, sw_tobu6050_capacity_1,position_in_vehid_chain %2){
        0: 145;
        default: 150;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu6050_capacity,vehicle_type_id){
        mu_car_narrow:sw_tobu6050_capacity_1;
        150;
    }

    switch(FEAT_TRAINS, SELF, tobu6050_attach_vehid, vehicle_type_id) {
    mu_car_narrow: return CB_RESULT_ATTACH_ALLOW;
    return string(STR_ATTACH_ERROR);
    }

item(FEAT_TRAINS, tobu6050,2054) {
    property {
        cargo_capacity: 130;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
        variant_group:2053;

        climates_available: param_disable_tobu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        name: string(STR_TRAIN_NAME, string(STR_NAME_TOBU), "6050", string(STR_NAME_SERIES),);
        introduction_date: date(1985, 1, 1);
        vehicle_life: 37;
        model_life: 32;
        reliability_decay: 10;

        cost_factor: 17;
        running_cost_factor: 47;
        speed: 110 km/h;
        track_type: TR_1067_DC;
        power: 520 kW;
        weight: 37 ton;
        loading_speed: param_loading_2D;
    }
 graphics {
        start_stop: sw_stop_start_2;
        default: sw_tobu6050_lv;
        purchase: tobu6050_purchase;
        cargo_age_period:express_cargo_age;
        can_attach_wagon: tobu6050_attach_vehid;
        cargo_subtype_text:sw_tobu6050_lv_desc;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 2)),
  string(STR_FORMATION, string(STR_NUM_CARS_3, 2,4,6)),
  string(STR_USAGE, string(STR_EXPRESS)),
  string(STR_OPERATOR, string(STR_TOBU)));

  cargo_capacity: sw_tobu6050_capacity()*param_capacity_mod/3;
    }
    livery_override(mu_car_narrow){
        cargo_age_period:express_cargo_age;
        loading_speed: param_loading_2D;
        cargo_capacity: sw_tobu6050_capacity()*param_capacity_mod/3;
        default: sw_tobu6050_lv;
        power: tobu6050_power;
        weight: 37;
      }
}
# 37 "src/_private.pnml" 2

# 1 "src/private/Kanto/tobu/tobu100.pnml" 1

  spriteset(tobu100_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu100/tobu100_1.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(tobu100_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu100/tobu100_1.png"){ tmpl_purchase_2c(0, 100) }
  switch(FEAT_TRAINS, SELF, tobu100_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_tobu; 1: tobu100_purchase_c1; 2: tobu100_purchase_c2;}

    spriteset(tobu100_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu100/tobu100_1.png"){ tmpl_long(0, 0) }
    spriteset(tobu100_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu100/tobu100_1.png"){ tmpl_long_rev(0, 25) }
    spriteset(tobu100_1_front_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu100/tobu100_1.png"){ tmpl_long(0, 50) }
    spriteset(tobu100_1_end_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu100/tobu100_1.png"){ tmpl_long_rev(0, 75) }
    spriteset(tobu100_1_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu100/tobu100_1.png"){ tmpl_std(0, 100) }
    spriteset(tobu100_1_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu100/tobu100_1.png"){ tmpl_std_rev(0, 100) }
    spriteset(tobu100_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu100/tobu100_1.png"){ tmpl_std(0, 125) }
    spriteset(tobu100_1_wag_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu100/tobu100_1.png"){ tmpl_std_rev(0, 125) }
    spriteset(tobu100_1_mot_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu100/tobu100_1.png"){ tmpl_std(0, 150) }
    spriteset(tobu100_1_mot_1_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu100/tobu100_1.png"){ tmpl_std_rev(0, 150) }


    spriteset(tobu100_2_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu100/tobu100_2.png"){ tmpl_long(0, 0) }
    spriteset(tobu100_2_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu100/tobu100_2.png"){ tmpl_long_rev(0, 25) }
    spriteset(tobu100_2_front_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu100/tobu100_2.png"){ tmpl_long(0, 50) }
    spriteset(tobu100_2_end_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu100/tobu100_2.png"){ tmpl_long_rev(0, 75) }
    spriteset(tobu100_2_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu100/tobu100_2.png"){ tmpl_std(0, 100) }
    spriteset(tobu100_2_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu100/tobu100_2.png"){ tmpl_std_rev(0, 100) }
    spriteset(tobu100_2_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu100/tobu100_2.png"){ tmpl_std(0, 125) }
    spriteset(tobu100_2_wag_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu100/tobu100_2.png"){ tmpl_std_rev(0, 125) }
    spriteset(tobu100_2_mot_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu100/tobu100_2.png"){ tmpl_std(0, 150) }
    spriteset(tobu100_2_mot_1_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu100/tobu100_2.png"){ tmpl_std_rev(0, 150) }


    spriteset(tobu100_3_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu100/tobu100_3.png"){ tmpl_long(0, 0) }
    spriteset(tobu100_3_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu100/tobu100_3.png"){ tmpl_long_rev(0, 25) }
    spriteset(tobu100_3_front_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu100/tobu100_3.png"){ tmpl_long(0, 50) }
    spriteset(tobu100_3_end_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu100/tobu100_3.png"){ tmpl_long_rev(0, 75) }
    spriteset(tobu100_3_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu100/tobu100_3.png"){ tmpl_std(0, 100) }
    spriteset(tobu100_3_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu100/tobu100_3.png"){ tmpl_std_rev(0, 100) }
    spriteset(tobu100_3_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu100/tobu100_3.png"){ tmpl_std(0, 125) }
    spriteset(tobu100_3_wag_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu100/tobu100_3.png"){ tmpl_std_rev(0, 125) }
    spriteset(tobu100_3_mot_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu100/tobu100_3.png"){ tmpl_std(0, 150) }
    spriteset(tobu100_3_mot_1_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu100/tobu100_3.png"){ tmpl_std_rev(0, 150) }


    spriteset(tobu100_4_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu100/tobu100_4.png"){ tmpl_long(0, 0) }
    spriteset(tobu100_4_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu100/tobu100_4.png"){ tmpl_long_rev(0, 25) }
    spriteset(tobu100_4_front_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu100/tobu100_4.png"){ tmpl_long(0, 50) }
    spriteset(tobu100_4_end_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu100/tobu100_4.png"){ tmpl_long_rev(0, 75) }
    spriteset(tobu100_4_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu100/tobu100_4.png"){ tmpl_std(0, 100) }
    spriteset(tobu100_4_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu100/tobu100_4.png"){ tmpl_std_rev(0, 100) }
    spriteset(tobu100_4_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu100/tobu100_4.png"){ tmpl_std(0, 125) }
    spriteset(tobu100_4_wag_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu100/tobu100_4.png"){ tmpl_std_rev(0, 125) }
    spriteset(tobu100_4_mot_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu100/tobu100_4.png"){ tmpl_std(0, 150) }
    spriteset(tobu100_4_mot_1_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu100/tobu100_4.png"){ tmpl_std_rev(0, 150) }


    spriteset(tobu100_5_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu100/tobu100_5.png"){ tmpl_long(0, 0) }
    spriteset(tobu100_5_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu100/tobu100_5.png"){ tmpl_long_rev(0, 25) }
    spriteset(tobu100_5_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu100/tobu100_5.png"){ tmpl_std(0, 50) }
    spriteset(tobu100_5_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu100/tobu100_5.png"){ tmpl_std_rev(0, 50) }
    spriteset(tobu100_5_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu100/tobu100_5.png"){ tmpl_std(0, 75) }
    spriteset(tobu100_5_wag_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu100/tobu100_5.png"){ tmpl_std_rev(0, 75) }
    spriteset(tobu100_5_mot_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu100/tobu100_5.png"){ tmpl_std(0, 100) }
    spriteset(tobu100_5_mot_1_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu100/tobu100_5.png"){ tmpl_std_rev(0, 100) }


    spriteset(tobu100_6_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu100/tobu100_6.png"){ tmpl_long(0, 0) }
    spriteset(tobu100_6_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu100/tobu100_6.png"){ tmpl_long_rev(0, 25) }
    spriteset(tobu100_6_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu100/tobu100_6.png"){ tmpl_std(0, 50) }
    spriteset(tobu100_6_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu100/tobu100_6.png"){ tmpl_std_rev(0, 50) }
    spriteset(tobu100_6_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu100/tobu100_6.png"){ tmpl_std(0, 75) }
    spriteset(tobu100_6_wag_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu100/tobu100_6.png"){ tmpl_std_rev(0, 75) }
    spriteset(tobu100_6_mot_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu100/tobu100_6.png"){ tmpl_std(0, 100) }
    spriteset(tobu100_6_mot_1_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu100/tobu100_6.png"){ tmpl_std_rev(0, 100) }






    switch(FEAT_TRAINS, PARENT, sw_tobu100_1_front_gfx,vehicle_is_reversed){
        1: tobu100_1_front_1;
        tobu100_1_front;
    }

    switch(FEAT_TRAINS, PARENT, sw_tobu100_1_end_gfx,vehicle_is_reversed){
        1: tobu100_1_end;
        tobu100_1_end_1;
    }



    switch(FEAT_TRAINS, SELF, sw_tobu100_1_panto_placer_1,position_in_vehid_chain %6){
        0: tobu100_1_mot_rev;
        2: tobu100_1_mot_1;
        3: tobu100_1_mot;
        tobu100_1_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu100_1_panto_placer_1_rev,position_in_vehid_chain_from_end %6 -1){
        0: tobu100_1_mot;
        2: tobu100_1_mot_1_rev;
        3: tobu100_1_mot_rev;
        tobu100_1_wag_rev;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu100_1_panto_placer_main_1,vehicle_is_reversed){
        1: sw_tobu100_1_panto_placer_1_rev;
        sw_tobu100_1_panto_placer_1;
    }

    switch(FEAT_TRAINS, SELF, sw_tobu100_1_panto_placer_2,position_in_vehid_chain %8){
        0: tobu100_1_mot_rev;
        2: tobu100_1_mot_1;
        4:tobu100_1_mot;
        tobu100_1_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu100_1_panto_placer_2_rev,position_in_vehid_chain_from_end %8 -1){
        0: tobu100_1_mot;
        2: tobu100_1_mot_1_rev;
        4:tobu100_1_mot_rev;
        tobu100_1_wag_rev;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu100_1_panto_placer_main_2,vehicle_is_reversed){
        1: sw_tobu100_1_panto_placer_2_rev;
        sw_tobu100_1_panto_placer_2;
    }

    switch(FEAT_TRAINS, SELF, sw_tobu100_1_panto_placer_3,position_in_vehid_chain %3){
        0: tobu100_1_mot_1_rev;
        1: tobu100_1_mot;
        tobu100_1_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu100_1_panto_placer_3_rev,position_in_vehid_chain_from_end %3 -1){
        0: tobu100_1_mot_1;
        1: tobu100_1_mot_rev;
        tobu100_1_wag_rev;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu100_1_panto_placer_main_3,vehicle_is_reversed){
        1: sw_tobu100_1_panto_placer_3_rev;
        sw_tobu100_1_panto_placer_3;
    }

    switch(FEAT_TRAINS, SELF, sw_tobu100_1_panto_placer_main,num_vehs_in_vehid_chain+1){
        0..4:sw_tobu100_1_panto_placer_main_3;
        5:sw_tobu100_1_panto_placer_main_2;
        8:sw_tobu100_1_panto_placer_main_2;
        sw_tobu100_1_panto_placer_main_1;
    }


    switch(FEAT_TRAINS, SELF, sw_tobu100_1_fake_placer,position_in_vehid_chain +1){
        5: sw_tobu100_1_end_gfx;
        6: sw_tobu100_1_front_gfx;
    sw_tobu100_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu100_1_fake_placer_rev,position_in_vehid_chain_from_end ){
        5: sw_tobu100_1_front_gfx;
        6: sw_tobu100_1_end_gfx;
    sw_tobu100_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu100_1_fake_placer_gfx,vehicle_is_reversed){
        1: sw_tobu100_1_fake_placer_rev;
        sw_tobu100_1_fake_placer;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu100_1_fake_placer_main,num_vehs_in_vehid_chain>11 - 1){
        1: sw_tobu100_1_fake_placer_gfx;
    sw_tobu100_1_panto_placer_main;
    }


    switch(FEAT_TRAINS, SELF, sw_tobu100_1_end_gfx_main,position_in_vehid_chain_from_end){
        0: sw_tobu100_1_end_gfx;
        default: sw_tobu100_1_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu100_1_front_gfx_main,position_in_vehid_chain_from_end){
        0: sw_tobu100_1_front_gfx;
        default: sw_tobu100_1_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu100_livery_1,vehicle_type_id){
        mu_car_narrow:sw_tobu100_1_end_gfx_main;
        sw_tobu100_1_front_gfx_main;
    }




    switch(FEAT_TRAINS, PARENT, sw_tobu100_2_front_gfx,vehicle_is_reversed){
        1: tobu100_2_front_1;
        tobu100_2_front;
    }

    switch(FEAT_TRAINS, PARENT, sw_tobu100_2_end_gfx,vehicle_is_reversed){
        1: tobu100_2_end;
        tobu100_2_end_1;
    }



    switch(FEAT_TRAINS, SELF, sw_tobu100_2_panto_placer_1,position_in_vehid_chain %6){
        0: tobu100_2_mot_rev;
        2: tobu100_2_mot_1;
        3: tobu100_2_mot;
        tobu100_2_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu100_2_panto_placer_1_rev,position_in_vehid_chain_from_end %6 -1){
        0: tobu100_2_mot;
        2: tobu100_2_mot_1_rev;
        3: tobu100_2_mot_rev;
        tobu100_2_wag_rev;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu100_2_panto_placer_main_1,vehicle_is_reversed){
        1: sw_tobu100_2_panto_placer_1_rev;
        sw_tobu100_2_panto_placer_1;
    }

    switch(FEAT_TRAINS, SELF, sw_tobu100_2_panto_placer_2,position_in_vehid_chain %8){
        0: tobu100_2_mot_rev;
        2: tobu100_2_mot_1;
        4:tobu100_2_mot;
        tobu100_2_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu100_2_panto_placer_2_rev,position_in_vehid_chain_from_end %8 -1){
        0: tobu100_2_mot;
        2: tobu100_2_mot_1_rev;
        4:tobu100_2_mot_rev;
        tobu100_2_wag_rev;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu100_2_panto_placer_main_2,vehicle_is_reversed){
        1: sw_tobu100_2_panto_placer_2_rev;
        sw_tobu100_2_panto_placer_2;
    }

    switch(FEAT_TRAINS, SELF, sw_tobu100_2_panto_placer_3,position_in_vehid_chain %3){
        0: tobu100_2_mot_1_rev;
        1: tobu100_2_mot;
        tobu100_2_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu100_2_panto_placer_3_rev,position_in_vehid_chain_from_end %3 -1){
        0: tobu100_2_mot_1;
        1: tobu100_2_mot_rev;
        tobu100_2_wag_rev;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu100_2_panto_placer_main_3,vehicle_is_reversed){
        1: sw_tobu100_2_panto_placer_3_rev;
        sw_tobu100_2_panto_placer_3;
    }

    switch(FEAT_TRAINS, SELF, sw_tobu100_2_panto_placer_main,num_vehs_in_vehid_chain+1){
        0..4:sw_tobu100_2_panto_placer_main_3;
        5:sw_tobu100_2_panto_placer_main_2;
        8:sw_tobu100_2_panto_placer_main_2;
        sw_tobu100_2_panto_placer_main_1;
    }


    switch(FEAT_TRAINS, SELF, sw_tobu100_2_fake_placer,position_in_vehid_chain +1){
        5: sw_tobu100_2_end_gfx;
        6: sw_tobu100_2_front_gfx;
    sw_tobu100_2_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu100_2_fake_placer_rev,position_in_vehid_chain_from_end ){
        5: sw_tobu100_2_front_gfx;
        6: sw_tobu100_2_end_gfx;
    sw_tobu100_2_panto_placer_main;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu100_2_fake_placer_gfx,vehicle_is_reversed){
        1: sw_tobu100_2_fake_placer_rev;
        sw_tobu100_2_fake_placer;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu100_2_fake_placer_main,num_vehs_in_vehid_chain>11 - 1){
        1: sw_tobu100_2_fake_placer_gfx;
    sw_tobu100_2_panto_placer_main;
    }


    switch(FEAT_TRAINS, SELF, sw_tobu100_2_end_gfx_main,position_in_vehid_chain_from_end){
        0: sw_tobu100_2_end_gfx;
        default: sw_tobu100_2_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu100_2_front_gfx_main,position_in_vehid_chain_from_end){
        0: sw_tobu100_2_front_gfx;
        default: sw_tobu100_2_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu100_livery_2,vehicle_type_id){
        mu_car_narrow:sw_tobu100_2_end_gfx_main;
        sw_tobu100_2_front_gfx_main;
    }




    switch(FEAT_TRAINS, PARENT, sw_tobu100_3_front_gfx,vehicle_is_reversed){
        1: tobu100_3_front_1;
        tobu100_3_front;
    }

    switch(FEAT_TRAINS, PARENT, sw_tobu100_3_end_gfx,vehicle_is_reversed){
        1: tobu100_3_end;
        tobu100_3_end_1;
    }



    switch(FEAT_TRAINS, SELF, sw_tobu100_3_panto_placer_1,position_in_vehid_chain %6){
        0: tobu100_3_mot_rev;
        2: tobu100_3_mot_1;
        3: tobu100_3_mot;
        tobu100_3_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu100_3_panto_placer_1_rev,position_in_vehid_chain_from_end %6 -1){
        0: tobu100_3_mot;
        2: tobu100_3_mot_1_rev;
        3: tobu100_3_mot_rev;
        tobu100_3_wag_rev;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu100_3_panto_placer_main_1,vehicle_is_reversed){
        1: sw_tobu100_3_panto_placer_1_rev;
        sw_tobu100_3_panto_placer_1;
    }

    switch(FEAT_TRAINS, SELF, sw_tobu100_3_panto_placer_2,position_in_vehid_chain %8){
        0: tobu100_3_mot_rev;
        2: tobu100_3_mot_1;
        4:tobu100_3_mot;
        tobu100_3_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu100_3_panto_placer_2_rev,position_in_vehid_chain_from_end %8 -1){
        0: tobu100_3_mot;
        2: tobu100_3_mot_1_rev;
        4:tobu100_3_mot_rev;
        tobu100_3_wag_rev;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu100_3_panto_placer_main_2,vehicle_is_reversed){
        1: sw_tobu100_3_panto_placer_2_rev;
        sw_tobu100_3_panto_placer_2;
    }

    switch(FEAT_TRAINS, SELF, sw_tobu100_3_panto_placer_3,position_in_vehid_chain %3){
        0: tobu100_3_mot_1_rev;
        1: tobu100_3_mot;
        tobu100_3_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu100_3_panto_placer_3_rev,position_in_vehid_chain_from_end %3 -1){
        0: tobu100_3_mot_1;
        1: tobu100_3_mot_rev;
        tobu100_3_wag_rev;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu100_3_panto_placer_main_3,vehicle_is_reversed){
        1: sw_tobu100_3_panto_placer_3_rev;
        sw_tobu100_3_panto_placer_3;
    }

    switch(FEAT_TRAINS, SELF, sw_tobu100_3_panto_placer_main,num_vehs_in_vehid_chain+1){
        0..4:sw_tobu100_3_panto_placer_main_3;
        5:sw_tobu100_3_panto_placer_main_2;
        8:sw_tobu100_3_panto_placer_main_2;
        sw_tobu100_3_panto_placer_main_1;
    }


    switch(FEAT_TRAINS, SELF, sw_tobu100_3_fake_placer,position_in_vehid_chain +1){
        5: sw_tobu100_3_end_gfx;
        6: sw_tobu100_3_front_gfx;
    sw_tobu100_3_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu100_3_fake_placer_rev,position_in_vehid_chain_from_end ){
        5: sw_tobu100_3_front_gfx;
        6: sw_tobu100_3_end_gfx;
    sw_tobu100_3_panto_placer_main;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu100_3_fake_placer_gfx,vehicle_is_reversed){
        1: sw_tobu100_3_fake_placer_rev;
        sw_tobu100_3_fake_placer;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu100_3_fake_placer_main,num_vehs_in_vehid_chain>11 - 1){
        1: sw_tobu100_3_fake_placer_gfx;
    sw_tobu100_3_panto_placer_main;
    }


    switch(FEAT_TRAINS, SELF, sw_tobu100_3_end_gfx_main,position_in_vehid_chain_from_end){
        0: sw_tobu100_3_end_gfx;
        default: sw_tobu100_3_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu100_3_front_gfx_main,position_in_vehid_chain_from_end){
        0: sw_tobu100_3_front_gfx;
        default: sw_tobu100_3_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu100_livery_3,vehicle_type_id){
        mu_car_narrow:sw_tobu100_3_end_gfx_main;
        sw_tobu100_3_front_gfx_main;
    }




    switch(FEAT_TRAINS, PARENT, sw_tobu100_4_front_gfx,vehicle_is_reversed){
        1: tobu100_4_front_1;
        tobu100_4_front;
    }

    switch(FEAT_TRAINS, PARENT, sw_tobu100_4_end_gfx,vehicle_is_reversed){
        1: tobu100_4_end;
        tobu100_4_end_1;
    }



    switch(FEAT_TRAINS, SELF, sw_tobu100_4_panto_placer_1,position_in_vehid_chain %6){
        0: tobu100_4_mot_rev;
        2: tobu100_4_mot_1;
        3: tobu100_4_mot;
        tobu100_4_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu100_4_panto_placer_1_rev,position_in_vehid_chain_from_end %6 -1){
        0: tobu100_4_mot;
        2: tobu100_4_mot_1_rev;
        3: tobu100_4_mot_rev;
        tobu100_4_wag_rev;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu100_4_panto_placer_main_1,vehicle_is_reversed){
        1: sw_tobu100_4_panto_placer_1_rev;
        sw_tobu100_4_panto_placer_1;
    }

    switch(FEAT_TRAINS, SELF, sw_tobu100_4_panto_placer_2,position_in_vehid_chain %8){
        0: tobu100_4_mot_rev;
        2: tobu100_4_mot_1;
        4:tobu100_4_mot;
        tobu100_4_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu100_4_panto_placer_2_rev,position_in_vehid_chain_from_end %8 -1){
        0: tobu100_4_mot;
        2: tobu100_4_mot_1_rev;
        4:tobu100_4_mot_rev;
        tobu100_4_wag_rev;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu100_4_panto_placer_main_2,vehicle_is_reversed){
        1: sw_tobu100_4_panto_placer_2_rev;
        sw_tobu100_4_panto_placer_2;
    }

    switch(FEAT_TRAINS, SELF, sw_tobu100_4_panto_placer_3,position_in_vehid_chain %3){
        0: tobu100_4_mot_1_rev;
        1: tobu100_4_mot;
        tobu100_4_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu100_4_panto_placer_3_rev,position_in_vehid_chain_from_end %3 -1){
        0: tobu100_4_mot_1;
        1: tobu100_4_mot_rev;
        tobu100_4_wag_rev;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu100_4_panto_placer_main_3,vehicle_is_reversed){
        1: sw_tobu100_4_panto_placer_3_rev;
        sw_tobu100_4_panto_placer_3;
    }

    switch(FEAT_TRAINS, SELF, sw_tobu100_4_panto_placer_main,num_vehs_in_vehid_chain+1){
        0..4:sw_tobu100_4_panto_placer_main_3;
        5:sw_tobu100_4_panto_placer_main_2;
        8:sw_tobu100_4_panto_placer_main_2;
        sw_tobu100_4_panto_placer_main_1;
    }


    switch(FEAT_TRAINS, SELF, sw_tobu100_4_fake_placer,position_in_vehid_chain +1){
        5: sw_tobu100_4_end_gfx;
        6: sw_tobu100_4_front_gfx;
    sw_tobu100_4_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu100_4_fake_placer_rev,position_in_vehid_chain_from_end ){
        5: sw_tobu100_4_front_gfx;
        6: sw_tobu100_4_end_gfx;
    sw_tobu100_4_panto_placer_main;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu100_4_fake_placer_gfx,vehicle_is_reversed){
        1: sw_tobu100_4_fake_placer_rev;
        sw_tobu100_4_fake_placer;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu100_4_fake_placer_main,num_vehs_in_vehid_chain>11 - 1){
        1: sw_tobu100_4_fake_placer_gfx;
    sw_tobu100_4_panto_placer_main;
    }


    switch(FEAT_TRAINS, SELF, sw_tobu100_4_end_gfx_main,position_in_vehid_chain_from_end){
        0: sw_tobu100_4_end_gfx;
        default: sw_tobu100_4_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu100_4_front_gfx_main,position_in_vehid_chain_from_end){
        0: sw_tobu100_4_front_gfx;
        default: sw_tobu100_4_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu100_livery_4,vehicle_type_id){
        mu_car_narrow:sw_tobu100_4_end_gfx_main;
        sw_tobu100_4_front_gfx_main;
    }




    switch(FEAT_TRAINS, SELF, sw_tobu100_5_panto_placer_1,position_in_vehid_chain %6){
        0: tobu100_5_mot_rev;
        2: tobu100_5_mot_1;
        3: tobu100_5_mot;
        tobu100_5_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu100_5_panto_placer_1_rev,position_in_vehid_chain_from_end %6 -1){
        0: tobu100_5_mot;
        2: tobu100_5_mot_1_rev;
        3: tobu100_5_mot_rev;
        tobu100_5_wag_rev;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu100_5_panto_placer_main_1,vehicle_is_reversed){
        1: sw_tobu100_5_panto_placer_1_rev;
        sw_tobu100_5_panto_placer_1;
    }

    switch(FEAT_TRAINS, SELF, sw_tobu100_5_panto_placer_2,position_in_vehid_chain %8){
        0: tobu100_5_mot_rev;
        2: tobu100_5_mot_1;
        4:tobu100_5_mot;
        tobu100_5_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu100_5_panto_placer_2_rev,position_in_vehid_chain_from_end %8 -1){
        0: tobu100_5_mot;
        2: tobu100_5_mot_1_rev;
        4:tobu100_5_mot_rev;
        tobu100_5_wag_rev;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu100_5_panto_placer_main_2,vehicle_is_reversed){
        1: sw_tobu100_5_panto_placer_2_rev;
        sw_tobu100_5_panto_placer_2;
    }

    switch(FEAT_TRAINS, SELF, sw_tobu100_5_panto_placer_3,position_in_vehid_chain %3){
        0: tobu100_5_mot_1_rev;
        1: tobu100_5_mot;
        tobu100_5_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu100_5_panto_placer_3_rev,position_in_vehid_chain_from_end %3 -1){
        0: tobu100_5_mot_1;
        1: tobu100_5_mot_rev;
        tobu100_5_wag_rev;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu100_5_panto_placer_main_3,vehicle_is_reversed){
        1: sw_tobu100_5_panto_placer_3_rev;
        sw_tobu100_5_panto_placer_3;
    }

    switch(FEAT_TRAINS, SELF, sw_tobu100_5_panto_placer_main,num_vehs_in_vehid_chain+1){
        0..4:sw_tobu100_5_panto_placer_main_3;
        5:sw_tobu100_5_panto_placer_main_2;
        8:sw_tobu100_5_panto_placer_main_2;
        sw_tobu100_5_panto_placer_main_1;
    }


    switch(FEAT_TRAINS, SELF, sw_tobu100_5_fake_placer,position_in_vehid_chain +1){
        5: tobu100_5_end;
        6: tobu100_5_front;
    sw_tobu100_5_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu100_5_fake_placer_rev,position_in_vehid_chain_from_end ){
        5: tobu100_5_front;
        6: tobu100_5_end;
    sw_tobu100_5_panto_placer_main;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu100_5_fake_placer_gfx,vehicle_is_reversed){
        1: sw_tobu100_5_fake_placer_rev;
        sw_tobu100_5_fake_placer;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu100_5_fake_placer_main,num_vehs_in_vehid_chain>11 - 1){
        1: sw_tobu100_5_fake_placer_gfx;
    sw_tobu100_5_panto_placer_main;
    }


    switch(FEAT_TRAINS, SELF, sw_tobu100_5_end_gfx_main,position_in_vehid_chain_from_end){
        0: tobu100_5_end;
        default: sw_tobu100_5_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu100_5_front_gfx_main,position_in_vehid_chain_from_end){
        0: tobu100_5_front;
        default: sw_tobu100_5_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu100_livery_5,vehicle_type_id){
        mu_car_narrow:sw_tobu100_5_end_gfx_main;
        sw_tobu100_5_front_gfx_main;
    }




    switch(FEAT_TRAINS, SELF, sw_tobu100_6_panto_placer_1,position_in_vehid_chain %6){
        0: tobu100_6_mot_rev;
        2: tobu100_6_mot_1;
        3: tobu100_6_mot;
        tobu100_6_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu100_6_panto_placer_1_rev,position_in_vehid_chain_from_end %6 -1){
        0: tobu100_6_mot;
        2: tobu100_6_mot_1_rev;
        3: tobu100_6_mot_rev;
        tobu100_6_wag_rev;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu100_6_panto_placer_main_1,vehicle_is_reversed){
        1: sw_tobu100_6_panto_placer_1_rev;
        sw_tobu100_6_panto_placer_1;
    }

    switch(FEAT_TRAINS, SELF, sw_tobu100_6_panto_placer_2,position_in_vehid_chain %8){
        0: tobu100_6_mot_rev;
        2: tobu100_6_mot_1;
        4:tobu100_6_mot;
        tobu100_6_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu100_6_panto_placer_2_rev,position_in_vehid_chain_from_end %8 -1){
        0: tobu100_6_mot;
        2: tobu100_6_mot_1_rev;
        4:tobu100_6_mot_rev;
        tobu100_6_wag_rev;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu100_6_panto_placer_main_2,vehicle_is_reversed){
        1: sw_tobu100_6_panto_placer_2_rev;
        sw_tobu100_6_panto_placer_2;
    }

    switch(FEAT_TRAINS, SELF, sw_tobu100_6_panto_placer_3,position_in_vehid_chain %3){
        0: tobu100_6_mot_1_rev;
        1: tobu100_6_mot;
        tobu100_6_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu100_6_panto_placer_3_rev,position_in_vehid_chain_from_end %3 -1){
        0: tobu100_6_mot_1;
        1: tobu100_6_mot_rev;
        tobu100_6_wag_rev;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu100_6_panto_placer_main_3,vehicle_is_reversed){
        1: sw_tobu100_6_panto_placer_3_rev;
        sw_tobu100_6_panto_placer_3;
    }

    switch(FEAT_TRAINS, SELF, sw_tobu100_6_panto_placer_main,num_vehs_in_vehid_chain+1){
        0..4:sw_tobu100_6_panto_placer_main_3;
        5:sw_tobu100_6_panto_placer_main_2;
        8:sw_tobu100_6_panto_placer_main_2;
        sw_tobu100_6_panto_placer_main_1;
    }


    switch(FEAT_TRAINS, SELF, sw_tobu100_6_fake_placer,position_in_vehid_chain +1){
        5: tobu100_6_end;
        6: tobu100_6_front;
    sw_tobu100_6_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu100_6_fake_placer_rev,position_in_vehid_chain_from_end ){
        5: tobu100_6_front;
        6: tobu100_6_end;
    sw_tobu100_6_panto_placer_main;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu100_6_fake_placer_gfx,vehicle_is_reversed){
        1: sw_tobu100_6_fake_placer_rev;
        sw_tobu100_6_fake_placer;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu100_6_fake_placer_main,num_vehs_in_vehid_chain>11 - 1){
        1: sw_tobu100_6_fake_placer_gfx;
    sw_tobu100_6_panto_placer_main;
    }


    switch(FEAT_TRAINS, SELF, sw_tobu100_6_end_gfx_main,position_in_vehid_chain_from_end){
        0: tobu100_6_end;
        default: sw_tobu100_6_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu100_6_front_gfx_main,position_in_vehid_chain_from_end){
        0: tobu100_6_front;
        default: sw_tobu100_6_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu100_livery_6,vehicle_type_id){
        mu_car_narrow:sw_tobu100_6_end_gfx_main;
        sw_tobu100_6_front_gfx_main;
    }






    random_switch(FEAT_TRAINS, PARENT, sw_tobu100_livery_0_1){
        1:sw_tobu100_livery_1;
        1:sw_tobu100_livery_2;
        1:sw_tobu100_livery_3;
        1:sw_tobu100_livery_4;
    }

    random_switch(FEAT_TRAINS, PARENT, sw_tobu100_livery_0_2){
        1:sw_tobu100_livery_1;
        1:sw_tobu100_livery_2;
        1:sw_tobu100_livery_3;
        1:sw_tobu100_livery_4;
        1:sw_tobu100_livery_5;
    }

    random_switch(FEAT_TRAINS, PARENT, sw_tobu100_livery_0_3){
        1:sw_tobu100_livery_1;
        1:sw_tobu100_livery_2;
        1:sw_tobu100_livery_3;
        1:sw_tobu100_livery_4;
        1:sw_tobu100_livery_5;
        1:sw_tobu100_livery_6;
    }

    switch(FEAT_TRAINS, PARENT, sw_tobu100_livery_0, build_year){
    0..2011:sw_tobu100_livery_1;
    2012..2014:sw_tobu100_livery_0_1;
    2015..2020:sw_tobu100_livery_0_2;
    sw_tobu100_livery_0_3;
    }


    switch(FEAT_TRAINS, PARENT, sw_tobu100_lv, cargo_subtype){
        0:sw_tobu100_livery_0;
        1:sw_tobu100_livery_1;
        2:sw_tobu100_livery_2;
        3:sw_tobu100_livery_3;
        4:sw_tobu100_livery_4;
        5:sw_tobu100_livery_5;
        6:sw_tobu100_livery_6;
    }

    switch(FEAT_TRAINS, SELF, sw_tobu100_lv_desc, cargo_subtype){
        0:string(LV_RANDOM);
        1:string(LV_tobu100_1);
        2:string(LV_tobu100_2);
        3:string(LV_tobu100_3);
        4:string(LV_tobu100_4);
        5:string(LV_tobu100_5);
        6:string(LV_tobu100_6);
    }



    switch(FEAT_TRAINS, SELF, sw_tobu100_capacity,position_in_vehid_chain_from_end%6){
        0: 44;
        1: 64;
        2: 36;
        3: 56;
        4: 64;
        5: 24;
        default: 64;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu100_capacity_1,position_in_vehid_chain){
        0: 24;
        default: sw_tobu100_capacity;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu100_capacity_main,vehicle_type_id){
        mu_car_narrow:sw_tobu100_capacity;
        sw_tobu100_capacity_1;
    }

    switch(FEAT_TRAINS, SELF, sw_tobu100_power,position_in_vehid_chain%7){
        0..4: return 150*4*1342/1000;
        return 0;
    }

    switch(FEAT_TRAINS, SELF, tobu100_attach_vehid, vehicle_type_id) {
        mu_car: return string(STR_ATTACH_1067_ERROR);
        mu_car_metro: return string(STR_ATTACH_1067_ERROR);
        return CB_RESULT_ATTACH_ALLOW;
    }

item(FEAT_TRAINS, tobu100,2058) {
    property {
        cargo_capacity: 130;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        climates_available: param_disable_tobu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        name: string(STR_TRAIN_NAME_LONG, string(STR_NAME_TOBU), "100", string(STR_NAME_SERIES), string(STR_NAME_TOBU_SPACIA));
        introduction_date: date(1990, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 35;
        reliability_decay: 10;

        cost_factor: 24;
        running_cost_factor: 52;
        speed: 130 km/h;
        track_type: TR_1067_DC;
        power: 1 kW;
        weight: 39 ton;
        loading_speed: param_loading_1D;
    }
 graphics {
        power:150*4*1342/1000;
        start_stop: sw_stop_start_3;
        default: sw_tobu100_lv;
        purchase: tobu100_purchase;
        can_attach_wagon: tobu100_attach_vehid;
        cargo_subtype_text:sw_tobu100_lv_desc;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 1)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 6)),
  string(STR_USAGE, string(STR_LIMITED)),
  string(STR_OPERATOR, string(STR_TOBU)));

  cargo_age_period:ltd_express_cargo_age;
        cargo_capacity: sw_tobu100_capacity_main()*boost_rapid_mod/2*param_capacity_mod/3;
    }
    livery_override(mu_car_narrow){
        cargo_age_period:ltd_express_cargo_age;
        loading_speed: param_loading_1D;
        cargo_capacity: sw_tobu100_capacity_main()*boost_rapid_mod/2*param_capacity_mod/3;
        default: sw_tobu100_lv;
        power: sw_tobu100_power;
        weight: 36;
      }
}
# 39 "src/_private.pnml" 2
# 1 "src/private/Kanto/tobu/tobu200.pnml" 1

  spriteset(tobu200_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu200/tobu200_1.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(tobu200_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu200/tobu200_1.png"){ tmpl_purchase_2c(88, 50) }
  switch(FEAT_TRAINS, SELF, tobu200_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_tobu; 1: tobu200_purchase_c1; 2: tobu200_purchase_c2;}

    spriteset(tobu200_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu200/tobu200_1.png"){ tmpl_long(0, 0) }
    spriteset(tobu200_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu200/tobu200_1.png"){ tmpl_long_rev(0, 25) }
    spriteset(tobu200_1_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu200/tobu200_1.png"){ tmpl_std(0, 50) }
    spriteset(tobu200_1_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu200/tobu200_1.png"){ tmpl_std_rev(0, 50) }
    spriteset(tobu200_1_mot_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu200/tobu200_1.png"){ tmpl_std(0, 75) }
    spriteset(tobu200_1_mot_1_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu200/tobu200_1.png"){ tmpl_std_rev(0, 75) }
    spriteset(tobu200_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu200/tobu200_1.png"){ tmpl_std(0, 100) }
    spriteset(tobu200_1_wag_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu200/tobu200_1.png"){ tmpl_std_rev(0, 100) }
    spriteset(tobu200_1_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu200/tobu200_1.png"){ tmpl_long(0, 125) }
    spriteset(tobu200_1_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu200/tobu200_1.png"){ tmpl_long_rev(0, 125) }



    spriteset(tobu200_2_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu200/tobu200_2.png"){ tmpl_long(0, 0) }
    spriteset(tobu200_2_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu200/tobu200_2.png"){ tmpl_long_rev(0, 25) }
    spriteset(tobu200_2_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu200/tobu200_2.png"){ tmpl_std(0, 50) }
    spriteset(tobu200_2_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu200/tobu200_2.png"){ tmpl_std_rev(0, 50) }
    spriteset(tobu200_2_mot_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu200/tobu200_2.png"){ tmpl_std(0, 75) }
    spriteset(tobu200_2_mot_1_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu200/tobu200_2.png"){ tmpl_std_rev(0, 75) }
    spriteset(tobu200_2_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu200/tobu200_2.png"){ tmpl_std(0, 100) }
    spriteset(tobu200_2_wag_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu200/tobu200_2.png"){ tmpl_std_rev(0, 100) }
    spriteset(tobu200_2_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu200/tobu200_2.png"){ tmpl_long(0, 125) }
    spriteset(tobu200_2_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu200/tobu200_2.png"){ tmpl_long_rev(0, 125) }



    spriteset(tobu200_3_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu200/tobu200_3.png"){ tmpl_long(0, 0) }
    spriteset(tobu200_3_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu200/tobu200_3.png"){ tmpl_long_rev(0, 25) }
    spriteset(tobu200_3_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu200/tobu200_3.png"){ tmpl_std(0, 50) }
    spriteset(tobu200_3_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu200/tobu200_3.png"){ tmpl_std_rev(0, 50) }
    spriteset(tobu200_3_mot_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu200/tobu200_3.png"){ tmpl_std(0, 75) }
    spriteset(tobu200_3_mot_1_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu200/tobu200_3.png"){ tmpl_std_rev(0, 75) }
    spriteset(tobu200_3_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu200/tobu200_3.png"){ tmpl_std(0, 100) }
    spriteset(tobu200_3_wag_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu200/tobu200_3.png"){ tmpl_std_rev(0, 100) }
    spriteset(tobu200_3_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu200/tobu200_3.png"){ tmpl_long(0, 125) }
    spriteset(tobu200_3_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu200/tobu200_3.png"){ tmpl_long_rev(0, 125) }




    switch(FEAT_TRAINS, SELF, sw_tobu200_1_panto_placer_1,position_in_vehid_chain %6){
        0: tobu200_1_mot;
        1: tobu200_1_mot_1;
        3: tobu200_1_mot_rev;
        tobu200_1_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu200_1_panto_placer_1_rev,position_in_vehid_chain_from_end %6 -1){
        0: tobu200_1_mot_rev;
        1: tobu200_1_mot_1_rev;
        3: tobu200_1_mot;
        tobu200_1_wag_rev;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu200_1_panto_placer_main_1,vehicle_is_reversed){
        1: sw_tobu200_1_panto_placer_1_rev;
        sw_tobu200_1_panto_placer_1;
    }

    switch(FEAT_TRAINS, SELF, sw_tobu200_1_panto_placer_2,position_in_vehid_chain %6){
        1: tobu200_1_mot;
        2: tobu200_1_mot_1;
        4: tobu200_1_mot_rev;
        tobu200_1_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu200_1_panto_placer_2_rev,position_in_vehid_chain_from_end %6 -1){
        1: tobu200_1_mot_rev;
        2: tobu200_1_mot_1_rev;
        4: tobu200_1_mot;
        tobu200_1_wag_rev;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu200_1_panto_placer_main_2,vehicle_is_reversed){
        1: sw_tobu200_1_panto_placer_2_rev;
        sw_tobu200_1_panto_placer_2;
    }

    switch(FEAT_TRAINS, SELF, sw_tobu200_1_panto_placer_main,num_vehs_in_vehid_chain+1){
        8:sw_tobu200_1_panto_placer_main_2;
        sw_tobu200_1_panto_placer_main_1;
    }


    switch(FEAT_TRAINS, SELF, sw_tobu200_1_fake_placer,position_in_vehid_chain +1){
        5: tobu200_1_end_f;
        6: tobu200_1_front_f;
    sw_tobu200_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu200_1_fake_placer_rev,position_in_vehid_chain_from_end ){
        5: tobu200_1_front_f;
        6: tobu200_1_end_f;
    sw_tobu200_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu200_1_fake_placer_gfx,vehicle_is_reversed){
        1: sw_tobu200_1_fake_placer_rev;
        sw_tobu200_1_fake_placer;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu200_1_fake_placer_main,num_vehs_in_vehid_chain>11 - 1){
        1: sw_tobu200_1_fake_placer_gfx;
    sw_tobu200_1_panto_placer_main;
    }


    switch(FEAT_TRAINS, SELF, sw_tobu200_1_end_gfx_main,position_in_vehid_chain_from_end){
        0: tobu200_1_end;
        default: sw_tobu200_1_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu200_1_front_gfx_main,position_in_vehid_chain_from_end){
        0: tobu200_1_front;
        default: sw_tobu200_1_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu200_livery_1,vehicle_type_id){
        mu_car_narrow:sw_tobu200_1_end_gfx_main;
        sw_tobu200_1_front_gfx_main;
    }




    switch(FEAT_TRAINS, SELF, sw_tobu200_2_panto_placer_1,position_in_vehid_chain %6){
        0: tobu200_2_mot;
        1: tobu200_2_mot_1;
        3: tobu200_2_mot_rev;
        tobu200_2_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu200_2_panto_placer_1_rev,position_in_vehid_chain_from_end %6 -1){
        0: tobu200_2_mot_rev;
        1: tobu200_2_mot_1_rev;
        3: tobu200_2_mot;
        tobu200_2_wag_rev;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu200_2_panto_placer_main_1,vehicle_is_reversed){
        1: sw_tobu200_2_panto_placer_1_rev;
        sw_tobu200_2_panto_placer_1;
    }

    switch(FEAT_TRAINS, SELF, sw_tobu200_2_panto_placer_2,position_in_vehid_chain %6){
        1: tobu200_2_mot;
        2: tobu200_2_mot_1;
        4: tobu200_2_mot_rev;
        tobu200_2_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu200_2_panto_placer_2_rev,position_in_vehid_chain_from_end %6 -1){
        1: tobu200_2_mot_rev;
        2: tobu200_2_mot_1_rev;
        4: tobu200_2_mot;
        tobu200_2_wag_rev;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu200_2_panto_placer_main_2,vehicle_is_reversed){
        1: sw_tobu200_2_panto_placer_2_rev;
        sw_tobu200_2_panto_placer_2;
    }

    switch(FEAT_TRAINS, SELF, sw_tobu200_2_panto_placer_main,num_vehs_in_vehid_chain+1){
        8:sw_tobu200_2_panto_placer_main_2;
        sw_tobu200_2_panto_placer_main_1;
    }


    switch(FEAT_TRAINS, SELF, sw_tobu200_2_fake_placer,position_in_vehid_chain +1){
        5: tobu200_2_end_f;
        6: tobu200_2_front_f;
    sw_tobu200_2_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu200_2_fake_placer_rev,position_in_vehid_chain_from_end ){
        5: tobu200_2_front_f;
        6: tobu200_2_end_f;
    sw_tobu200_2_panto_placer_main;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu200_2_fake_placer_gfx,vehicle_is_reversed){
        1: sw_tobu200_2_fake_placer_rev;
        sw_tobu200_2_fake_placer;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu200_2_fake_placer_main,num_vehs_in_vehid_chain>11 - 1){
        1: sw_tobu200_2_fake_placer_gfx;
    sw_tobu200_2_panto_placer_main;
    }


    switch(FEAT_TRAINS, SELF, sw_tobu200_2_end_gfx_main,position_in_vehid_chain_from_end){
        0: tobu200_2_end;
        default: sw_tobu200_2_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu200_2_front_gfx_main,position_in_vehid_chain_from_end){
        0: tobu200_2_front;
        default: sw_tobu200_2_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu200_livery_2,vehicle_type_id){
        mu_car_narrow:sw_tobu200_2_end_gfx_main;
        sw_tobu200_2_front_gfx_main;
    }




    switch(FEAT_TRAINS, SELF, sw_tobu200_3_panto_placer_1,position_in_vehid_chain %6){
        0: tobu200_3_mot;
        1: tobu200_3_mot_1;
        3: tobu200_3_mot_rev;
        tobu200_3_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu200_3_panto_placer_1_rev,position_in_vehid_chain_from_end %6 -1){
        0: tobu200_3_mot_rev;
        1: tobu200_3_mot_1_rev;
        3: tobu200_3_mot;
        tobu200_3_wag_rev;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu200_3_panto_placer_main_1,vehicle_is_reversed){
        1: sw_tobu200_3_panto_placer_1_rev;
        sw_tobu200_3_panto_placer_1;
    }

    switch(FEAT_TRAINS, SELF, sw_tobu200_3_panto_placer_2,position_in_vehid_chain %6){
        1: tobu200_3_mot;
        2: tobu200_3_mot_1;
        4: tobu200_3_mot_rev;
        tobu200_3_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu200_3_panto_placer_2_rev,position_in_vehid_chain_from_end %6 -1){
        1: tobu200_3_mot_rev;
        2: tobu200_3_mot_1_rev;
        4: tobu200_3_mot;
        tobu200_3_wag_rev;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu200_3_panto_placer_main_2,vehicle_is_reversed){
        1: sw_tobu200_3_panto_placer_2_rev;
        sw_tobu200_3_panto_placer_2;
    }

    switch(FEAT_TRAINS, SELF, sw_tobu200_3_panto_placer_main,num_vehs_in_vehid_chain+1){
        8:sw_tobu200_3_panto_placer_main_2;
        sw_tobu200_3_panto_placer_main_1;
    }


    switch(FEAT_TRAINS, SELF, sw_tobu200_3_fake_placer,position_in_vehid_chain +1){
        5: tobu200_3_end_f;
        6: tobu200_3_front_f;
    sw_tobu200_3_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu200_3_fake_placer_rev,position_in_vehid_chain_from_end ){
        5: tobu200_3_front_f;
        6: tobu200_3_end_f;
    sw_tobu200_3_panto_placer_main;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu200_3_fake_placer_gfx,vehicle_is_reversed){
        1: sw_tobu200_3_fake_placer_rev;
        sw_tobu200_3_fake_placer;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu200_3_fake_placer_main,num_vehs_in_vehid_chain>11 - 1){
        1: sw_tobu200_3_fake_placer_gfx;
    sw_tobu200_3_panto_placer_main;
    }


    switch(FEAT_TRAINS, SELF, sw_tobu200_3_end_gfx_main,position_in_vehid_chain_from_end){
        0: tobu200_3_end;
        default: sw_tobu200_3_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu200_3_front_gfx_main,position_in_vehid_chain_from_end){
        0: tobu200_3_front;
        default: sw_tobu200_3_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu200_livery_3,vehicle_type_id){
        mu_car_narrow:sw_tobu200_3_end_gfx_main;
        sw_tobu200_3_front_gfx_main;
    }






    random_switch(FEAT_TRAINS, PARENT, sw_tobu200_livery_0_1){
        2:sw_tobu200_livery_1;
        1:sw_tobu200_livery_2;
    }

    random_switch(FEAT_TRAINS, PARENT, sw_tobu200_livery_0_2){
        2:sw_tobu200_livery_1;
        1:sw_tobu200_livery_2;
        1:sw_tobu200_livery_3;
    }

    switch(FEAT_TRAINS, PARENT, sw_tobu200_livery_0, build_year){
        0..2015:sw_tobu200_livery_1;
        2016..2019:sw_tobu200_livery_0_1;
        sw_tobu200_livery_0_2;
    }


    switch(FEAT_TRAINS, PARENT, sw_tobu200_lv, cargo_subtype){
        0:sw_tobu200_livery_0;
        1:sw_tobu200_livery_1;
        2:sw_tobu200_livery_2;
        3:sw_tobu200_livery_3;
    }

    switch(FEAT_TRAINS, SELF, sw_tobu200_lv_desc, cargo_subtype){
        0:string(LV_RANDOM);
        1:string(LV_tobu200_1);
        2:string(LV_tobu200_2);
        3:string(LV_tobu200_3);
    }



    switch(FEAT_TRAINS, SELF, sw_tobu200_capacity_main,position_in_vehid_chain_from_end%6){
        0: 60;
        2: 58;
        3: 76;
        5: 60;
        default: 72;
    }


    switch(FEAT_TRAINS, SELF, sw_tobu200_power,position_in_vehid_chain_from_end%5){
        1..2:return 760;
        4:return 760;
        return 0;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu200_head_power,num_vehs_in_consist){
        39: return 760;
        return 0;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu200_power_main_1,vehicle_type_id){
        mu_car_narrow:sw_tobu200_power;
        sw_tobu200_head_power;
    }
    switch(FEAT_TRAINS, SELF, tobu200_power_main, build_year > 1997) {
        1: sw_tobu200_power_main_1;
        return 300;
    }


    switch(FEAT_TRAINS, SELF, tobu200_attach_vehid, vehicle_type_id) {
        mu_car: return string(STR_ATTACH_1067_ERROR);
        mu_car_metro: return string(STR_ATTACH_1067_ERROR);
        return CB_RESULT_ATTACH_ALLOW;
    }

item(FEAT_TRAINS, tobu200,2059) {
    property {
        cargo_capacity: 130;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        climates_available: param_disable_tobu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        name: string(STR_TRAIN_NAME_LONG, string(STR_NAME_TOBU), "200/250", string(STR_NAME_SERIES), string(STR_NAME_TOBU_RYOMO));
        introduction_date: date(1990, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 35;
        reliability_decay: 10;

        cost_factor: 20;
        running_cost_factor: 50;
        speed: 120 km/h;
        track_type: TR_1067_DC;
        power: 1 kW;
        weight: 39 ton;
        loading_speed: param_loading_1D;
    }
 graphics {
        power:tobu200_power_main()*1342/1000;
        start_stop: sw_stop_start_3;
        default: sw_tobu200_lv;
        purchase: tobu200_purchase;
        can_attach_wagon: tobu200_attach_vehid;
        cargo_subtype_text:sw_tobu200_lv_desc;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 1)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 6)),
  string(STR_USAGE, string(STR_LIMITED)),
  string(STR_OPERATOR, string(STR_TOBU)));

  cargo_age_period:ltd_express_cargo_age;
        cargo_capacity: sw_tobu200_capacity_main()*param_capacity_mod/3;
    }
    livery_override(mu_car_narrow){
        cargo_age_period:ltd_express_cargo_age;
        loading_speed: param_loading_1D;
        cargo_capacity: sw_tobu200_capacity_main()*param_capacity_mod/3;
        default: sw_tobu200_lv;
        power: tobu200_power_main()*1342/1000;
        weight: 36;
      }
}
# 40 "src/_private.pnml" 2
# 1 "src/private/Kanto/tobu/tobu300.pnml" 1

  spriteset(tobu300_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu300/tobu300.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(tobu300_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu300/tobu300.png"){ tmpl_purchase_2c(0, 50) }
  switch(FEAT_TRAINS, SELF, tobu300_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_tobu; 1: tobu300_purchase_c1; 2: tobu300_purchase_c2;}

    spriteset(tobu300_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu300/tobu300.png"){ tmpl_std(0, 0) }
    spriteset(tobu300_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu300/tobu300.png"){ tmpl_std_rev(0, 25) }
    spriteset(tobu300_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu300/tobu300.png"){ tmpl_std(0, 50) }
    spriteset(tobu300_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu300/tobu300.png"){ tmpl_std_rev(0, 50) }
    spriteset(tobu300_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu300/tobu300.png"){ tmpl_std(0, 75) }
    spriteset(tobu300_wag_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu300/tobu300.png"){ tmpl_std_rev(0, 75) }
    spriteset(tobu300_mot_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu300/tobu300.png"){ tmpl_std(0, 100) }
    spriteset(tobu300_mot_2_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu300/tobu300.png"){ tmpl_std_rev(0, 100) }
    spriteset(tobu300_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu300/tobu300.png"){ tmpl_std_rev(0, 125) }
    spriteset(tobu300_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu300/tobu300.png"){ tmpl_std(0, 125) }




    switch(FEAT_TRAINS, SELF, sw_tobu300_panto_placer_1,position_in_vehid_chain %5){
        1: tobu300_mot_2;
        2: tobu300_wag_rev;
        3: tobu300_mot;
        tobu300_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu300_panto_placer_1_rev,position_in_vehid_chain_from_end %5 -1){
        1: tobu300_mot_2_rev;
        2: tobu300_wag;
        3: tobu300_mot_rev;
        tobu300_wag_rev;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu300_panto_placer_main_1,vehicle_is_reversed){
        1: sw_tobu300_panto_placer_1_rev;
        sw_tobu300_panto_placer_1;
    }

    switch(FEAT_TRAINS, SELF, sw_tobu300_panto_placer_2,position_in_vehid_chain %4){
        0: tobu300_mot_2;
        1: tobu300_wag_rev;
        2: tobu300_mot;
        tobu300_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu300_panto_placer_2_rev,position_in_vehid_chain_from_end %4 -1){
        0: tobu300_mot_2_rev;
        1: tobu300_wag;
        2: tobu300_mot_rev;
        tobu300_wag_rev;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu300_panto_placer_main_2,vehicle_is_reversed){
        1: sw_tobu300_panto_placer_2_rev;
        sw_tobu300_panto_placer_2;
    }

    switch(FEAT_TRAINS, SELF, sw_tobu300_panto_placer_main,num_vehs_in_vehid_chain+1){
        0..5:sw_tobu300_panto_placer_main_2;
        sw_tobu300_panto_placer_main_1;
    }


    switch(FEAT_TRAINS, SELF, sw_tobu300_fake_placer,position_in_vehid_chain +1){
        3: tobu300_front_f;
        4: tobu300_end_f;
    sw_tobu300_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu300_fake_placer_rev,position_in_vehid_chain_from_end ){
        3: tobu300_end_f;
        4: tobu300_front_f;
    sw_tobu300_panto_placer_main;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu300_fake_placer_gfx,vehicle_is_reversed){
        1: sw_tobu300_fake_placer_rev;
        sw_tobu300_fake_placer;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu300_fake_placer_main,num_vehs_in_vehid_chain>10 - 1){
        1: sw_tobu300_fake_placer_gfx;
    sw_tobu300_panto_placer_main;
    }


    switch(FEAT_TRAINS, SELF, sw_tobu300_end_gfx_main,position_in_vehid_chain_from_end){
        0: tobu300_end;
        default: sw_tobu300_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu300_front_gfx_main,position_in_vehid_chain_from_end){
        0: tobu300_front;
        default: sw_tobu300_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu300_lv,vehicle_type_id){
        mu_car_narrow:sw_tobu300_end_gfx_main;
        sw_tobu300_front_gfx_main;
    }


    switch(FEAT_TRAINS, SELF, sw_tobu300_capacity,position_in_vehid_chain_from_end%6){
        0: 64;
        1: 72;
        4: 72;
        default: 68;
    }

    switch(FEAT_TRAINS, SELF, sw_tobu300_power,position_in_vehid_chain_from_end%5){
        0:return 0;
        return 130;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu300_head_power,num_vehs_in_consist){
        39: return 130;
        return 0;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu300_power_main,vehicle_type_id){
        mu_car_narrow:sw_tobu300_power;
        sw_tobu300_head_power;
    }


    switch(FEAT_TRAINS, SELF, tobu300_attach_vehid, vehicle_type_id) {
    mu_car_narrow: return CB_RESULT_ATTACH_ALLOW;
    return string(STR_ATTACH_ERROR);
    }

item(FEAT_TRAINS, tobu300,2060) {
    property {
        cargo_capacity: 130;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        climates_available: param_disable_tobu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        name: string(STR_TRAIN_NAME, string(STR_NAME_TOBU), "300/350", string(STR_NAME_SERIES));
        introduction_date: date(1991, 1, 1);
        vehicle_life: 31;
        model_life: 26;
        reliability_decay: 10;

        cost_factor: 18;
        running_cost_factor: 48;
        speed: 110 km/h;
        track_type: TR_1067_DC;
        power: 520 kW;
        weight: 37 ton;
        loading_speed: param_loading_1D;
    }
 graphics {
        default: sw_tobu300_lv;
        purchase: tobu300_purchase;
        cargo_age_period:ltd_express_cargo_age;
        can_attach_wagon: tobu300_attach_vehid;

        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 1)),
  string(STR_FORMATION, string(STR_NUM_CARS_2, 4,6)),
     string(STR_USAGE,
  string(STR_CONCAT_2_OR, string(STR_EXPRESS), string(STR_LIMITED))),
  string(STR_OPERATOR, string(STR_TOBU)));

  cargo_capacity: sw_tobu300_capacity()*param_capacity_mod/3;
        power: sw_tobu300_power_main()*4*1342/1000;
    }
    livery_override(mu_car_narrow){
        cargo_age_period:ltd_express_cargo_age;
        loading_speed: param_loading_1D;
        cargo_capacity: sw_tobu300_capacity()*param_capacity_mod/3;
        default: sw_tobu300_lv;
        power: sw_tobu300_power_main()*4*1342/1000;
        weight: 38;
      }
}
# 41 "src/_private.pnml" 2
# 1 "src/private/Kanto/tobu/tobu500.pnml" 1

  spriteset(tobu500_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu500/tobu500.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(tobu500_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu500/tobu500.png"){ tmpl_purchase_2c(88, 50) }
  switch(FEAT_TRAINS, SELF, tobu500_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_tobu; 1: tobu500_purchase_c1; 2: tobu500_purchase_c2;}

    spriteset(tobu500_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu500/tobu500.png"){ tmpl_std(0, 0) }
    spriteset(tobu500_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu500/tobu500.png"){ tmpl_std_rev(0, 25) }
    spriteset(tobu500_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu500/tobu500.png"){ tmpl_std(0, 50) }
    spriteset(tobu500_wag_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu500/tobu500.png"){ tmpl_std_rev(0, 50) }
    spriteset(tobu500_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu500/tobu500.png"){ tmpl_std(0, 75) }
    spriteset(tobu500_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu500/tobu500.png"){ tmpl_std_rev(0, 75) }
    spriteset(tobu500_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu500/tobu500.png"){ tmpl_std_rev(0, 100) }
    spriteset(tobu500_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu500/tobu500.png"){ tmpl_std(0, 100) }




    switch(FEAT_TRAINS, SELF, sw_tobu500_panto_placer_1,position_in_vehid_chain %3){
        1: tobu500_mot;
        tobu500_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu500_panto_placer_1_rev,position_in_vehid_chain_from_end %3-1){
        1: tobu500_mot_rev;
        tobu500_wag_rev;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu500_panto_placer_main_1,vehicle_is_reversed){
        1: sw_tobu500_panto_placer_1_rev;
        sw_tobu500_panto_placer_1;
    }

    switch(FEAT_TRAINS, PARENT, sw_tobu500_panto_placer_main_2,vehicle_is_reversed){
        1: tobu500_wag_rev;
        tobu500_wag;
    }

    switch(FEAT_TRAINS, SELF, sw_tobu500_panto_placer_main,num_vehs_in_vehid_chain+1){
        0..4:sw_tobu500_panto_placer_main_2;
        7:sw_tobu500_panto_placer_main_2;
        sw_tobu500_panto_placer_main_1;
    }


    switch(FEAT_TRAINS, SELF, sw_tobu500_fake_placer,position_in_vehid_chain +1){
        2: tobu500_front_f;
        3: tobu500_end_f;
    sw_tobu500_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu500_fake_placer_rev,position_in_vehid_chain_from_end ){
        2: tobu500_end_f;
        3: tobu500_front_f;
    sw_tobu500_panto_placer_main;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu500_fake_placer_gfx,vehicle_is_reversed){
        1: sw_tobu500_fake_placer_rev;
        sw_tobu500_fake_placer;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu500_fake_placer_main,num_vehs_in_vehid_chain>5 - 1){
        1: sw_tobu500_fake_placer_gfx;
    sw_tobu500_panto_placer_main;
    }


    switch(FEAT_TRAINS, SELF, sw_tobu500_end_gfx_main,position_in_vehid_chain_from_end){
        0: tobu500_end;
        default: sw_tobu500_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu500_front_gfx_main,position_in_vehid_chain_from_end){
        0: tobu500_front;
        default: sw_tobu500_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu500_lv,vehicle_type_id){
        mu_car_narrow:sw_tobu500_end_gfx_main;
        sw_tobu500_front_gfx_main;
    }


    switch(FEAT_TRAINS, SELF, sw_tobu500_capacity_1_0,position_in_vehid_chain){
        1: 112;
        2: 112;
        default: 136;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu500_capacity_1,position_in_vehid_chain_from_end){
        0: 112;
        default: sw_tobu500_capacity_1_0;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu500_capacity_2,position_in_vehid_chain_from_end){
        0: 112;
        default: 136;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu500_capacity,num_vehs_in_vehid_chain>4){
        1: sw_tobu500_capacity_1;
        default: sw_tobu500_capacity_2;
    }


    switch(FEAT_TRAINS, SELF, sw_tobu500_power,position_in_vehid_chain_from_end%6){
        0:return 760;
        2:return 760;
        3:return 760;
        return 0;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu500_power_main,vehicle_type_id){
        mu_car_narrow:sw_tobu500_power;
        return 760;
    }


    switch(FEAT_TRAINS, SELF, tobu500_attach_vehid, vehicle_type_id) {
    mu_car_narrow: return CB_RESULT_ATTACH_ALLOW;
    return string(STR_ATTACH_ERROR);
    }

item(FEAT_TRAINS, tobu500,2061) {
    property {
        cargo_capacity: 130;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        climates_available: param_disable_tobu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        name: string(STR_TRAIN_NAME_LONG, string(STR_NAME_TOBU), "500", string(STR_NAME_SERIES), string(STR_NAME_TOBU_REVATY));
        introduction_date: date(2016, 1, 1);
        model_life: 17;
        vehicle_life: 22;
        reliability_decay: 10;

        cost_factor: 21;
        running_cost_factor: 51;
        speed: 130 km/h;
        track_type: TR_1067_DC;
        power: 520 kW;
        weight: 39 ton;
        loading_speed: param_loading_1D;
    }
 graphics {
        default: sw_tobu500_lv;
        purchase: tobu500_purchase;
        cargo_age_period:ltd_express_cargo_age;
        can_attach_wagon: tobu500_attach_vehid;

        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 1)),
  string(STR_FORMATION, string(STR_NUM_CARS_2, 3,6)),
  string(STR_USAGE, string(STR_LIMITED)),
  string(STR_OPERATOR, string(STR_TOBU)));

  cargo_capacity: 112*param_capacity_mod/3;
        power: sw_tobu500_power_main()*1342/1000;
    }
    livery_override(mu_car_narrow){
        cargo_age_period:ltd_express_cargo_age;
        loading_speed: param_loading_1D;
        cargo_capacity: sw_tobu500_capacity()*param_capacity_mod/3;
        default: sw_tobu500_lv;
        power: sw_tobu500_power_main()*1342/1000;
        weight: 38;
      }
}
# 42 "src/_private.pnml" 2
# 1 "src/private/Kanto/tobu/tobu100n.pnml" 1

  spriteset(tobu100n_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu100n/tobu100n.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(tobu100n_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu100n/tobu100n.png"){ tmpl_purchase_2c(88, 50) }
  switch(FEAT_TRAINS, SELF, tobu100n_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_tobu; 1: tobu100n_purchase_c1; 2: tobu100n_purchase_c2;}

    spriteset(tobu100n_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu100n/tobu100n.png"){ tmpl_std(0, 0) }
    spriteset(tobu100n_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu100n/tobu100n.png"){ tmpl_std_rev(0, 25) }
    spriteset(tobu100n_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu100n/tobu100n.png"){ tmpl_std(0, 50) }
    spriteset(tobu100n_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu100n/tobu100n.png"){ tmpl_std_rev(0, 50) }
    spriteset(tobu100n_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu100n/tobu100n.png"){ tmpl_std(0, 75) }
    spriteset(tobu100n_wag_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu100n/tobu100n.png"){ tmpl_std_rev(0, 75) }
    spriteset(tobu100n_mot_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu100n/tobu100n.png"){ tmpl_std(0, 100) }
    spriteset(tobu100n_mot_2_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu100n/tobu100n.png"){ tmpl_std_rev(0, 100) }
    spriteset(tobu100n_wag_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu100n/tobu100n.png"){ tmpl_std(0, 125) }
    spriteset(tobu100n_wag_2_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu100n/tobu100n.png"){ tmpl_std_rev(0, 125) }
    spriteset(tobu100n_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu100n/tobu100n.png"){ tmpl_std_rev(0, 150) }
    spriteset(tobu100n_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu100n/tobu100n.png"){ tmpl_std(0, 150) }




    switch(FEAT_TRAINS, SELF, sw_tobu100n_panto_placer_1,position_in_vehid_chain %6){
        0: tobu100n_mot;
        2: tobu100n_mot_2;
        3: tobu100n_wag_2;
        tobu100n_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu100n_panto_placer_1_rev,position_in_vehid_chain_from_end %6){
        1: tobu100n_mot_rev;
        3: tobu100n_mot_2_rev;
        4: tobu100n_wag_2_rev;
        tobu100n_wag_rev;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu100n_panto_placer_main_1,vehicle_is_reversed){
        1: sw_tobu100n_panto_placer_1_rev;
        sw_tobu100n_panto_placer_1;
    }

    switch(FEAT_TRAINS, SELF, sw_tobu100n_panto_placer_2,position_in_vehid_chain %4){
        0: tobu100n_mot;
        1: tobu100n_wag_rev;
        2: tobu100n_mot_2;
        tobu100n_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu100n_panto_placer_2_rev,position_in_vehid_chain_from_end %4){
        1: tobu100n_mot_rev;
        2: tobu100n_wag;
        3: tobu100n_mot_2_rev;
        tobu100n_wag_rev;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu100n_panto_placer_main_2,vehicle_is_reversed){
        1: sw_tobu100n_panto_placer_2_rev;
        sw_tobu100n_panto_placer_2;
    }

    switch(FEAT_TRAINS, SELF, sw_tobu100n_panto_placer_main,num_vehs_in_vehid_chain+1){
        0..5:sw_tobu100n_panto_placer_main_2;
        7..8:sw_tobu100n_panto_placer_main_2;
        sw_tobu100n_panto_placer_main_1;
    }


    switch(FEAT_TRAINS, SELF, sw_tobu100n_fake_placer,position_in_vehid_chain +1){
        5: tobu100n_front_f;
        6: tobu100n_end_f;
    sw_tobu100n_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu100n_fake_placer_rev,position_in_vehid_chain_from_end ){
        5: tobu100n_end_f;
        6: tobu100n_front_f;
    sw_tobu100n_panto_placer_main;
    }
    switch(FEAT_TRAINS, PARENT, sw_tobu100n_fake_placer_gfx,vehicle_is_reversed){
        1: sw_tobu100n_fake_placer_rev;
        sw_tobu100n_fake_placer;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu100n_fake_placer_main,num_vehs_in_vehid_chain>11 - 1){
        1: sw_tobu100n_fake_placer_gfx;
    sw_tobu100n_panto_placer_main;
    }


    switch(FEAT_TRAINS, SELF, sw_tobu100n_end_gfx_main,position_in_vehid_chain_from_end){
        0: tobu100n_end;
        default: sw_tobu100n_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu100n_front_gfx_main,position_in_vehid_chain_from_end){
        0: tobu100n_front;
        default: sw_tobu100n_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu100n_lv,vehicle_type_id){
        mu_car_narrow:sw_tobu100n_end_gfx_main;
        sw_tobu100n_front_gfx_main;
    }


    switch(FEAT_TRAINS, SELF, sw_tobu100n_capacity,position_in_vehid_chain_from_end%6){
        0: 20;
        1: 35;
        4: 22;
        5: 23;
        default: 56;
    }

    switch(FEAT_TRAINS, SELF, sw_tobu100n_power,position_in_vehid_chain_from_end%5){
        0:return 0;
        return 165;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu100n_head_power,num_vehs_in_consist){
        39: return 165;
        return 0;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu100n_power_main,vehicle_type_id){
        mu_car_narrow:sw_tobu100n_power;
        sw_tobu100n_head_power;
    }


    switch(FEAT_TRAINS, SELF, tobu100n_attach_vehid, vehicle_type_id) {
    mu_car_narrow: return CB_RESULT_ATTACH_ALLOW;
    return string(STR_ATTACH_ERROR);
    }

item(FEAT_TRAINS, tobu100n,2062) {
    property {
        cargo_capacity: 130;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        climates_available: param_disable_tobu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        name: string(STR_TRAIN_NAME_LONG, string(STR_NAME_TOBU), "N100", string(STR_NAME_SERIES), string(STR_NAME_TOBU_SPACIA_X));
        introduction_date: date(2022, 1, 1);
        model_life: 17;
        vehicle_life: 22;
        reliability_decay: 10;

        cost_factor: 25;
        running_cost_factor: 52;
        speed: 130 km/h;
        track_type: TR_1067_DC;
        power: 520 kW;
        weight: 40 ton;
        loading_speed: param_loading_1D;
    }
 graphics {
        default: sw_tobu100n_lv;
        purchase: tobu100n_purchase;
        cargo_age_period:ltd_express_cargo_age;
        can_attach_wagon: tobu100n_attach_vehid;

        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 1)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 6)),
  string(STR_USAGE, string(STR_LIMITED)),
  string(STR_OPERATOR, string(STR_TOBU)));

  cargo_capacity: 23*boost_rapid_mod/2*param_capacity_mod/3;
        power: sw_tobu100n_power_main()*4*1342/1000;
    }
    livery_override(mu_car_narrow){
        cargo_age_period:ltd_express_cargo_age;
        loading_speed: param_loading_1D;
        cargo_capacity: sw_tobu100n_capacity()*boost_rapid_mod/2*param_capacity_mod/3;
        default: sw_tobu100n_lv;
        power: sw_tobu100n_power_main()*4*1342/1000;
        weight: 38;
      }
}
# 43 "src/_private.pnml" 2


# 1 "src/private/Kanto/tobu/tobu_deha1.pnml" 1

  spriteset(tobu_deha1_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/deha1/tobu_deha1.png"){ tmpl_purchase_1c_7(0, 0) }
  switch(FEAT_TRAINS, SELF, tobu_deha1_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_tobu; 1: tobu_deha1_purchase_c1;}

spriteset(tobu_deha1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/deha1/tobu_deha1.png"){ tmpl_std(0, 0) }
spriteset(tobu_deha1_front_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/deha1/tobu_deha1.png"){ tmpl_std_rev(0, 25) }
spriteset(tobu_deha1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/deha1/tobu_deha1.png"){ tmpl_std(0, 50) }
spriteset(tobu_deha1_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/deha1/tobu_deha1.png"){ tmpl_std_rev(0, 50) }
spriteset(tobu_deha1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/deha1/tobu_deha1.png"){ tmpl_symm(0, 75) }


switch(FEAT_TRAINS, PARENT, sw_tobu_deha1_front_gfx, vehicle_is_reversed){
    1:tobu_deha1_front_rev;
    tobu_deha1_front;
}

switch(FEAT_TRAINS, PARENT, sw_tobu_deha1_end_gfx, vehicle_is_reversed){
    1:tobu_deha1_end_rev;
    tobu_deha1_end;
}

switch(FEAT_TRAINS, SELF, sw_tobu_deha1_panto_placer,position_in_consist %2){
    0: sw_tobu_deha1_end_gfx;
    tobu_deha1_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu_deha1_panto_placer_rev,position_in_consist_from_end %2){
    0: sw_tobu_deha1_end_gfx;
    tobu_deha1_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu_deha1_panto_placer_main,vehicle_is_reversed){
    1: sw_tobu_deha1_panto_placer_rev;
    sw_tobu_deha1_panto_placer;
}

switch(FEAT_TRAINS, SELF, sw_tobu_deha1_end_fix, position_in_consist_from_end){
    0:sw_tobu_deha1_end_gfx;
    sw_tobu_deha1_panto_placer_main;
}

switch(FEAT_TRAINS, SELF, sw_tobu_deha1_livery_0,vehicle_type_id){
    mu_car_narrow:sw_tobu_deha1_end_fix;
    sw_tobu_deha1_front_gfx;
}

    switch(FEAT_TRAINS, SELF, sw_tobu_deha1_power,position_in_vehid_chain%2){
        1:return 0;
        return 240;
    }

switch(FEAT_TRAINS, SELF, tobu_deha1_attach_vehid, vehicle_type_id) {
  mu_car_narrow: return CB_RESULT_ATTACH_ALLOW;
  return string(STR_ATTACH_ERROR);
}

item(FEAT_TRAINS, tobu_deha1,2065) {
    property {
        cargo_capacity: 130;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        climates_available: param_disable_tobu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        name: string(STR_TRAIN_NAME, string(STR_NAME_TOBU), string(STR_NAME_DEHA, "1"), string(STR_NAME_TYPE));
        introduction_date: date(1924, 1, 1);
        model_life: 47;
        vehicle_life: 57;
        reliability_decay: 10;

        cost_factor: 12;
        running_cost_factor: 42;
        speed: 75 km/h;
        track_type: TR_1067_DC;
        power: 240 kW;
        weight: 33 ton;
        loading_speed: param_loading_3D;
    }
 graphics {
        default: sw_tobu_deha1_livery_0;
        purchase: tobu_deha1_purchase;
        can_attach_wagon: tobu_deha1_attach_vehid;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 1)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_TOBU)));
        cargo_capacity: 92*param_capacity_mod/3;
        length: 7;
    }
    livery_override(mu_car_narrow){
        loading_speed: param_loading_3D;
        cargo_capacity: 92*param_capacity_mod/3;
        default: sw_tobu_deha1_livery_0;
        power: sw_tobu_deha1_power()*1342/1000;
        weight: 33;
        length: 7;
      }
}
# 46 "src/_private.pnml" 2
# 1 "src/private/Kanto/tobu/tobu_deha10.pnml" 1

  spriteset(tobu_deha10_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/deha10/tobu_deha10_1.png"){ tmpl_purchase_1c(0, 0) }
  switch(FEAT_TRAINS, SELF, tobu_deha10_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_tobu; 1: tobu_deha10_purchase_c1;}

spriteset(tobu_deha10_1_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/deha10/tobu_deha10_1.png"){ tmpl_std(0, 0) }
spriteset(tobu_deha10_1_front_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/deha10/tobu_deha10_1.png"){ tmpl_std_rev(0, 25) }
spriteset(tobu_deha10_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/deha10/tobu_deha10_1.png"){ tmpl_std(0, 50) }
spriteset(tobu_deha10_1_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/deha10/tobu_deha10_1.png"){ tmpl_std_rev(0, 50) }
spriteset(tobu_deha10_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/deha10/tobu_deha10_1.png"){ tmpl_std(0, 75) }
spriteset(tobu_deha10_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/deha10/tobu_deha10_1.png"){ tmpl_symm(0, 100) }



spriteset(tobu_deha10_2_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/deha10/tobu_deha10_2.png"){ tmpl_std(0, 0) }
spriteset(tobu_deha10_2_front_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/deha10/tobu_deha10_2.png"){ tmpl_std_rev(0, 25) }
spriteset(tobu_deha10_2_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/deha10/tobu_deha10_2.png"){ tmpl_std(0, 50) }
spriteset(tobu_deha10_2_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/deha10/tobu_deha10_2.png"){ tmpl_std_rev(0, 50) }
spriteset(tobu_deha10_2_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/deha10/tobu_deha10_2.png"){ tmpl_std(0, 75) }
spriteset(tobu_deha10_2_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/deha10/tobu_deha10_2.png"){ tmpl_symm(0, 100) }



spriteset(tobu_deha10_3_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/deha10/tobu_deha10_3.png"){ tmpl_std(0, 0) }
spriteset(tobu_deha10_3_front_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/deha10/tobu_deha10_3.png"){ tmpl_std_rev(0, 25) }
spriteset(tobu_deha10_3_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/deha10/tobu_deha10_3.png"){ tmpl_std(0, 50) }
spriteset(tobu_deha10_3_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/deha10/tobu_deha10_3.png"){ tmpl_std_rev(0, 50) }
spriteset(tobu_deha10_3_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/deha10/tobu_deha10_3.png"){ tmpl_std(0, 75) }
spriteset(tobu_deha10_3_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/deha10/tobu_deha10_3.png"){ tmpl_symm(0, 100) }



spriteset(tobu_deha10_4_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/deha10/tobu_deha10_4.png"){ tmpl_std(0, 0) }
spriteset(tobu_deha10_4_front_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/deha10/tobu_deha10_4.png"){ tmpl_std_rev(0, 25) }
spriteset(tobu_deha10_4_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/deha10/tobu_deha10_4.png"){ tmpl_std(0, 50) }
spriteset(tobu_deha10_4_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/deha10/tobu_deha10_4.png"){ tmpl_std_rev(0, 50) }
spriteset(tobu_deha10_4_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/deha10/tobu_deha10_4.png"){ tmpl_std(0, 75) }
spriteset(tobu_deha10_4_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/deha10/tobu_deha10_4.png"){ tmpl_symm(0, 100) }



spriteset(tobu_deha10_5_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/deha10/tobu_deha10_5.png"){ tmpl_std(0, 0) }
spriteset(tobu_deha10_5_front_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/deha10/tobu_deha10_5.png"){ tmpl_std_rev(0, 25) }
spriteset(tobu_deha10_5_front_mot_1_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/deha10/tobu_deha10_5.png"){ tmpl_std_rev(0, 50) }
spriteset(tobu_deha10_5_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/deha10/tobu_deha10_5.png"){ tmpl_std_rev(0, 75) }
spriteset(tobu_deha10_5_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/deha10/tobu_deha10_5.png"){ tmpl_std(0, 100) }
spriteset(tobu_deha10_5_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/deha10/tobu_deha10_5.png"){ tmpl_std(0, 125) }
spriteset(tobu_deha10_5_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/deha10/tobu_deha10_5.png"){ tmpl_std_rev(0, 125) }
spriteset(tobu_deha10_5_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/deha10/tobu_deha10_5.png"){ tmpl_std(0, 150) }
spriteset(tobu_deha10_5_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/deha10/tobu_deha10_5.png"){ tmpl_std_rev(0, 175) }
spriteset(tobu_deha10_5_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/deha10/tobu_deha10_5_wag.png"){ tmpl_symm(0, 0) }



spriteset(tobu_deha10_6_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/deha10/tobu_deha10_6.png"){ tmpl_std(0, 0) }
spriteset(tobu_deha10_6_front_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/deha10/tobu_deha10_6.png"){ tmpl_std_rev(0, 25) }
spriteset(tobu_deha10_6_front_mot_1_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/deha10/tobu_deha10_6.png"){ tmpl_std_rev(0, 50) }
spriteset(tobu_deha10_6_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/deha10/tobu_deha10_6.png"){ tmpl_std_rev(0, 75) }
spriteset(tobu_deha10_6_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/deha10/tobu_deha10_6.png"){ tmpl_std(0, 100) }
spriteset(tobu_deha10_6_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/deha10/tobu_deha10_6.png"){ tmpl_std(0, 125) }
spriteset(tobu_deha10_6_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/deha10/tobu_deha10_6.png"){ tmpl_std_rev(0, 125) }
spriteset(tobu_deha10_6_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/deha10/tobu_deha10_6.png"){ tmpl_std(0, 150) }
spriteset(tobu_deha10_6_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/deha10/tobu_deha10_6.png"){ tmpl_std_rev(0, 175) }
spriteset(tobu_deha10_6_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/deha10/tobu_deha10_6_wag.png"){ tmpl_symm(0, 0) }



spriteset(tobu_deha10_7_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/deha10/tobu_deha10_7.png"){ tmpl_std(0, 0) }
spriteset(tobu_deha10_7_front_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/deha10/tobu_deha10_7.png"){ tmpl_std_rev(0, 25) }
spriteset(tobu_deha10_7_front_mot_1_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/deha10/tobu_deha10_7.png"){ tmpl_std_rev(0, 50) }
spriteset(tobu_deha10_7_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/deha10/tobu_deha10_7.png"){ tmpl_std_rev(0, 75) }
spriteset(tobu_deha10_7_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/deha10/tobu_deha10_7.png"){ tmpl_std(0, 100) }
spriteset(tobu_deha10_7_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/deha10/tobu_deha10_7.png"){ tmpl_std(0, 125) }
spriteset(tobu_deha10_7_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/deha10/tobu_deha10_7.png"){ tmpl_std_rev(0, 125) }
spriteset(tobu_deha10_7_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/deha10/tobu_deha10_7.png"){ tmpl_std(0, 150) }
spriteset(tobu_deha10_7_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/deha10/tobu_deha10_7.png"){ tmpl_std_rev(0, 175) }
spriteset(tobu_deha10_7_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/deha10/tobu_deha10_7_wag.png"){ tmpl_symm(0, 0) }



spriteset(tobu_deha10_8_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/deha10/tobu_deha10_8.png"){ tmpl_std(0, 0) }
spriteset(tobu_deha10_8_front_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/deha10/tobu_deha10_8.png"){ tmpl_std_rev(0, 25) }
spriteset(tobu_deha10_8_front_mot_1_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/deha10/tobu_deha10_8.png"){ tmpl_std_rev(0, 50) }
spriteset(tobu_deha10_8_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/deha10/tobu_deha10_8.png"){ tmpl_std_rev(0, 75) }
spriteset(tobu_deha10_8_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/deha10/tobu_deha10_8.png"){ tmpl_std(0, 100) }
spriteset(tobu_deha10_8_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/deha10/tobu_deha10_8.png"){ tmpl_std(0, 125) }
spriteset(tobu_deha10_8_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/deha10/tobu_deha10_8.png"){ tmpl_std_rev(0, 125) }
spriteset(tobu_deha10_8_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/deha10/tobu_deha10_8.png"){ tmpl_std(0, 150) }
spriteset(tobu_deha10_8_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/deha10/tobu_deha10_8.png"){ tmpl_std_rev(0, 175) }
spriteset(tobu_deha10_8_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/deha10/tobu_deha10_8_wag.png"){ tmpl_symm(0, 0) }






switch(FEAT_TRAINS, PARENT, sw_tobu_deha10_1_front_1_gfx, vehicle_is_reversed){
    1:tobu_deha10_1_front_mot_rev;
    tobu_deha10_1_front_mot;
}

switch(FEAT_TRAINS, PARENT, sw_tobu_deha10_1_front_2_gfx, vehicle_is_reversed){
    1:tobu_deha10_1_front;
    tobu_deha10_1_front_mot;
}
switch(FEAT_TRAINS, SELF, sw_tobu_deha10_1_front_gfx, num_vehs_in_consist%2){
    1:sw_tobu_deha10_1_front_1_gfx;
    sw_tobu_deha10_1_front_2_gfx;
}

switch(FEAT_TRAINS, PARENT, sw_tobu_deha10_1_mot_gfx, vehicle_is_reversed){
    1:tobu_deha10_1_end_rev;
    tobu_deha10_1_end;
}

switch(FEAT_TRAINS, SELF, sw_tobu_deha10_1_end_gfx_1, (position_in_vehid_chain+1)%2){
    1:tobu_deha10_1_wag;
    sw_tobu_deha10_1_mot_gfx;
}
switch(FEAT_TRAINS, SELF, sw_tobu_deha10_1_end_gfx_rev, position_in_vehid_chain_from_end%2){
    1:tobu_deha10_1_wag;
    sw_tobu_deha10_1_mot_gfx;
}
switch(FEAT_TRAINS, PARENT, sw_tobu_deha10_1_end_gfx, vehicle_is_reversed){
    1:sw_tobu_deha10_1_end_gfx_rev;
    sw_tobu_deha10_1_end_gfx_1;
}


switch(FEAT_TRAINS, SELF, sw_tobu_deha10_livery_2,vehicle_type_id){
    mu_car_narrow:sw_tobu_deha10_1_end_gfx;
    sw_tobu_deha10_1_front_gfx;
}




switch(FEAT_TRAINS, PARENT, sw_tobu_deha10_2_front_1_gfx, vehicle_is_reversed){
    1:tobu_deha10_2_front_mot_rev;
    tobu_deha10_2_front_mot;
}

switch(FEAT_TRAINS, PARENT, sw_tobu_deha10_2_front_2_gfx, vehicle_is_reversed){
    1:tobu_deha10_2_front;
    tobu_deha10_2_front_mot;
}
switch(FEAT_TRAINS, SELF, sw_tobu_deha10_2_front_gfx, num_vehs_in_consist%2){
    1:sw_tobu_deha10_2_front_1_gfx;
    sw_tobu_deha10_2_front_2_gfx;
}

switch(FEAT_TRAINS, PARENT, sw_tobu_deha10_2_mot_gfx, vehicle_is_reversed){
    1:tobu_deha10_2_end_rev;
    tobu_deha10_2_end;
}

switch(FEAT_TRAINS, SELF, sw_tobu_deha10_2_end_gfx_1, (position_in_vehid_chain+1)%2){
    1:tobu_deha10_2_wag;
    sw_tobu_deha10_2_mot_gfx;
}
switch(FEAT_TRAINS, SELF, sw_tobu_deha10_2_end_gfx_rev, position_in_vehid_chain_from_end%2){
    1:tobu_deha10_2_wag;
    sw_tobu_deha10_2_mot_gfx;
}
switch(FEAT_TRAINS, PARENT, sw_tobu_deha10_2_end_gfx, vehicle_is_reversed){
    1:sw_tobu_deha10_2_end_gfx_rev;
    sw_tobu_deha10_2_end_gfx_1;
}


switch(FEAT_TRAINS, SELF, sw_tobu_deha10_livery_1,vehicle_type_id){
    mu_car_narrow:sw_tobu_deha10_2_end_gfx;
    sw_tobu_deha10_2_front_gfx;
}




switch(FEAT_TRAINS, PARENT, sw_tobu_deha10_3_front_1_gfx, vehicle_is_reversed){
    1:tobu_deha10_3_front_mot_rev;
    tobu_deha10_3_front_mot;
}

switch(FEAT_TRAINS, PARENT, sw_tobu_deha10_3_front_3_gfx, vehicle_is_reversed){
    1:tobu_deha10_3_front;
    tobu_deha10_3_front_mot;
}
switch(FEAT_TRAINS, SELF, sw_tobu_deha10_3_front_gfx, num_vehs_in_consist%2){
    1:sw_tobu_deha10_3_front_1_gfx;
    sw_tobu_deha10_3_front_3_gfx;
}

switch(FEAT_TRAINS, PARENT, sw_tobu_deha10_3_mot_gfx, vehicle_is_reversed){
    1:tobu_deha10_3_end_rev;
    tobu_deha10_3_end;
}

switch(FEAT_TRAINS, SELF, sw_tobu_deha10_3_end_gfx_1, (position_in_vehid_chain+1)%2){
    1:tobu_deha10_3_wag;
    sw_tobu_deha10_3_mot_gfx;
}
switch(FEAT_TRAINS, SELF, sw_tobu_deha10_3_end_gfx_rev, position_in_vehid_chain_from_end%2){
    1:tobu_deha10_3_wag;
    sw_tobu_deha10_3_mot_gfx;
}
switch(FEAT_TRAINS, PARENT, sw_tobu_deha10_3_end_gfx, vehicle_is_reversed){
    1:sw_tobu_deha10_3_end_gfx_rev;
    sw_tobu_deha10_3_end_gfx_1;
}


switch(FEAT_TRAINS, SELF, sw_tobu_deha10_livery_3,vehicle_type_id){
    mu_car_narrow:sw_tobu_deha10_3_end_gfx;
    sw_tobu_deha10_3_front_gfx;
}




switch(FEAT_TRAINS, PARENT, sw_tobu_deha10_4_front_1_gfx, vehicle_is_reversed){
    1:tobu_deha10_4_front_mot_rev;
    tobu_deha10_4_front_mot;
}

switch(FEAT_TRAINS, PARENT, sw_tobu_deha10_4_front_4_gfx, vehicle_is_reversed){
    1:tobu_deha10_4_front;
    tobu_deha10_4_front_mot;
}
switch(FEAT_TRAINS, SELF, sw_tobu_deha10_4_front_gfx, num_vehs_in_consist%2){
    1:sw_tobu_deha10_4_front_1_gfx;
    sw_tobu_deha10_4_front_4_gfx;
}

switch(FEAT_TRAINS, PARENT, sw_tobu_deha10_4_mot_gfx, vehicle_is_reversed){
    1:tobu_deha10_4_end_rev;
    tobu_deha10_4_end;
}

switch(FEAT_TRAINS, SELF, sw_tobu_deha10_4_end_gfx_1, (position_in_vehid_chain+1)%2){
    1:tobu_deha10_4_wag;
    sw_tobu_deha10_4_mot_gfx;
}
switch(FEAT_TRAINS, SELF, sw_tobu_deha10_4_end_gfx_rev, position_in_vehid_chain_from_end%2){
    1:tobu_deha10_4_wag;
    sw_tobu_deha10_4_mot_gfx;
}
switch(FEAT_TRAINS, PARENT, sw_tobu_deha10_4_end_gfx, vehicle_is_reversed){
    1:sw_tobu_deha10_4_end_gfx_rev;
    sw_tobu_deha10_4_end_gfx_1;
}


switch(FEAT_TRAINS, SELF, sw_tobu_deha10_livery_4,vehicle_type_id){
    mu_car_narrow:sw_tobu_deha10_4_end_gfx;
    sw_tobu_deha10_4_front_gfx;
}




switch(FEAT_TRAINS, PARENT, sw_tobu_deha10_5_front_2_gfx, vehicle_is_reversed){
    1:tobu_deha10_5_front_mot_1_rev;
    tobu_deha10_5_front_mot;
}
switch(FEAT_TRAINS, PARENT, sw_tobu_deha10_5_front_3_gfx, vehicle_is_reversed){
    1:tobu_deha10_5_front_mot_rev;
    tobu_deha10_5_front_mot;
}
switch(FEAT_TRAINS, SELF, sw_tobu_deha10_5_front_1_gfx, num_vehs_in_consist){
    1:sw_tobu_deha10_5_front_2_gfx;
    sw_tobu_deha10_5_front_3_gfx;
}

switch(FEAT_TRAINS, PARENT, sw_tobu_deha10_5_front_5_gfx, vehicle_is_reversed){
    1:tobu_deha10_5_front;
    tobu_deha10_5_front_mot;
}
switch(FEAT_TRAINS, SELF, sw_tobu_deha10_5_front_gfx, num_vehs_in_consist%2){
    1:sw_tobu_deha10_5_front_1_gfx;
    sw_tobu_deha10_5_front_5_gfx;
}

switch(FEAT_TRAINS, PARENT, sw_tobu_deha10_5_mot_gfx, vehicle_is_reversed){
    1:tobu_deha10_5_mot_rev;
    tobu_deha10_5_mot;
}

switch(FEAT_TRAINS, SELF, sw_tobu_deha10_5_end_gfx_1, (position_in_vehid_chain+1)%2){
    1:tobu_deha10_5_wag;
    sw_tobu_deha10_5_mot_gfx;
}
switch(FEAT_TRAINS, SELF, sw_tobu_deha10_5_end_gfx_rev, position_in_vehid_chain_from_end%2){
    1:tobu_deha10_5_wag;
    sw_tobu_deha10_5_mot_gfx;
}
switch(FEAT_TRAINS, PARENT, sw_tobu_deha10_5_end_gfx, vehicle_is_reversed){
    1:sw_tobu_deha10_5_end_gfx_rev;
    sw_tobu_deha10_5_end_gfx_1;
}

switch(FEAT_TRAINS, SELF, sw_tobu_deha10_5_end_5_gfx_fix_1, (position_in_vehid_chain+1)%2){
    1:tobu_deha10_5_end;
    tobu_deha10_5_end_mot_rev;
}
switch(FEAT_TRAINS, SELF, sw_tobu_deha10_5_end_5_gfx_fix_2, (position_in_vehid_chain_from_end)%2){
    1:tobu_deha10_5_end;
    tobu_deha10_5_end_mot;
}
switch(FEAT_TRAINS, PARENT, sw_tobu_deha10_5_end_5_gfx_fix, vehicle_is_reversed){
    1:sw_tobu_deha10_5_end_5_gfx_fix_2;
    sw_tobu_deha10_5_end_5_gfx_fix_1;
}
switch(FEAT_TRAINS, SELF, sw_tobu_deha10_5_end_gfx_fix, position_in_vehid_chain_from_end){
    0:sw_tobu_deha10_5_end_5_gfx_fix;
    sw_tobu_deha10_5_end_gfx;
}


switch(FEAT_TRAINS, SELF, sw_tobu_deha10_livery_5,vehicle_type_id){
    mu_car_narrow:sw_tobu_deha10_5_end_gfx_fix;
    sw_tobu_deha10_5_front_gfx;
}



switch(FEAT_TRAINS, PARENT, sw_tobu_deha10_6_front_2_gfx, vehicle_is_reversed){
    1:tobu_deha10_6_front_mot_1_rev;
    tobu_deha10_6_front_mot;
}
switch(FEAT_TRAINS, PARENT, sw_tobu_deha10_6_front_3_gfx, vehicle_is_reversed){
    1:tobu_deha10_6_front_mot_rev;
    tobu_deha10_6_front_mot;
}
switch(FEAT_TRAINS, SELF, sw_tobu_deha10_6_front_1_gfx, num_vehs_in_consist){
    1:sw_tobu_deha10_6_front_2_gfx;
    sw_tobu_deha10_6_front_3_gfx;
}

switch(FEAT_TRAINS, PARENT, sw_tobu_deha10_6_front_6_gfx, vehicle_is_reversed){
    1:tobu_deha10_6_front;
    tobu_deha10_6_front_mot;
}
switch(FEAT_TRAINS, SELF, sw_tobu_deha10_6_front_gfx, num_vehs_in_consist%2){
    1:sw_tobu_deha10_6_front_1_gfx;
    sw_tobu_deha10_6_front_6_gfx;
}

switch(FEAT_TRAINS, PARENT, sw_tobu_deha10_6_mot_gfx, vehicle_is_reversed){
    1:tobu_deha10_6_mot_rev;
    tobu_deha10_6_mot;
}

switch(FEAT_TRAINS, SELF, sw_tobu_deha10_6_end_gfx_1, (position_in_vehid_chain+1)%2){
    1:tobu_deha10_6_wag;
    sw_tobu_deha10_6_mot_gfx;
}
switch(FEAT_TRAINS, SELF, sw_tobu_deha10_6_end_gfx_rev, position_in_vehid_chain_from_end%2){
    1:tobu_deha10_6_wag;
    sw_tobu_deha10_6_mot_gfx;
}
switch(FEAT_TRAINS, PARENT, sw_tobu_deha10_6_end_gfx, vehicle_is_reversed){
    1:sw_tobu_deha10_6_end_gfx_rev;
    sw_tobu_deha10_6_end_gfx_1;
}

switch(FEAT_TRAINS, SELF, sw_tobu_deha10_6_end_6_gfx_fix_1, (position_in_vehid_chain+1)%2){
    1:tobu_deha10_6_end;
    tobu_deha10_6_end_mot_rev;
}
switch(FEAT_TRAINS, SELF, sw_tobu_deha10_6_end_6_gfx_fix_2, (position_in_vehid_chain_from_end)%2){
    1:tobu_deha10_6_end;
    tobu_deha10_6_end_mot;
}
switch(FEAT_TRAINS, PARENT, sw_tobu_deha10_6_end_6_gfx_fix, vehicle_is_reversed){
    1:sw_tobu_deha10_6_end_6_gfx_fix_2;
    sw_tobu_deha10_6_end_6_gfx_fix_1;
}
switch(FEAT_TRAINS, SELF, sw_tobu_deha10_6_end_gfx_fix, position_in_vehid_chain_from_end){
    0:sw_tobu_deha10_6_end_6_gfx_fix;
    sw_tobu_deha10_6_end_gfx;
}


switch(FEAT_TRAINS, SELF, sw_tobu_deha10_livery_6,vehicle_type_id){
    mu_car_narrow:sw_tobu_deha10_6_end_gfx_fix;
    sw_tobu_deha10_6_front_gfx;
}




switch(FEAT_TRAINS, PARENT, sw_tobu_deha10_7_front_2_gfx, vehicle_is_reversed){
    1:tobu_deha10_7_front_mot_1_rev;
    tobu_deha10_7_front_mot;
}
switch(FEAT_TRAINS, PARENT, sw_tobu_deha10_7_front_3_gfx, vehicle_is_reversed){
    1:tobu_deha10_7_front_mot_rev;
    tobu_deha10_7_front_mot;
}
switch(FEAT_TRAINS, SELF, sw_tobu_deha10_7_front_1_gfx, num_vehs_in_consist){
    1:sw_tobu_deha10_7_front_2_gfx;
    sw_tobu_deha10_7_front_3_gfx;
}

switch(FEAT_TRAINS, PARENT, sw_tobu_deha10_7_front_7_gfx, vehicle_is_reversed){
    1:tobu_deha10_7_front;
    tobu_deha10_7_front_mot;
}
switch(FEAT_TRAINS, SELF, sw_tobu_deha10_7_front_gfx, num_vehs_in_consist%2){
    1:sw_tobu_deha10_7_front_1_gfx;
    sw_tobu_deha10_7_front_7_gfx;
}

switch(FEAT_TRAINS, PARENT, sw_tobu_deha10_7_mot_gfx, vehicle_is_reversed){
    1:tobu_deha10_7_mot_rev;
    tobu_deha10_7_mot;
}

switch(FEAT_TRAINS, SELF, sw_tobu_deha10_7_end_gfx_1, (position_in_vehid_chain+1)%2){
    1:tobu_deha10_7_wag;
    sw_tobu_deha10_7_mot_gfx;
}
switch(FEAT_TRAINS, SELF, sw_tobu_deha10_7_end_gfx_rev, position_in_vehid_chain_from_end%2){
    1:tobu_deha10_7_wag;
    sw_tobu_deha10_7_mot_gfx;
}
switch(FEAT_TRAINS, PARENT, sw_tobu_deha10_7_end_gfx, vehicle_is_reversed){
    1:sw_tobu_deha10_7_end_gfx_rev;
    sw_tobu_deha10_7_end_gfx_1;
}

switch(FEAT_TRAINS, SELF, sw_tobu_deha10_7_end_7_gfx_fix_1, (position_in_vehid_chain+1)%2){
    1:tobu_deha10_7_end;
    tobu_deha10_7_end_mot_rev;
}
switch(FEAT_TRAINS, SELF, sw_tobu_deha10_7_end_7_gfx_fix_2, (position_in_vehid_chain_from_end)%2){
    1:tobu_deha10_7_end;
    tobu_deha10_7_end_mot;
}
switch(FEAT_TRAINS, PARENT, sw_tobu_deha10_7_end_7_gfx_fix, vehicle_is_reversed){
    1:sw_tobu_deha10_7_end_7_gfx_fix_2;
    sw_tobu_deha10_7_end_7_gfx_fix_1;
}
switch(FEAT_TRAINS, SELF, sw_tobu_deha10_7_end_gfx_fix, position_in_vehid_chain_from_end){
    0:sw_tobu_deha10_7_end_7_gfx_fix;
    sw_tobu_deha10_7_end_gfx;
}


switch(FEAT_TRAINS, SELF, sw_tobu_deha10_livery_7,vehicle_type_id){
    mu_car_narrow:sw_tobu_deha10_7_end_gfx_fix;
    sw_tobu_deha10_7_front_gfx;
}




switch(FEAT_TRAINS, PARENT, sw_tobu_deha10_8_front_2_gfx, vehicle_is_reversed){
    1:tobu_deha10_8_front_mot_1_rev;
    tobu_deha10_8_front_mot;
}
switch(FEAT_TRAINS, PARENT, sw_tobu_deha10_8_front_3_gfx, vehicle_is_reversed){
    1:tobu_deha10_8_front_mot_rev;
    tobu_deha10_8_front_mot;
}
switch(FEAT_TRAINS, SELF, sw_tobu_deha10_8_front_1_gfx, num_vehs_in_consist){
    1:sw_tobu_deha10_8_front_2_gfx;
    sw_tobu_deha10_8_front_3_gfx;
}

switch(FEAT_TRAINS, PARENT, sw_tobu_deha10_8_front_8_gfx, vehicle_is_reversed){
    1:tobu_deha10_8_front;
    tobu_deha10_8_front_mot;
}
switch(FEAT_TRAINS, SELF, sw_tobu_deha10_8_front_gfx, num_vehs_in_consist%2){
    1:sw_tobu_deha10_8_front_1_gfx;
    sw_tobu_deha10_8_front_8_gfx;
}

switch(FEAT_TRAINS, PARENT, sw_tobu_deha10_8_mot_gfx, vehicle_is_reversed){
    1:tobu_deha10_8_mot_rev;
    tobu_deha10_8_mot;
}

switch(FEAT_TRAINS, SELF, sw_tobu_deha10_8_end_gfx_1, (position_in_vehid_chain+1)%2){
    1:tobu_deha10_8_wag;
    sw_tobu_deha10_8_mot_gfx;
}
switch(FEAT_TRAINS, SELF, sw_tobu_deha10_8_end_gfx_rev, position_in_vehid_chain_from_end%2){
    1:tobu_deha10_8_wag;
    sw_tobu_deha10_8_mot_gfx;
}
switch(FEAT_TRAINS, PARENT, sw_tobu_deha10_8_end_gfx, vehicle_is_reversed){
    1:sw_tobu_deha10_8_end_gfx_rev;
    sw_tobu_deha10_8_end_gfx_1;
}

switch(FEAT_TRAINS, SELF, sw_tobu_deha10_8_end_8_gfx_fix_1, (position_in_vehid_chain+1)%2){
    1:tobu_deha10_8_end;
    tobu_deha10_8_end_mot_rev;
}
switch(FEAT_TRAINS, SELF, sw_tobu_deha10_8_end_8_gfx_fix_2, (position_in_vehid_chain_from_end)%2){
    1:tobu_deha10_8_end;
    tobu_deha10_8_end_mot;
}
switch(FEAT_TRAINS, PARENT, sw_tobu_deha10_8_end_8_gfx_fix, vehicle_is_reversed){
    1:sw_tobu_deha10_8_end_8_gfx_fix_2;
    sw_tobu_deha10_8_end_8_gfx_fix_1;
}
switch(FEAT_TRAINS, SELF, sw_tobu_deha10_8_end_gfx_fix, position_in_vehid_chain_from_end){
    0:sw_tobu_deha10_8_end_8_gfx_fix;
    sw_tobu_deha10_8_end_gfx;
}


switch(FEAT_TRAINS, SELF, sw_tobu_deha10_livery_8,vehicle_type_id){
    mu_car_narrow:sw_tobu_deha10_8_end_gfx_fix;
    sw_tobu_deha10_8_front_gfx;
}




random_switch(FEAT_TRAINS, PARENT, sw_tobu_deha10_livery_0_1){
    1:sw_tobu_deha10_livery_1;
    2:sw_tobu_deha10_livery_2;
}
random_switch(FEAT_TRAINS, PARENT, sw_tobu_deha10_livery_0_2){
    1:sw_tobu_deha10_livery_5;
    1:sw_tobu_deha10_livery_7;
}


switch(FEAT_TRAINS, SELF, sw_tobu_deha10_livery_0, build_year){
    1934..1936:sw_tobu_deha10_livery_1;
    1937..1950:sw_tobu_deha10_livery_0_1;
    1951..1965:sw_tobu_deha10_livery_5;
    sw_tobu_deha10_livery_0_2;
}

switch(FEAT_TRAINS, PARENT, sw_tobu_deha10_lv, cargo_subtype){
    0:sw_tobu_deha10_livery_0;
    1:sw_tobu_deha10_livery_1;
    2:sw_tobu_deha10_livery_2;
    3:sw_tobu_deha10_livery_3;
    4:sw_tobu_deha10_livery_4;
    5:sw_tobu_deha10_livery_5;
    6:sw_tobu_deha10_livery_6;
    7:sw_tobu_deha10_livery_7;
    8:sw_tobu_deha10_livery_8;
}

switch(FEAT_TRAINS, SELF, sw_tobu_deha10_lv_1_desc, cargo_subtype){
    0:string(LV_RANDOM);
    1:string(LV_tobu_deha10_1);
}

switch(FEAT_TRAINS, SELF, sw_tobu_deha10_lv_2_desc, cargo_subtype){
    0:string(LV_RANDOM);
    1:string(LV_tobu_deha10_1);
    2:string(LV_tobu_deha10_2);
}

switch(FEAT_TRAINS, SELF, sw_tobu_deha10_lv_3_desc, cargo_subtype){
    0:string(LV_RANDOM);
    1:string(LV_tobu_deha10_1);
    2:string(LV_tobu_deha10_2);
    3:string(LV_tobu_deha10_3);
    4:string(LV_tobu_deha10_4);
    5:string(LV_tobu_deha10_5);
    6:string(LV_tobu_deha10_6);
}

switch(FEAT_TRAINS, SELF, sw_tobu_deha10_lv_4_desc, cargo_subtype){
    0:string(LV_RANDOM);
    1:string(LV_tobu_deha10_1);
    2:string(LV_tobu_deha10_2);
    3:string(LV_tobu_deha10_3);
    4:string(LV_tobu_deha10_4);
    5:string(LV_tobu_deha10_5);
    6:string(LV_tobu_deha10_6);
    7:string(LV_tobu_deha10_7);
    8:string(LV_tobu_deha10_8);
}
switch(FEAT_TRAINS, SELF, sw_tobu_deha10_lv_desc, current_year){
    1934..1936:sw_tobu_deha10_lv_1_desc;
    1937..1948:sw_tobu_deha10_lv_2_desc;
    1949..1965:sw_tobu_deha10_lv_3_desc;
    sw_tobu_deha10_lv_4_desc;
}



    switch(FEAT_TRAINS, SELF, sw_tobu_deha10_power,position_in_vehid_chain%2){
        1:return 0;
        return 440;
    }

switch(FEAT_TRAINS, SELF, sw_tobu_deha10_speed_fix_0, build_year){
    1930..1948:return 85;
    return 95;
}

switch(FEAT_TRAINS, SELF, sw_tobu_deha10_speed_fix, cargo_subtype){
    0:sw_tobu_deha10_speed_fix_0;
    1..2:return 85;
    return 95;
}

switch(FEAT_TRAINS, SELF, sw_tobu_deha10_loading_fix, cargo_subtype){
    0..7:param_loading_2D;
    param_loading_3D;
}

switch(FEAT_TRAINS, SELF, tobu_deha10_attach_vehid, vehicle_type_id) {
  mu_car: return string(STR_ATTACH_1067_ERROR);
  mu_car_metro: return string(STR_ATTACH_1067_ERROR);
  return CB_RESULT_ATTACH_ALLOW;
}

item(FEAT_TRAINS, tobu_deha10,2066) {
    property {
        cargo_capacity: 130;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        climates_available: param_disable_tobu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        name: string(STR_TRAIN_NAME, string(STR_NAME_TOBU), string(STR_NAME_DEHA, "10"), string(STR_NAME_TYPE));
        introduction_date: date(1934, 1, 1);
        vehicle_life: 41;
        model_life: 31;
        reliability_decay: 10;

        cost_factor: 13;
        running_cost_factor: 43;
        speed: 90 km/h;
        track_type: TR_1067_DC;
        power: 440 kW;
        weight: 41 ton;
        loading_speed: param_loading_2D;
    }
 graphics {
        loading_speed:sw_tobu_deha10_loading_fix;
        speed: sw_tobu_deha10_speed_fix;
        default: sw_tobu_deha10_lv;
        purchase: tobu_deha10_purchase;
        can_attach_wagon: tobu_deha10_attach_vehid;
        cargo_subtype_text:sw_tobu_deha10_lv_desc;
        additional_text:
  string(STR_TRAIN_DESC,
        string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
        string(STR_LOAD_SPEED,
        string(STR_DOORS_REFIT, 2, 3),),
        string(STR_FORMATION, string(STR_NUM_CARS_RANGE, 1,4)),
        string(STR_USAGE,
  string(STR_CONCAT_2_OR, string(STR_COMMUTER), string(STR_EXPRESS))),
  string(STR_OPERATOR, string(STR_TOBU)));
        cargo_capacity: 138*param_capacity_mod/3;
    }
    livery_override(mu_car_narrow){
        loading_speed: sw_tobu_deha10_loading_fix;
        cargo_capacity: 138*param_capacity_mod/3;
        default: sw_tobu_deha10_lv;
        power: sw_tobu_deha10_power()*1342/1000;
        weight: 41;
      }
}
# 47 "src/_private.pnml" 2
# 1 "src/private/Kanto/tobu/tobu7300.pnml" 1

  spriteset(tobu7300_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu7300/tobu7300_1.png"){ tmpl_purchase_1c(0, 50) }
  spriteset(tobu7300_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu7300/tobu7300_1.png"){ tmpl_purchase_2c(0, 125) }
  switch(FEAT_TRAINS, SELF, tobu7300_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_tobu; 1: tobu7300_purchase_c1; 2: tobu7300_purchase_c2;}

spriteset(tobu7300_1_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu7300/tobu7300_1.png"){ tmpl_std(0, 0) }
spriteset(tobu7300_1_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu7300/tobu7300_1.png"){ tmpl_std_rev(0, 25) }
spriteset(tobu7300_1_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu7300/tobu7300_1.png"){ tmpl_std(0, 25) }
spriteset(tobu7300_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu7300/tobu7300_1.png"){ tmpl_std(0, 50) }
spriteset(tobu7300_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu7300/tobu7300_1.png"){ tmpl_std_rev(0, 75) }
spriteset(tobu7300_1_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu7300/tobu7300_1.png"){ tmpl_std(0, 75) }
spriteset(tobu7300_1_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu7300/tobu7300_1.png"){ tmpl_std(0, 100) }
spriteset(tobu7300_1_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu7300/tobu7300_1.png"){ tmpl_std_rev(0, 100) }
spriteset(tobu7300_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu7300/tobu7300_1.png"){ tmpl_symm(0, 125) }



spriteset(tobu7300_2_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu7300/tobu7300_2.png"){ tmpl_std(0, 0) }
spriteset(tobu7300_2_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu7300/tobu7300_2.png"){ tmpl_std_rev(0, 25) }
spriteset(tobu7300_2_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu7300/tobu7300_2.png"){ tmpl_std(0, 25) }
spriteset(tobu7300_2_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu7300/tobu7300_2.png"){ tmpl_std(0, 50) }
spriteset(tobu7300_2_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu7300/tobu7300_2.png"){ tmpl_std_rev(0, 75) }
spriteset(tobu7300_2_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu7300/tobu7300_2.png"){ tmpl_std(0, 75) }
spriteset(tobu7300_2_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu7300/tobu7300_2.png"){ tmpl_std(0, 100) }
spriteset(tobu7300_2_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu7300/tobu7300_2.png"){ tmpl_std_rev(0, 100) }
spriteset(tobu7300_2_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu7300/tobu7300_2.png"){ tmpl_symm(0, 125) }



spriteset(tobu7300_3_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu7300/tobu7300_3.png"){ tmpl_std(0, 0) }
spriteset(tobu7300_3_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu7300/tobu7300_3.png"){ tmpl_std_rev(0, 25) }
spriteset(tobu7300_3_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu7300/tobu7300_3.png"){ tmpl_std(0, 25) }
spriteset(tobu7300_3_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu7300/tobu7300_3.png"){ tmpl_std(0, 50) }
spriteset(tobu7300_3_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu7300/tobu7300_3.png"){ tmpl_std_rev(0, 75) }
spriteset(tobu7300_3_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu7300/tobu7300_3.png"){ tmpl_std(0, 75) }
spriteset(tobu7300_3_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu7300/tobu7300_3.png"){ tmpl_std(0, 100) }
spriteset(tobu7300_3_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu7300/tobu7300_3.png"){ tmpl_std_rev(0, 100) }
spriteset(tobu7300_3_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu7300/tobu7300_3.png"){ tmpl_symm(0, 125) }




switch(FEAT_TRAINS, PARENT, sw_tobu7300_1_front_gfx, vehicle_is_reversed){
    1:tobu7300_1_front;
    tobu7300_1_front_mot;
}

switch(FEAT_TRAINS, PARENT, sw_tobu7300_1_end_gfx, vehicle_is_reversed){
    1:tobu7300_1_end_mot;
    tobu7300_1_end;
}

switch(FEAT_TRAINS, PARENT, sw_tobu7300_1_end_f_gfx, vehicle_is_reversed){
    1:tobu7300_1_end_rev;
    tobu7300_1_end_mot_rev;
}
switch(FEAT_TRAINS, PARENT, sw_tobu7300_1_end_f_gfx_rev, vehicle_is_reversed){
    1:tobu7300_1_end_mot;
    tobu7300_1_end;
}



switch(FEAT_TRAINS, SELF, sw_tobu7300_1_panto_placer,position_in_vehid_chain %2){
    1: tobu7300_1_mot;
    tobu7300_1_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu7300_1_panto_placer_rev,1-position_in_vehid_chain_from_end %2){
    1: tobu7300_1_mot_rev;
    tobu7300_1_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu7300_1_panto_placer_main,vehicle_is_reversed){
    1: sw_tobu7300_1_panto_placer_rev;
    sw_tobu7300_1_panto_placer;
}


switch(FEAT_TRAINS, SELF, sw_tobu7300_1_fake_placer,position_in_vehid_chain +1){
    3: sw_tobu7300_1_end_f_gfx_rev;
    4: sw_tobu7300_1_end_f_gfx;
sw_tobu7300_1_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu7300_1_fake_placer_rev,position_in_vehid_chain_from_end ){
    3: sw_tobu7300_1_end_f_gfx;
    4: sw_tobu7300_1_end_f_gfx_rev;
sw_tobu7300_1_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tobu7300_1_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tobu7300_1_fake_placer_rev;
    sw_tobu7300_1_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tobu7300_1_fake_placer_main,num_vehs_in_vehid_chain>5 - 1){
    1: sw_tobu7300_1_fake_placer_gfx;
sw_tobu7300_1_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tobu7300_1_end_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tobu7300_1_end_gfx;
    default: sw_tobu7300_1_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu7300_1_front_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tobu7300_1_front_gfx;
    default: sw_tobu7300_1_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu7300_livery_1,vehicle_type_id){
    mu_car_narrow:sw_tobu7300_1_end_gfx_main;
    sw_tobu7300_1_front_gfx_main;
}




switch(FEAT_TRAINS, PARENT, sw_tobu7300_2_front_gfx, vehicle_is_reversed){
    1:tobu7300_2_front;
    tobu7300_2_front_mot;
}

switch(FEAT_TRAINS, PARENT, sw_tobu7300_2_end_gfx, vehicle_is_reversed){
    1:tobu7300_2_end_mot;
    tobu7300_2_end;
}

switch(FEAT_TRAINS, PARENT, sw_tobu7300_2_end_f_gfx, vehicle_is_reversed){
    1:tobu7300_2_end_rev;
    tobu7300_2_end_mot_rev;
}
switch(FEAT_TRAINS, PARENT, sw_tobu7300_2_end_f_gfx_rev, vehicle_is_reversed){
    1:tobu7300_2_end_mot;
    tobu7300_2_end;
}



switch(FEAT_TRAINS, SELF, sw_tobu7300_2_panto_placer,position_in_vehid_chain %2){
    1: tobu7300_2_mot;
    tobu7300_2_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu7300_2_panto_placer_rev,1-position_in_vehid_chain_from_end %2){
    1: tobu7300_2_mot_rev;
    tobu7300_2_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu7300_2_panto_placer_main,vehicle_is_reversed){
    1: sw_tobu7300_2_panto_placer_rev;
    sw_tobu7300_2_panto_placer;
}


switch(FEAT_TRAINS, SELF, sw_tobu7300_2_fake_placer,position_in_vehid_chain +1){
    3: sw_tobu7300_2_end_f_gfx_rev;
    4: sw_tobu7300_2_end_f_gfx;
sw_tobu7300_2_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu7300_2_fake_placer_rev,position_in_vehid_chain_from_end ){
    3: sw_tobu7300_2_end_f_gfx;
    4: sw_tobu7300_2_end_f_gfx_rev;
sw_tobu7300_2_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tobu7300_2_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tobu7300_2_fake_placer_rev;
    sw_tobu7300_2_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tobu7300_2_fake_placer_main,num_vehs_in_vehid_chain>5 - 1){
    1: sw_tobu7300_2_fake_placer_gfx;
sw_tobu7300_2_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tobu7300_2_end_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tobu7300_2_end_gfx;
    default: sw_tobu7300_2_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu7300_2_front_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tobu7300_2_front_gfx;
    default: sw_tobu7300_2_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu7300_livery_2,vehicle_type_id){
    mu_car_narrow:sw_tobu7300_2_end_gfx_main;
    sw_tobu7300_2_front_gfx_main;
}




switch(FEAT_TRAINS, PARENT, sw_tobu7300_3_front_gfx, vehicle_is_reversed){
    1:tobu7300_3_front;
    tobu7300_3_front_mot;
}

switch(FEAT_TRAINS, PARENT, sw_tobu7300_3_end_gfx, vehicle_is_reversed){
    1:tobu7300_3_end_mot;
    tobu7300_3_end;
}

switch(FEAT_TRAINS, PARENT, sw_tobu7300_3_end_f_gfx, vehicle_is_reversed){
    1:tobu7300_3_end_rev;
    tobu7300_3_end_mot_rev;
}
switch(FEAT_TRAINS, PARENT, sw_tobu7300_3_end_f_gfx_rev, vehicle_is_reversed){
    1:tobu7300_3_end_mot;
    tobu7300_3_end;
}



switch(FEAT_TRAINS, SELF, sw_tobu7300_3_panto_placer,position_in_vehid_chain %2){
    1: tobu7300_3_mot;
    tobu7300_3_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu7300_3_panto_placer_rev,1-position_in_vehid_chain_from_end %2){
    1: tobu7300_3_mot_rev;
    tobu7300_3_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu7300_3_panto_placer_main,vehicle_is_reversed){
    1: sw_tobu7300_3_panto_placer_rev;
    sw_tobu7300_3_panto_placer;
}


switch(FEAT_TRAINS, SELF, sw_tobu7300_3_fake_placer,position_in_vehid_chain +1){
    3: sw_tobu7300_3_end_f_gfx_rev;
    4: sw_tobu7300_3_end_f_gfx;
sw_tobu7300_3_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu7300_3_fake_placer_rev,position_in_vehid_chain_from_end ){
    3: sw_tobu7300_3_end_f_gfx;
    4: sw_tobu7300_3_end_f_gfx_rev;
sw_tobu7300_3_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tobu7300_3_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tobu7300_3_fake_placer_rev;
    sw_tobu7300_3_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tobu7300_3_fake_placer_main,num_vehs_in_vehid_chain>5 - 1){
    1: sw_tobu7300_3_fake_placer_gfx;
sw_tobu7300_3_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tobu7300_3_end_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tobu7300_3_end_gfx;
    default: sw_tobu7300_3_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu7300_3_front_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tobu7300_3_front_gfx;
    default: sw_tobu7300_3_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu7300_livery_3,vehicle_type_id){
    mu_car_narrow:sw_tobu7300_3_end_gfx_main;
    sw_tobu7300_3_front_gfx_main;
}




switch(FEAT_TRAINS, SELF, sw_tobu7300_livery_0, build_year){
    0..1965:sw_tobu7300_livery_1;
    sw_tobu7300_livery_3;
}

switch(FEAT_TRAINS, PARENT, sw_tobu7300_lv, cargo_subtype){
    0:sw_tobu7300_livery_0;
    1:sw_tobu7300_livery_1;
    2:sw_tobu7300_livery_2;
    3:sw_tobu7300_livery_3;
}
switch(FEAT_TRAINS, SELF, sw_tobu7300_lv_1_desc, cargo_subtype){
    0:string(LV_RANDOM);
    1:string(LV_tobu7300_1);
}

switch(FEAT_TRAINS, SELF, sw_tobu7300_lv_2_desc, cargo_subtype){
    0:string(LV_RANDOM);
    1:string(LV_tobu7300_1);
    2:string(LV_tobu7300_2);
}

switch(FEAT_TRAINS, SELF, sw_tobu7300_lv_3_desc, cargo_subtype){
    0:string(LV_RANDOM);
    1:string(LV_tobu7300_1);
    2:string(LV_tobu7300_2);
    3:string(LV_tobu7300_3);
}
switch(FEAT_TRAINS, SELF, sw_tobu7300_lv_desc, current_year){
    0..1952:sw_tobu7300_lv_1_desc;
    1953..1965:sw_tobu7300_lv_2_desc;
    sw_tobu7300_lv_3_desc;
}


switch(FEAT_TRAINS, SELF, tobu7300_power, position_in_vehid_chain %2) {
  1: return 512*1342/1000;
  return 0;
}



switch(FEAT_TRAINS, SELF, tobu7300_attach_vehid, vehicle_type_id) {
  mu_car: return string(STR_ATTACH_1067_ERROR);
  mu_car_metro: return string(STR_ATTACH_1067_ERROR);
  return CB_RESULT_ATTACH_ALLOW;
}

item(FEAT_TRAINS, tobu7300,2067) {
    property {
        cargo_capacity: 130;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        climates_available: param_disable_tobu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        name: string(STR_TRAIN_NAME, string(STR_NAME_TOBU), "7300/7800", string(STR_NAME_SERIES),);
        introduction_date: date(1947, 1, 1);
        vehicle_life: 38;
        model_life: 33;
        reliability_decay: 10;

        cost_factor: 15;
        running_cost_factor: 45;
        speed: 100 km/h;
        track_type: TR_1067_DC;
        power: 512 kW;
        weight: 41 ton;
        loading_speed: param_loading_4D;
    }
 graphics {
        start_stop: sw_stop_start_2;
        default: sw_tobu7300_lv;
        purchase: tobu7300_purchase;
        can_attach_wagon: tobu7300_attach_vehid;
        cargo_subtype_text:sw_tobu7300_lv_desc;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_2, 2,4)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_TOBU)));
        cargo_capacity: 148*param_capacity_mod/3;
    }
    livery_override(mu_car_narrow){
        loading_speed: param_loading_4D;
        cargo_capacity: 159*param_capacity_mod/3;
        default: sw_tobu7300_lv;
        power: tobu7300_power;
        weight: 41;
      }
}
# 48 "src/_private.pnml" 2
# 1 "src/private/Kanto/tobu/tobu2000.pnml" 1

  spriteset(tobu2000_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu2000/tobu2000.png"){ tmpl_purchase_1c(0, 50) }
  spriteset(tobu2000_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu2000/tobu2000.png"){ tmpl_purchase_2c(0, 125) }
  switch(FEAT_TRAINS, SELF, tobu2000_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_tobu; 1: tobu2000_purchase_c1; 2: tobu2000_purchase_c2;}

spriteset(tobu2000_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu2000/tobu2000.png"){ tmpl_std(0, 0) }
spriteset(tobu2000_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu2000/tobu2000.png"){ tmpl_std_rev(0, 25) }
spriteset(tobu2000_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu2000/tobu2000.png"){ tmpl_std(0, 25) }
spriteset(tobu2000_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu2000/tobu2000.png"){ tmpl_std(0, 50) }
spriteset(tobu2000_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu2000/tobu2000.png"){ tmpl_std_rev(0, 75) }
spriteset(tobu2000_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu2000/tobu2000.png"){ tmpl_std(0, 75) }
spriteset(tobu2000_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu2000/tobu2000.png"){ tmpl_std(0, 100) }
spriteset(tobu2000_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu2000/tobu2000.png"){ tmpl_std_rev(0, 100) }
spriteset(tobu2000_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu2000/tobu2000.png"){ tmpl_symm(0, 125) }



spriteset(tobu2080_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu2000/tobu2080.png"){ tmpl_std(0, 0) }
spriteset(tobu2080_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu2000/tobu2080.png"){ tmpl_std_rev(0, 25) }
spriteset(tobu2080_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu2000/tobu2080.png"){ tmpl_std(0, 25) }
spriteset(tobu2080_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu2000/tobu2080.png"){ tmpl_std(0, 50) }
spriteset(tobu2080_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu2000/tobu2080.png"){ tmpl_std_rev(0, 75) }
spriteset(tobu2080_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu2000/tobu2080.png"){ tmpl_std(0, 75) }
spriteset(tobu2080_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu2000/tobu2080.png"){ tmpl_std(0, 100) }
spriteset(tobu2080_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu2000/tobu2080.png"){ tmpl_std_rev(0, 100) }
spriteset(tobu2080_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu2000/tobu2080.png"){ tmpl_symm(0, 125) }




switch(FEAT_TRAINS, PARENT, sw_tobu2000_front_gfx, vehicle_is_reversed){
    1:tobu2000_front;
    tobu2000_front_mot;
}

switch(FEAT_TRAINS, PARENT, sw_tobu2000_end_gfx, vehicle_is_reversed){
    1:tobu2000_end_mot;
    tobu2000_end;
}

switch(FEAT_TRAINS, PARENT, sw_tobu2000_end_f_gfx, vehicle_is_reversed){
    1:tobu2000_end_rev;
    tobu2000_end_mot_rev;
}
switch(FEAT_TRAINS, PARENT, sw_tobu2000_end_f_gfx_rev, vehicle_is_reversed){
    1:tobu2000_end_mot;
    tobu2000_end;
}



switch(FEAT_TRAINS, SELF, sw_tobu2000_panto_placer,position_in_vehid_chain %2){
    1: tobu2000_mot;
    tobu2000_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu2000_panto_placer_rev,1-position_in_vehid_chain_from_end %2){
    1: tobu2000_mot_rev;
    tobu2000_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu2000_panto_placer_main,vehicle_is_reversed){
    1: sw_tobu2000_panto_placer_rev;
    sw_tobu2000_panto_placer;
}


switch(FEAT_TRAINS, SELF, sw_tobu2000_fake_placer,position_in_vehid_chain +1){
    5: sw_tobu2000_end_f_gfx_rev;
    6: sw_tobu2000_end_f_gfx;
sw_tobu2000_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu2000_fake_placer_rev,position_in_vehid_chain_from_end ){
    5: sw_tobu2000_end_f_gfx;
    6: sw_tobu2000_end_f_gfx_rev;
sw_tobu2000_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tobu2000_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tobu2000_fake_placer_rev;
    sw_tobu2000_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tobu2000_fake_placer_main,num_vehs_in_vehid_chain>9 - 1){
    1: sw_tobu2000_fake_placer_gfx;
sw_tobu2000_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tobu2000_end_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tobu2000_end_gfx;
    default: sw_tobu2000_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu2000_front_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tobu2000_front_gfx;
    default: sw_tobu2000_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu2000_livery_1,vehicle_type_id){
    mu_car_narrow:sw_tobu2000_end_gfx_main;
    sw_tobu2000_front_gfx_main;
}




switch(FEAT_TRAINS, PARENT, sw_tobu2080_front_gfx, vehicle_is_reversed){
    1:tobu2080_front;
    tobu2080_front_mot;
}

switch(FEAT_TRAINS, PARENT, sw_tobu2080_end_gfx, vehicle_is_reversed){
    1:tobu2080_end_mot;
    tobu2080_end;
}

switch(FEAT_TRAINS, PARENT, sw_tobu2080_end_f_gfx, vehicle_is_reversed){
    1:tobu2080_end_rev;
    tobu2080_end_mot_rev;
}
switch(FEAT_TRAINS, PARENT, sw_tobu2080_end_f_gfx_rev, vehicle_is_reversed){
    1:tobu2080_end_mot;
    tobu2080_end;
}



switch(FEAT_TRAINS, SELF, sw_tobu2080_panto_placer,position_in_vehid_chain %2){
    1: tobu2080_mot;
    tobu2080_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu2080_panto_placer_rev,1-position_in_vehid_chain_from_end %2){
    1: tobu2080_mot_rev;
    tobu2080_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu2080_panto_placer_main,vehicle_is_reversed){
    1: sw_tobu2080_panto_placer_rev;
    sw_tobu2080_panto_placer;
}


switch(FEAT_TRAINS, SELF, sw_tobu2080_fake_placer,position_in_vehid_chain +1){
    5: sw_tobu2080_end_f_gfx_rev;
    6: sw_tobu2080_end_f_gfx;
sw_tobu2080_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu2080_fake_placer_rev,position_in_vehid_chain_from_end ){
    5: sw_tobu2080_end_f_gfx;
    6: sw_tobu2080_end_f_gfx_rev;
sw_tobu2080_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tobu2080_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tobu2080_fake_placer_rev;
    sw_tobu2080_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tobu2080_fake_placer_main,num_vehs_in_vehid_chain>9 - 1){
    1: sw_tobu2080_fake_placer_gfx;
sw_tobu2080_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tobu2080_end_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tobu2080_end_gfx;
    default: sw_tobu2080_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu2080_front_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tobu2080_front_gfx;
    default: sw_tobu2080_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu2080_livery_1,vehicle_type_id){
    mu_car_narrow:sw_tobu2080_end_gfx_main;
    sw_tobu2080_front_gfx_main;
}



switch(FEAT_TRAINS, PARENT, sw_tobu2000_livery_0, current_year){
    0..1988:sw_tobu2000_livery_1;
    sw_tobu2080_livery_1;
}

switch(FEAT_TRAINS, PARENT, sw_tobu2000_lv, cargo_subtype){
    0:sw_tobu2000_livery_0;
    1:sw_tobu2000_livery_1;
    2:sw_tobu2080_livery_1;
}

switch(FEAT_TRAINS, SELF, sw_tobu2000_lv_1_desc, cargo_subtype){
    0:string(LV_RANDOM);
    1:string(LV_tobu2000_1);
}

switch(FEAT_TRAINS, SELF, sw_tobu2000_lv_2_desc, cargo_subtype){
    0:string(LV_RANDOM);
    1:string(LV_tobu2000_1);
    2:string(LV_tobu2080_1);
}

switch(FEAT_TRAINS, SELF, sw_tobu2000_lv_desc, current_year){
    0..1988:sw_tobu2000_lv_1_desc;
    sw_tobu2000_lv_2_desc;
}



switch(FEAT_TRAINS, SELF, sw_tobu2000_capacity,position_in_vehid_chain_from_end){
    0: 140;
    default: 156;
}
switch(FEAT_TRAINS, SELF, sw_tobu2000_capacity_1,position_in_vehid_chain){
    0: 140;
    default: sw_tobu2000_capacity;
}
switch(FEAT_TRAINS, SELF, sw_tobu2000_capacity_main,vehicle_type_id){
    mu_car_narrow:sw_tobu2000_capacity;
    sw_tobu2000_capacity_1;
}


switch(FEAT_TRAINS, SELF, tobu2000_attach_vehid, vehicle_type_id) {
  mu_car: return string(STR_ATTACH_1067_ERROR);
  mu_car_metro: return string(STR_ATTACH_1067_ERROR);
  return CB_RESULT_ATTACH_ALLOW;
}

item(FEAT_TRAINS, tobu2000,2068) {
    property {
        cargo_capacity: 130;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        climates_available: param_disable_tobu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        name: string(STR_TRAIN_NAME, string(STR_NAME_TOBU), "2000/2080", string(STR_NAME_SERIES),);
        introduction_date: date(1961, 1, 1);
        vehicle_life: 35;
        model_life: 30;
        reliability_decay: 10;

        cost_factor: 17;
        running_cost_factor: 47;
        speed: 110 km/h;
        track_type: TR_1067_DC;
        power: 300 kW;
        weight: 32 ton;
        loading_speed: param_loading_3D;
    }
 graphics {
        start_stop: sw_stop_start_3;
        default: sw_tobu2000_lv;
        purchase: tobu2000_purchase;
        can_attach_wagon: tobu2000_attach_vehid;
        cargo_subtype_text:sw_tobu2000_lv_desc;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_3, 4,6,8)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_TOBU)));
        cargo_capacity: sw_tobu2000_capacity_main()*param_capacity_mod/3;
    }
    livery_override(mu_car_narrow){
        loading_speed: param_loading_3D;
        cargo_capacity: sw_tobu2000_capacity_main()*param_capacity_mod/3;
        default: sw_tobu2000_lv;
        power: 300*1342/1000;
        weight: 32;
      }
}
# 49 "src/_private.pnml" 2
# 1 "src/private/Kanto/tobu/tobu8000.pnml" 1

  spriteset(tobu8000_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_1.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(tobu8000_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_1.png"){ tmpl_purchase_2c(0, 100) }
  switch(FEAT_TRAINS, SELF, tobu8000_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_tobu; 1: tobu8000_purchase_c1; 2: tobu8000_purchase_c2;}

spriteset(tobu8000_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_1.png"){ tmpl_std(0, 0) }
spriteset(tobu8000_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_1.png"){ tmpl_std_rev(0, 25) }
spriteset(tobu8000_1_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_1.png"){ tmpl_std(0, 25) }
spriteset(tobu8000_1_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_1.png"){ tmpl_std(0, 50) }
spriteset(tobu8000_1_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_1.png"){ tmpl_std_rev(0, 75) }
spriteset(tobu8000_1_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_1.png"){ tmpl_std(0, 75) }
spriteset(tobu8000_1_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_1.png"){ tmpl_std(0, 100) }
spriteset(tobu8000_1_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_1.png"){ tmpl_std_rev(0, 100) }
spriteset(tobu8000_1_mot_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_1.png"){ tmpl_symm(0, 125) }
spriteset(tobu8000_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_1.png"){ tmpl_symm(0, 150) }



spriteset(tobu8000_1_ac_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_1_ac.png"){ tmpl_std(0, 0) }
spriteset(tobu8000_1_ac_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_1_ac.png"){ tmpl_std_rev(0, 25) }
spriteset(tobu8000_1_ac_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_1_ac.png"){ tmpl_std(0, 25) }
spriteset(tobu8000_1_ac_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_1_ac.png"){ tmpl_std(0, 50) }
spriteset(tobu8000_1_ac_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_1_ac.png"){ tmpl_std_rev(0, 75) }
spriteset(tobu8000_1_ac_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_1_ac.png"){ tmpl_std(0, 75) }
spriteset(tobu8000_1_ac_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_1_ac.png"){ tmpl_std(0, 100) }
spriteset(tobu8000_1_ac_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_1_ac.png"){ tmpl_std_rev(0, 100) }
spriteset(tobu8000_1_ac_mot_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_1_ac.png"){ tmpl_symm(0, 125) }
spriteset(tobu8000_1_ac_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_1_ac.png"){ tmpl_symm(0, 150) }



spriteset(tobu8000_2_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_2.png"){ tmpl_std(0, 0) }
spriteset(tobu8000_2_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_2.png"){ tmpl_std_rev(0, 25) }
spriteset(tobu8000_2_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_2.png"){ tmpl_std(0, 25) }
spriteset(tobu8000_2_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_2.png"){ tmpl_std(0, 50) }
spriteset(tobu8000_2_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_2.png"){ tmpl_std_rev(0, 75) }
spriteset(tobu8000_2_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_2.png"){ tmpl_std(0, 75) }
spriteset(tobu8000_2_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_2.png"){ tmpl_std(0, 100) }
spriteset(tobu8000_2_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_2.png"){ tmpl_std_rev(0, 100) }
spriteset(tobu8000_2_mot_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_2.png"){ tmpl_symm(0, 125) }
spriteset(tobu8000_2_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_2.png"){ tmpl_symm(0, 150) }



spriteset(tobu8000_2_ac_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_2_ac.png"){ tmpl_std(0, 0) }
spriteset(tobu8000_2_ac_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_2_ac.png"){ tmpl_std_rev(0, 25) }
spriteset(tobu8000_2_ac_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_2_ac.png"){ tmpl_std(0, 25) }
spriteset(tobu8000_2_ac_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_2_ac.png"){ tmpl_std(0, 50) }
spriteset(tobu8000_2_ac_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_2_ac.png"){ tmpl_std_rev(0, 75) }
spriteset(tobu8000_2_ac_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_2_ac.png"){ tmpl_std(0, 75) }
spriteset(tobu8000_2_ac_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_2_ac.png"){ tmpl_std(0, 100) }
spriteset(tobu8000_2_ac_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_2_ac.png"){ tmpl_std_rev(0, 100) }
spriteset(tobu8000_2_ac_mot_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_2_ac.png"){ tmpl_symm(0, 125) }
spriteset(tobu8000_2_ac_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_2_ac.png"){ tmpl_symm(0, 150) }



    spriteset(tobu8000_3_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_3.png"){ tmpl_std(0, 0) }
    spriteset(tobu8000_3_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_3.png"){ tmpl_std_rev(0, 25) }
    spriteset(tobu8000_3_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_3.png"){ tmpl_std(0, 25) }
    spriteset(tobu8000_3_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_3.png"){ tmpl_std(0, 50) }
    spriteset(tobu8000_3_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_3.png"){ tmpl_std_rev(0, 75) }
    spriteset(tobu8000_3_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_3.png"){ tmpl_std(0, 75) }



    spriteset(tobu8000_4_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_4.png"){ tmpl_std(0, 0) }
    spriteset(tobu8000_4_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_4.png"){ tmpl_std_rev(0, 25) }
    spriteset(tobu8000_4_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_4.png"){ tmpl_std(0, 25) }
    spriteset(tobu8000_4_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_4.png"){ tmpl_std(0, 50) }
    spriteset(tobu8000_4_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_4.png"){ tmpl_std_rev(0, 75) }
    spriteset(tobu8000_4_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_4.png"){ tmpl_std(0, 75) }
    spriteset(tobu8000_4_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_4.png"){ tmpl_std(0, 100) }
    spriteset(tobu8000_4_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_4.png"){ tmpl_std_rev(0, 100) }
    spriteset(tobu8000_4_mot_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_4.png"){ tmpl_symm(0, 125) }
    spriteset(tobu8000_4_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_4.png"){ tmpl_symm(0, 150) }



    spriteset(tobu8000_5_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_5.png"){ tmpl_std(0, 0) }
    spriteset(tobu8000_5_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_5.png"){ tmpl_std_rev(0, 25) }
    spriteset(tobu8000_5_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_5.png"){ tmpl_std(0, 25) }
    spriteset(tobu8000_5_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_5.png"){ tmpl_std(0, 50) }
    spriteset(tobu8000_5_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_5.png"){ tmpl_std_rev(0, 75) }
    spriteset(tobu8000_5_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_5.png"){ tmpl_std(0, 75) }
    spriteset(tobu8000_5_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_5.png"){ tmpl_std(0, 100) }
    spriteset(tobu8000_5_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_5.png"){ tmpl_std_rev(0, 100) }
    spriteset(tobu8000_5_mot_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_5.png"){ tmpl_symm(0, 125) }
    spriteset(tobu8000_5_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_5.png"){ tmpl_symm(0, 150) }




    spriteset(tobu8000_6_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_6.png"){ tmpl_std(0, 0) }
    spriteset(tobu8000_6_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_6.png"){ tmpl_std_rev(0, 25) }
    spriteset(tobu8000_6_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_6.png"){ tmpl_std(0, 25) }
    spriteset(tobu8000_6_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_6.png"){ tmpl_std(0, 50) }
    spriteset(tobu8000_6_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_6.png"){ tmpl_std_rev(0, 75) }
    spriteset(tobu8000_6_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_6.png"){ tmpl_std(0, 75) }



    spriteset(tobu8000_7_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_7.png"){ tmpl_std(0, 0) }
    spriteset(tobu8000_7_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_7.png"){ tmpl_std_rev(0, 25) }
    spriteset(tobu8000_7_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_7.png"){ tmpl_std(0, 25) }
    spriteset(tobu8000_7_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_7.png"){ tmpl_std(0, 50) }
    spriteset(tobu8000_7_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_7.png"){ tmpl_std_rev(0, 75) }
    spriteset(tobu8000_7_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_7.png"){ tmpl_std(0, 75) }
    spriteset(tobu8000_7_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_7.png"){ tmpl_std(0, 100) }
    spriteset(tobu8000_7_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_7.png"){ tmpl_std_rev(0, 100) }
    spriteset(tobu8000_7_mot_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_7.png"){ tmpl_symm(0, 125) }
    spriteset(tobu8000_7_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_7.png"){ tmpl_symm(0, 150) }



    spriteset(tobu8000_8_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_8.png"){ tmpl_std(0, 0) }
    spriteset(tobu8000_8_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_8.png"){ tmpl_std_rev(0, 25) }
    spriteset(tobu8000_8_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_8.png"){ tmpl_std(0, 25) }
    spriteset(tobu8000_8_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_8.png"){ tmpl_std(0, 50) }
    spriteset(tobu8000_8_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_8.png"){ tmpl_std_rev(0, 75) }
    spriteset(tobu8000_8_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_8.png"){ tmpl_std(0, 75) }
    spriteset(tobu8000_8_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_8.png"){ tmpl_std(0, 100) }
    spriteset(tobu8000_8_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_8.png"){ tmpl_std_rev(0, 100) }
    spriteset(tobu8000_8_mot_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_8.png"){ tmpl_symm(0, 125) }
    spriteset(tobu8000_8_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_8.png"){ tmpl_symm(0, 150) }



    spriteset(tobu8000_9_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_9.png"){ tmpl_std(0, 0) }
    spriteset(tobu8000_9_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_9.png"){ tmpl_std_rev(0, 25) }
    spriteset(tobu8000_9_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_9.png"){ tmpl_std(0, 25) }
    spriteset(tobu8000_9_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_9.png"){ tmpl_std(0, 50) }
    spriteset(tobu8000_9_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_9.png"){ tmpl_std_rev(0, 75) }
    spriteset(tobu8000_9_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_9.png"){ tmpl_std(0, 75) }
    spriteset(tobu8000_9_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_9.png"){ tmpl_std(0, 100) }
    spriteset(tobu8000_9_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_9.png"){ tmpl_std_rev(0, 100) }
    spriteset(tobu8000_9_mot_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_9.png"){ tmpl_symm(0, 125) }
    spriteset(tobu8000_9_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_9.png"){ tmpl_symm(0, 150) }



    spriteset(tobu8000_10_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_10.png"){ tmpl_std(0, 0) }
    spriteset(tobu8000_10_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_10.png"){ tmpl_std_rev(0, 25) }
    spriteset(tobu8000_10_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_10.png"){ tmpl_std(0, 25) }
    spriteset(tobu8000_10_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_10.png"){ tmpl_std(0, 50) }
    spriteset(tobu8000_10_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_10.png"){ tmpl_std_rev(0, 75) }
    spriteset(tobu8000_10_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_10.png"){ tmpl_std(0, 75) }
    spriteset(tobu8000_10_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_10.png"){ tmpl_std(0, 100) }
    spriteset(tobu8000_10_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_10.png"){ tmpl_std_rev(0, 100) }
    spriteset(tobu8000_10_mot_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_10.png"){ tmpl_symm(0, 125) }
    spriteset(tobu8000_10_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_10.png"){ tmpl_symm(0, 150) }






switch(FEAT_TRAINS, PARENT, sw_tobu8000_1_front_gfx_0, vehicle_is_reversed){
    1:tobu8000_1_front;
    tobu8000_1_front_mot;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_1_front_gfx, num_vehs_in_consist){
    2:sw_tobu8000_1_front_gfx_0;
    tobu8000_1_front;
}


switch(FEAT_TRAINS, PARENT, sw_tobu8000_1_end_gfx_0, vehicle_is_reversed){
    1:tobu8000_1_end_mot;
    tobu8000_1_end;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_1_end_gfx, num_vehs_in_vehid_chain){
    1:sw_tobu8000_1_end_gfx_0;
    tobu8000_1_end;
}


switch(FEAT_TRAINS, PARENT, sw_tobu8000_1_front_f_gfx_0, vehicle_is_reversed){
    1:tobu8000_1_end_mot;
    tobu8000_1_end_mot_rev;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_1_front_f_gfx, num_vehs_in_vehid_chain){
    9:sw_tobu8000_1_front_f_gfx_0;
    tobu8000_1_front;
}

switch(FEAT_TRAINS, PARENT, sw_tobu8000_1_end_f_gfx_0, vehicle_is_reversed){
    1:tobu8000_1_end_rev;
    tobu8000_1_end;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_1_end_f_gfx, num_vehs_in_vehid_chain){
    9:sw_tobu8000_1_end_f_gfx_0;
    tobu8000_1_end;
}



switch(FEAT_TRAINS, SELF, sw_tobu8000_1_panto_placer_1,position_in_vehid_chain %6){
    0: tobu8000_1_mot_2;
    3: tobu8000_1_mot;
    tobu8000_1_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_1_panto_placer_1_rev,position_in_vehid_chain_from_end %6 -1){
    0: tobu8000_1_mot_2;
    3: tobu8000_1_mot_rev;
    tobu8000_1_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu8000_1_panto_placer_main_1,vehicle_is_reversed){
    1: sw_tobu8000_1_panto_placer_1_rev;
    sw_tobu8000_1_panto_placer_1;
}

switch(FEAT_TRAINS, SELF, sw_tobu8000_1_panto_placer_2,position_in_vehid_chain %4){
    0: tobu8000_1_mot_2;
    tobu8000_1_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_1_panto_placer_2_rev,1-position_in_vehid_chain_from_end %4){
    0: tobu8000_1_mot_2;
    tobu8000_1_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu8000_1_panto_placer_main_2,vehicle_is_reversed){
    1: sw_tobu8000_1_panto_placer_2_rev;
    sw_tobu8000_1_panto_placer_2;
}

switch(FEAT_TRAINS, SELF, sw_tobu8000_1_panto_placer_main,num_vehs_in_vehid_chain+1){
    0..4:sw_tobu8000_1_panto_placer_main_1;
    5:sw_tobu8000_1_panto_placer_main_2;
    6: sw_tobu8000_1_panto_placer_main_1;
    sw_tobu8000_1_panto_placer_main_2;
}


switch(FEAT_TRAINS, SELF, sw_tobu8000_1_fake_placer,position_in_vehid_chain +1){
    7: sw_tobu8000_1_end_f_gfx;
    8: sw_tobu8000_1_front_f_gfx;
sw_tobu8000_1_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_1_fake_placer_rev,position_in_vehid_chain_from_end ){
    7: sw_tobu8000_1_front_f_gfx;
    8: sw_tobu8000_1_end_f_gfx;
sw_tobu8000_1_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tobu8000_1_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tobu8000_1_fake_placer_rev;
    sw_tobu8000_1_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_1_fake_placer_main,num_vehs_in_vehid_chain>9 - 1){
    1: sw_tobu8000_1_fake_placer_gfx;
sw_tobu8000_1_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tobu8000_1_end_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tobu8000_1_end_gfx;
    default: sw_tobu8000_1_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_1_front_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tobu8000_1_front_gfx;
    default: sw_tobu8000_1_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_livery_1_0,vehicle_type_id){
    mu_car_narrow:sw_tobu8000_1_end_gfx_main;
    sw_tobu8000_1_front_gfx_main;
}




switch(FEAT_TRAINS, PARENT, sw_tobu8000_1_ac_front_gfx_0, vehicle_is_reversed){
    1:tobu8000_1_ac_front;
    tobu8000_1_ac_front_mot;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_1_ac_front_gfx, num_vehs_in_consist){
    2:sw_tobu8000_1_ac_front_gfx_0;
    tobu8000_1_ac_front;
}


switch(FEAT_TRAINS, PARENT, sw_tobu8000_1_ac_end_gfx_0, vehicle_is_reversed){
    1:tobu8000_1_ac_end_mot;
    tobu8000_1_ac_end;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_1_ac_end_gfx, num_vehs_in_vehid_chain){
    1:sw_tobu8000_1_ac_end_gfx_0;
    tobu8000_1_ac_end;
}


switch(FEAT_TRAINS, PARENT, sw_tobu8000_1_ac_front_f_gfx_0, vehicle_is_reversed){
    1:tobu8000_1_ac_end_mot;
    tobu8000_1_ac_end_mot_rev;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_1_ac_front_f_gfx, num_vehs_in_vehid_chain){
    9:sw_tobu8000_1_ac_front_f_gfx_0;
    tobu8000_1_ac_front;
}

switch(FEAT_TRAINS, PARENT, sw_tobu8000_1_ac_end_f_gfx_0, vehicle_is_reversed){
    1:tobu8000_1_ac_end_rev;
    tobu8000_1_ac_end;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_1_ac_end_f_gfx, num_vehs_in_vehid_chain){
    9:sw_tobu8000_1_ac_end_f_gfx_0;
    tobu8000_1_ac_end;
}



switch(FEAT_TRAINS, SELF, sw_tobu8000_1_ac_panto_placer_1,position_in_vehid_chain %6){
    0: tobu8000_1_ac_mot_2;
    3: tobu8000_1_ac_mot;
    tobu8000_1_ac_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_1_ac_panto_placer_1_rev,position_in_vehid_chain_from_end %6 -1){
    0: tobu8000_1_ac_mot_2;
    3: tobu8000_1_ac_mot_rev;
    tobu8000_1_ac_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu8000_1_ac_panto_placer_main_1,vehicle_is_reversed){
    1: sw_tobu8000_1_ac_panto_placer_1_rev;
    sw_tobu8000_1_ac_panto_placer_1;
}

switch(FEAT_TRAINS, SELF, sw_tobu8000_1_ac_panto_placer_2,position_in_vehid_chain %4){
    0: tobu8000_1_ac_mot_2;
    tobu8000_1_ac_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_1_ac_panto_placer_2_rev,1-position_in_vehid_chain_from_end %4){
    0: tobu8000_1_ac_mot_2;
    tobu8000_1_ac_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu8000_1_ac_panto_placer_main_2,vehicle_is_reversed){
    1: sw_tobu8000_1_ac_panto_placer_2_rev;
    sw_tobu8000_1_ac_panto_placer_2;
}

switch(FEAT_TRAINS, SELF, sw_tobu8000_1_ac_panto_placer_main,num_vehs_in_vehid_chain+1){
    0..4:sw_tobu8000_1_ac_panto_placer_main_1;
    5:sw_tobu8000_1_ac_panto_placer_main_2;
    6: sw_tobu8000_1_ac_panto_placer_main_1;
    sw_tobu8000_1_ac_panto_placer_main_2;
}


switch(FEAT_TRAINS, SELF, sw_tobu8000_1_ac_fake_placer,position_in_vehid_chain +1){
    7: sw_tobu8000_1_ac_end_f_gfx;
    8: sw_tobu8000_1_ac_front_f_gfx;
sw_tobu8000_1_ac_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_1_ac_fake_placer_rev,position_in_vehid_chain_from_end ){
    7: sw_tobu8000_1_ac_front_f_gfx;
    8: sw_tobu8000_1_ac_end_f_gfx;
sw_tobu8000_1_ac_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tobu8000_1_ac_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tobu8000_1_ac_fake_placer_rev;
    sw_tobu8000_1_ac_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_1_ac_fake_placer_main,num_vehs_in_vehid_chain>9 - 1){
    1: sw_tobu8000_1_ac_fake_placer_gfx;
sw_tobu8000_1_ac_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tobu8000_1_ac_end_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tobu8000_1_ac_end_gfx;
    default: sw_tobu8000_1_ac_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_1_ac_front_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tobu8000_1_ac_front_gfx;
    default: sw_tobu8000_1_ac_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_livery_1_1,vehicle_type_id){
    mu_car_narrow:sw_tobu8000_1_ac_end_gfx_main;
    sw_tobu8000_1_ac_front_gfx_main;
}


switch(FEAT_TRAINS, SELF, sw_tobu8000_livery_1,current_year){
    0..1971:sw_tobu8000_livery_1_0;
    sw_tobu8000_livery_1_1;
}




switch(FEAT_TRAINS, PARENT, sw_tobu8000_2_front_gfx_0, vehicle_is_reversed){
    1:tobu8000_2_front;
    tobu8000_2_front_mot;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_2_front_gfx, num_vehs_in_consist){
    2:sw_tobu8000_2_front_gfx_0;
    tobu8000_2_front;
}


switch(FEAT_TRAINS, PARENT, sw_tobu8000_2_end_gfx_0, vehicle_is_reversed){
    1:tobu8000_2_end_mot;
    tobu8000_2_end;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_2_end_gfx, num_vehs_in_vehid_chain){
    1:sw_tobu8000_2_end_gfx_0;
    tobu8000_2_end;
}


switch(FEAT_TRAINS, PARENT, sw_tobu8000_2_front_f_gfx_0, vehicle_is_reversed){
    1:tobu8000_2_end_mot;
    tobu8000_2_end_mot_rev;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_2_front_f_gfx, num_vehs_in_vehid_chain){
    9:sw_tobu8000_2_front_f_gfx_0;
    tobu8000_2_front;
}

switch(FEAT_TRAINS, PARENT, sw_tobu8000_2_end_f_gfx_0, vehicle_is_reversed){
    1:tobu8000_2_end_rev;
    tobu8000_2_end;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_2_end_f_gfx, num_vehs_in_vehid_chain){
    9:sw_tobu8000_2_end_f_gfx_0;
    tobu8000_2_end;
}



switch(FEAT_TRAINS, SELF, sw_tobu8000_2_panto_placer_1,position_in_vehid_chain %6){
    0: tobu8000_2_mot_2;
    3: tobu8000_2_mot;
    tobu8000_2_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_2_panto_placer_1_rev,position_in_vehid_chain_from_end %6 -1){
    0: tobu8000_2_mot_2;
    3: tobu8000_2_mot_rev;
    tobu8000_2_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu8000_2_panto_placer_main_1,vehicle_is_reversed){
    1: sw_tobu8000_2_panto_placer_1_rev;
    sw_tobu8000_2_panto_placer_1;
}

switch(FEAT_TRAINS, SELF, sw_tobu8000_2_panto_placer_2,position_in_vehid_chain %4){
    0: tobu8000_2_mot_2;
    tobu8000_2_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_2_panto_placer_2_rev,1-position_in_vehid_chain_from_end %4){
    0: tobu8000_2_mot_2;
    tobu8000_2_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu8000_2_panto_placer_main_2,vehicle_is_reversed){
    1: sw_tobu8000_2_panto_placer_2_rev;
    sw_tobu8000_2_panto_placer_2;
}

switch(FEAT_TRAINS, SELF, sw_tobu8000_2_panto_placer_main,num_vehs_in_vehid_chain+1){
    0..4:sw_tobu8000_2_panto_placer_main_1;
    5:sw_tobu8000_2_panto_placer_main_2;
    6: sw_tobu8000_2_panto_placer_main_1;
    sw_tobu8000_2_panto_placer_main_2;
}


switch(FEAT_TRAINS, SELF, sw_tobu8000_2_fake_placer,position_in_vehid_chain +1){
    7: sw_tobu8000_2_end_f_gfx;
    8: sw_tobu8000_2_front_f_gfx;
sw_tobu8000_2_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_2_fake_placer_rev,position_in_vehid_chain_from_end ){
    7: sw_tobu8000_2_front_f_gfx;
    8: sw_tobu8000_2_end_f_gfx;
sw_tobu8000_2_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tobu8000_2_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tobu8000_2_fake_placer_rev;
    sw_tobu8000_2_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_2_fake_placer_main,num_vehs_in_vehid_chain>9 - 1){
    1: sw_tobu8000_2_fake_placer_gfx;
sw_tobu8000_2_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tobu8000_2_end_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tobu8000_2_end_gfx;
    default: sw_tobu8000_2_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_2_front_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tobu8000_2_front_gfx;
    default: sw_tobu8000_2_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_livery_2_0,vehicle_type_id){
    mu_car_narrow:sw_tobu8000_2_end_gfx_main;
    sw_tobu8000_2_front_gfx_main;
}




switch(FEAT_TRAINS, PARENT, sw_tobu8000_2_ac_front_gfx_0, vehicle_is_reversed){
    1:tobu8000_2_ac_front;
    tobu8000_2_ac_front_mot;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_2_ac_front_gfx, num_vehs_in_consist){
    2:sw_tobu8000_2_ac_front_gfx_0;
    tobu8000_2_ac_front;
}


switch(FEAT_TRAINS, PARENT, sw_tobu8000_2_ac_end_gfx_0, vehicle_is_reversed){
    1:tobu8000_2_ac_end_mot;
    tobu8000_2_ac_end;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_2_ac_end_gfx, num_vehs_in_vehid_chain){
    1:sw_tobu8000_2_ac_end_gfx_0;
    tobu8000_2_ac_end;
}


switch(FEAT_TRAINS, PARENT, sw_tobu8000_2_ac_front_f_gfx_0, vehicle_is_reversed){
    1:tobu8000_2_ac_end_mot;
    tobu8000_2_ac_end_mot_rev;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_2_ac_front_f_gfx, num_vehs_in_vehid_chain){
    9:sw_tobu8000_2_ac_front_f_gfx_0;
    tobu8000_2_ac_front;
}

switch(FEAT_TRAINS, PARENT, sw_tobu8000_2_ac_end_f_gfx_0, vehicle_is_reversed){
    1:tobu8000_2_ac_end_rev;
    tobu8000_2_ac_end;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_2_ac_end_f_gfx, num_vehs_in_vehid_chain){
    9:sw_tobu8000_2_ac_end_f_gfx_0;
    tobu8000_2_ac_end;
}



switch(FEAT_TRAINS, SELF, sw_tobu8000_2_ac_panto_placer_1,position_in_vehid_chain %6){
    0: tobu8000_2_ac_mot_2;
    3: tobu8000_2_ac_mot;
    tobu8000_2_ac_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_2_ac_panto_placer_1_rev,position_in_vehid_chain_from_end %6 -1){
    0: tobu8000_2_ac_mot_2;
    3: tobu8000_2_ac_mot_rev;
    tobu8000_2_ac_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu8000_2_ac_panto_placer_main_1,vehicle_is_reversed){
    1: sw_tobu8000_2_ac_panto_placer_1_rev;
    sw_tobu8000_2_ac_panto_placer_1;
}

switch(FEAT_TRAINS, SELF, sw_tobu8000_2_ac_panto_placer_2,position_in_vehid_chain %4){
    0: tobu8000_2_ac_mot_2;
    tobu8000_2_ac_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_2_ac_panto_placer_2_rev,1-position_in_vehid_chain_from_end %4){
    0: tobu8000_2_ac_mot_2;
    tobu8000_2_ac_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu8000_2_ac_panto_placer_main_2,vehicle_is_reversed){
    1: sw_tobu8000_2_ac_panto_placer_2_rev;
    sw_tobu8000_2_ac_panto_placer_2;
}

switch(FEAT_TRAINS, SELF, sw_tobu8000_2_ac_panto_placer_main,num_vehs_in_vehid_chain+1){
    0..4:sw_tobu8000_2_ac_panto_placer_main_1;
    5:sw_tobu8000_2_ac_panto_placer_main_2;
    6: sw_tobu8000_2_ac_panto_placer_main_1;
    sw_tobu8000_2_ac_panto_placer_main_2;
}


switch(FEAT_TRAINS, SELF, sw_tobu8000_2_ac_fake_placer,position_in_vehid_chain +1){
    7: sw_tobu8000_2_ac_end_f_gfx;
    8: sw_tobu8000_2_ac_front_f_gfx;
sw_tobu8000_2_ac_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_2_ac_fake_placer_rev,position_in_vehid_chain_from_end ){
    7: sw_tobu8000_2_ac_front_f_gfx;
    8: sw_tobu8000_2_ac_end_f_gfx;
sw_tobu8000_2_ac_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tobu8000_2_ac_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tobu8000_2_ac_fake_placer_rev;
    sw_tobu8000_2_ac_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_2_ac_fake_placer_main,num_vehs_in_vehid_chain>9 - 1){
    1: sw_tobu8000_2_ac_fake_placer_gfx;
sw_tobu8000_2_ac_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tobu8000_2_ac_end_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tobu8000_2_ac_end_gfx;
    default: sw_tobu8000_2_ac_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_2_ac_front_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tobu8000_2_ac_front_gfx;
    default: sw_tobu8000_2_ac_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_livery_2_1,vehicle_type_id){
    mu_car_narrow:sw_tobu8000_2_ac_end_gfx_main;
    sw_tobu8000_2_ac_front_gfx_main;
}

switch(FEAT_TRAINS, SELF, sw_tobu8000_livery_2,current_year){
    0..1971:sw_tobu8000_livery_2_0;
    sw_tobu8000_livery_2_1;
}




switch(FEAT_TRAINS, PARENT, sw_tobu8000_3_front_gfx_0, vehicle_is_reversed){
    1:tobu8000_3_front;
    tobu8000_3_front_mot;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_3_front_gfx, num_vehs_in_consist){
    2:sw_tobu8000_3_front_gfx_0;
    tobu8000_3_front;
}


switch(FEAT_TRAINS, PARENT, sw_tobu8000_3_end_gfx_0, vehicle_is_reversed){
    1:tobu8000_3_end_mot;
    tobu8000_3_end;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_3_end_gfx, num_vehs_in_vehid_chain){
    1:sw_tobu8000_3_end_gfx_0;
    tobu8000_3_end;
}


switch(FEAT_TRAINS, PARENT, sw_tobu8000_3_front_f_gfx_0, vehicle_is_reversed){
    1:tobu8000_3_end_mot;
    tobu8000_3_end_mot_rev;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_3_front_f_gfx, num_vehs_in_vehid_chain){
    9:sw_tobu8000_3_front_f_gfx_0;
    tobu8000_3_front;
}

switch(FEAT_TRAINS, PARENT, sw_tobu8000_3_end_f_gfx_0, vehicle_is_reversed){
    1:tobu8000_3_end_rev;
    tobu8000_3_end;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_3_end_f_gfx, num_vehs_in_vehid_chain){
    9:sw_tobu8000_3_end_f_gfx_0;
    tobu8000_3_end;
}


switch(FEAT_TRAINS, SELF, sw_tobu8000_3_fake_placer,position_in_vehid_chain +1){
    7: sw_tobu8000_3_end_f_gfx;
    8: sw_tobu8000_3_front_f_gfx;
sw_tobu8000_1_ac_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_3_fake_placer_rev,position_in_vehid_chain_from_end ){
    7: sw_tobu8000_3_front_f_gfx;
    8: sw_tobu8000_3_end_f_gfx;
sw_tobu8000_1_ac_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tobu8000_3_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tobu8000_3_fake_placer_rev;
    sw_tobu8000_3_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_3_fake_placer_main,num_vehs_in_vehid_chain>9 - 1){
    1: sw_tobu8000_3_fake_placer_gfx;
sw_tobu8000_1_ac_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tobu8000_3_end_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tobu8000_3_end_gfx;
    default: sw_tobu8000_3_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_3_front_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tobu8000_3_front_gfx;
    default: sw_tobu8000_3_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_livery_3,vehicle_type_id){
    mu_car_narrow:sw_tobu8000_3_end_gfx_main;
    sw_tobu8000_3_front_gfx_main;
}




switch(FEAT_TRAINS, PARENT, sw_tobu8000_4_front_gfx_0, vehicle_is_reversed){
    1:tobu8000_4_front;
    tobu8000_4_front_mot;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_4_front_gfx, num_vehs_in_consist){
    2:sw_tobu8000_4_front_gfx_0;
    tobu8000_4_front;
}


switch(FEAT_TRAINS, PARENT, sw_tobu8000_4_end_gfx_0, vehicle_is_reversed){
    1:tobu8000_4_end_mot;
    tobu8000_4_end;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_4_end_gfx, num_vehs_in_vehid_chain){
    1:sw_tobu8000_4_end_gfx_0;
    tobu8000_4_end;
}


switch(FEAT_TRAINS, PARENT, sw_tobu8000_4_front_f_gfx_0, vehicle_is_reversed){
    1:tobu8000_4_end_mot;
    tobu8000_4_end_mot_rev;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_4_front_f_gfx, num_vehs_in_vehid_chain){
    9:sw_tobu8000_4_front_f_gfx_0;
    tobu8000_4_front;
}

switch(FEAT_TRAINS, PARENT, sw_tobu8000_4_end_f_gfx_0, vehicle_is_reversed){
    1:tobu8000_4_end_rev;
    tobu8000_4_end;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_4_end_f_gfx, num_vehs_in_vehid_chain){
    9:sw_tobu8000_4_end_f_gfx_0;
    tobu8000_4_end;
}



switch(FEAT_TRAINS, SELF, sw_tobu8000_4_panto_placer_1,position_in_vehid_chain %6){
    0: tobu8000_4_mot_2;
    3: tobu8000_4_mot;
    tobu8000_4_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_4_panto_placer_1_rev,position_in_vehid_chain_from_end %6 -1){
    0: tobu8000_4_mot_2;
    3: tobu8000_4_mot_rev;
    tobu8000_4_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu8000_4_panto_placer_main_1,vehicle_is_reversed){
    1: sw_tobu8000_4_panto_placer_1_rev;
    sw_tobu8000_4_panto_placer_1;
}

switch(FEAT_TRAINS, SELF, sw_tobu8000_4_panto_placer_2,position_in_vehid_chain %4){
    0: tobu8000_4_mot_2;
    tobu8000_4_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_4_panto_placer_2_rev,1-position_in_vehid_chain_from_end %4){
    0: tobu8000_4_mot_2;
    tobu8000_4_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu8000_4_panto_placer_main_2,vehicle_is_reversed){
    1: sw_tobu8000_4_panto_placer_2_rev;
    sw_tobu8000_4_panto_placer_2;
}

switch(FEAT_TRAINS, SELF, sw_tobu8000_4_panto_placer_main,num_vehs_in_vehid_chain+1){
    0..4:sw_tobu8000_4_panto_placer_main_1;
    5:sw_tobu8000_4_panto_placer_main_2;
    6: sw_tobu8000_4_panto_placer_main_1;
    sw_tobu8000_4_panto_placer_main_2;
}


switch(FEAT_TRAINS, SELF, sw_tobu8000_4_fake_placer,position_in_vehid_chain +1){
    7: sw_tobu8000_4_end_f_gfx;
    8: sw_tobu8000_4_front_f_gfx;
sw_tobu8000_4_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_4_fake_placer_rev,position_in_vehid_chain_from_end ){
    7: sw_tobu8000_4_front_f_gfx;
    8: sw_tobu8000_4_end_f_gfx;
sw_tobu8000_4_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tobu8000_4_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tobu8000_4_fake_placer_rev;
    sw_tobu8000_4_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_4_fake_placer_main,num_vehs_in_vehid_chain>9 - 1){
    1: sw_tobu8000_4_fake_placer_gfx;
sw_tobu8000_4_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tobu8000_4_end_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tobu8000_4_end_gfx;
    default: sw_tobu8000_4_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_4_front_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tobu8000_4_front_gfx;
    default: sw_tobu8000_4_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_livery_4,vehicle_type_id){
    mu_car_narrow:sw_tobu8000_4_end_gfx_main;
    sw_tobu8000_4_front_gfx_main;
}




switch(FEAT_TRAINS, PARENT, sw_tobu8000_5_front_gfx_0, vehicle_is_reversed){
    1:tobu8000_5_front;
    tobu8000_5_front_mot;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_5_front_gfx, num_vehs_in_consist){
    2:sw_tobu8000_5_front_gfx_0;
    tobu8000_5_front;
}


switch(FEAT_TRAINS, PARENT, sw_tobu8000_5_end_gfx_0, vehicle_is_reversed){
    1:tobu8000_5_end_mot;
    tobu8000_5_end;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_5_end_gfx, num_vehs_in_vehid_chain){
    1:sw_tobu8000_5_end_gfx_0;
    tobu8000_5_end;
}


switch(FEAT_TRAINS, PARENT, sw_tobu8000_5_front_f_gfx_0, vehicle_is_reversed){
    1:tobu8000_5_end_mot;
    tobu8000_5_end_mot_rev;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_5_front_f_gfx, num_vehs_in_vehid_chain){
    9:sw_tobu8000_5_front_f_gfx_0;
    tobu8000_5_front;
}

switch(FEAT_TRAINS, PARENT, sw_tobu8000_5_end_f_gfx_0, vehicle_is_reversed){
    1:tobu8000_5_end_rev;
    tobu8000_5_end;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_5_end_f_gfx, num_vehs_in_vehid_chain){
    9:sw_tobu8000_5_end_f_gfx_0;
    tobu8000_5_end;
}



switch(FEAT_TRAINS, SELF, sw_tobu8000_5_panto_placer_1,position_in_vehid_chain %6){
    0: tobu8000_5_mot_2;
    3: tobu8000_5_mot;
    tobu8000_5_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_5_panto_placer_1_rev,position_in_vehid_chain_from_end %6 -1){
    0: tobu8000_5_mot_2;
    3: tobu8000_5_mot_rev;
    tobu8000_5_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu8000_5_panto_placer_main_1,vehicle_is_reversed){
    1: sw_tobu8000_5_panto_placer_1_rev;
    sw_tobu8000_5_panto_placer_1;
}

switch(FEAT_TRAINS, SELF, sw_tobu8000_5_panto_placer_2,position_in_vehid_chain %4){
    0: tobu8000_5_mot_2;
    tobu8000_5_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_5_panto_placer_2_rev,1-position_in_vehid_chain_from_end %4){
    0: tobu8000_5_mot_2;
    tobu8000_5_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu8000_5_panto_placer_main_2,vehicle_is_reversed){
    1: sw_tobu8000_5_panto_placer_2_rev;
    sw_tobu8000_5_panto_placer_2;
}

switch(FEAT_TRAINS, SELF, sw_tobu8000_5_panto_placer_main,num_vehs_in_vehid_chain+1){
    0..4:sw_tobu8000_5_panto_placer_main_1;
    5:sw_tobu8000_5_panto_placer_main_2;
    6: sw_tobu8000_5_panto_placer_main_1;
    sw_tobu8000_5_panto_placer_main_2;
}


switch(FEAT_TRAINS, SELF, sw_tobu8000_5_fake_placer,position_in_vehid_chain +1){
    7: sw_tobu8000_5_end_f_gfx;
    8: sw_tobu8000_5_front_f_gfx;
sw_tobu8000_5_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_5_fake_placer_rev,position_in_vehid_chain_from_end ){
    7: sw_tobu8000_5_front_f_gfx;
    8: sw_tobu8000_5_end_f_gfx;
sw_tobu8000_5_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tobu8000_5_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tobu8000_5_fake_placer_rev;
    sw_tobu8000_5_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_5_fake_placer_main,num_vehs_in_vehid_chain>9 - 1){
    1: sw_tobu8000_5_fake_placer_gfx;
sw_tobu8000_5_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tobu8000_5_end_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tobu8000_5_end_gfx;
    default: sw_tobu8000_5_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_5_front_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tobu8000_5_front_gfx;
    default: sw_tobu8000_5_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_livery_5,vehicle_type_id){
    mu_car_narrow:sw_tobu8000_5_end_gfx_main;
    sw_tobu8000_5_front_gfx_main;
}




switch(FEAT_TRAINS, PARENT, sw_tobu8000_6_front_gfx_0, vehicle_is_reversed){
    1:tobu8000_6_front;
    tobu8000_6_front_mot;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_6_front_gfx, num_vehs_in_consist){
    2:sw_tobu8000_6_front_gfx_0;
    tobu8000_6_front;
}


switch(FEAT_TRAINS, PARENT, sw_tobu8000_6_end_gfx_0, vehicle_is_reversed){
    1:tobu8000_6_end_mot;
    tobu8000_6_end;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_6_end_gfx, num_vehs_in_vehid_chain){
    1:sw_tobu8000_6_end_gfx_0;
    tobu8000_6_end;
}


switch(FEAT_TRAINS, PARENT, sw_tobu8000_6_front_f_gfx_0, vehicle_is_reversed){
    1:tobu8000_6_end_mot;
    tobu8000_6_end_mot_rev;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_6_front_f_gfx, num_vehs_in_vehid_chain){
    9:sw_tobu8000_6_front_f_gfx_0;
    tobu8000_6_front;
}

switch(FEAT_TRAINS, PARENT, sw_tobu8000_6_end_f_gfx_0, vehicle_is_reversed){
    1:tobu8000_6_end_rev;
    tobu8000_6_end;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_6_end_f_gfx, num_vehs_in_vehid_chain){
    9:sw_tobu8000_6_end_f_gfx_0;
    tobu8000_6_end;
}


switch(FEAT_TRAINS, SELF, sw_tobu8000_6_fake_placer,position_in_vehid_chain +1){
    7: sw_tobu8000_6_end_f_gfx;
    8: sw_tobu8000_6_front_f_gfx;
sw_tobu8000_5_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_6_fake_placer_rev,position_in_vehid_chain_from_end ){
    7: sw_tobu8000_6_front_f_gfx;
    8: sw_tobu8000_6_end_f_gfx;
sw_tobu8000_5_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tobu8000_6_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tobu8000_6_fake_placer_rev;
    sw_tobu8000_6_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_6_fake_placer_main,num_vehs_in_vehid_chain>9 - 1){
    1: sw_tobu8000_6_fake_placer_gfx;
sw_tobu8000_5_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tobu8000_6_end_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tobu8000_6_end_gfx;
    default: sw_tobu8000_6_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_6_front_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tobu8000_6_front_gfx;
    default: sw_tobu8000_6_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_livery_6,vehicle_type_id){
    mu_car_narrow:sw_tobu8000_6_end_gfx_main;
    sw_tobu8000_6_front_gfx_main;
}




switch(FEAT_TRAINS, PARENT, sw_tobu8000_7_front_gfx_0, vehicle_is_reversed){
    1:tobu8000_7_front;
    tobu8000_7_front_mot;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_7_front_gfx, num_vehs_in_consist){
    2:sw_tobu8000_7_front_gfx_0;
    tobu8000_7_front;
}


switch(FEAT_TRAINS, PARENT, sw_tobu8000_7_end_gfx_0, vehicle_is_reversed){
    1:tobu8000_7_end_mot;
    tobu8000_7_end;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_7_end_gfx, num_vehs_in_vehid_chain){
    1:sw_tobu8000_7_end_gfx_0;
    tobu8000_7_end;
}


switch(FEAT_TRAINS, PARENT, sw_tobu8000_7_front_f_gfx_0, vehicle_is_reversed){
    1:tobu8000_7_end_mot;
    tobu8000_7_end_mot_rev;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_7_front_f_gfx, num_vehs_in_vehid_chain){
    9:sw_tobu8000_7_front_f_gfx_0;
    tobu8000_7_front;
}

switch(FEAT_TRAINS, PARENT, sw_tobu8000_7_end_f_gfx_0, vehicle_is_reversed){
    1:tobu8000_7_end_rev;
    tobu8000_7_end;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_7_end_f_gfx, num_vehs_in_vehid_chain){
    9:sw_tobu8000_7_end_f_gfx_0;
    tobu8000_7_end;
}



switch(FEAT_TRAINS, SELF, sw_tobu8000_7_panto_placer_1,position_in_vehid_chain %6){
    0: tobu8000_7_mot_2;
    3: tobu8000_7_mot;
    tobu8000_7_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_7_panto_placer_1_rev,position_in_vehid_chain_from_end %6 -1){
    0: tobu8000_7_mot_2;
    3: tobu8000_7_mot_rev;
    tobu8000_7_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu8000_7_panto_placer_main_1,vehicle_is_reversed){
    1: sw_tobu8000_7_panto_placer_1_rev;
    sw_tobu8000_7_panto_placer_1;
}

switch(FEAT_TRAINS, SELF, sw_tobu8000_7_panto_placer_2,position_in_vehid_chain %4){
    0: tobu8000_7_mot_2;
    tobu8000_7_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_7_panto_placer_2_rev,1-position_in_vehid_chain_from_end %4){
    0: tobu8000_7_mot_2;
    tobu8000_7_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu8000_7_panto_placer_main_2,vehicle_is_reversed){
    1: sw_tobu8000_7_panto_placer_2_rev;
    sw_tobu8000_7_panto_placer_2;
}

switch(FEAT_TRAINS, SELF, sw_tobu8000_7_panto_placer_main,num_vehs_in_vehid_chain+1){
    0..4:sw_tobu8000_7_panto_placer_main_1;
    5:sw_tobu8000_7_panto_placer_main_2;
    6: sw_tobu8000_7_panto_placer_main_1;
    sw_tobu8000_7_panto_placer_main_2;
}


switch(FEAT_TRAINS, SELF, sw_tobu8000_7_fake_placer,position_in_vehid_chain +1){
    7: sw_tobu8000_7_end_f_gfx;
    8: sw_tobu8000_7_front_f_gfx;
sw_tobu8000_7_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_7_fake_placer_rev,position_in_vehid_chain_from_end ){
    7: sw_tobu8000_7_front_f_gfx;
    8: sw_tobu8000_7_end_f_gfx;
sw_tobu8000_7_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tobu8000_7_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tobu8000_7_fake_placer_rev;
    sw_tobu8000_7_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_7_fake_placer_main,num_vehs_in_vehid_chain>9 - 1){
    1: sw_tobu8000_7_fake_placer_gfx;
sw_tobu8000_7_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tobu8000_7_end_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tobu8000_7_end_gfx;
    default: sw_tobu8000_7_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_7_front_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tobu8000_7_front_gfx;
    default: sw_tobu8000_7_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_livery_7,vehicle_type_id){
    mu_car_narrow:sw_tobu8000_7_end_gfx_main;
    sw_tobu8000_7_front_gfx_main;
}




switch(FEAT_TRAINS, PARENT, sw_tobu8000_8_front_gfx_0, vehicle_is_reversed){
    1:tobu8000_8_front;
    tobu8000_8_front_mot;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_8_front_gfx, num_vehs_in_consist){
    2:sw_tobu8000_8_front_gfx_0;
    tobu8000_8_front;
}


switch(FEAT_TRAINS, PARENT, sw_tobu8000_8_end_gfx_0, vehicle_is_reversed){
    1:tobu8000_8_end_mot;
    tobu8000_8_end;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_8_end_gfx, num_vehs_in_vehid_chain){
    1:sw_tobu8000_8_end_gfx_0;
    tobu8000_8_end;
}


switch(FEAT_TRAINS, PARENT, sw_tobu8000_8_front_f_gfx_0, vehicle_is_reversed){
    1:tobu8000_8_end_mot;
    tobu8000_8_end_mot_rev;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_8_front_f_gfx, num_vehs_in_vehid_chain){
    9:sw_tobu8000_8_front_f_gfx_0;
    tobu8000_8_front;
}

switch(FEAT_TRAINS, PARENT, sw_tobu8000_8_end_f_gfx_0, vehicle_is_reversed){
    1:tobu8000_8_end_rev;
    tobu8000_8_end;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_8_end_f_gfx, num_vehs_in_vehid_chain){
    9:sw_tobu8000_8_end_f_gfx_0;
    tobu8000_8_end;
}



switch(FEAT_TRAINS, SELF, sw_tobu8000_8_panto_placer_1,position_in_vehid_chain %6){
    0: tobu8000_8_mot_2;
    3: tobu8000_8_mot;
    tobu8000_8_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_8_panto_placer_1_rev,position_in_vehid_chain_from_end %6 -1){
    0: tobu8000_8_mot_2;
    3: tobu8000_8_mot_rev;
    tobu8000_8_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu8000_8_panto_placer_main_1,vehicle_is_reversed){
    1: sw_tobu8000_8_panto_placer_1_rev;
    sw_tobu8000_8_panto_placer_1;
}

switch(FEAT_TRAINS, SELF, sw_tobu8000_8_panto_placer_2,position_in_vehid_chain %4){
    0: tobu8000_8_mot_2;
    tobu8000_8_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_8_panto_placer_2_rev,1-position_in_vehid_chain_from_end %4){
    0: tobu8000_8_mot_2;
    tobu8000_8_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu8000_8_panto_placer_main_2,vehicle_is_reversed){
    1: sw_tobu8000_8_panto_placer_2_rev;
    sw_tobu8000_8_panto_placer_2;
}

switch(FEAT_TRAINS, SELF, sw_tobu8000_8_panto_placer_main,num_vehs_in_vehid_chain+1){
    0..4:sw_tobu8000_8_panto_placer_main_1;
    5:sw_tobu8000_8_panto_placer_main_2;
    6: sw_tobu8000_8_panto_placer_main_1;
    sw_tobu8000_8_panto_placer_main_2;
}


switch(FEAT_TRAINS, SELF, sw_tobu8000_8_fake_placer,position_in_vehid_chain +1){
    7: sw_tobu8000_8_end_f_gfx;
    8: sw_tobu8000_8_front_f_gfx;
sw_tobu8000_8_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_8_fake_placer_rev,position_in_vehid_chain_from_end ){
    7: sw_tobu8000_8_front_f_gfx;
    8: sw_tobu8000_8_end_f_gfx;
sw_tobu8000_8_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tobu8000_8_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tobu8000_8_fake_placer_rev;
    sw_tobu8000_8_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_8_fake_placer_main,num_vehs_in_vehid_chain>9 - 1){
    1: sw_tobu8000_8_fake_placer_gfx;
sw_tobu8000_8_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tobu8000_8_end_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tobu8000_8_end_gfx;
    default: sw_tobu8000_8_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_8_front_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tobu8000_8_front_gfx;
    default: sw_tobu8000_8_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_livery_8,vehicle_type_id){
    mu_car_narrow:sw_tobu8000_8_end_gfx_main;
    sw_tobu8000_8_front_gfx_main;
}




switch(FEAT_TRAINS, PARENT, sw_tobu8000_9_front_gfx_0, vehicle_is_reversed){
    1:tobu8000_9_front;
    tobu8000_9_front_mot;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_9_front_gfx, num_vehs_in_consist){
    2:sw_tobu8000_9_front_gfx_0;
    tobu8000_9_front;
}


switch(FEAT_TRAINS, PARENT, sw_tobu8000_9_end_gfx_0, vehicle_is_reversed){
    1:tobu8000_9_end_mot;
    tobu8000_9_end;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_9_end_gfx, num_vehs_in_vehid_chain){
    1:sw_tobu8000_9_end_gfx_0;
    tobu8000_9_end;
}


switch(FEAT_TRAINS, PARENT, sw_tobu8000_9_front_f_gfx_0, vehicle_is_reversed){
    1:tobu8000_9_end_mot;
    tobu8000_9_end_mot_rev;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_9_front_f_gfx, num_vehs_in_vehid_chain){
    9:sw_tobu8000_9_front_f_gfx_0;
    tobu8000_9_front;
}

switch(FEAT_TRAINS, PARENT, sw_tobu8000_9_end_f_gfx_0, vehicle_is_reversed){
    1:tobu8000_9_end_rev;
    tobu8000_9_end;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_9_end_f_gfx, num_vehs_in_vehid_chain){
    9:sw_tobu8000_9_end_f_gfx_0;
    tobu8000_9_end;
}



switch(FEAT_TRAINS, SELF, sw_tobu8000_9_panto_placer_1,position_in_vehid_chain %6){
    0: tobu8000_9_mot_2;
    3: tobu8000_9_mot;
    tobu8000_9_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_9_panto_placer_1_rev,position_in_vehid_chain_from_end %6 -1){
    0: tobu8000_9_mot_2;
    3: tobu8000_9_mot_rev;
    tobu8000_9_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu8000_9_panto_placer_main_1,vehicle_is_reversed){
    1: sw_tobu8000_9_panto_placer_1_rev;
    sw_tobu8000_9_panto_placer_1;
}

switch(FEAT_TRAINS, SELF, sw_tobu8000_9_panto_placer_2,position_in_vehid_chain %4){
    0: tobu8000_9_mot_2;
    tobu8000_9_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_9_panto_placer_2_rev,1-position_in_vehid_chain_from_end %4){
    0: tobu8000_9_mot_2;
    tobu8000_9_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu8000_9_panto_placer_main_2,vehicle_is_reversed){
    1: sw_tobu8000_9_panto_placer_2_rev;
    sw_tobu8000_9_panto_placer_2;
}

switch(FEAT_TRAINS, SELF, sw_tobu8000_9_panto_placer_main,num_vehs_in_vehid_chain+1){
    0..4:sw_tobu8000_9_panto_placer_main_1;
    5:sw_tobu8000_9_panto_placer_main_2;
    6: sw_tobu8000_9_panto_placer_main_1;
    sw_tobu8000_9_panto_placer_main_2;
}


switch(FEAT_TRAINS, SELF, sw_tobu8000_9_fake_placer,position_in_vehid_chain +1){
    7: sw_tobu8000_9_end_f_gfx;
    8: sw_tobu8000_9_front_f_gfx;
sw_tobu8000_9_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_9_fake_placer_rev,position_in_vehid_chain_from_end ){
    7: sw_tobu8000_9_front_f_gfx;
    8: sw_tobu8000_9_end_f_gfx;
sw_tobu8000_9_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tobu8000_9_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tobu8000_9_fake_placer_rev;
    sw_tobu8000_9_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_9_fake_placer_main,num_vehs_in_vehid_chain>9 - 1){
    1: sw_tobu8000_9_fake_placer_gfx;
sw_tobu8000_9_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tobu8000_9_end_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tobu8000_9_end_gfx;
    default: sw_tobu8000_9_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_9_front_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tobu8000_9_front_gfx;
    default: sw_tobu8000_9_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_livery_9,vehicle_type_id){
    mu_car_narrow:sw_tobu8000_9_end_gfx_main;
    sw_tobu8000_9_front_gfx_main;
}




switch(FEAT_TRAINS, PARENT, sw_tobu8000_10_front_gfx_0, vehicle_is_reversed){
    1:tobu8000_10_front;
    tobu8000_10_front_mot;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_10_front_gfx, num_vehs_in_consist){
    2:sw_tobu8000_10_front_gfx_0;
    tobu8000_10_front;
}


switch(FEAT_TRAINS, PARENT, sw_tobu8000_10_end_gfx_0, vehicle_is_reversed){
    1:tobu8000_10_end_mot;
    tobu8000_10_end;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_10_end_gfx, num_vehs_in_vehid_chain){
    1:sw_tobu8000_10_end_gfx_0;
    tobu8000_10_end;
}


switch(FEAT_TRAINS, PARENT, sw_tobu8000_10_front_f_gfx_0, vehicle_is_reversed){
    1:tobu8000_10_end_mot;
    tobu8000_10_end_mot_rev;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_10_front_f_gfx, num_vehs_in_vehid_chain){
    9:sw_tobu8000_10_front_f_gfx_0;
    tobu8000_10_front;
}

switch(FEAT_TRAINS, PARENT, sw_tobu8000_10_end_f_gfx_0, vehicle_is_reversed){
    1:tobu8000_10_end_rev;
    tobu8000_10_end;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_10_end_f_gfx, num_vehs_in_vehid_chain){
    9:sw_tobu8000_10_end_f_gfx_0;
    tobu8000_10_end;
}



switch(FEAT_TRAINS, SELF, sw_tobu8000_10_panto_placer_1,position_in_vehid_chain %6){
    0: tobu8000_10_mot_2;
    3: tobu8000_10_mot;
    tobu8000_10_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_10_panto_placer_1_rev,position_in_vehid_chain_from_end %6 -1){
    0: tobu8000_10_mot_2;
    3: tobu8000_10_mot_rev;
    tobu8000_10_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu8000_10_panto_placer_main_1,vehicle_is_reversed){
    1: sw_tobu8000_10_panto_placer_1_rev;
    sw_tobu8000_10_panto_placer_1;
}

switch(FEAT_TRAINS, SELF, sw_tobu8000_10_panto_placer_2,position_in_vehid_chain %4){
    0: tobu8000_10_mot_2;
    tobu8000_10_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_10_panto_placer_2_rev,1-position_in_vehid_chain_from_end %4){
    0: tobu8000_10_mot_2;
    tobu8000_10_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu8000_10_panto_placer_main_2,vehicle_is_reversed){
    1: sw_tobu8000_10_panto_placer_2_rev;
    sw_tobu8000_10_panto_placer_2;
}

switch(FEAT_TRAINS, SELF, sw_tobu8000_10_panto_placer_main,num_vehs_in_vehid_chain+1){
    0..4:sw_tobu8000_10_panto_placer_main_1;
    5:sw_tobu8000_10_panto_placer_main_2;
    6: sw_tobu8000_10_panto_placer_main_1;
    sw_tobu8000_10_panto_placer_main_2;
}


switch(FEAT_TRAINS, SELF, sw_tobu8000_10_fake_placer,position_in_vehid_chain +1){
    7: sw_tobu8000_10_end_f_gfx;
    8: sw_tobu8000_10_front_f_gfx;
sw_tobu8000_10_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_10_fake_placer_rev,position_in_vehid_chain_from_end ){
    7: sw_tobu8000_10_front_f_gfx;
    8: sw_tobu8000_10_end_f_gfx;
sw_tobu8000_10_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tobu8000_10_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tobu8000_10_fake_placer_rev;
    sw_tobu8000_10_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_10_fake_placer_main,num_vehs_in_vehid_chain>9 - 1){
    1: sw_tobu8000_10_fake_placer_gfx;
sw_tobu8000_10_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tobu8000_10_end_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tobu8000_10_end_gfx;
    default: sw_tobu8000_10_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_10_front_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tobu8000_10_front_gfx;
    default: sw_tobu8000_10_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_livery_10,vehicle_type_id){
    mu_car_narrow:sw_tobu8000_10_end_gfx_main;
    sw_tobu8000_10_front_gfx_main;
}



random_switch(FEAT_TRAINS, PARENT, sw_tobu8000_livery_0_0){
    2: sw_tobu8000_livery_1;
    1: sw_tobu8000_livery_2;
}

random_switch(FEAT_TRAINS, PARENT, sw_tobu8000_livery_0_1){
    1: sw_tobu8000_livery_3;
    1: sw_tobu8000_livery_4;
    2: sw_tobu8000_livery_5;
    3: sw_tobu8000_livery_6;
}

random_switch(FEAT_TRAINS, PARENT, sw_tobu8000_livery_0_2){
    3: sw_tobu8000_livery_6;
    1: sw_tobu8000_livery_7;
    1: sw_tobu8000_livery_8;
    1: sw_tobu8000_livery_9;
    1: sw_tobu8000_livery_10;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_livery_0, build_year){
    0..1986:sw_tobu8000_livery_0_0;
    1987..2003:sw_tobu8000_livery_0_1;
    sw_tobu8000_livery_0_2;
}

switch(FEAT_TRAINS, PARENT, sw_tobu8000_lv, cargo_subtype){
    0:sw_tobu8000_livery_0;
    1:sw_tobu8000_livery_1;
    2:sw_tobu8000_livery_2;
    3:sw_tobu8000_livery_3;
    4:sw_tobu8000_livery_4;
    5:sw_tobu8000_livery_5;
    6:sw_tobu8000_livery_6;
    7:sw_tobu8000_livery_7;
    8:sw_tobu8000_livery_8;
    9:sw_tobu8000_livery_9;
    10:sw_tobu8000_livery_10;
}

switch(FEAT_TRAINS, SELF, sw_tobu8000_lv_1_desc, cargo_subtype){
    0:string(LV_RANDOM);
    1:string(LV_tobu8000_1);
    2:string(LV_tobu8000_2);
}

switch(FEAT_TRAINS, SELF, sw_tobu8000_lv_2_desc, cargo_subtype){
    0:string(LV_RANDOM);
    1:string(LV_tobu8000_1);
    2:string(LV_tobu8000_2);
    3:string(LV_tobu8000_3);
    4:string(LV_tobu8000_4);
    5:string(LV_tobu8000_5);
    6:string(LV_tobu8000_6);

}

switch(FEAT_TRAINS, SELF, sw_tobu8000_lv_3_desc, cargo_subtype){
    0:string(LV_RANDOM);
    1:string(LV_tobu8000_1);
    2:string(LV_tobu8000_2);
    3:string(LV_tobu8000_3);
    4:string(LV_tobu8000_4);
    5:string(LV_tobu8000_5);
    6:string(LV_tobu8000_6);
    7:string(LV_tobu8000_7);
    8:string(LV_tobu8000_8);
    9:string(LV_tobu8000_9);
    10:string(LV_tobu8000_10);
}

switch(FEAT_TRAINS, SELF, sw_tobu8000_lv_desc, current_year){
    0..1986:sw_tobu8000_lv_1_desc;
    1987..2003:sw_tobu8000_lv_2_desc;
    sw_tobu8000_lv_3_desc;
}



    switch(FEAT_TRAINS, SELF, sw_tobu8000_power,position_in_vehid_chain%8){
        0..1:return 130;
        4..5:return 130;
        return 0;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu8000_head_power,num_vehs_in_consist){
        39: return 130;
        return 0;
    }
    switch(FEAT_TRAINS, SELF, sw_tobu8000_power_main,vehicle_type_id){
        mu_car_narrow:sw_tobu8000_power;
        sw_tobu8000_head_power;
    }

switch(FEAT_TRAINS, SELF, sw_tobu8000_capacity,position_in_vehid_chain_from_end){
    0: 150;
    default: 170;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_capacity_1,position_in_vehid_chain){
    0: 150;
    default: sw_tobu8000_capacity;
}
switch(FEAT_TRAINS, SELF, sw_tobu8000_capacity_main,vehicle_type_id){
    mu_car_narrow:sw_tobu8000_capacity;
    sw_tobu8000_capacity_1;
}


switch(FEAT_TRAINS, SELF, tobu8000_attach_vehid, vehicle_type_id) {
  mu_car: return string(STR_ATTACH_1067_ERROR);
  mu_car_metro: return string(STR_ATTACH_1067_ERROR);
  return CB_RESULT_ATTACH_ALLOW;
}

item(FEAT_TRAINS, tobu8000,2069) {
    property {
        cargo_capacity: 130;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        climates_available: param_disable_tobu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        name: string(STR_TRAIN_NAME, string(STR_NAME_TOBU), "8000", string(STR_NAME_SERIES),);
        introduction_date: date(1963, 1, 1);
        vehicle_life: 35;
        model_life: VEHICLE_NEVER_EXPIRES;
        reliability_decay: 10;

        cost_factor: 17;
        running_cost_factor: 47;
        speed: 110 km/h;
        track_type: TR_1067_DC;
        power: 520 kW;
        weight: 36 ton;
        loading_speed: param_loading_4D;
    }
 graphics {
        start_stop: sw_stop_start_2;
        default: sw_tobu8000_lv;
        purchase: tobu8000_purchase;
        can_attach_wagon: tobu8000_attach_vehid;
        cargo_subtype_text:sw_tobu8000_lv_desc;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_5, 2,3,4,6,8)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_TOBU)));

  power: sw_tobu8000_power_main()*4*1342/1000;
        cargo_capacity: sw_tobu8000_capacity_main()*param_capacity_mod/3;
    }
    livery_override(mu_car_narrow){
        loading_speed: param_loading_4D;
        cargo_capacity: sw_tobu8000_capacity_main()*param_capacity_mod/3;
        default: sw_tobu8000_lv;
        power: sw_tobu8000_power_main()*4*1342/1000;
        weight: 35;
      }
}
# 50 "src/_private.pnml" 2
# 1 "src/private/Kanto/tobu/tobu3000.pnml" 1

  spriteset(tobu3000_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu3000/tobu3000_1.png"){ tmpl_purchase_1c(0, 50) }
  spriteset(tobu3000_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu3000/tobu3000_1.png"){ tmpl_purchase_2c(0, 125) }
  switch(FEAT_TRAINS, SELF, tobu3000_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_tobu; 1: tobu3000_purchase_c1; 2: tobu3000_purchase_c2;}

spriteset(tobu3000_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu3000/tobu3000_1.png"){ tmpl_std(0, 0) }
spriteset(tobu3000_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu3000/tobu3000_1.png"){ tmpl_std_rev(0, 25) }
spriteset(tobu3000_1_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu3000/tobu3000_1.png"){ tmpl_std(0, 25) }
spriteset(tobu3000_1_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu3000/tobu3000_1.png"){ tmpl_std(0, 50) }
spriteset(tobu3000_1_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu3000/tobu3000_1.png"){ tmpl_std_rev(0, 75) }
spriteset(tobu3000_1_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu3000/tobu3000_1.png"){ tmpl_std(0, 75) }
spriteset(tobu3000_1_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu3000/tobu3000_1.png"){ tmpl_std(0, 100) }
spriteset(tobu3000_1_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu3000/tobu3000_1.png"){ tmpl_std_rev(0, 100) }
spriteset(tobu3000_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu3000/tobu3000_1.png"){ tmpl_symm(0, 125) }



spriteset(tobu3000_2_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu3000/tobu3000_2.png"){ tmpl_std(0, 0) }
spriteset(tobu3000_2_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu3000/tobu3000_2.png"){ tmpl_std_rev(0, 25) }
spriteset(tobu3000_2_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu3000/tobu3000_2.png"){ tmpl_std(0, 25) }
spriteset(tobu3000_2_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu3000/tobu3000_2.png"){ tmpl_std(0, 50) }
spriteset(tobu3000_2_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu3000/tobu3000_2.png"){ tmpl_std_rev(0, 75) }
spriteset(tobu3000_2_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu3000/tobu3000_2.png"){ tmpl_std(0, 75) }
spriteset(tobu3000_2_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu3000/tobu3000_2.png"){ tmpl_std(0, 100) }
spriteset(tobu3000_2_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu3000/tobu3000_2.png"){ tmpl_std_rev(0, 100) }
spriteset(tobu3000_2_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu3000/tobu3000_2.png"){ tmpl_symm(0, 125) }




switch(FEAT_TRAINS, PARENT, sw_tobu3000_1_front_gfx, vehicle_is_reversed){
    1:tobu3000_1_front;
    tobu3000_1_front_mot;
}


switch(FEAT_TRAINS, PARENT, sw_tobu3000_1_end_gfx, vehicle_is_reversed){
    1:tobu3000_1_end_mot;
    tobu3000_1_end;
}


switch(FEAT_TRAINS, PARENT, sw_tobu3000_1_front_f_gfx, vehicle_is_reversed){
    1:tobu3000_1_end_mot;
    tobu3000_1_end_mot_rev;
}

switch(FEAT_TRAINS, PARENT, sw_tobu3000_1_end_f_gfx, vehicle_is_reversed){
    1:tobu3000_1_end_rev;
    tobu3000_1_end;
}



switch(FEAT_TRAINS, SELF, sw_tobu3000_1_panto_placer_1,position_in_vehid_chain %2){
    1: tobu3000_1_mot;
    tobu3000_1_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu3000_1_panto_placer_1_rev,1-position_in_vehid_chain_from_end %2){
    1: tobu3000_1_mot_rev;
    tobu3000_1_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu3000_1_panto_placer_main,vehicle_is_reversed){
    1: sw_tobu3000_1_panto_placer_1_rev;
    sw_tobu3000_1_panto_placer_1;
}


switch(FEAT_TRAINS, SELF, sw_tobu3000_1_fake_placer,position_in_vehid_chain +1){
    3: sw_tobu3000_1_end_f_gfx;
    4: sw_tobu3000_1_front_f_gfx;
sw_tobu3000_1_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu3000_1_fake_placer_rev,position_in_vehid_chain_from_end ){
    3: sw_tobu3000_1_end_f_gfx;
    4: sw_tobu3000_1_front_f_gfx;
sw_tobu3000_1_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tobu3000_1_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tobu3000_1_fake_placer_rev;
    sw_tobu3000_1_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tobu3000_1_fake_placer_main,num_vehs_in_vehid_chain>7 - 1){
    1: sw_tobu3000_1_fake_placer_gfx;
sw_tobu3000_1_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tobu3000_1_end_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tobu3000_1_end_gfx;
    default: sw_tobu3000_1_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu3000_1_front_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tobu3000_1_front_gfx;
    default: sw_tobu3000_1_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu3000_livery_1,vehicle_type_id){
    mu_car_narrow:sw_tobu3000_1_end_gfx_main;
    sw_tobu3000_1_front_gfx_main;
}




switch(FEAT_TRAINS, PARENT, sw_tobu3000_2_front_gfx, vehicle_is_reversed){
    1:tobu3000_2_front;
    tobu3000_2_front_mot;
}


switch(FEAT_TRAINS, PARENT, sw_tobu3000_2_end_gfx, vehicle_is_reversed){
    1:tobu3000_2_end_mot;
    tobu3000_2_end;
}


switch(FEAT_TRAINS, PARENT, sw_tobu3000_2_front_f_gfx, vehicle_is_reversed){
    1:tobu3000_2_end_mot;
    tobu3000_2_end_mot_rev;
}

switch(FEAT_TRAINS, PARENT, sw_tobu3000_2_end_f_gfx, vehicle_is_reversed){
    1:tobu3000_2_end_rev;
    tobu3000_2_end;
}



switch(FEAT_TRAINS, SELF, sw_tobu3000_2_panto_placer_1,position_in_vehid_chain %2){
    1: tobu3000_2_mot;
    tobu3000_2_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu3000_2_panto_placer_1_rev,1-position_in_vehid_chain_from_end %2){
    1: tobu3000_2_mot_rev;
    tobu3000_2_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu3000_2_panto_placer_main,vehicle_is_reversed){
    1: sw_tobu3000_2_panto_placer_1_rev;
    sw_tobu3000_2_panto_placer_1;
}


switch(FEAT_TRAINS, SELF, sw_tobu3000_2_fake_placer,position_in_vehid_chain +1){
    3: sw_tobu3000_2_end_f_gfx;
    4: sw_tobu3000_2_front_f_gfx;
sw_tobu3000_2_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu3000_2_fake_placer_rev,position_in_vehid_chain_from_end ){
    3: sw_tobu3000_2_end_f_gfx;
    4: sw_tobu3000_2_front_f_gfx;
sw_tobu3000_2_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tobu3000_2_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tobu3000_2_fake_placer_rev;
    sw_tobu3000_2_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tobu3000_2_fake_placer_main,num_vehs_in_vehid_chain>7 - 1){
    1: sw_tobu3000_2_fake_placer_gfx;
sw_tobu3000_2_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tobu3000_2_end_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tobu3000_2_end_gfx;
    default: sw_tobu3000_2_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu3000_2_front_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tobu3000_2_front_gfx;
    default: sw_tobu3000_2_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu3000_livery_2,vehicle_type_id){
    mu_car_narrow:sw_tobu3000_2_end_gfx_main;
    sw_tobu3000_2_front_gfx_main;
}



switch(FEAT_TRAINS, PARENT, sw_tobu3000_livery_0, build_year){
    0..1970:sw_tobu3000_livery_1;
    sw_tobu3000_livery_2;
}

switch(FEAT_TRAINS, PARENT, sw_tobu3000_lv, cargo_subtype){
    0:sw_tobu3000_livery_0;
    1:sw_tobu3000_livery_1;
    2:sw_tobu3000_livery_2;
}

switch(FEAT_TRAINS, SELF, sw_tobu3000_lv_1_desc, cargo_subtype){
    0:string(LV_RANDOM);
    1:string(LV_tobu3000_1);
}

switch(FEAT_TRAINS, SELF, sw_tobu3000_lv_2_desc, cargo_subtype){
    0:string(LV_RANDOM);
    1:string(LV_tobu3000_1);
    2:string(LV_tobu3000_2);
}


switch(FEAT_TRAINS, SELF, sw_tobu3000_lv_desc, current_year){
    0..1970:sw_tobu3000_lv_1_desc;
    sw_tobu3000_lv_2_desc;
}



switch(FEAT_TRAINS, SELF, sw_tobu3000_capacity,position_in_vehid_chain_from_end){
    0: 140;
    default: 150;
}
switch(FEAT_TRAINS, SELF, sw_tobu3000_capacity_1,position_in_vehid_chain_from_end){
    0: 140;
    default: sw_tobu3000_capacity;
}
switch(FEAT_TRAINS, SELF, sw_tobu3000_capacity_main,vehicle_type_id){
    mu_car_narrow:sw_tobu3000_capacity;
    sw_tobu3000_capacity_1;
}


switch(FEAT_TRAINS, SELF, sw_tobu3000_power_0,build_year){
    0..1970: return 388*1342/1000;
    return 440*1342/1000;
}
    switch(FEAT_TRAINS, SELF, sw_tobu3000_head_power,num_vehs_in_consist){
        39: sw_tobu3000_power_0;
        return 0;
    }
switch(FEAT_TRAINS, SELF, sw_tobu3000_power, position_in_vehid_chain %2) {
  1: return 0;
  sw_tobu3000_power_0;
}



switch(FEAT_TRAINS, SELF, tobu3000_attach_vehid, vehicle_type_id) {
  mu_car: return string(STR_ATTACH_1067_ERROR);
  mu_car_metro: return string(STR_ATTACH_1067_ERROR);
  return CB_RESULT_ATTACH_ALLOW;
}

item(FEAT_TRAINS, tobu3000,2070) {
    property {
        cargo_capacity: 130;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        climates_available: param_disable_tobu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        name: string(STR_TRAIN_NAME, string(STR_NAME_TOBU), "3000", string(STR_NAME_SERIES),);
        introduction_date: date(1964, 1, 1);
        vehicle_life: 34;
        model_life: 31;
        reliability_decay: 10;

        cost_factor: 18;
        running_cost_factor: 48;
        speed: 110 km/h;
        track_type: TR_1067_DC;
        power: 388 kW;
        weight: 33 ton;
        loading_speed: param_loading_3D;
    }
 graphics {
        start_stop: sw_stop_start_2;
        default: sw_tobu3000_lv;
        purchase: tobu3000_purchase;
        can_attach_wagon: tobu3000_attach_vehid;
        cargo_subtype_text:sw_tobu3000_lv_desc;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_2, 2,4)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_TOBU)));

  power: sw_tobu3000_head_power;
        cargo_capacity: sw_tobu3000_capacity_main()*param_capacity_mod/3;
    }
    livery_override(mu_car_narrow){
        loading_speed: param_loading_3D;
        cargo_capacity: sw_tobu3000_capacity_main()*param_capacity_mod/3;
        default: sw_tobu3000_lv;
        power: sw_tobu3000_power;
        weight: 33;
      }
}
# 51 "src/_private.pnml" 2
# 1 "src/private/Kanto/tobu/tobu5000.pnml" 1

  spriteset(tobu5000_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_5.png"){ tmpl_purchase_1c(0, 50) }
  spriteset(tobu5000_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_5.png"){ tmpl_purchase_2c(0, 150) }
  switch(FEAT_TRAINS, SELF, tobu5000_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_tobu; 1: tobu5000_purchase_c1; 2: tobu5000_purchase_c2;}

spriteset(tobu5000_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_1.png"){ tmpl_std(0, 0) }
spriteset(tobu5000_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_1.png"){ tmpl_std_rev(0, 25) }
spriteset(tobu5000_1_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_1.png"){ tmpl_std(0, 25) }
spriteset(tobu5000_1_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_1.png"){ tmpl_std(0, 50) }
spriteset(tobu5000_1_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_1.png"){ tmpl_std_rev(0, 75) }
spriteset(tobu5000_1_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_1.png"){ tmpl_std(0, 75) }
spriteset(tobu5000_1_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_1.png"){ tmpl_std(0, 100) }
spriteset(tobu5000_1_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_1.png"){ tmpl_std_rev(0, 100) }
spriteset(tobu5000_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_1.png"){ tmpl_symm(0, 150) }



spriteset(tobu5000_1_ac_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_1_ac.png"){ tmpl_std(0, 0) }
spriteset(tobu5000_1_ac_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_1_ac.png"){ tmpl_std_rev(0, 25) }
spriteset(tobu5000_1_ac_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_1_ac.png"){ tmpl_std(0, 25) }
spriteset(tobu5000_1_ac_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_1_ac.png"){ tmpl_std(0, 50) }
spriteset(tobu5000_1_ac_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_1_ac.png"){ tmpl_std_rev(0, 75) }
spriteset(tobu5000_1_ac_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_1_ac.png"){ tmpl_std(0, 75) }
spriteset(tobu5000_1_ac_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_1_ac.png"){ tmpl_std(0, 100) }
spriteset(tobu5000_1_ac_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_1_ac.png"){ tmpl_std_rev(0, 100) }
spriteset(tobu5000_1_ac_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_1_ac.png"){ tmpl_symm(0, 150) }



spriteset(tobu5000_2_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_5.png"){ tmpl_std(0, 0) }
spriteset(tobu5000_2_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_5.png"){ tmpl_std_rev(0, 25) }
spriteset(tobu5000_2_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_5.png"){ tmpl_std(0, 25) }
spriteset(tobu5000_2_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_5.png"){ tmpl_std(0, 50) }
spriteset(tobu5000_2_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_5.png"){ tmpl_std_rev(0, 75) }
spriteset(tobu5000_2_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_5.png"){ tmpl_std(0, 75) }
spriteset(tobu5000_2_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_5.png"){ tmpl_std(0, 100) }
spriteset(tobu5000_2_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_5.png"){ tmpl_std_rev(0, 100) }
spriteset(tobu5000_2_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu8000/tobu8000_5.png"){ tmpl_symm(0, 150) }




switch(FEAT_TRAINS, PARENT, sw_tobu5000_1_front_gfx, vehicle_is_reversed){
    1:tobu5000_1_front;
    tobu5000_1_front_mot;
}

switch(FEAT_TRAINS, PARENT, sw_tobu5000_1_end_gfx, vehicle_is_reversed){
    1:tobu5000_1_end_mot;
    tobu5000_1_end;
}


switch(FEAT_TRAINS, PARENT, sw_tobu5000_1_front_f_gfx, vehicle_is_reversed){
    1:tobu5000_1_end_mot;
    tobu5000_1_end_mot_rev;
}

switch(FEAT_TRAINS, PARENT, sw_tobu5000_1_end_f_gfx, vehicle_is_reversed){
    1:tobu5000_1_end_rev;
    tobu5000_1_end;
}


switch(FEAT_TRAINS, SELF, sw_tobu5000_1_panto_placer_1,position_in_vehid_chain %2){
    1: tobu5000_1_mot;
    tobu5000_1_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu5000_1_panto_placer_1_rev,1-position_in_vehid_chain_from_end %2){
    1: tobu5000_1_mot_rev;
    tobu5000_1_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu5000_1_panto_placer_main,vehicle_is_reversed){
    1: sw_tobu5000_1_panto_placer_1_rev;
    sw_tobu5000_1_panto_placer_1;
}


switch(FEAT_TRAINS, SELF, sw_tobu5000_1_fake_placer,position_in_vehid_chain +1){
    5: sw_tobu5000_1_end_f_gfx;
    6: sw_tobu5000_1_front_f_gfx;
sw_tobu5000_1_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu5000_1_fake_placer_rev,position_in_vehid_chain_from_end ){
    5: sw_tobu5000_1_end_f_gfx;
    6: sw_tobu5000_1_front_f_gfx;
sw_tobu5000_1_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tobu5000_1_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tobu5000_1_fake_placer_rev;
    sw_tobu5000_1_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tobu5000_1_fake_placer_main,num_vehs_in_vehid_chain>7 - 1){
    1: sw_tobu5000_1_fake_placer_gfx;
sw_tobu5000_1_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tobu5000_1_end_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tobu5000_1_end_gfx;
    default: sw_tobu5000_1_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu5000_1_front_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tobu5000_1_front_gfx;
    default: sw_tobu5000_1_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu5000_livery_1_0,vehicle_type_id){
    mu_car_narrow:sw_tobu5000_1_end_gfx_main;
    sw_tobu5000_1_front_gfx_main;
}




switch(FEAT_TRAINS, PARENT, sw_tobu5000_1_ac_front_gfx, vehicle_is_reversed){
    1:tobu5000_1_ac_front;
    tobu5000_1_ac_front_mot;
}

switch(FEAT_TRAINS, PARENT, sw_tobu5000_1_ac_end_gfx, vehicle_is_reversed){
    1:tobu5000_1_ac_end_mot;
    tobu5000_1_ac_end;
}


switch(FEAT_TRAINS, PARENT, sw_tobu5000_1_ac_front_f_gfx, vehicle_is_reversed){
    1:tobu5000_1_ac_end_mot;
    tobu5000_1_ac_end_mot_rev;
}

switch(FEAT_TRAINS, PARENT, sw_tobu5000_1_ac_end_f_gfx, vehicle_is_reversed){
    1:tobu5000_1_ac_end_rev;
    tobu5000_1_ac_end;
}


switch(FEAT_TRAINS, SELF, sw_tobu5000_1_ac_panto_placer_1,position_in_vehid_chain %2){
    1: tobu5000_1_ac_mot;
    tobu5000_1_ac_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu5000_1_ac_panto_placer_1_rev,1-position_in_vehid_chain_from_end %2){
    1: tobu5000_1_ac_mot_rev;
    tobu5000_1_ac_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu5000_1_ac_panto_placer_main,vehicle_is_reversed){
    1: sw_tobu5000_1_ac_panto_placer_1_rev;
    sw_tobu5000_1_ac_panto_placer_1;
}

switch(FEAT_TRAINS, SELF, sw_tobu5000_1_ac_fake_placer,position_in_vehid_chain +1){
    5: sw_tobu5000_1_ac_end_f_gfx;
    6: sw_tobu5000_1_ac_front_f_gfx;
sw_tobu5000_1_ac_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu5000_1_ac_fake_placer_rev,position_in_vehid_chain_from_end ){
    5: sw_tobu5000_1_ac_end_f_gfx;
    6: sw_tobu5000_1_ac_front_f_gfx;
sw_tobu5000_1_ac_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tobu5000_1_ac_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tobu5000_1_ac_fake_placer_rev;
    sw_tobu5000_1_ac_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tobu5000_1_ac_fake_placer_main,num_vehs_in_vehid_chain>7 - 1){
    1: sw_tobu5000_1_ac_fake_placer_gfx;
sw_tobu5000_1_ac_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tobu5000_1_ac_end_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tobu5000_1_ac_end_gfx;
    default: sw_tobu5000_1_ac_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu5000_1_ac_front_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tobu5000_1_ac_front_gfx;
    default: sw_tobu5000_1_ac_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu5000_livery_1_1,vehicle_type_id){
    mu_car_narrow:sw_tobu5000_1_ac_end_gfx_main;
    sw_tobu5000_1_ac_front_gfx_main;
}


switch(FEAT_TRAINS, SELF, sw_tobu5000_livery_1,current_year){
    0..1982:sw_tobu5000_livery_1_0;
    sw_tobu5000_livery_1_1;
}




switch(FEAT_TRAINS, PARENT, sw_tobu5000_2_front_gfx, vehicle_is_reversed){
    1:tobu5000_2_front;
    tobu5000_2_front_mot;
}

switch(FEAT_TRAINS, PARENT, sw_tobu5000_2_end_gfx, vehicle_is_reversed){
    1:tobu5000_2_end_mot;
    tobu5000_2_end;
}


switch(FEAT_TRAINS, PARENT, sw_tobu5000_2_front_f_gfx, vehicle_is_reversed){
    1:tobu5000_2_end_mot;
    tobu5000_2_end_mot_rev;
}

switch(FEAT_TRAINS, PARENT, sw_tobu5000_2_end_f_gfx, vehicle_is_reversed){
    1:tobu5000_2_end_rev;
    tobu5000_2_end;
}


switch(FEAT_TRAINS, SELF, sw_tobu5000_2_panto_placer_1,position_in_vehid_chain %2){
    1: tobu5000_2_mot;
    tobu5000_2_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu5000_2_panto_placer_1_rev,1-position_in_vehid_chain_from_end %2){
    1: tobu5000_2_mot_rev;
    tobu5000_2_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu5000_2_panto_placer_main,vehicle_is_reversed){
    1: sw_tobu5000_2_panto_placer_1_rev;
    sw_tobu5000_2_panto_placer_1;
}

switch(FEAT_TRAINS, SELF, sw_tobu5000_2_fake_placer,position_in_vehid_chain +1){
    5: sw_tobu5000_2_end_f_gfx;
    6: sw_tobu5000_2_front_f_gfx;
sw_tobu5000_2_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu5000_2_fake_placer_rev,position_in_vehid_chain_from_end ){
    5: sw_tobu5000_2_end_f_gfx;
    6: sw_tobu5000_2_front_f_gfx;
sw_tobu5000_2_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tobu5000_2_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tobu5000_2_fake_placer_rev;
    sw_tobu5000_2_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tobu5000_2_fake_placer_main,num_vehs_in_vehid_chain>7 - 1){
    1: sw_tobu5000_2_fake_placer_gfx;
sw_tobu5000_2_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tobu5000_2_end_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tobu5000_2_end_gfx;
    default: sw_tobu5000_2_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu5000_2_front_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tobu5000_2_front_gfx;
    default: sw_tobu5000_2_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu5000_livery_2,vehicle_type_id){
    mu_car_narrow:sw_tobu5000_2_end_gfx_main;
    sw_tobu5000_2_front_gfx_main;
}






switch(FEAT_TRAINS, SELF, sw_tobu5000_livery_0, build_year){
    0..1979: sw_tobu5000_livery_1;
    sw_tobu5000_livery_2;
}

switch(FEAT_TRAINS, PARENT, sw_tobu5000_lv, cargo_subtype){
    0:sw_tobu5000_livery_0;
    1:sw_tobu5000_livery_1;
    2:sw_tobu5000_livery_2;
}

switch(FEAT_TRAINS, SELF, sw_tobu5000_lv_1_desc, cargo_subtype){
    0:string(LV_RANDOM);
    1:string(LV_tobu8000_1);
}

switch(FEAT_TRAINS, SELF, sw_tobu5000_lv_2_desc, cargo_subtype){
    0:string(LV_RANDOM);
    1:string(LV_tobu8000_1);
    2:string(LV_tobu8000_5);
}

switch(FEAT_TRAINS, SELF, sw_tobu5000_lv_desc, current_year){
    0..1979:sw_tobu5000_lv_1_desc;
    sw_tobu5000_lv_2_desc;
}



switch(FEAT_TRAINS, SELF, sw_tobu5000_capacity,position_in_vehid_chain_from_end){
    0: 150;
    default: 170;
}
switch(FEAT_TRAINS, SELF, sw_tobu5000_capacity_1,position_in_vehid_chain){
    0: 150;
    default: sw_tobu5000_capacity;
}
switch(FEAT_TRAINS, SELF, sw_tobu5000_capacity_main,vehicle_type_id){
    mu_car_narrow:sw_tobu5000_capacity;
    sw_tobu5000_capacity_1;
}


switch(FEAT_TRAINS, SELF, tobu5000_power, position_in_vehid_chain %2) {
  1: return 520*1342/1000;
  return 0;
}


switch(FEAT_TRAINS, SELF, tobu5000_attach_vehid, vehicle_type_id) {
  mu_car: return string(STR_ATTACH_1067_ERROR);
  mu_car_metro: return string(STR_ATTACH_1067_ERROR);
  return CB_RESULT_ATTACH_ALLOW;
}

item(FEAT_TRAINS, tobu5000,2071) {
    property {
        cargo_capacity: 130;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        climates_available: param_disable_tobu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        name: string(STR_TRAIN_NAME, string(STR_NAME_TOBU), "5000", string(STR_NAME_SERIES),);
        introduction_date: date(1979, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 35;
        reliability_decay: 10;

        cost_factor: 16;
        running_cost_factor: 46;
        speed: 110 km/h;
        track_type: TR_1067_DC;
        power: 520 kW;
        weight: 36 ton;
        loading_speed: param_loading_4D;
    }
 graphics {
        start_stop: sw_stop_start_2;
        default: sw_tobu5000_lv;
        purchase: tobu5000_purchase;
        can_attach_wagon: tobu5000_attach_vehid;
        cargo_subtype_text:sw_tobu5000_lv_desc;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_3, 2,4,6)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_TOBU)));
        cargo_capacity: sw_tobu5000_capacity_main()*param_capacity_mod/3;
    }
    livery_override(mu_car_narrow){
        loading_speed: param_loading_4D;
        cargo_capacity: sw_tobu5000_capacity_main()*param_capacity_mod/3;
        default: sw_tobu5000_lv;
        power: tobu5000_power;
        weight: 35;
      }
}
# 52 "src/_private.pnml" 2
# 1 "src/private/Kanto/tobu/tobu9000.pnml" 1

  spriteset(tobu9000_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu9000/tobu9000.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(tobu9000_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu9000/tobu9000.png"){ tmpl_purchase_2c(88, 50) }
  switch(FEAT_TRAINS, SELF, tobu9000_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_tobu; 1: tobu9000_purchase_c1; 2: tobu9000_purchase_c2;}

spriteset(tobu9000_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu9000/tobu9000.png"){ tmpl_std(0, 0) }
spriteset(tobu9000_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu9000/tobu9000.png"){ tmpl_std_rev(0, 25) }
spriteset(tobu9000_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu9000/tobu9000.png"){ tmpl_std(0, 50) }
spriteset(tobu9000_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu9000/tobu9000.png"){ tmpl_std_rev(0, 50) }
spriteset(tobu9000_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu9000/tobu9000.png"){ tmpl_symm(0, 75) }
spriteset(tobu9000_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu9000/tobu9000.png"){ tmpl_std_rev(0, 100) }
spriteset(tobu9000_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu9000/tobu9000.png"){ tmpl_std(0, 100) }



spriteset(tobu9050_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu9000/tobu9050.png"){ tmpl_std(0, 0) }
spriteset(tobu9050_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu9000/tobu9050.png"){ tmpl_std_rev(0, 25) }
spriteset(tobu9050_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu9000/tobu9050.png"){ tmpl_std(0, 50) }
spriteset(tobu9050_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu9000/tobu9050.png"){ tmpl_std_rev(0, 50) }
spriteset(tobu9050_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu9000/tobu9050.png"){ tmpl_symm(0, 75) }
spriteset(tobu9050_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu9000/tobu9050.png"){ tmpl_std_rev(0, 100) }
spriteset(tobu9050_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu9000/tobu9050.png"){ tmpl_std(0, 100) }





switch(FEAT_TRAINS, SELF, sw_tobu9000_panto_placer_1,position_in_vehid_chain %3){
    0: tobu9000_mot;
    tobu9000_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu9000_panto_placer_1_rev,1-position_in_vehid_chain_from_end %3){
    0: tobu9000_mot_rev;
    tobu9000_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu9000_panto_placer_main_1,vehicle_is_reversed){
    1: sw_tobu9000_panto_placer_1_rev;
    sw_tobu9000_panto_placer_1;
}

switch(FEAT_TRAINS, SELF, sw_tobu9000_panto_placer_2,position_in_vehid_chain %2){
    0: tobu9000_mot;
    tobu9000_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu9000_panto_placer_2_rev,1-position_in_vehid_chain_from_end %2){
    0: tobu9000_mot_rev;
    tobu9000_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu9000_panto_placer_main_2,vehicle_is_reversed){
    1: sw_tobu9000_panto_placer_2_rev;
    sw_tobu9000_panto_placer_2;
}

switch(FEAT_TRAINS, SELF, sw_tobu9000_panto_placer_main,num_vehs_in_vehid_chain+1){
    5:sw_tobu9000_panto_placer_main_2;
    8:sw_tobu9000_panto_placer_main_2;
    sw_tobu9000_panto_placer_main_1;
}


switch(FEAT_TRAINS, SELF, sw_tobu9000_fake_placer,position_in_vehid_chain +1){
    5: tobu9000_front_f;
    6: tobu9000_end_f;
sw_tobu9000_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu9000_fake_placer_rev,position_in_vehid_chain_from_end ){
    5: tobu9000_end_f;
    6: tobu9000_front_f;
sw_tobu9000_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tobu9000_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tobu9000_fake_placer_rev;
    sw_tobu9000_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tobu9000_fake_placer_main,num_vehs_in_vehid_chain>10 - 1){
    1: sw_tobu9000_fake_placer_gfx;
sw_tobu9000_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tobu9000_end_gfx_main,position_in_vehid_chain_from_end){
    0: tobu9000_end;
    default: sw_tobu9000_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu9000_front_gfx_main,position_in_vehid_chain_from_end){
    0: tobu9000_front;
    default: sw_tobu9000_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu9000_livery_1,vehicle_type_id){
    mu_car_narrow:sw_tobu9000_end_gfx_main;
    sw_tobu9000_front_gfx_main;
}




switch(FEAT_TRAINS, SELF, sw_tobu9050_panto_placer_1,position_in_vehid_chain %3){
    0: tobu9050_mot;
    tobu9050_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu9050_panto_placer_1_rev,1-position_in_vehid_chain_from_end %3){
    0: tobu9050_mot_rev;
    tobu9050_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu9050_panto_placer_main_1,vehicle_is_reversed){
    1: sw_tobu9050_panto_placer_1_rev;
    sw_tobu9050_panto_placer_1;
}

switch(FEAT_TRAINS, SELF, sw_tobu9050_panto_placer_2,position_in_vehid_chain %2){
    0: tobu9050_mot;
    tobu9050_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu9050_panto_placer_2_rev,1-position_in_vehid_chain_from_end %2){
    0: tobu9050_mot_rev;
    tobu9050_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu9050_panto_placer_main_2,vehicle_is_reversed){
    1: sw_tobu9050_panto_placer_2_rev;
    sw_tobu9050_panto_placer_2;
}

switch(FEAT_TRAINS, SELF, sw_tobu9050_panto_placer_main,num_vehs_in_vehid_chain+1){
    5:sw_tobu9050_panto_placer_main_2;
    8:sw_tobu9050_panto_placer_main_2;
    sw_tobu9050_panto_placer_main_1;
}


switch(FEAT_TRAINS, SELF, sw_tobu9050_fake_placer,position_in_vehid_chain +1){
    5: tobu9050_front_f;
    6: tobu9050_end_f;
sw_tobu9050_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu9050_fake_placer_rev,position_in_vehid_chain_from_end ){
    5: tobu9050_end_f;
    6: tobu9050_front_f;
sw_tobu9050_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tobu9050_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tobu9050_fake_placer_rev;
    sw_tobu9050_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tobu9050_fake_placer_main,num_vehs_in_vehid_chain>10 - 1){
    1: sw_tobu9050_fake_placer_gfx;
sw_tobu9050_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tobu9050_end_gfx_main,position_in_vehid_chain_from_end){
    0: tobu9050_end;
    default: sw_tobu9050_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu9050_front_gfx_main,position_in_vehid_chain_from_end){
    0: tobu9050_front;
    default: sw_tobu9050_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu9050_livery_1,vehicle_type_id){
    mu_car_narrow:sw_tobu9050_end_gfx_main;
    sw_tobu9050_front_gfx_main;
}



switch(FEAT_TRAINS, SELF, sw_tobu9000_livery_0, build_year){
    0..1993:sw_tobu9000_livery_1;
    sw_tobu9050_livery_1;
}

switch(FEAT_TRAINS, PARENT, sw_tobu9000_lv, cargo_subtype){
    0:sw_tobu9000_livery_0;
    1:sw_tobu9000_livery_1;
    2:sw_tobu9050_livery_1;
}

switch(FEAT_TRAINS, SELF, sw_tobu9000_lv_1_desc, cargo_subtype){
    0:string(LV_RANDOM);
    1:string(LV_tobu9000_1);
}
switch(FEAT_TRAINS, SELF, sw_tobu9000_lv_2_desc, cargo_subtype){
    0:string(LV_RANDOM);
    1:string(LV_tobu9000_1);
    2:string(
        STR_CONCAT_2,
        string(LV_tobu9050_1),
        string(STR_CAP));
}
switch(FEAT_TRAINS, SELF, sw_tobu9000_lv_desc, current_year){
    0..1993:sw_tobu9000_lv_1_desc;
    sw_tobu9000_lv_2_desc;
}


switch(FEAT_TRAINS, SELF, sw_tobu9000_capacity,position_in_vehid_chain_from_end){
    0: 136;
    default: 144;
}
switch(FEAT_TRAINS, SELF, sw_tobu9000_capacity_1,position_in_vehid_chain){
    0: 136;
    default: sw_tobu9000_capacity;
}
switch(FEAT_TRAINS, SELF, sw_tobu9000_capacity_main,vehicle_type_id){
    mu_car_narrow:sw_tobu9000_capacity;
    sw_tobu9000_capacity_1;
}

switch(FEAT_TRAINS, SELF, sw_tobu9050_capacity,position_in_vehid_chain_from_end){
    0: 141;
    default: 152;
}
switch(FEAT_TRAINS, SELF, sw_tobu9050_capacity_1,position_in_vehid_chain){
    0: 141;
    default: sw_tobu9050_capacity;
}
switch(FEAT_TRAINS, SELF, sw_tobu9050_capacity_main,vehicle_type_id){
    mu_car_narrow:sw_tobu9050_capacity;
    sw_tobu9050_capacity_1;
}

switch(FEAT_TRAINS, PARENT, sw_tobu9000_capacity_0, build_year){
    0..1993:sw_tobu9000_capacity_main;
    sw_tobu9050_capacity_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu9000_capacity_main_1, cargo_subtype){
    0:sw_tobu9000_capacity_0;
    1:sw_tobu9000_capacity_main;
    2:sw_tobu9050_capacity_main;
}



switch(FEAT_TRAINS, SELF, tobu9000_attach_vehid, vehicle_type_id) {
  mu_car: return string(STR_ATTACH_1067_ERROR);
  mu_car_metro: return string(STR_ATTACH_1067_ERROR);
  return CB_RESULT_ATTACH_ALLOW;
}

item(FEAT_TRAINS, tobu9000,2072) {
    property {
        cargo_capacity: 130;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        climates_available: param_disable_tobu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        name: string(STR_TRAIN_NAME, string(STR_NAME_TOBU), "9000", string(STR_NAME_SERIES),);
        introduction_date: date(1981, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 35;
        reliability_decay: 10;

        cost_factor: 20;
        running_cost_factor: 50;
        speed: 110 km/h;
        track_type: TR_1067_DC;
        power: 600 kW;
        weight: 33 ton;
        loading_speed: param_loading_4D;
    }
 graphics {
        start_stop: sw_stop_start_3;
        default: sw_tobu9000_lv;
        purchase: tobu9000_purchase;
        can_attach_wagon: tobu9000_attach_vehid;
        cargo_subtype_text:sw_tobu9000_lv_desc;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 10)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_TOBU)));
        cargo_capacity: sw_tobu9000_capacity_main_1()*param_capacity_mod/3;
    }
    livery_override(mu_car_narrow){
        loading_speed: param_loading_4D;
        cargo_capacity: sw_tobu9000_capacity_main_1()*param_capacity_mod/3;
        default: sw_tobu9000_lv;
        power: 600*5*1342/9000;
        weight: 34;
      }
}
# 53 "src/_private.pnml" 2
# 1 "src/private/Kanto/tobu/tobu10000.pnml" 1

  spriteset(tobu10000_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu10000/tobu10000.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(tobu10000_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu10000/tobu10000.png"){ tmpl_purchase_2c(0, 100) }
  switch(FEAT_TRAINS, SELF, tobu10000_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_tobu; 1: tobu10000_purchase_c1; 2: tobu10000_purchase_c2;}

spriteset(tobu10000_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu10000/tobu10000.png"){ tmpl_std(0, 0) }
spriteset(tobu10000_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu10000/tobu10000.png"){ tmpl_std_rev(0, 25) }
spriteset(tobu10000_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu10000/tobu10000.png"){ tmpl_std(0, 50) }
spriteset(tobu10000_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu10000/tobu10000.png"){ tmpl_std_rev(0, 75) }
spriteset(tobu10000_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu10000/tobu10000.png"){ tmpl_symm(0, 100) }
spriteset(tobu10000_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu10000/tobu10000.png"){ tmpl_symm(0, 125) }
spriteset(tobu10000_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu10000/tobu10000.png"){ tmpl_std_rev(0, 150) }
spriteset(tobu10000_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu10000/tobu10000.png"){ tmpl_std(0, 150) }



spriteset(tobu10030_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu10000/tobu10030.png"){ tmpl_std(0, 0) }
spriteset(tobu10030_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu10000/tobu10030.png"){ tmpl_std_rev(0, 25) }
spriteset(tobu10030_1_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu10000/tobu10030.png"){ tmpl_std(0, 50) }
spriteset(tobu10030_1_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu10000/tobu10030.png"){ tmpl_std_rev(0, 75) }
spriteset(tobu10030_1_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu10000/tobu10030.png"){ tmpl_symm(0, 100) }
spriteset(tobu10030_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu10000/tobu10030.png"){ tmpl_symm(0, 125) }
spriteset(tobu10030_1_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu10000/tobu10030.png"){ tmpl_std_rev(0, 150) }
spriteset(tobu10030_1_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu10000/tobu10030.png"){ tmpl_std(0, 150) }



spriteset(tobu10030_2_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu10000/tobu10030_1.png"){ tmpl_std(0, 0) }
spriteset(tobu10030_2_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu10000/tobu10030_1.png"){ tmpl_std_rev(0, 25) }
spriteset(tobu10030_2_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu10000/tobu10030_1.png"){ tmpl_std(0, 50) }
spriteset(tobu10030_2_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu10000/tobu10030_1.png"){ tmpl_std_rev(0, 75) }
spriteset(tobu10030_2_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu10000/tobu10030_1.png"){ tmpl_symm(0, 100) }
spriteset(tobu10030_2_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu10000/tobu10030_1.png"){ tmpl_symm(0, 125) }
spriteset(tobu10030_2_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu10000/tobu10030_1.png"){ tmpl_std_rev(0, 150) }
spriteset(tobu10030_2_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu10000/tobu10030_1.png"){ tmpl_std(0, 150) }





switch(FEAT_TRAINS, PARENT, sw_tobu10000_front_gfx_0, vehicle_is_reversed){
    1:tobu10000_front;
    tobu10000_front_mot;
}
switch(FEAT_TRAINS, SELF, sw_tobu10000_front_gfx, num_vehs_in_consist){
    2:sw_tobu10000_front_gfx_0;
    tobu10000_front;
}

switch(FEAT_TRAINS, PARENT, sw_tobu10000_end_gfx_0, vehicle_is_reversed){
    1:tobu10000_end_mot;
    tobu10000_end;
}
switch(FEAT_TRAINS, SELF, sw_tobu10000_end_gfx, num_vehs_in_consist){
    2:sw_tobu10000_end_gfx_0;
    tobu10000_end;
}



switch(FEAT_TRAINS, SELF, sw_tobu10000_panto_placer_1,position_in_vehid_chain %3){
    0: tobu10000_mot;
    tobu10000_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu10000_panto_placer_1_rev,1-position_in_vehid_chain_from_end %3){
    0: tobu10000_mot;
    tobu10000_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu10000_panto_placer_main_1,vehicle_is_reversed){
    1: sw_tobu10000_panto_placer_1_rev;
    sw_tobu10000_panto_placer_1;
}

switch(FEAT_TRAINS, SELF, sw_tobu10000_panto_placer_2,position_in_vehid_chain %4){
    1: tobu10000_mot;
    tobu10000_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu10000_panto_placer_2_rev,1-position_in_vehid_chain_from_end %4){
    1: tobu10000_mot;
    tobu10000_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu10000_panto_placer_main_2,vehicle_is_reversed){
    1: sw_tobu10000_panto_placer_2_rev;
    sw_tobu10000_panto_placer_2;
}

switch(FEAT_TRAINS, SELF, sw_tobu10000_panto_placer_main,num_vehs_in_vehid_chain+1){
    5:sw_tobu10000_panto_placer_main_2;
    8:sw_tobu10000_panto_placer_main_2;
    sw_tobu10000_panto_placer_main_1;
}


switch(FEAT_TRAINS, SELF, sw_tobu10000_fake_placer,position_in_vehid_chain +1){
    5: tobu10000_front_f;
    6: tobu10000_end_f;
sw_tobu10000_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu10000_fake_placer_rev,position_in_vehid_chain_from_end ){
    5: tobu10000_end_f;
    6: tobu10000_front_f;
sw_tobu10000_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tobu10000_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tobu10000_fake_placer_rev;
    sw_tobu10000_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tobu10000_fake_placer_main,num_vehs_in_vehid_chain>10 - 1){
    1: sw_tobu10000_fake_placer_gfx;
sw_tobu10000_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tobu10000_end_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tobu10000_end_gfx;
    default: sw_tobu10000_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu10000_front_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tobu10000_front_gfx;
    default: sw_tobu10000_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu10000_livery_1,vehicle_type_id){
    mu_car_narrow:sw_tobu10000_end_gfx_main;
    sw_tobu10000_front_gfx_main;
}




switch(FEAT_TRAINS, PARENT, sw_tobu10030_1_front_gfx_0, vehicle_is_reversed){
    1:tobu10030_1_front;
    tobu10030_1_front_mot;
}
switch(FEAT_TRAINS, SELF, sw_tobu10030_1_front_gfx, num_vehs_in_consist){
    2:sw_tobu10030_1_front_gfx_0;
    tobu10030_1_front;
}

switch(FEAT_TRAINS, PARENT, sw_tobu10030_1_end_gfx_0, vehicle_is_reversed){
    1:tobu10030_1_end_mot;
    tobu10030_1_end;
}
switch(FEAT_TRAINS, SELF, sw_tobu10030_1_end_gfx, num_vehs_in_consist){
    2:sw_tobu10030_1_end_gfx_0;
    tobu10030_1_end;
}



switch(FEAT_TRAINS, SELF, sw_tobu10030_1_panto_placer_1,position_in_vehid_chain %3){
    0: tobu10030_1_mot;
    tobu10030_1_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu10030_1_panto_placer_1_rev,1-position_in_vehid_chain_from_end %3){
    0: tobu10030_1_mot;
    tobu10030_1_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu10030_1_panto_placer_main_1,vehicle_is_reversed){
    1: sw_tobu10030_1_panto_placer_1_rev;
    sw_tobu10030_1_panto_placer_1;
}

switch(FEAT_TRAINS, SELF, sw_tobu10030_1_panto_placer_2,position_in_vehid_chain %4){
    1: tobu10030_1_mot;
    tobu10030_1_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu10030_1_panto_placer_2_rev,1-position_in_vehid_chain_from_end %4){
    1: tobu10030_1_mot;
    tobu10030_1_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu10030_1_panto_placer_main_2,vehicle_is_reversed){
    1: sw_tobu10030_1_panto_placer_2_rev;
    sw_tobu10030_1_panto_placer_2;
}

switch(FEAT_TRAINS, SELF, sw_tobu10030_1_panto_placer_main,num_vehs_in_vehid_chain+1){
    5:sw_tobu10030_1_panto_placer_main_2;
    8:sw_tobu10030_1_panto_placer_main_2;
    sw_tobu10030_1_panto_placer_main_1;
}


switch(FEAT_TRAINS, SELF, sw_tobu10030_1_fake_placer,position_in_vehid_chain +1){
    5: tobu10030_1_front_f;
    6: tobu10030_1_end_f;
sw_tobu10030_1_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu10030_1_fake_placer_rev,position_in_vehid_chain_from_end ){
    5: tobu10030_1_end_f;
    6: tobu10030_1_front_f;
sw_tobu10030_1_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tobu10030_1_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tobu10030_1_fake_placer_rev;
    sw_tobu10030_1_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tobu10030_1_fake_placer_main,num_vehs_in_vehid_chain>10 - 1){
    1: sw_tobu10030_1_fake_placer_gfx;
sw_tobu10030_1_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tobu10030_1_end_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tobu10030_1_end_gfx;
    default: sw_tobu10030_1_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu10030_1_front_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tobu10030_1_front_gfx;
    default: sw_tobu10030_1_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu10030_livery_1,vehicle_type_id){
    mu_car_narrow:sw_tobu10030_1_end_gfx_main;
    sw_tobu10030_1_front_gfx_main;
}




switch(FEAT_TRAINS, PARENT, sw_tobu10030_2_front_gfx_0, vehicle_is_reversed){
    1:tobu10030_2_front;
    tobu10030_2_front_mot;
}
switch(FEAT_TRAINS, SELF, sw_tobu10030_2_front_gfx, num_vehs_in_consist){
    2:sw_tobu10030_2_front_gfx_0;
    tobu10030_2_front;
}

switch(FEAT_TRAINS, PARENT, sw_tobu10030_2_end_gfx_0, vehicle_is_reversed){
    1:tobu10030_2_end_mot;
    tobu10030_2_end;
}
switch(FEAT_TRAINS, SELF, sw_tobu10030_2_end_gfx, num_vehs_in_consist){
    2:sw_tobu10030_2_end_gfx_0;
    tobu10030_2_end;
}



switch(FEAT_TRAINS, SELF, sw_tobu10030_2_panto_placer_1,position_in_vehid_chain %3){
    0: tobu10030_2_mot;
    tobu10030_2_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu10030_2_panto_placer_1_rev,1-position_in_vehid_chain_from_end %3){
    0: tobu10030_2_mot;
    tobu10030_2_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu10030_2_panto_placer_main_1,vehicle_is_reversed){
    1: sw_tobu10030_2_panto_placer_1_rev;
    sw_tobu10030_2_panto_placer_1;
}

switch(FEAT_TRAINS, SELF, sw_tobu10030_2_panto_placer_2,position_in_vehid_chain %4){
    1: tobu10030_2_mot;
    tobu10030_2_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu10030_2_panto_placer_2_rev,1-position_in_vehid_chain_from_end %4){
    1: tobu10030_2_mot;
    tobu10030_2_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu10030_2_panto_placer_main_2,vehicle_is_reversed){
    1: sw_tobu10030_2_panto_placer_2_rev;
    sw_tobu10030_2_panto_placer_2;
}

switch(FEAT_TRAINS, SELF, sw_tobu10030_2_panto_placer_main,num_vehs_in_vehid_chain+1){
    5:sw_tobu10030_2_panto_placer_main_2;
    8:sw_tobu10030_2_panto_placer_main_2;
    sw_tobu10030_2_panto_placer_main_1;
}


switch(FEAT_TRAINS, SELF, sw_tobu10030_2_fake_placer,position_in_vehid_chain +1){
    5: tobu10030_2_front_f;
    6: tobu10030_2_end_f;
sw_tobu10030_2_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu10030_2_fake_placer_rev,position_in_vehid_chain_from_end ){
    5: tobu10030_2_end_f;
    6: tobu10030_2_front_f;
sw_tobu10030_2_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tobu10030_2_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tobu10030_2_fake_placer_rev;
    sw_tobu10030_2_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tobu10030_2_fake_placer_main,num_vehs_in_vehid_chain>10 - 1){
    1: sw_tobu10030_2_fake_placer_gfx;
sw_tobu10030_2_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tobu10030_2_end_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tobu10030_2_end_gfx;
    default: sw_tobu10030_2_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu10030_2_front_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tobu10030_2_front_gfx;
    default: sw_tobu10030_2_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu10030_livery_2,vehicle_type_id){
    mu_car_narrow:sw_tobu10030_2_end_gfx_main;
    sw_tobu10030_2_front_gfx_main;
}



switch(FEAT_TRAINS, SELF, sw_tobu10000_livery_0,build_year){
    0..1988: sw_tobu10000_livery_1;
    sw_tobu10030_livery_1;
}

switch(FEAT_TRAINS, PARENT, sw_tobu10000_lv, cargo_subtype){
    0: sw_tobu10000_livery_0;
    1: sw_tobu10000_livery_1;
    2: sw_tobu10030_livery_1;
    3: sw_tobu10030_livery_2;
}

switch(FEAT_TRAINS, SELF, sw_tobu10000_lv_1_desc,cargo_subtype){
    0: string(LV_RANDOM);
    1: string(LV_tobu10000_1);
}

switch(FEAT_TRAINS, SELF, sw_tobu10000_lv_2_desc,cargo_subtype){
    0: string(LV_RANDOM);
    1: string(LV_tobu10000_1);
    2: string(LV_tobu10030_1);
}

switch(FEAT_TRAINS, SELF, sw_tobu10000_lv_3_desc,cargo_subtype){
    0: string(LV_RANDOM);
    1: string(LV_tobu10000_1);
    2: string(LV_tobu10030_1);
    3: string(LV_tobu10030_2);
}

switch(FEAT_TRAINS, SELF, sw_tobu10000_lv_desc,current_year){
    0..1988: sw_tobu10000_lv_1_desc;
    1989..2012: sw_tobu10000_lv_2_desc;
    sw_tobu10000_lv_3_desc;
}



switch(FEAT_TRAINS, SELF, sw_tobu10000_capacity,position_in_vehid_chain_from_end){
    0: 150;
    default: 170;
}
switch(FEAT_TRAINS, SELF, sw_tobu10000_capacity_1,position_in_vehid_chain){
    0: 150;
    default: sw_tobu10000_capacity;
}
switch(FEAT_TRAINS, SELF, sw_tobu10000_capacity_main_1,vehicle_type_id){
    mu_car_narrow:sw_tobu10000_capacity;
    sw_tobu10000_capacity_1;
}
switch(FEAT_TRAINS, SELF, sw_tobu10030_capacity,position_in_vehid_chain_from_end){
    0: 142;
    default: 152;
}
switch(FEAT_TRAINS, SELF, sw_tobu10030_capacity_1,position_in_vehid_chain){
    0: 142;
    default: sw_tobu10030_capacity;
}
switch(FEAT_TRAINS, SELF, sw_tobu10030_capacity_main_2,vehicle_type_id){
    mu_car_narrow:sw_tobu10030_capacity;
    sw_tobu10030_capacity_1;
}
switch(FEAT_TRAINS, SELF, sw_tobu10030_capacity_main_0,build_year){
    0..1988: sw_tobu10000_capacity_main_1;
    sw_tobu10030_capacity_main_2;
}
switch(FEAT_TRAINS, SELF, sw_tobu10000_capacity_main,cargo_subtype){
    0:sw_tobu10030_capacity_main_0;
    1:sw_tobu10000_capacity_main_1;
    2:sw_tobu10030_capacity_main_2;
    3:sw_tobu10030_capacity_main_2;
}



switch(FEAT_TRAINS, SELF, sw_tobu10000_power_0,build_year){
    0..1987 :return 140;
    return 165;
}
switch(FEAT_TRAINS, SELF, sw_tobu10000_power,position_in_vehid_chain_from_end%5){
    1..2:sw_tobu10000_power_0;
    4:sw_tobu10000_power_0;
    return 0;
}
switch(FEAT_TRAINS, SELF, sw_tobu10000_head_power,num_vehs_in_consist){
    2: sw_tobu10000_power_0;
    return 0;
}
switch(FEAT_TRAINS, SELF, sw_tobu10000_power_main,vehicle_type_id){
    mu_car_narrow:sw_tobu10000_power;
    sw_tobu10000_head_power;
}


switch(FEAT_TRAINS, SELF, tobu10000_attach_vehid, vehicle_type_id) {
  mu_car: return string(STR_ATTACH_1067_ERROR);
  mu_car_metro: return string(STR_ATTACH_1067_ERROR);
  return CB_RESULT_ATTACH_ALLOW;
}

item(FEAT_TRAINS, tobu10000,2073) {
    property {
        cargo_capacity: 130;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        climates_available: param_disable_tobu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        name: string(STR_TRAIN_NAME, string(STR_NAME_TOBU), "10000", string(STR_NAME_SERIES),);
        introduction_date: date(1983, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 35;
        reliability_decay: 10;

        cost_factor: 19;
        running_cost_factor: 49;
        speed: 110 km/h;
        track_type: TR_1067_DC;
        power: 560 kW;
        weight: 33 ton;
        loading_speed: param_loading_4D;
    }
 graphics {
        power: sw_tobu10000_power_main()*4*1342/1000;
        start_stop: sw_stop_start_2;
        default: sw_tobu10000_lv;
        purchase: tobu10000_purchase;
        can_attach_wagon: tobu10000_attach_vehid;
        cargo_subtype_text:sw_tobu10000_lv_desc;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_5, 2,4,6,8,10)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_TOBU)));
        cargo_capacity: sw_tobu10000_capacity_main()*param_capacity_mod/3;
    }
    livery_override(mu_car_narrow){
        loading_speed: param_loading_4D;
        cargo_capacity: sw_tobu10000_capacity_main()*param_capacity_mod/3;
        default: sw_tobu10000_lv;
        power: sw_tobu10000_power_main()*4*1342/1000;
        weight: 34;
      }
}
# 54 "src/_private.pnml" 2
# 1 "src/private/Kanto/tobu/tobu20000.pnml" 1

  spriteset(tobu20000_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu20000/tobu20000.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(tobu20000_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu20000/tobu20000.png"){ tmpl_purchase_2c(88, 100) }
  switch(FEAT_TRAINS, SELF, tobu20000_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_tobu; 1: tobu20000_purchase_c1; 2: tobu20000_purchase_c2;}

spriteset(tobu20000_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu20000/tobu20000.png"){ tmpl_std(0, 0) }
spriteset(tobu20000_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu20000/tobu20000.png"){ tmpl_std_rev(0, 25) }
spriteset(tobu20000_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu20000/tobu20000.png"){ tmpl_std(0, 50) }
spriteset(tobu20000_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu20000/tobu20000.png"){ tmpl_std_rev(0, 75) }
spriteset(tobu20000_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu20000/tobu20000.png"){ tmpl_std(0, 100) }
spriteset(tobu20000_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu20000/tobu20000.png"){ tmpl_std_rev(0, 100) }
spriteset(tobu20000_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu20000/tobu20000.png"){ tmpl_symm(0, 125) }
spriteset(tobu20000_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu20000/tobu20000.png"){ tmpl_std_rev(0, 150) }
spriteset(tobu20000_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu20000/tobu20000.png"){ tmpl_std(0, 150) }




switch(FEAT_TRAINS, PARENT, sw_tobu20000_front_gfx_0, vehicle_is_reversed){
    1:tobu20000_front;
    tobu20000_front_mot;
}
switch(FEAT_TRAINS, SELF, sw_tobu20000_front_gfx, num_vehs_in_consist){
    2:sw_tobu20000_front_gfx_0;
    tobu20000_front;
}

switch(FEAT_TRAINS, PARENT, sw_tobu20000_end_gfx_0, vehicle_is_reversed){
    1:tobu20000_end_mot;
    tobu20000_end;
}
switch(FEAT_TRAINS, SELF, sw_tobu20000_end_gfx, num_vehs_in_consist){
    2:sw_tobu20000_end_gfx_0;
    tobu20000_end;
}



switch(FEAT_TRAINS, SELF, sw_tobu20000_panto_placer_1,position_in_vehid_chain %2){
    0: tobu20000_mot;
    tobu20000_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu20000_panto_placer_1_rev,1-position_in_vehid_chain_from_end %2){
    0: tobu20000_mot_rev;
    tobu20000_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu20000_panto_placer_main,vehicle_is_reversed){
    1: sw_tobu20000_panto_placer_1_rev;
    sw_tobu20000_panto_placer_1;
}


switch(FEAT_TRAINS, SELF, sw_tobu20000_fake_placer,position_in_vehid_chain +1){
    5: tobu20000_front_f;
    6: tobu20000_end_f;
sw_tobu20000_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu20000_fake_placer_rev,position_in_vehid_chain_from_end ){
    5: tobu20000_end_f;
    6: tobu20000_front_f;
sw_tobu20000_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tobu20000_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tobu20000_fake_placer_rev;
    sw_tobu20000_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tobu20000_fake_placer_main,num_vehs_in_vehid_chain>10 - 1){
    1: sw_tobu20000_fake_placer_gfx;
sw_tobu20000_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tobu20000_end_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tobu20000_end_gfx;
    default: sw_tobu20000_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu20000_front_gfx_main,position_in_vehid_chain_from_end){
    0: sw_tobu20000_front_gfx;
    default: sw_tobu20000_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu20000_lv,vehicle_type_id){
    mu_car_narrow:sw_tobu20000_end_gfx_main;
    sw_tobu20000_front_gfx_main;
}



switch(FEAT_TRAINS, SELF, sw_tobu20000_capacity,position_in_vehid_chain_from_end){
    0: 120;
    default: 130;
}
switch(FEAT_TRAINS, SELF, sw_tobu20000_capacity_1,position_in_vehid_chain){
    0: 120;
    default: sw_tobu20000_capacity;
}
switch(FEAT_TRAINS, SELF, sw_tobu20000_capacity_main,vehicle_type_id){
    mu_car_narrow:sw_tobu20000_capacity;
    sw_tobu20000_capacity_1;
}


switch(FEAT_TRAINS, SELF, sw_tobu20000_power_0,build_year){
    0..1991 :return 140;
    return 150;
}

switch(FEAT_TRAINS, SELF, sw_tobu20000_power,position_in_vehid_chain_from_end%8){
    1..6:sw_tobu20000_power_0;
    return 0;
}
switch(FEAT_TRAINS, SELF, sw_tobu20000_head_power,num_vehs_in_consist){
    2: sw_tobu20000_power_0;
    return 0;
}
switch(FEAT_TRAINS, SELF, sw_tobu20000_power_main,vehicle_type_id){
    mu_car_narrow:sw_tobu20000_power;
    sw_tobu20000_head_power;
}


switch(FEAT_TRAINS, SELF, tobu20000_attach_vehid, vehicle_type_id) {
  mu_car: return string(STR_ATTACH_1067_ERROR);
  mu_car_metro: return string(STR_ATTACH_1067_ERROR);
  return CB_RESULT_ATTACH_ALLOW;
}

item(FEAT_TRAINS, tobu20000,2075) {
    property {
        cargo_capacity: 130;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        climates_available: param_disable_tobu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        name: string(STR_TRAIN_NAME, string(STR_NAME_TOBU), "20000", string(STR_NAME_SERIES),);
        introduction_date: date(1988, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 35;
        reliability_decay: 10;

        cost_factor: 17;
        running_cost_factor: 47;
        speed: 110 km/h;
        track_type: TR_1067_DC;
        power: 1 kW;
        weight: 33 ton;
        loading_speed: param_loading_3D;
    }
 graphics {
        power:sw_tobu20000_power_main()*4*1342/1000;
        start_stop: sw_stop_start_2;
        default: sw_tobu20000_lv;
        purchase: tobu20000_purchase;
        can_attach_wagon: tobu20000_attach_vehid;

        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 8)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_TOBU)));
        cargo_capacity: sw_tobu20000_capacity_main()*param_capacity_mod/3;
    }
    livery_override(mu_car_narrow){
        loading_speed: param_loading_3D;
        cargo_capacity: sw_tobu20000_capacity_main()*param_capacity_mod/3;
        default: sw_tobu20000_lv;
        power: sw_tobu20000_power_main()*4*1342/1000;
        weight: 33;
      }
}
# 55 "src/_private.pnml" 2
# 1 "src/private/Kanto/tobu/tobu20400.pnml" 1

  spriteset(tobu20400_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu20000/tobu20400.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(tobu20400_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu20000/tobu20400.png"){ tmpl_purchase_2c(0, 50) }
  switch(FEAT_TRAINS, SELF, tobu20400_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_tobu; 1: tobu20400_purchase_c1; 2: tobu20400_purchase_c2;}

spriteset(tobu20400_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu20000/tobu20400.png"){ tmpl_std(0, 0) }
spriteset(tobu20400_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu20000/tobu20400.png"){ tmpl_std_rev(0, 25) }
spriteset(tobu20400_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu20000/tobu20400.png"){ tmpl_symm(0, 50) }
spriteset(tobu20400_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu20000/tobu20400.png"){ tmpl_symm(0, 75) }
spriteset(tobu20400_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu20000/tobu20400.png"){ tmpl_std_rev(0, 100) }
spriteset(tobu20400_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu20000/tobu20400.png"){ tmpl_std(0, 100) }




switch(FEAT_TRAINS, SELF, sw_tobu20400_panto_placer_1,position_in_vehid_chain %3){
    0: tobu20400_mot;
    tobu20400_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu20400_panto_placer_1_rev,1-position_in_vehid_chain_from_end %3){
    0: tobu20400_mot;
    tobu20400_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu20400_panto_placer_main_1,vehicle_is_reversed){
    1: sw_tobu20400_panto_placer_1_rev;
    sw_tobu20400_panto_placer_1;
}

switch(FEAT_TRAINS, SELF, sw_tobu20400_panto_placer_2,position_in_vehid_chain %3){
    1: tobu20400_mot;
    tobu20400_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu20400_panto_placer_2_rev,1-position_in_vehid_chain_from_end %3){
    1: tobu20400_mot;
    tobu20400_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu20400_panto_placer_main_2,vehicle_is_reversed){
    1: sw_tobu20400_panto_placer_2_rev;
    sw_tobu20400_panto_placer_2;
}

switch(FEAT_TRAINS, SELF, sw_tobu20400_panto_placer_main,num_vehs_in_vehid_chain+1){
    0..4:sw_tobu20400_panto_placer_main_1;
    6..7:sw_tobu20400_panto_placer_main_1;
    sw_tobu20400_panto_placer_main_2;
}


switch(FEAT_TRAINS, SELF, sw_tobu20400_fake_placer,position_in_vehid_chain +1){
    3: tobu20400_front_f;
    4: tobu20400_end_f;
sw_tobu20400_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu20400_fake_placer_rev,position_in_vehid_chain_from_end ){
    3: tobu20400_end_f;
    4: tobu20400_front_f;
sw_tobu20400_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tobu20400_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tobu20400_fake_placer_rev;
    sw_tobu20400_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tobu20400_fake_placer_main,num_vehs_in_vehid_chain>7 - 1){
    1: sw_tobu20400_fake_placer_gfx;
sw_tobu20400_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tobu20400_end_gfx_main,position_in_vehid_chain_from_end){
    0: tobu20400_end;
    default: sw_tobu20400_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu20400_front_gfx_main,position_in_vehid_chain_from_end){
    0: tobu20400_front;
    default: sw_tobu20400_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu20400_lv,vehicle_type_id){
    mu_car_narrow:sw_tobu20400_end_gfx_main;
    sw_tobu20400_front_gfx_main;
}



switch(FEAT_TRAINS, SELF, tobu20400_attach_vehid, vehicle_type_id) {
  mu_car: return string(STR_ATTACH_1067_ERROR);
  mu_car_metro: return string(STR_ATTACH_1067_ERROR);
  return CB_RESULT_ATTACH_ALLOW;
}

item(FEAT_TRAINS, tobu20400,2076) {
    property {
        cargo_capacity: 130;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
        variant_group:2075;

        climates_available: param_disable_tobu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        name: string(STR_TRAIN_NAME, string(STR_NAME_TOBU), "20400", string(STR_NAME_SERIES),);
        introduction_date: date(2017, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 35;
        reliability_decay: 10;

        cost_factor: 17;
        running_cost_factor: 47;
        speed: 110 km/h;
        track_type: TR_1067_DC;
        power: 1 kW;
        weight: 33 ton;
        loading_speed: param_loading_3D;
    }
 graphics {
        power:sw_tobu20000_power_main()*4*1342/1000;
        start_stop: sw_stop_start_3;
        default: sw_tobu20400_lv;
        purchase: tobu20400_purchase;
        can_attach_wagon: tobu20400_attach_vehid;

        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 4)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_TOBU)));
        cargo_capacity: sw_tobu20000_capacity_main()*param_capacity_mod/3;
    }
    livery_override(mu_car_narrow){
        loading_speed: param_loading_3D;
        cargo_capacity: sw_tobu20000_capacity_main()*param_capacity_mod/3;
        default: sw_tobu20400_lv;
        power: sw_tobu20000_power_main()*4*1342/1000;
        weight: 33;
      }
}
# 56 "src/_private.pnml" 2
# 1 "src/private/Kanto/tobu/tobu30000.pnml" 1

  spriteset(tobu30000_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu30000/tobu30000.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(tobu30000_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu30000/tobu30000.png"){ tmpl_purchase_2c(0, 75) }
  switch(FEAT_TRAINS, SELF, tobu30000_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_tobu; 1: tobu30000_purchase_c1; 2: tobu30000_purchase_c2;}

spriteset(tobu30000_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu30000/tobu30000.png"){ tmpl_std(0, 0) }
spriteset(tobu30000_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu30000/tobu30000.png"){ tmpl_std_rev(0, 25) }
spriteset(tobu30000_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu30000/tobu30000.png"){ tmpl_std(0, 50) }
spriteset(tobu30000_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu30000/tobu30000.png"){ tmpl_std_rev(0, 50) }
spriteset(tobu30000_mot_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu30000/tobu30000.png"){ tmpl_symm(0, 75) }
spriteset(tobu30000_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu30000/tobu30000.png"){ tmpl_symm(0, 100) }
spriteset(tobu30000_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu30000/tobu30000.png"){ tmpl_std_rev(0, 125) }
spriteset(tobu30000_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu30000/tobu30000.png"){ tmpl_std(0, 125) }




switch(FEAT_TRAINS, SELF, sw_tobu30000_panto_placer_1,position_in_vehid_chain %6){
    0: tobu30000_mot_2;
    3: tobu30000_mot;
    tobu30000_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu30000_panto_placer_1_rev,position_in_vehid_chain_from_end %6 -1){
    0: tobu30000_mot_2;
    3: tobu30000_mot_rev;
    tobu30000_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu30000_panto_placer_main_1,vehicle_is_reversed){
    1: sw_tobu30000_panto_placer_1_rev;
    sw_tobu30000_panto_placer_1;
}

switch(FEAT_TRAINS, SELF, sw_tobu30000_panto_placer_2,position_in_vehid_chain %3){
    0: tobu30000_mot_2;
    tobu30000_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu30000_panto_placer_2_rev,1-position_in_vehid_chain_from_end %3){
    0: tobu30000_mot_2;
    tobu30000_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu30000_panto_placer_main_2,vehicle_is_reversed){
    1: sw_tobu30000_panto_placer_2_rev;
    sw_tobu30000_panto_placer_2;
}

switch(FEAT_TRAINS, SELF, sw_tobu30000_panto_placer_3,position_in_vehid_chain %3){
    1: tobu30000_mot_2;
    tobu30000_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu30000_panto_placer_3_rev,position_in_vehid_chain_from_end %3 -1){
    1: tobu30000_mot_2;
    tobu30000_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu30000_panto_placer_main_3,vehicle_is_reversed){
    1: sw_tobu30000_panto_placer_3_rev;
    sw_tobu30000_panto_placer_3;
}

switch(FEAT_TRAINS, SELF, sw_tobu30000_panto_placer_main,num_vehs_in_vehid_chain+1){
    5:sw_tobu30000_panto_placer_main_3;
    6..7:sw_tobu30000_panto_placer_main_2;
    8:sw_tobu30000_panto_placer_main_3;
    sw_tobu30000_panto_placer_main_1;
}


switch(FEAT_TRAINS, SELF, sw_tobu30000_fake_placer,position_in_vehid_chain +1){
    5: tobu30000_front_f;
    6: tobu30000_end_f;
sw_tobu30000_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu30000_fake_placer_rev,position_in_vehid_chain_from_end ){
    5: tobu30000_end_f;
    6: tobu30000_front_f;
sw_tobu30000_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tobu30000_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tobu30000_fake_placer_rev;
    sw_tobu30000_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tobu30000_fake_placer_main,num_vehs_in_vehid_chain>8 - 1){
    1: sw_tobu30000_fake_placer_gfx;
sw_tobu30000_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tobu30000_end_gfx_main,position_in_vehid_chain_from_end){
    0: tobu30000_end;
    default: sw_tobu30000_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu30000_front_gfx_main,position_in_vehid_chain_from_end){
    0: tobu30000_front;
    default: sw_tobu30000_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu30000_lv,vehicle_type_id){
    mu_car_narrow:sw_tobu30000_end_gfx_main;
    sw_tobu30000_front_gfx_main;
}



switch(FEAT_TRAINS, SELF, sw_tobu30000_capacity,position_in_vehid_chain_from_end){
    0: 139;
    default: 153;
}
switch(FEAT_TRAINS, SELF, sw_tobu30000_capacity_1,position_in_vehid_chain){
    0: 139;
    default: sw_tobu30000_capacity;
}
switch(FEAT_TRAINS, SELF, sw_tobu30000_capacity_main,vehicle_type_id){
    mu_car_narrow:sw_tobu30000_capacity;
    sw_tobu30000_capacity_1;
}

switch(FEAT_TRAINS, SELF, sw_tobu30000_power,position_in_vehid_chain_from_end%5){
    1..2:return 190;
    4:return 190;
    return 0;
}
switch(FEAT_TRAINS, SELF, sw_tobu30000_head_power,num_vehs_in_consist){
    39: return 190;
    return 0;
}
switch(FEAT_TRAINS, SELF, sw_tobu30000_power_main,vehicle_type_id){
    mu_car_narrow:sw_tobu30000_power;
    sw_tobu30000_head_power;
}


switch(FEAT_TRAINS, SELF, tobu30000_attach_vehid, vehicle_type_id) {
  mu_car: return string(STR_ATTACH_1067_ERROR);
  mu_car_metro: return string(STR_ATTACH_1067_ERROR);
  return CB_RESULT_ATTACH_ALLOW;
}

item(FEAT_TRAINS, tobu30000,2077) {
    property {
        cargo_capacity: 130;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        climates_available: param_disable_tobu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        name: string(STR_TRAIN_NAME, string(STR_NAME_TOBU), "30000", string(STR_NAME_SERIES),);
        introduction_date: date(1996, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 35;
        reliability_decay: 10;

        cost_factor: 21;
        running_cost_factor: 51;
        speed: 120 km/h;
        track_type: TR_1067_DC;
        power: 1 kW;
        weight: 34 ton;
        loading_speed: param_loading_4D;
    }
 graphics {
        power:sw_tobu30000_power_main()*4*1342/1000;
        start_stop: sw_stop_start_3;
        default: sw_tobu30000_lv;
        purchase: tobu30000_purchase;
        can_attach_wagon: tobu30000_attach_vehid;

        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 10)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_TOBU)));
        cargo_capacity: sw_tobu30000_capacity_main()*param_capacity_mod/3;
    }
    livery_override(mu_car_narrow){
        loading_speed: param_loading_4D;
        cargo_capacity: sw_tobu30000_capacity_main()*param_capacity_mod/3;
        default: sw_tobu30000_lv;
        power: sw_tobu30000_power_main()*4*1342/1000;
        weight: 33;
      }
}
# 57 "src/_private.pnml" 2
# 1 "src/private/Kanto/tobu/tobu50000.pnml" 1

  spriteset(tobu50000_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu50000/tobu50000.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(tobu50000_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu50000/tobu50000.png"){ tmpl_purchase_2c(88, 50) }
  switch(FEAT_TRAINS, SELF, tobu50000_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_tobu; 1: tobu50000_purchase_c1; 2: tobu50000_purchase_c2;}


spriteset(tobu50000_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu50000/tobu50000.png"){ tmpl_std(0, 0) }
spriteset(tobu50000_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu50000/tobu50000.png"){ tmpl_std_rev(0, 25) }
spriteset(tobu50000_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu50000/tobu50000.png"){ tmpl_std(0, 50) }
spriteset(tobu50000_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu50000/tobu50000.png"){ tmpl_std_rev(0, 50) }
spriteset(tobu50000_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu50000/tobu50000.png"){ tmpl_symm(0, 75) }
spriteset(tobu50000_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu50000/tobu50000.png"){ tmpl_std_rev(0, 100) }
spriteset(tobu50000_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu50000/tobu50000.png"){ tmpl_std(0, 100) }


spriteset(tobu50050_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu50000/tobu50050.png"){ tmpl_std(0, 0) }
spriteset(tobu50050_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu50000/tobu50050.png"){ tmpl_std_rev(0, 25) }
spriteset(tobu50050_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu50000/tobu50050.png"){ tmpl_std(0, 50) }
spriteset(tobu50050_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu50000/tobu50050.png"){ tmpl_std_rev(0, 50) }
spriteset(tobu50050_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu50000/tobu50050.png"){ tmpl_symm(0, 75) }
spriteset(tobu50050_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu50000/tobu50050.png"){ tmpl_std_rev(0, 100) }
spriteset(tobu50050_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu50000/tobu50050.png"){ tmpl_std(0, 100) }


spriteset(tobu50050_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu50000/tobu50050_1.png"){ tmpl_std(0, 0) }
spriteset(tobu50050_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu50000/tobu50050_1.png"){ tmpl_std_rev(0, 25) }
spriteset(tobu50050_1_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu50000/tobu50050_1.png"){ tmpl_std(0, 50) }
spriteset(tobu50050_1_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu50000/tobu50050_1.png"){ tmpl_std_rev(0, 50) }
spriteset(tobu50050_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu50000/tobu50050_1.png"){ tmpl_symm(0, 75) }
spriteset(tobu50050_1_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu50000/tobu50050_1.png"){ tmpl_std_rev(0, 100) }
spriteset(tobu50050_1_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu50000/tobu50050_1.png"){ tmpl_std(0, 100) }


spriteset(tobu50050_2_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu50000/tobu50050_2.png"){ tmpl_std(0, 0) }
spriteset(tobu50050_2_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu50000/tobu50050_2.png"){ tmpl_std_rev(0, 25) }
spriteset(tobu50050_2_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu50000/tobu50050_2.png"){ tmpl_std(0, 50) }
spriteset(tobu50050_2_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu50000/tobu50050_2.png"){ tmpl_std_rev(0, 50) }
spriteset(tobu50050_2_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu50000/tobu50050_2.png"){ tmpl_symm(0, 75) }
spriteset(tobu50050_2_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu50000/tobu50050_2.png"){ tmpl_std_rev(0, 100) }
spriteset(tobu50050_2_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu50000/tobu50050_2.png"){ tmpl_std(0, 100) }


spriteset(tobu50050_3_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu50000/tobu50050_3.png"){ tmpl_std(0, 0) }
spriteset(tobu50050_3_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu50000/tobu50050_3.png"){ tmpl_std_rev(0, 25) }
spriteset(tobu50050_3_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu50000/tobu50050_3.png"){ tmpl_std(0, 50) }
spriteset(tobu50050_3_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu50000/tobu50050_3.png"){ tmpl_std_rev(0, 50) }
spriteset(tobu50050_3_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu50000/tobu50050_3.png"){ tmpl_symm(0, 75) }
spriteset(tobu50050_3_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu50000/tobu50050_3.png"){ tmpl_std_rev(0, 100) }
spriteset(tobu50050_3_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu50000/tobu50050_3.png"){ tmpl_std(0, 100) }


spriteset(tobu50050_4_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu50000/tobu50050_4.png"){ tmpl_std(0, 0) }
spriteset(tobu50050_4_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu50000/tobu50050_4.png"){ tmpl_std_rev(0, 25) }
spriteset(tobu50050_4_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu50000/tobu50050_4.png"){ tmpl_std(0, 50) }
spriteset(tobu50050_4_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu50000/tobu50050_4.png"){ tmpl_std_rev(0, 50) }
spriteset(tobu50050_4_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu50000/tobu50050_4.png"){ tmpl_symm(0, 75) }
spriteset(tobu50050_4_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu50000/tobu50050_4.png"){ tmpl_std_rev(0, 100) }
spriteset(tobu50050_4_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu50000/tobu50050_4.png"){ tmpl_std(0, 100) }


spriteset(tobu50050_5_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu50000/tobu50050_5.png"){ tmpl_std(0, 0) }
spriteset(tobu50050_5_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu50000/tobu50050_5.png"){ tmpl_std_rev(0, 25) }
spriteset(tobu50050_5_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu50000/tobu50050_5.png"){ tmpl_std(0, 50) }
spriteset(tobu50050_5_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu50000/tobu50050_5.png"){ tmpl_std_rev(0, 50) }
spriteset(tobu50050_5_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu50000/tobu50050_5.png"){ tmpl_symm(0, 75) }
spriteset(tobu50050_5_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu50000/tobu50050_5.png"){ tmpl_std_rev(0, 100) }
spriteset(tobu50050_5_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu50000/tobu50050_5.png"){ tmpl_std(0, 100) }


spriteset(tobu50090_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu50000/tobu50090.png"){ tmpl_std(0, 0) }
spriteset(tobu50090_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu50000/tobu50090.png"){ tmpl_std_rev(0, 25) }
spriteset(tobu50090_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu50000/tobu50090.png"){ tmpl_std(0, 50) }
spriteset(tobu50090_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu50000/tobu50090.png"){ tmpl_std_rev(0, 50) }
spriteset(tobu50090_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu50000/tobu50090.png"){ tmpl_symm(0, 75) }
spriteset(tobu50090_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu50000/tobu50090.png"){ tmpl_std_rev(0, 100) }
spriteset(tobu50090_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu50000/tobu50090.png"){ tmpl_std(0, 100) }



spriteset(tobu50090_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu50000/tobu50090_1.png"){ tmpl_std(0, 0) }
spriteset(tobu50090_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu50000/tobu50090_1.png"){ tmpl_std_rev(0, 25) }
spriteset(tobu50090_1_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu50000/tobu50090_1.png"){ tmpl_std(0, 50) }
spriteset(tobu50090_1_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu50000/tobu50090_1.png"){ tmpl_std_rev(0, 50) }
spriteset(tobu50090_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu50000/tobu50090_1.png"){ tmpl_symm(0, 75) }
spriteset(tobu50090_1_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu50000/tobu50090_1.png"){ tmpl_std_rev(0, 100) }
spriteset(tobu50090_1_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu50000/tobu50090_1.png"){ tmpl_std(0, 100) }





switch(FEAT_TRAINS, SELF, sw_tobu50000_panto_placer_1,position_in_vehid_chain %3){
    0: tobu50000_mot;
    tobu50000_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu50000_panto_placer_1_rev,1-position_in_vehid_chain_from_end %3){
    0: tobu50000_mot_rev;
    tobu50000_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu50000_panto_placer_main_1,vehicle_is_reversed){
    1: sw_tobu50000_panto_placer_1_rev;
    sw_tobu50000_panto_placer_1;
}

switch(FEAT_TRAINS, SELF, sw_tobu50000_panto_placer_2,position_in_vehid_chain %5){
    0: tobu50000_mot;
    2: tobu50000_mot;
    tobu50000_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu50000_panto_placer_2_rev,position_in_vehid_chain_from_end %5 -1){
    0: tobu50000_mot_rev;
    2: tobu50000_mot_rev;
    tobu50000_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu50000_panto_placer_main_2,vehicle_is_reversed){
    1: sw_tobu50000_panto_placer_2_rev;
    sw_tobu50000_panto_placer_2;
}

switch(FEAT_TRAINS, SELF, sw_tobu50000_panto_placer_3,position_in_vehid_chain %2){
    0: tobu50000_mot_rev;
    1: tobu50000_mot;
}
switch(FEAT_TRAINS, SELF, sw_tobu50000_panto_placer_3_rev,1-position_in_vehid_chain_from_end %2){
    0: tobu50000_mot;
    1: tobu50000_mot_rev;
}
switch(FEAT_TRAINS, PARENT, sw_tobu50000_panto_placer_main_3,vehicle_is_reversed){
    1: sw_tobu50000_panto_placer_3_rev;
    sw_tobu50000_panto_placer_3;
}

switch(FEAT_TRAINS, SELF, sw_tobu50000_panto_placer_main,num_vehs_in_vehid_chain+1){
    4:sw_tobu50000_panto_placer_main_3;
    5:sw_tobu50000_panto_placer_main_2;
    8:sw_tobu50000_panto_placer_main_2;
    sw_tobu50000_panto_placer_main_1;
}


switch(FEAT_TRAINS, SELF, sw_tobu50000_fake_placer,position_in_vehid_chain +1){
    5: tobu50000_front_f;
    6: tobu50000_end_f;
sw_tobu50000_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu50000_fake_placer_rev,position_in_vehid_chain_from_end ){
    5: tobu50000_end_f;
    6: tobu50000_front_f;
sw_tobu50000_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tobu50000_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tobu50000_fake_placer_rev;
    sw_tobu50000_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tobu50000_fake_placer_main,num_vehs_in_vehid_chain>10 - 1){
    1: sw_tobu50000_fake_placer_gfx;
sw_tobu50000_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tobu50000_end_gfx_main,position_in_vehid_chain_from_end){
    0: tobu50000_end;
    default: sw_tobu50000_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu50000_front_gfx_main,position_in_vehid_chain_from_end){
    0: tobu50000_front;
    default: sw_tobu50000_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu50000_livery_1,vehicle_type_id){
    mu_car_narrow:sw_tobu50000_end_gfx_main;
    sw_tobu50000_front_gfx_main;
}




switch(FEAT_TRAINS, SELF, sw_tobu50050_panto_placer_1,position_in_vehid_chain %3){
    0: tobu50050_mot;
    tobu50050_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu50050_panto_placer_1_rev,1-position_in_vehid_chain_from_end %3){
    0: tobu50050_mot_rev;
    tobu50050_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu50050_panto_placer_main_1,vehicle_is_reversed){
    1: sw_tobu50050_panto_placer_1_rev;
    sw_tobu50050_panto_placer_1;
}

switch(FEAT_TRAINS, SELF, sw_tobu50050_panto_placer_2,position_in_vehid_chain %5){
    0: tobu50050_mot;
    2: tobu50050_mot;
    tobu50050_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu50050_panto_placer_2_rev,position_in_vehid_chain_from_end %5 -1){
    0: tobu50050_mot_rev;
    2: tobu50050_mot_rev;
    tobu50050_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu50050_panto_placer_main_2,vehicle_is_reversed){
    1: sw_tobu50050_panto_placer_2_rev;
    sw_tobu50050_panto_placer_2;
}

switch(FEAT_TRAINS, SELF, sw_tobu50050_panto_placer_3,position_in_vehid_chain %2){
    0: tobu50050_mot_rev;
    1: tobu50050_mot;
    tobu50050_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu50050_panto_placer_3_rev,1-position_in_vehid_chain_from_end %2){
    0: tobu50050_mot;
    1: tobu50050_mot_rev;
    tobu50050_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu50050_panto_placer_main_3,vehicle_is_reversed){
    1: sw_tobu50050_panto_placer_3_rev;
    sw_tobu50050_panto_placer_3;
}

switch(FEAT_TRAINS, SELF, sw_tobu50050_panto_placer_main,num_vehs_in_vehid_chain+1){
    4:sw_tobu50050_panto_placer_main_3;
    5:sw_tobu50050_panto_placer_main_2;
    8:sw_tobu50050_panto_placer_main_2;
    sw_tobu50050_panto_placer_main_1;
}


switch(FEAT_TRAINS, SELF, sw_tobu50050_fake_placer,position_in_vehid_chain +1){
    5: tobu50050_front_f;
    6: tobu50050_end_f;
sw_tobu50050_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu50050_fake_placer_rev,position_in_vehid_chain_from_end ){
    5: tobu50050_end_f;
    6: tobu50050_front_f;
sw_tobu50050_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tobu50050_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tobu50050_fake_placer_rev;
    sw_tobu50050_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tobu50050_fake_placer_main,num_vehs_in_vehid_chain>10 - 1){
    1: sw_tobu50050_fake_placer_gfx;
sw_tobu50050_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tobu50050_end_gfx_main,position_in_vehid_chain_from_end){
    0: tobu50050_end;
    default: sw_tobu50050_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu50050_front_gfx_main,position_in_vehid_chain_from_end){
    0: tobu50050_front;
    default: sw_tobu50050_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu50050_livery_1,vehicle_type_id){
    mu_car_narrow:sw_tobu50050_end_gfx_main;
    sw_tobu50050_front_gfx_main;
}




switch(FEAT_TRAINS, SELF, sw_tobu50050_1_panto_placer_1,position_in_vehid_chain %3){
    0: tobu50050_1_mot;
    tobu50050_1_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu50050_1_panto_placer_1_rev,1-position_in_vehid_chain_from_end %3){
    0: tobu50050_1_mot_rev;
    tobu50050_1_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu50050_1_panto_placer_main_1,vehicle_is_reversed){
    1: sw_tobu50050_1_panto_placer_1_rev;
    sw_tobu50050_1_panto_placer_1;
}

switch(FEAT_TRAINS, SELF, sw_tobu50050_1_panto_placer_2,position_in_vehid_chain %5){
    0: tobu50050_1_mot;
    2: tobu50050_1_mot;
    tobu50050_1_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu50050_1_panto_placer_2_rev,position_in_vehid_chain_from_end %5 -1){
    0: tobu50050_1_mot_rev;
    2: tobu50050_1_mot_rev;
    tobu50050_1_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu50050_1_panto_placer_main_2,vehicle_is_reversed){
    1: sw_tobu50050_1_panto_placer_2_rev;
    sw_tobu50050_1_panto_placer_2;
}

switch(FEAT_TRAINS, SELF, sw_tobu50050_1_panto_placer_3,position_in_vehid_chain %2){
    0: tobu50050_1_mot_rev;
    1: tobu50050_1_mot;
    tobu50050_1_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu50050_1_panto_placer_3_rev,1-position_in_vehid_chain_from_end %2){
    0: tobu50050_1_mot;
    1: tobu50050_1_mot_rev;
    tobu50050_1_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu50050_1_panto_placer_main_3,vehicle_is_reversed){
    1: sw_tobu50050_1_panto_placer_3_rev;
    sw_tobu50050_1_panto_placer_3;
}

switch(FEAT_TRAINS, SELF, sw_tobu50050_1_panto_placer_main,num_vehs_in_vehid_chain+1){
    4:sw_tobu50050_1_panto_placer_main_3;
    5:sw_tobu50050_1_panto_placer_main_2;
    8:sw_tobu50050_1_panto_placer_main_2;
    sw_tobu50050_1_panto_placer_main_1;
}


switch(FEAT_TRAINS, SELF, sw_tobu50050_1_fake_placer,position_in_vehid_chain +1){
    5: tobu50050_1_front_f;
    6: tobu50050_1_end_f;
sw_tobu50050_1_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu50050_1_fake_placer_rev,position_in_vehid_chain_from_end ){
    5: tobu50050_1_end_f;
    6: tobu50050_1_front_f;
sw_tobu50050_1_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tobu50050_1_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tobu50050_1_fake_placer_rev;
    sw_tobu50050_1_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tobu50050_1_fake_placer_main,num_vehs_in_vehid_chain>10 - 1){
    1: sw_tobu50050_1_fake_placer_gfx;
sw_tobu50050_1_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tobu50050_1_end_gfx_main,position_in_vehid_chain_from_end){
    0: tobu50050_1_end;
    default: sw_tobu50050_1_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu50050_1_front_gfx_main,position_in_vehid_chain_from_end){
    0: tobu50050_1_front;
    default: sw_tobu50050_1_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu50050_livery_2,vehicle_type_id){
    mu_car_narrow:sw_tobu50050_1_end_gfx_main;
    sw_tobu50050_1_front_gfx_main;
}




switch(FEAT_TRAINS, SELF, sw_tobu50050_2_panto_placer_1,position_in_vehid_chain %3){
    0: tobu50050_2_mot;
    tobu50050_2_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu50050_2_panto_placer_1_rev,1-position_in_vehid_chain_from_end %3){
    0: tobu50050_2_mot_rev;
    tobu50050_2_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu50050_2_panto_placer_main_1,vehicle_is_reversed){
    1: sw_tobu50050_2_panto_placer_1_rev;
    sw_tobu50050_2_panto_placer_1;
}

switch(FEAT_TRAINS, SELF, sw_tobu50050_2_panto_placer_2,position_in_vehid_chain %5){
    0: tobu50050_2_mot;
    2: tobu50050_2_mot;
    tobu50050_2_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu50050_2_panto_placer_2_rev,position_in_vehid_chain_from_end %5 -1){
    0: tobu50050_2_mot_rev;
    2: tobu50050_2_mot_rev;
    tobu50050_2_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu50050_2_panto_placer_main_2,vehicle_is_reversed){
    1: sw_tobu50050_2_panto_placer_2_rev;
    sw_tobu50050_2_panto_placer_2;
}

switch(FEAT_TRAINS, SELF, sw_tobu50050_2_panto_placer_3,position_in_vehid_chain %2){
    0: tobu50050_2_mot_rev;
    1: tobu50050_2_mot;
    tobu50050_2_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu50050_2_panto_placer_3_rev,1-position_in_vehid_chain_from_end %2){
    0: tobu50050_2_mot;
    1: tobu50050_2_mot_rev;
    tobu50050_2_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu50050_2_panto_placer_main_3,vehicle_is_reversed){
    1: sw_tobu50050_2_panto_placer_3_rev;
    sw_tobu50050_2_panto_placer_3;
}

switch(FEAT_TRAINS, SELF, sw_tobu50050_2_panto_placer_main,num_vehs_in_vehid_chain+1){
    4:sw_tobu50050_2_panto_placer_main_3;
    5:sw_tobu50050_2_panto_placer_main_2;
    8:sw_tobu50050_2_panto_placer_main_2;
    sw_tobu50050_2_panto_placer_main_1;
}


switch(FEAT_TRAINS, SELF, sw_tobu50050_2_fake_placer,position_in_vehid_chain +1){
    5: tobu50050_2_front_f;
    6: tobu50050_2_end_f;
sw_tobu50050_2_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu50050_2_fake_placer_rev,position_in_vehid_chain_from_end ){
    5: tobu50050_2_end_f;
    6: tobu50050_2_front_f;
sw_tobu50050_2_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tobu50050_2_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tobu50050_2_fake_placer_rev;
    sw_tobu50050_2_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tobu50050_2_fake_placer_main,num_vehs_in_vehid_chain>10 - 1){
    1: sw_tobu50050_2_fake_placer_gfx;
sw_tobu50050_2_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tobu50050_2_end_gfx_main,position_in_vehid_chain_from_end){
    0: tobu50050_2_end;
    default: sw_tobu50050_2_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu50050_2_front_gfx_main,position_in_vehid_chain_from_end){
    0: tobu50050_2_front;
    default: sw_tobu50050_2_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu50050_livery_3,vehicle_type_id){
    mu_car_narrow:sw_tobu50050_2_end_gfx_main;
    sw_tobu50050_2_front_gfx_main;
}




switch(FEAT_TRAINS, SELF, sw_tobu50050_3_panto_placer_1,position_in_vehid_chain %3){
    0: tobu50050_3_mot;
    tobu50050_3_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu50050_3_panto_placer_1_rev,1-position_in_vehid_chain_from_end %3){
    0: tobu50050_3_mot_rev;
    tobu50050_3_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu50050_3_panto_placer_main_1,vehicle_is_reversed){
    1: sw_tobu50050_3_panto_placer_1_rev;
    sw_tobu50050_3_panto_placer_1;
}

switch(FEAT_TRAINS, SELF, sw_tobu50050_3_panto_placer_2,position_in_vehid_chain %5){
    0: tobu50050_3_mot;
    2: tobu50050_3_mot;
    tobu50050_3_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu50050_3_panto_placer_2_rev,position_in_vehid_chain_from_end %5 -1){
    0: tobu50050_3_mot_rev;
    2: tobu50050_3_mot_rev;
    tobu50050_3_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu50050_3_panto_placer_main_2,vehicle_is_reversed){
    1: sw_tobu50050_3_panto_placer_2_rev;
    sw_tobu50050_3_panto_placer_2;
}

switch(FEAT_TRAINS, SELF, sw_tobu50050_3_panto_placer_3,position_in_vehid_chain %2){
    0: tobu50050_3_mot_rev;
    1: tobu50050_3_mot;
    tobu50050_3_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu50050_3_panto_placer_3_rev,1-position_in_vehid_chain_from_end %2){
    0: tobu50050_3_mot;
    1: tobu50050_3_mot_rev;
    tobu50050_3_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu50050_3_panto_placer_main_3,vehicle_is_reversed){
    1: sw_tobu50050_3_panto_placer_3_rev;
    sw_tobu50050_3_panto_placer_3;
}

switch(FEAT_TRAINS, SELF, sw_tobu50050_3_panto_placer_main,num_vehs_in_vehid_chain+1){
    4:sw_tobu50050_3_panto_placer_main_3;
    5:sw_tobu50050_3_panto_placer_main_2;
    8:sw_tobu50050_3_panto_placer_main_2;
    sw_tobu50050_3_panto_placer_main_1;
}


switch(FEAT_TRAINS, SELF, sw_tobu50050_3_fake_placer,position_in_vehid_chain +1){
    5: tobu50050_3_front_f;
    6: tobu50050_3_end_f;
sw_tobu50050_3_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu50050_3_fake_placer_rev,position_in_vehid_chain_from_end ){
    5: tobu50050_3_end_f;
    6: tobu50050_3_front_f;
sw_tobu50050_3_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tobu50050_3_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tobu50050_3_fake_placer_rev;
    sw_tobu50050_3_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tobu50050_3_fake_placer_main,num_vehs_in_vehid_chain>10 - 1){
    1: sw_tobu50050_3_fake_placer_gfx;
sw_tobu50050_3_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tobu50050_3_end_gfx_main,position_in_vehid_chain_from_end){
    0: tobu50050_3_end;
    default: sw_tobu50050_3_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu50050_3_front_gfx_main,position_in_vehid_chain_from_end){
    0: tobu50050_3_front;
    default: sw_tobu50050_3_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu50050_livery_4,vehicle_type_id){
    mu_car_narrow:sw_tobu50050_3_end_gfx_main;
    sw_tobu50050_3_front_gfx_main;
}




switch(FEAT_TRAINS, SELF, sw_tobu50050_4_panto_placer_1,position_in_vehid_chain %3){
    0: tobu50050_4_mot;
    tobu50050_4_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu50050_4_panto_placer_1_rev,1-position_in_vehid_chain_from_end %3){
    0: tobu50050_4_mot_rev;
    tobu50050_4_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu50050_4_panto_placer_main_1,vehicle_is_reversed){
    1: sw_tobu50050_4_panto_placer_1_rev;
    sw_tobu50050_4_panto_placer_1;
}

switch(FEAT_TRAINS, SELF, sw_tobu50050_4_panto_placer_2,position_in_vehid_chain %5){
    0: tobu50050_4_mot;
    2: tobu50050_4_mot;
    tobu50050_4_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu50050_4_panto_placer_2_rev,position_in_vehid_chain_from_end %5 -1){
    0: tobu50050_4_mot_rev;
    2: tobu50050_4_mot_rev;
    tobu50050_4_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu50050_4_panto_placer_main_2,vehicle_is_reversed){
    1: sw_tobu50050_4_panto_placer_2_rev;
    sw_tobu50050_4_panto_placer_2;
}

switch(FEAT_TRAINS, SELF, sw_tobu50050_4_panto_placer_3,position_in_vehid_chain %2){
    0: tobu50050_4_mot_rev;
    1: tobu50050_4_mot;
    tobu50050_4_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu50050_4_panto_placer_3_rev,1-position_in_vehid_chain_from_end %2){
    0: tobu50050_4_mot;
    1: tobu50050_4_mot_rev;
    tobu50050_4_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu50050_4_panto_placer_main_3,vehicle_is_reversed){
    1: sw_tobu50050_4_panto_placer_3_rev;
    sw_tobu50050_4_panto_placer_3;
}

switch(FEAT_TRAINS, SELF, sw_tobu50050_4_panto_placer_main,num_vehs_in_vehid_chain+1){
    4:sw_tobu50050_4_panto_placer_main_3;
    5:sw_tobu50050_4_panto_placer_main_2;
    8:sw_tobu50050_4_panto_placer_main_2;
    sw_tobu50050_4_panto_placer_main_1;
}


switch(FEAT_TRAINS, SELF, sw_tobu50050_4_fake_placer,position_in_vehid_chain +1){
    5: tobu50050_4_front_f;
    6: tobu50050_4_end_f;
sw_tobu50050_4_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu50050_4_fake_placer_rev,position_in_vehid_chain_from_end ){
    5: tobu50050_4_end_f;
    6: tobu50050_4_front_f;
sw_tobu50050_4_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tobu50050_4_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tobu50050_4_fake_placer_rev;
    sw_tobu50050_4_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tobu50050_4_fake_placer_main,num_vehs_in_vehid_chain>10 - 1){
    1: sw_tobu50050_4_fake_placer_gfx;
sw_tobu50050_4_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tobu50050_4_end_gfx_main,position_in_vehid_chain_from_end){
    0: tobu50050_4_end;
    default: sw_tobu50050_4_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu50050_4_front_gfx_main,position_in_vehid_chain_from_end){
    0: tobu50050_4_front;
    default: sw_tobu50050_4_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu50050_livery_5,vehicle_type_id){
    mu_car_narrow:sw_tobu50050_4_end_gfx_main;
    sw_tobu50050_4_front_gfx_main;
}




switch(FEAT_TRAINS, SELF, sw_tobu50050_5_panto_placer_1,position_in_vehid_chain %3){
    0: tobu50050_5_mot;
    tobu50050_5_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu50050_5_panto_placer_1_rev,1-position_in_vehid_chain_from_end %3){
    0: tobu50050_5_mot_rev;
    tobu50050_5_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu50050_5_panto_placer_main_1,vehicle_is_reversed){
    1: sw_tobu50050_5_panto_placer_1_rev;
    sw_tobu50050_5_panto_placer_1;
}

switch(FEAT_TRAINS, SELF, sw_tobu50050_5_panto_placer_2,position_in_vehid_chain %5){
    0: tobu50050_5_mot;
    2: tobu50050_5_mot;
    tobu50050_5_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu50050_5_panto_placer_2_rev,position_in_vehid_chain_from_end %5 -1){
    0: tobu50050_5_mot_rev;
    2: tobu50050_5_mot_rev;
    tobu50050_5_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu50050_5_panto_placer_main_2,vehicle_is_reversed){
    1: sw_tobu50050_5_panto_placer_2_rev;
    sw_tobu50050_5_panto_placer_2;
}

switch(FEAT_TRAINS, SELF, sw_tobu50050_5_panto_placer_3,position_in_vehid_chain %2){
    0: tobu50050_5_mot_rev;
    1: tobu50050_5_mot;
    tobu50050_5_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu50050_5_panto_placer_3_rev,1-position_in_vehid_chain_from_end %2){
    0: tobu50050_5_mot;
    1: tobu50050_5_mot_rev;
    tobu50050_5_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu50050_5_panto_placer_main_3,vehicle_is_reversed){
    1: sw_tobu50050_5_panto_placer_3_rev;
    sw_tobu50050_5_panto_placer_3;
}

switch(FEAT_TRAINS, SELF, sw_tobu50050_5_panto_placer_main,num_vehs_in_vehid_chain+1){
    4:sw_tobu50050_5_panto_placer_main_3;
    5:sw_tobu50050_5_panto_placer_main_2;
    8:sw_tobu50050_5_panto_placer_main_2;
    sw_tobu50050_5_panto_placer_main_1;
}


switch(FEAT_TRAINS, SELF, sw_tobu50050_5_fake_placer,position_in_vehid_chain +1){
    5: tobu50050_5_front_f;
    6: tobu50050_5_end_f;
sw_tobu50050_5_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu50050_5_fake_placer_rev,position_in_vehid_chain_from_end ){
    5: tobu50050_5_end_f;
    6: tobu50050_5_front_f;
sw_tobu50050_5_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tobu50050_5_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tobu50050_5_fake_placer_rev;
    sw_tobu50050_5_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tobu50050_5_fake_placer_main,num_vehs_in_vehid_chain>10 - 1){
    1: sw_tobu50050_5_fake_placer_gfx;
sw_tobu50050_5_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tobu50050_5_end_gfx_main,position_in_vehid_chain_from_end){
    0: tobu50050_5_end;
    default: sw_tobu50050_5_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu50050_5_front_gfx_main,position_in_vehid_chain_from_end){
    0: tobu50050_5_front;
    default: sw_tobu50050_5_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu50050_livery_6,vehicle_type_id){
    mu_car_narrow:sw_tobu50050_5_end_gfx_main;
    sw_tobu50050_5_front_gfx_main;
}





switch(FEAT_TRAINS, SELF, sw_tobu50090_panto_placer_1,position_in_vehid_chain %3){
    0: tobu50090_mot;
    tobu50090_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu50090_panto_placer_1_rev,1-position_in_vehid_chain_from_end %3){
    0: tobu50090_mot_rev;
    tobu50090_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu50090_panto_placer_main_1,vehicle_is_reversed){
    1: sw_tobu50090_panto_placer_1_rev;
    sw_tobu50090_panto_placer_1;
}

switch(FEAT_TRAINS, SELF, sw_tobu50090_panto_placer_2,position_in_vehid_chain %5){
    0: tobu50090_mot;
    2: tobu50090_mot;
    tobu50090_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu50090_panto_placer_2_rev,position_in_vehid_chain_from_end %5 -1){
    0: tobu50090_mot_rev;
    2: tobu50090_mot_rev;
    tobu50090_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu50090_panto_placer_main_2,vehicle_is_reversed){
    1: sw_tobu50090_panto_placer_2_rev;
    sw_tobu50090_panto_placer_2;
}

switch(FEAT_TRAINS, SELF, sw_tobu50090_panto_placer_3,position_in_vehid_chain %2){
    0: tobu50090_mot_rev;
    1: tobu50090_mot;
    tobu50090_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu50090_panto_placer_3_rev,1-position_in_vehid_chain_from_end %2){
    0: tobu50090_mot;
    1: tobu50090_mot_rev;
    tobu50090_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu50090_panto_placer_main_3,vehicle_is_reversed){
    1: sw_tobu50090_panto_placer_3_rev;
    sw_tobu50090_panto_placer_3;
}

switch(FEAT_TRAINS, SELF, sw_tobu50090_panto_placer_main,num_vehs_in_vehid_chain+1){
    4:sw_tobu50090_panto_placer_main_3;
    5:sw_tobu50090_panto_placer_main_2;
    8:sw_tobu50090_panto_placer_main_2;
    sw_tobu50090_panto_placer_main_1;
}


switch(FEAT_TRAINS, SELF, sw_tobu50090_fake_placer,position_in_vehid_chain +1){
    5: tobu50090_front_f;
    6: tobu50090_end_f;
sw_tobu50090_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu50090_fake_placer_rev,position_in_vehid_chain_from_end ){
    5: tobu50090_end_f;
    6: tobu50090_front_f;
sw_tobu50090_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tobu50090_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tobu50090_fake_placer_rev;
    sw_tobu50090_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tobu50090_fake_placer_main,num_vehs_in_vehid_chain>10 - 1){
    1: sw_tobu50090_fake_placer_gfx;
sw_tobu50090_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tobu50090_end_gfx_main,position_in_vehid_chain_from_end){
    0: tobu50090_end;
    default: sw_tobu50090_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu50090_front_gfx_main,position_in_vehid_chain_from_end){
    0: tobu50090_front;
    default: sw_tobu50090_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu50090_livery_1,vehicle_type_id){
    mu_car_narrow:sw_tobu50090_end_gfx_main;
    sw_tobu50090_front_gfx_main;
}




switch(FEAT_TRAINS, SELF, sw_tobu50090_1_panto_placer_1,position_in_vehid_chain %3){
    0: tobu50090_1_mot;
    tobu50090_1_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu50090_1_panto_placer_1_rev,1-position_in_vehid_chain_from_end %3){
    0: tobu50090_1_mot_rev;
    tobu50090_1_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu50090_1_panto_placer_main_1,vehicle_is_reversed){
    1: sw_tobu50090_1_panto_placer_1_rev;
    sw_tobu50090_1_panto_placer_1;
}

switch(FEAT_TRAINS, SELF, sw_tobu50090_1_panto_placer_2,position_in_vehid_chain %5){
    0: tobu50090_1_mot;
    2: tobu50090_1_mot;
    tobu50090_1_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu50090_1_panto_placer_2_rev,position_in_vehid_chain_from_end %5 -1){
    0: tobu50090_1_mot_rev;
    2: tobu50090_1_mot_rev;
    tobu50090_1_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu50090_1_panto_placer_main_2,vehicle_is_reversed){
    1: sw_tobu50090_1_panto_placer_2_rev;
    sw_tobu50090_1_panto_placer_2;
}

switch(FEAT_TRAINS, SELF, sw_tobu50090_1_panto_placer_3,position_in_vehid_chain %2){
    0: tobu50090_1_mot_rev;
    1: tobu50090_1_mot;
    tobu50090_1_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu50090_1_panto_placer_3_rev,1-position_in_vehid_chain_from_end %2){
    0: tobu50090_1_mot;
    1: tobu50090_1_mot_rev;
    tobu50090_1_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu50090_1_panto_placer_main_3,vehicle_is_reversed){
    1: sw_tobu50090_1_panto_placer_3_rev;
    sw_tobu50090_1_panto_placer_3;
}

switch(FEAT_TRAINS, SELF, sw_tobu50090_1_panto_placer_main,num_vehs_in_vehid_chain+1){
    4:sw_tobu50090_1_panto_placer_main_3;
    5:sw_tobu50090_1_panto_placer_main_2;
    8:sw_tobu50090_1_panto_placer_main_2;
    sw_tobu50090_1_panto_placer_main_1;
}


switch(FEAT_TRAINS, SELF, sw_tobu50090_1_fake_placer,position_in_vehid_chain +1){
    5: tobu50090_1_front_f;
    6: tobu50090_1_end_f;
sw_tobu50090_1_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu50090_1_fake_placer_rev,position_in_vehid_chain_from_end ){
    5: tobu50090_1_end_f;
    6: tobu50090_1_front_f;
sw_tobu50090_1_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tobu50090_1_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tobu50090_1_fake_placer_rev;
    sw_tobu50090_1_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tobu50090_1_fake_placer_main,num_vehs_in_vehid_chain>10 - 1){
    1: sw_tobu50090_1_fake_placer_gfx;
sw_tobu50090_1_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tobu50090_1_end_gfx_main,position_in_vehid_chain_from_end){
    0: tobu50090_1_end;
    default: sw_tobu50090_1_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu50090_1_front_gfx_main,position_in_vehid_chain_from_end){
    0: tobu50090_1_front;
    default: sw_tobu50090_1_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu50090_livery_2,vehicle_type_id){
    mu_car_narrow:sw_tobu50090_1_end_gfx_main;
    sw_tobu50090_1_front_gfx_main;
}



random_switch(FEAT_TRAINS, PARENT, sw_tobu50050_livery_0_0){
    4:sw_tobu50050_livery_1;
    1:sw_tobu50050_livery_2;
    1:sw_tobu50050_livery_3;
    1:sw_tobu50050_livery_4;
    1:sw_tobu50050_livery_5;
    1:sw_tobu50050_livery_6;
}
switch(FEAT_TRAINS, SELF, sw_tobu50050_livery_0,current_year>2015){
    1: sw_tobu50050_livery_0_0;
    sw_tobu50050_livery_1;
}



switch(FEAT_TRAINS, SELF, sw_tobu50000_livery_0,build_year){
    0..2005: sw_tobu50000_livery_1;
    sw_tobu50050_livery_0;
}


switch(FEAT_TRAINS, PARENT, sw_tobu50000_lv,cargo_subtype){
    0:sw_tobu50000_livery_0;
    1:sw_tobu50000_livery_1;
    2:sw_tobu50050_livery_1;
    3:sw_tobu50050_livery_2;
    4:sw_tobu50050_livery_3;
    5:sw_tobu50050_livery_4;
    6:sw_tobu50050_livery_5;
    7:sw_tobu50050_livery_6;
    8:sw_tobu50090_livery_1;
    9:sw_tobu50090_livery_2;
}

switch(FEAT_TRAINS, SELF, sw_tobu50000_lv_1_desc,cargo_subtype){
    0:string(LV_RANDOM);
    1:string(LV_tobu50000_1);
}

switch(FEAT_TRAINS, SELF, sw_tobu50000_lv_2_desc,cargo_subtype){
    0:string(LV_RANDOM);
    1:string(LV_tobu50000_1);
    2:string(LV_tobu50050_1);
}

switch(FEAT_TRAINS, PARENT, sw_tobu50000_lv_3_desc,cargo_subtype){
    0:string(LV_RANDOM);
    1:string(LV_tobu50000_1);
    2..7:string(LV_tobu50050_1);
    8:string(STR_CONCAT_2,
        string(LV_tobu50090_1),
        string(STR_PAX_AGE));
}

switch(FEAT_TRAINS, SELF, sw_tobu50000_lv_4_desc,cargo_subtype){
    0:string(LV_RANDOM);
    1:string(LV_tobu50000_1);
    2:string(LV_tobu50050_1);
    3:string(LV_tobu50050_2);
    4:string(LV_tobu50050_3);
    5:string(LV_tobu50050_4);
    6:string(LV_tobu50050_5);
    7:string(LV_tobu50050_6);
    8:string(STR_CONCAT_2,
        string(LV_tobu50090_1),
        string(STR_PAX_AGE));
    9:string(STR_CONCAT_2,
        string(LV_tobu50090_2),
        string(STR_PAX_AGE));
}

switch(FEAT_TRAINS, SELF, sw_tobu50000_lv_desc,current_year){
    0..2005: sw_tobu50000_lv_1_desc;
    2006..2007: sw_tobu50000_lv_2_desc;
    2008..2015: sw_tobu50000_lv_3_desc;
    sw_tobu50000_lv_4_desc;
}





switch(FEAT_TRAINS, SELF, sw_tobu50000_capacity,position_in_vehid_chain_from_end){
    0: 139;
    default: 153;
}
switch(FEAT_TRAINS, SELF, sw_tobu50000_capacity_1,position_in_vehid_chain){
    0: 139;
    default: sw_tobu50000_capacity;
}
switch(FEAT_TRAINS, SELF, sw_tobu50000_capacity_main_0,vehicle_type_id){
    mu_car_narrow:sw_tobu50000_capacity;
    sw_tobu50000_capacity_1;
}

switch(FEAT_TRAINS, SELF, sw_tobu50050_capacity,position_in_vehid_chain_from_end){
    0: 140;
    default: 153;
}
switch(FEAT_TRAINS, SELF, sw_tobu50050_capacity_1,position_in_vehid_chain){
    0: 140;
    default: sw_tobu50050_capacity;
}
switch(FEAT_TRAINS, SELF, sw_tobu50050_capacity_main,vehicle_type_id){
    mu_car_narrow:sw_tobu50050_capacity;
    sw_tobu50050_capacity_1;
}

switch(FEAT_TRAINS, SELF, sw_tobu50090_capacity,position_in_vehid_chain_from_end){
    0: 124;
    default: 135;
}
switch(FEAT_TRAINS, SELF, sw_tobu50090_capacity_1,position_in_vehid_chain){
    0: 124;
    default: sw_tobu50090_capacity;
}
switch(FEAT_TRAINS, SELF, sw_tobu50090_capacity_main,vehicle_type_id){
    mu_car_narrow:sw_tobu50090_capacity;
    sw_tobu50090_capacity_1;
}

switch(FEAT_TRAINS, PARENT, sw_tobu50000_capacity_0,build_year){
    0..2005: sw_tobu50000_capacity_main_0;
    sw_tobu50050_capacity_main;
}

switch(FEAT_TRAINS, SELF, sw_tobu50000_capacity_main,cargo_subtype){
    0:sw_tobu50000_capacity_0;
    1: sw_tobu50000_capacity_main_0;
    8..9:sw_tobu50090_capacity_main;
    sw_tobu50050_capacity_main;
}

switch(FEAT_TRAINS, SELF, sw_tobu50000_cargo_age_main,cargo_subtype){
    8..9:express_cargo_age;
    local_cargo_age;
}


switch(FEAT_TRAINS, SELF, sw_tobu50000_power,position_in_vehid_chain_from_end%5){
    1..2:return 165;
    4:return 165;
    return 0;
}
switch(FEAT_TRAINS, SELF, sw_tobu50000_head_power,num_vehs_in_consist){
    39: return 165;
    return 0;
}
switch(FEAT_TRAINS, SELF, sw_tobu50000_power_main,vehicle_type_id){
    mu_car_narrow:sw_tobu50000_power;
    sw_tobu50000_head_power;
}


switch(FEAT_TRAINS, SELF, tobu50000_attach_vehid, vehicle_type_id) {
  mu_car: return string(STR_ATTACH_1067_ERROR);
  mu_car_metro: return string(STR_ATTACH_1067_ERROR);
  return CB_RESULT_ATTACH_ALLOW;
}

item(FEAT_TRAINS, tobu50000,2078) {
    property {
        cargo_capacity: 130;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        climates_available: param_disable_tobu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        name: string(STR_TRAIN_NAME, string(STR_NAME_TOBU), "50000/50050/50090", string(STR_NAME_SERIES),);
        introduction_date: date(2004, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 35;
        reliability_decay: 10;

        cost_factor: 20;
        running_cost_factor: 51;
        speed: 120 km/h;
        track_type: TR_1067_DC;
        power: 1 kW;
        weight: 28 ton;
        loading_speed: param_loading_4D;
    }
 graphics {
        cargo_age_period:sw_tobu50000_cargo_age_main;
        power:sw_tobu50000_power_main()*4*1342/1000;
        start_stop: sw_stop_start_3;
        default: sw_tobu50000_lv;
        purchase: tobu50000_purchase;
        can_attach_wagon: tobu50000_attach_vehid;
        cargo_subtype_text:sw_tobu50000_lv_desc;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 10)),
     string(STR_USAGE,
  string(STR_CONCAT_2_OR, string(STR_COMMUTER), string(STR_EXPRESS))),
  string(STR_OPERATOR, string(STR_TOBU)));
        cargo_capacity: sw_tobu50000_capacity_main()*param_capacity_mod/3;
    }
    livery_override(mu_car_narrow){
        loading_speed: param_loading_4D;
        cargo_age_period:sw_tobu50000_cargo_age_main;
        cargo_capacity: sw_tobu50000_capacity_main()*param_capacity_mod/3;
        default: sw_tobu50000_lv;
        power: sw_tobu50000_power_main()*4*1342/1000;
        weight: 29;
      }
}
# 58 "src/_private.pnml" 2
# 1 "src/private/Kanto/tobu/tobu60000.pnml" 1

  spriteset(tobu60000_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu60000/tobu60000.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(tobu60000_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu60000/tobu60000.png"){ tmpl_purchase_2c(88, 50) }
  switch(FEAT_TRAINS, SELF, tobu60000_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_tobu; 1: tobu60000_purchase_c1; 2: tobu60000_purchase_c2;}

spriteset(tobu60000_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu60000/tobu60000.png"){ tmpl_std(0, 0) }
spriteset(tobu60000_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu60000/tobu60000.png"){ tmpl_std_rev(0, 25) }
spriteset(tobu60000_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu60000/tobu60000.png"){ tmpl_std(0, 50) }
spriteset(tobu60000_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu60000/tobu60000.png"){ tmpl_std_rev(0, 50) }
spriteset(tobu60000_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu60000/tobu60000.png"){ tmpl_symm(0, 75) }
spriteset(tobu60000_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu60000/tobu60000.png"){ tmpl_std_rev(0, 100) }
spriteset(tobu60000_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu60000/tobu60000.png"){ tmpl_std(0, 100) }




switch(FEAT_TRAINS, SELF, sw_tobu60000_panto_placer_1,position_in_vehid_chain %3){
    0: tobu60000_mot;
    tobu60000_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu60000_panto_placer_1_rev,1-position_in_vehid_chain_from_end %3){
    0: tobu60000_mot_rev;
    tobu60000_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu60000_panto_placer_main_1,vehicle_is_reversed){
    1: sw_tobu60000_panto_placer_1_rev;
    sw_tobu60000_panto_placer_1;
}

switch(FEAT_TRAINS, SELF, sw_tobu60000_panto_placer_2,position_in_vehid_chain %5){
    0: tobu60000_mot;
    2: tobu60000_mot;
    tobu60000_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu60000_panto_placer_2_rev,position_in_vehid_chain_from_end %5 -1){
    0: tobu60000_mot_rev;
    2: tobu60000_mot_rev;
    tobu60000_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu60000_panto_placer_main_2,vehicle_is_reversed){
    1: sw_tobu60000_panto_placer_2_rev;
    sw_tobu60000_panto_placer_2;
}

switch(FEAT_TRAINS, SELF, sw_tobu60000_panto_placer_3,position_in_vehid_chain %2){
    0: tobu60000_mot_rev;
    1: tobu60000_mot;
    tobu60000_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu60000_panto_placer_3_rev,1-position_in_vehid_chain_from_end %2){
    0: tobu60000_mot;
    1: tobu60000_mot_rev;
    tobu60000_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu60000_panto_placer_main_3,vehicle_is_reversed){
    1: sw_tobu60000_panto_placer_3_rev;
    sw_tobu60000_panto_placer_3;
}

switch(FEAT_TRAINS, SELF, sw_tobu60000_panto_placer_main,num_vehs_in_vehid_chain+1){
    4:sw_tobu60000_panto_placer_main_3;
    5:sw_tobu60000_panto_placer_main_2;
    8:sw_tobu60000_panto_placer_main_2;
    sw_tobu60000_panto_placer_main_1;
}


switch(FEAT_TRAINS, SELF, sw_tobu60000_fake_placer,position_in_vehid_chain +1){
    5: tobu60000_front_f;
    6: tobu60000_end_f;
sw_tobu60000_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu60000_fake_placer_rev,position_in_vehid_chain_from_end ){
    5: tobu60000_end_f;
    6: tobu60000_front_f;
sw_tobu60000_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tobu60000_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tobu60000_fake_placer_rev;
    sw_tobu60000_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tobu60000_fake_placer_main,num_vehs_in_vehid_chain>10 - 1){
    1: sw_tobu60000_fake_placer_gfx;
sw_tobu60000_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tobu60000_end_gfx_main,position_in_vehid_chain_from_end){
    0: tobu60000_end;
    default: sw_tobu60000_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu60000_front_gfx_main,position_in_vehid_chain_from_end){
    0: tobu60000_front;
    default: sw_tobu60000_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu60000_lv,vehicle_type_id){
    mu_car_narrow:sw_tobu60000_end_gfx_main;
    sw_tobu60000_front_gfx_main;
}



switch(FEAT_TRAINS, SELF, sw_tobu60000_capacity,position_in_vehid_chain_from_end){
    0: 133;
    default: 146;
}
switch(FEAT_TRAINS, SELF, sw_tobu60000_capacity_1,position_in_vehid_chain){
    0: 133;
    default: sw_tobu60000_capacity;
}
switch(FEAT_TRAINS, SELF, sw_tobu60000_capacity_main,vehicle_type_id){
    mu_car_narrow:sw_tobu60000_capacity;
    sw_tobu60000_capacity_1;
}

switch(FEAT_TRAINS, SELF, sw_tobu60000_power,position_in_vehid_chain_from_end%5){
    1..2:return 165;
    4:return 165;
    return 0;
}
switch(FEAT_TRAINS, SELF, sw_tobu60000_head_power,num_vehs_in_consist){
    39: return 165;
    return 0;
}
switch(FEAT_TRAINS, SELF, sw_tobu60000_power_main,vehicle_type_id){
    mu_car_narrow:sw_tobu60000_power;
    sw_tobu60000_head_power;
}


switch(FEAT_TRAINS, SELF, tobu60000_attach_vehid, vehicle_type_id) {
  mu_car: return string(STR_ATTACH_1067_ERROR);
  mu_car_metro: return string(STR_ATTACH_1067_ERROR);
  return CB_RESULT_ATTACH_ALLOW;
}

item(FEAT_TRAINS, tobu60000,2079) {
    property {
        cargo_capacity: 130;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        climates_available: param_disable_tobu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        name: string(STR_TRAIN_NAME, string(STR_NAME_TOBU), "60000", string(STR_NAME_SERIES),);
        introduction_date: date(2013, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 35;
        reliability_decay: 10;

        cost_factor: 20;
        running_cost_factor: 50;
        speed: 120 km/h;
        track_type: TR_1067_DC;
        power: 1 kW;
        weight: 31 ton;
        loading_speed: param_loading_4D;
    }
 graphics {
        power:sw_tobu60000_power_main()*4*1342/1000;
        start_stop: sw_stop_start_3;
        default: sw_tobu60000_lv;
        purchase: tobu60000_purchase;
        can_attach_wagon: tobu60000_attach_vehid;

        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 6)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_TOBU)));
        cargo_capacity: sw_tobu60000_capacity_main()*param_capacity_mod/3;
    }
    livery_override(mu_car_narrow){
        loading_speed: param_loading_4D;
        cargo_capacity: sw_tobu60000_capacity_main()*param_capacity_mod/3;
        default: sw_tobu60000_lv;
        power: sw_tobu60000_power_main()*4*1342/1000;
        weight: 30;
      }
}
# 59 "src/_private.pnml" 2
# 1 "src/private/Kanto/tobu/tobu70000.pnml" 1

  spriteset(tobu70000_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu70000/tobu70000.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(tobu70000_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu70000/tobu70000.png"){ tmpl_purchase_2c(0, 50) }
  switch(FEAT_TRAINS, SELF, tobu70000_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_tobu; 1: tobu70000_purchase_c1; 2: tobu70000_purchase_c2;}

spriteset(tobu70000_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu70000/tobu70000.png"){ tmpl_std(0, 0) }
spriteset(tobu70000_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu70000/tobu70000.png"){ tmpl_std_rev(0, 25) }
spriteset(tobu70000_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu70000/tobu70000.png"){ tmpl_std(0, 50) }
spriteset(tobu70000_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu70000/tobu70000.png"){ tmpl_std_rev(0, 50) }
spriteset(tobu70000_mot_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu70000/tobu70000.png"){ tmpl_symm(0, 75) }
spriteset(tobu70000_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu70000/tobu70000.png"){ tmpl_symm(0, 100) }
spriteset(tobu70000_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu70000/tobu70000.png"){ tmpl_std_rev(0, 125) }
spriteset(tobu70000_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu70000/tobu70000.png"){ tmpl_std(0, 125) }


spriteset(tobu70090_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu70000/tobu70090.png"){ tmpl_std(0, 0) }
spriteset(tobu70090_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu70000/tobu70090.png"){ tmpl_std_rev(0, 25) }
spriteset(tobu70090_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu70000/tobu70090.png"){ tmpl_std(0, 50) }
spriteset(tobu70090_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu70000/tobu70090.png"){ tmpl_std_rev(0, 50) }
spriteset(tobu70090_mot_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu70000/tobu70090.png"){ tmpl_symm(0, 75) }
spriteset(tobu70090_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu70000/tobu70090.png"){ tmpl_symm(0, 100) }
spriteset(tobu70090_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu70000/tobu70090.png"){ tmpl_std_rev(0, 125) }
spriteset(tobu70090_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tobu/tobu70000/tobu70090.png"){ tmpl_std(0, 125) }







switch(FEAT_TRAINS, SELF, sw_tobu70000_panto_placer_1,1+position_in_vehid_chain %4){
    1: tobu70000_mot_rev;
    3: tobu70000_mot_2;
    tobu70000_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu70000_panto_placer_1_rev,position_in_vehid_chain_from_end %4){
    1: tobu70000_mot;
    3: tobu70000_mot_2;
    tobu70000_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu70000_panto_placer_main_1,vehicle_is_reversed){
    1: sw_tobu70000_panto_placer_1_rev;
    sw_tobu70000_panto_placer_1;
}

switch(FEAT_TRAINS, SELF, sw_tobu70000_panto_placer_2,position_in_vehid_chain %2){
    0: tobu70000_mot_2;
    tobu70000_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu70000_panto_placer_2_rev,1-position_in_vehid_chain_from_end %2){
    0: tobu70000_mot_2;
    tobu70000_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu70000_panto_placer_main_2,vehicle_is_reversed){
    1: sw_tobu70000_panto_placer_2_rev;
    sw_tobu70000_panto_placer_2;
}

switch(FEAT_TRAINS, SELF, sw_tobu70000_panto_placer_main,num_vehs_in_vehid_chain+1){
    0..4:sw_tobu70000_panto_placer_main_2;
    sw_tobu70000_panto_placer_main_1;
}


switch(FEAT_TRAINS, SELF, sw_tobu70000_fake_placer,position_in_vehid_chain +1){
    5: tobu70000_front_f;
    6: tobu70000_end_f;
sw_tobu70000_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu70000_fake_placer_rev,position_in_vehid_chain_from_end ){
    5: tobu70000_end_f;
    6: tobu70000_front_f;
sw_tobu70000_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tobu70000_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tobu70000_fake_placer_rev;
    sw_tobu70000_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tobu70000_fake_placer_main,num_vehs_in_vehid_chain>10 - 1){
    1: sw_tobu70000_fake_placer_gfx;
sw_tobu70000_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tobu70000_end_gfx_main,position_in_vehid_chain_from_end){
    0: tobu70000_end;
    default: sw_tobu70000_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu70000_front_gfx_main,position_in_vehid_chain_from_end){
    0: tobu70000_front;
    default: sw_tobu70000_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu70000_livery_1,vehicle_type_id){
    mu_car_narrow:sw_tobu70000_end_gfx_main;
    sw_tobu70000_front_gfx_main;
}




switch(FEAT_TRAINS, SELF, sw_tobu70090_panto_placer_1,1+position_in_vehid_chain %4){
    1: tobu70090_mot_rev;
    3: tobu70090_mot_2;
    tobu70090_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu70090_panto_placer_1_rev,position_in_vehid_chain_from_end %4){
    1: tobu70090_mot;
    3: tobu70090_mot_2;
    tobu70090_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu70090_panto_placer_main_1,vehicle_is_reversed){
    1: sw_tobu70090_panto_placer_1_rev;
    sw_tobu70090_panto_placer_1;
}

switch(FEAT_TRAINS, SELF, sw_tobu70090_panto_placer_2,position_in_vehid_chain %2){
    0: tobu70090_mot_2;
    tobu70090_wag;
}
switch(FEAT_TRAINS, SELF, sw_tobu70090_panto_placer_2_rev,1-position_in_vehid_chain_from_end %2){
    0: tobu70090_mot_2;
    tobu70090_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tobu70090_panto_placer_main_2,vehicle_is_reversed){
    1: sw_tobu70090_panto_placer_2_rev;
    sw_tobu70090_panto_placer_2;
}

switch(FEAT_TRAINS, SELF, sw_tobu70090_panto_placer_main,num_vehs_in_vehid_chain+1){
    0..4:sw_tobu70090_panto_placer_main_2;
    sw_tobu70090_panto_placer_main_1;
}


switch(FEAT_TRAINS, SELF, sw_tobu70090_fake_placer,position_in_vehid_chain +1){
    5: tobu70090_front_f;
    6: tobu70090_end_f;
sw_tobu70090_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu70090_fake_placer_rev,position_in_vehid_chain_from_end ){
    5: tobu70090_end_f;
    6: tobu70090_front_f;
sw_tobu70090_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tobu70090_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tobu70090_fake_placer_rev;
    sw_tobu70090_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tobu70090_fake_placer_main,num_vehs_in_vehid_chain>10 - 1){
    1: sw_tobu70090_fake_placer_gfx;
sw_tobu70090_panto_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tobu70090_end_gfx_main,position_in_vehid_chain_from_end){
    0: tobu70090_end;
    default: sw_tobu70090_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu70090_front_gfx_main,position_in_vehid_chain_from_end){
    0: tobu70090_front;
    default: sw_tobu70090_fake_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tobu70000_livery_2,vehicle_type_id){
    mu_car_narrow:sw_tobu70090_end_gfx_main;
    sw_tobu70090_front_gfx_main;
}



random_switch(FEAT_TRAINS, PARENT, sw_tobu70000_livery_0_0){
    1:sw_tobu70000_livery_1;
    1:sw_tobu70000_livery_2;
}

switch(FEAT_TRAINS, SELF, sw_tobu70000_livery_0, build_year){
    0..2018:sw_tobu70000_livery_1;
    sw_tobu70000_livery_0_0;
}

switch(FEAT_TRAINS, PARENT, sw_tobu70000_lv, cargo_subtype){
    0:sw_tobu70000_livery_0;
    1:sw_tobu70000_livery_1;
    2:sw_tobu70000_livery_2;
}

switch(FEAT_TRAINS, SELF, sw_tobu70000_lv_desc, cargo_subtype){
    0:string(LV_RANDOM);
    1:string(LV_tobu70000_1);
    2:string(LV_tobu70000_2);
}


switch(FEAT_TRAINS, SELF, sw_tobu70000_capacity,position_in_vehid_chain_from_end){
    0: 140;
    default: 151;
}
switch(FEAT_TRAINS, SELF, sw_tobu70000_capacity_1,position_in_vehid_chain){
    0: 140;
    default: sw_tobu70000_capacity;
}
switch(FEAT_TRAINS, SELF, sw_tobu70000_capacity_main,vehicle_type_id){
    mu_car_narrow:sw_tobu70000_capacity;
    sw_tobu70000_capacity_1;
}

switch(FEAT_TRAINS, SELF, sw_tobu70000_power_main,position_in_vehid_chain_from_end%8){
    0..6:return 205;
    return 0;
}


switch(FEAT_TRAINS, SELF, tobu70000_attach_vehid, vehicle_type_id) {
  mu_car: return string(STR_ATTACH_1067_ERROR);
  mu_car_metro: return string(STR_ATTACH_1067_ERROR);
  return CB_RESULT_ATTACH_ALLOW;
}

item(FEAT_TRAINS, tobu70000,2080) {
    property {
        cargo_capacity: 130;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        climates_available: param_disable_tobu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        name: string(STR_TRAIN_NAME, string(STR_NAME_TOBU), "70000/70090", string(STR_NAME_SERIES),);
        introduction_date: date(2017, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 35;
        reliability_decay: 10;

        cost_factor: 21;
        running_cost_factor: 51;
        speed: 120 km/h;
        track_type: TR_1067_DC;
        power: 1 kW;
        weight: 34 ton;
        loading_speed: param_loading_4D;
    }
 graphics {
        power:sw_tobu70000_power_main()*2*1342/1000;
        start_stop: sw_stop_start_3;
        default: sw_tobu70000_lv;
        purchase: tobu70000_purchase;
        can_attach_wagon: tobu70000_attach_vehid;
        cargo_subtype_text:sw_tobu70000_lv_desc;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 7)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_TOBU)));
        cargo_capacity: sw_tobu70000_capacity_main()*param_capacity_mod/3;
    }
    livery_override(mu_car_narrow){
        loading_speed: param_loading_4D;
        cargo_capacity: sw_tobu70000_capacity_main()*param_capacity_mod/3;
        default: sw_tobu70000_lv;
        power: sw_tobu70000_power_main()*2*1342/1000;
        weight: 33;
      }
}
# 60 "src/_private.pnml" 2


# 1 "src/private/Kanto/seibu/seibu5000.pnml" 1

  spriteset(seibu5000_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu5000/seibu5000.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(seibu5000_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu5000/seibu5000.png"){ tmpl_purchase_2c(0, 50) }
  switch(FEAT_TRAINS, SELF, seibu5000_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_seibu; 1: seibu5000_purchase_c1; 2: seibu5000_purchase_c2;}

 spriteset(seibu5000_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu5000/seibu5000.png"){ tmpl_std(0, 0) }
 spriteset(seibu5000_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu5000/seibu5000.png"){ tmpl_std_rev(0, 25) }
 spriteset(seibu5000_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu5000/seibu5000.png"){ tmpl_symm(0, 50) }
 spriteset(seibu5000_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu5000/seibu5000.png"){ tmpl_symm(0, 75) }
 spriteset(seibu5000_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu5000/seibu5000.png"){ tmpl_std_rev(0, 100) }
 spriteset(seibu5000_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu5000/seibu5000.png"){ tmpl_std(0, 100) }




   switch(FEAT_TRAINS, SELF, sw_seibu5000_panto_placer_1,position_in_vehid_chain %2){
    0: seibu5000_mot;
    seibu5000_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu5000_panto_placer_1_rev,position_in_vehid_chain_from_end %2 -1){
    0: seibu5000_mot;
    seibu5000_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu5000_panto_placer_main,vehicle_is_reversed){
    1: sw_seibu5000_panto_placer_1_rev;
    sw_seibu5000_panto_placer_1;
   }

    switch(FEAT_TRAINS, SELF, sw_seibu5000_fake_placer,position_in_vehid_chain +1){
   5: seibu5000_front_f;
   6: seibu5000_end_f;
    sw_seibu5000_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu5000_fake_placer_rev,position_in_vehid_chain_from_end ){
   5: seibu5000_end_f;
   6: seibu5000_front_f;
    sw_seibu5000_panto_placer_main;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu5000_fake_placer_gfx,vehicle_is_reversed){
   1: sw_seibu5000_fake_placer_rev;
   sw_seibu5000_fake_placer;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu5000_fake_placer_main,num_vehs_in_vehid_chain>10 - 1){
   1: sw_seibu5000_fake_placer_gfx;
     sw_seibu5000_panto_placer_main;
    }


    switch(FEAT_TRAINS, SELF, sw_seibu5000_end_gfx_main,position_in_vehid_chain_from_end){
   0: seibu5000_end;
   default: sw_seibu5000_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu5000_front_gfx_main,position_in_vehid_chain_from_end){
   0: seibu5000_front;
   default: sw_seibu5000_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu5000_lv,vehicle_type_id){
   mu_car_narrow:sw_seibu5000_end_gfx_main;
   sw_seibu5000_front_gfx_main;
    }




  switch(FEAT_TRAINS, SELF, sw_seibu5000_capacity_1,num_vehs_in_vehid_chain >3){
   1: return 56;
   return 64;
    }

  switch(FEAT_TRAINS, SELF, sw_seibu5000_capacity_main,position_in_vehid_chain_from_end){
   0: sw_seibu5000_capacity_1;
   default: 72;
    }


    switch(FEAT_TRAINS, SELF, sw_seibu5000_power,position_in_vehid_chain_from_end%5){
   0:return 0;
   return 150;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu5000_head_power,num_vehs_in_consist){
   39: return 150;
   return 0;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu5000_power_main,vehicle_type_id){
   mu_car_narrow:sw_seibu5000_power;
   sw_seibu5000_head_power;
    }


    switch(FEAT_TRAINS, SELF, seibu5000_attach_vehid, vehicle_type_id) {
        mu_car: return string(STR_ATTACH_1067_ERROR);
        mu_car_metro: return string(STR_ATTACH_1067_ERROR);
        return CB_RESULT_ATTACH_ALLOW;
    }

item(FEAT_TRAINS, seibu5000,2100) {
    property {
        cargo_capacity: 130;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        climates_available: param_disable_seibu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        name: string(STR_TRAIN_NAME_LONG, string(STR_NAME_SEIBU), "5000", string(STR_NAME_SERIES), string(STR_NAME_SEIBU_RA));
        introduction_date: date(1969, 1, 1);
        vehicle_life: 26;
        model_life: 21;
        reliability_decay: 10;

        cost_factor: 21;
        running_cost_factor: 48;
        speed: 120 km/h;
        track_type: TR_1067_DC;
        power: 520 kW;
        weight: 40 ton;
        loading_speed: param_loading_2D;
    }
 graphics {
        purchase: seibu5000_purchase;
        default: sw_seibu5000_lv;
        cargo_capacity: 56*param_capacity_mod/3;
        power: sw_seibu5000_power_main()*4*1342/1000;
        cargo_age_period:ltd_express_cargo_age;
        can_attach_wagon: seibu5000_attach_vehid;

        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 2)),
  string(STR_FORMATION, string(STR_NUM_CARS_2, 4,6)),
  string(STR_USAGE, string(STR_LIMITED)),
  string(STR_OPERATOR, string(STR_SEIBU)));
 }
    livery_override(mu_car_narrow){
        default: sw_seibu5000_lv;
        cargo_capacity: sw_seibu5000_capacity_main()*param_capacity_mod/3;
        power: sw_seibu5000_power_main()*4*1342/1000;
        cargo_age_period:ltd_express_cargo_age;
        loading_speed: param_loading_2D;
        weight: 39;
      }
}
# 63 "src/_private.pnml" 2
# 1 "src/private/Kanto/seibu/seibu10000.pnml" 1

  spriteset(seibu10000_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu10000/seibu10000_1.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(seibu10000_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu10000/seibu10000_1.png"){ tmpl_purchase_2c(0, 50) }
  switch(FEAT_TRAINS, SELF, seibu10000_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_seibu; 1: seibu10000_purchase_c1; 2: seibu10000_purchase_c2;}

 spriteset(seibu10000_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu10000/seibu10000_1.png"){ tmpl_std(0, 0) }
 spriteset(seibu10000_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu10000/seibu10000_1.png"){ tmpl_std_rev(0, 25) }
 spriteset(seibu10000_1_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu10000/seibu10000_1.png"){ tmpl_std(0, 50) }
 spriteset(seibu10000_1_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu10000/seibu10000_1.png"){ tmpl_std_rev(0, 50) }
 spriteset(seibu10000_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu10000/seibu10000_1.png"){ tmpl_std(0, 75) }
 spriteset(seibu10000_1_wag_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu10000/seibu10000_1.png"){ tmpl_std_rev(0, 75) }
 spriteset(seibu10000_1_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu10000/seibu10000_1.png"){ tmpl_std_rev(0, 100) }
 spriteset(seibu10000_1_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu10000/seibu10000_1.png"){ tmpl_std(0, 100) }


 spriteset(seibu10000_2_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu10000/seibu10000_2.png"){ tmpl_std(0, 0) }
 spriteset(seibu10000_2_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu10000/seibu10000_2.png"){ tmpl_std_rev(0, 25) }
 spriteset(seibu10000_2_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu10000/seibu10000_2.png"){ tmpl_std(0, 50) }
 spriteset(seibu10000_2_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu10000/seibu10000_2.png"){ tmpl_std_rev(0, 50) }
 spriteset(seibu10000_2_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu10000/seibu10000_2.png"){ tmpl_std(0, 75) }
 spriteset(seibu10000_2_wag_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu10000/seibu10000_2.png"){ tmpl_std_rev(0, 75) }
 spriteset(seibu10000_2_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu10000/seibu10000_2.png"){ tmpl_std_rev(0, 100) }
 spriteset(seibu10000_2_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu10000/seibu10000_2.png"){ tmpl_std(0, 100) }


 spriteset(seibu10000_3_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu10000/seibu10000_3.png"){ tmpl_std(0, 0) }
 spriteset(seibu10000_3_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu10000/seibu10000_3.png"){ tmpl_std_rev(0, 25) }
 spriteset(seibu10000_3_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu10000/seibu10000_3.png"){ tmpl_std(0, 50) }
 spriteset(seibu10000_3_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu10000/seibu10000_3.png"){ tmpl_std_rev(0, 50) }
 spriteset(seibu10000_3_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu10000/seibu10000_3.png"){ tmpl_std(0, 75) }
 spriteset(seibu10000_3_wag_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu10000/seibu10000_3.png"){ tmpl_std_rev(0, 75) }
 spriteset(seibu10000_3_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu10000/seibu10000_3.png"){ tmpl_std_rev(0, 100) }
 spriteset(seibu10000_3_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu10000/seibu10000_3.png"){ tmpl_std(0, 100) }


 spriteset(seibu10000_4_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu10000/seibu10000_4.png"){ tmpl_std(0, 0) }
 spriteset(seibu10000_4_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu10000/seibu10000_4.png"){ tmpl_std_rev(0, 25) }
 spriteset(seibu10000_4_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu10000/seibu10000_4.png"){ tmpl_std(0, 50) }
 spriteset(seibu10000_4_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu10000/seibu10000_4.png"){ tmpl_std_rev(0, 50) }
 spriteset(seibu10000_4_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu10000/seibu10000_4.png"){ tmpl_std(0, 75) }
 spriteset(seibu10000_4_wag_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu10000/seibu10000_4.png"){ tmpl_std_rev(0, 75) }
 spriteset(seibu10000_4_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu10000/seibu10000_4.png"){ tmpl_std_rev(0, 100) }
 spriteset(seibu10000_4_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu10000/seibu10000_4.png"){ tmpl_std(0, 100) }


 spriteset(seibu10000_5_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu10000/seibu10000_5.png"){ tmpl_std(0, 0) }
 spriteset(seibu10000_5_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu10000/seibu10000_5.png"){ tmpl_std_rev(0, 25) }
 spriteset(seibu10000_5_mot_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu10000/seibu10000_5.png"){ tmpl_std(0, 50) }
 spriteset(seibu10000_5_mot_1_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu10000/seibu10000_5.png"){ tmpl_std_rev(0, 50) }
  spriteset(seibu10000_5_mot_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu10000/seibu10000_5.png"){ tmpl_std(0, 75) }
 spriteset(seibu10000_5_mot_2_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu10000/seibu10000_5.png"){ tmpl_std_rev(0, 75) }
 spriteset(seibu10000_5_wag_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu10000/seibu10000_5.png"){ tmpl_std(0, 100) }
 spriteset(seibu10000_5_wag_1_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu10000/seibu10000_5.png"){ tmpl_std_rev(0, 100) }
  spriteset(seibu10000_5_wag_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu10000/seibu10000_5.png"){ tmpl_std(0, 125) }
 spriteset(seibu10000_5_wag_2_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu10000/seibu10000_5.png"){ tmpl_std_rev(0, 125) }
  spriteset(seibu10000_5_mot_3, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu10000/seibu10000_5.png"){ tmpl_std(0, 150) }
 spriteset(seibu10000_5_mot_3_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu10000/seibu10000_5.png"){ tmpl_std_rev(0, 150) }
 spriteset(seibu10000_5_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu10000/seibu10000_5.png"){ tmpl_std_rev(0, 175) }
 spriteset(seibu10000_5_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu10000/seibu10000_5.png"){ tmpl_std(0, 175) }


 spriteset(seibu10000_6_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu10000/seibu10000_6.png"){ tmpl_std(0, 0) }
 spriteset(seibu10000_6_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu10000/seibu10000_6.png"){ tmpl_std_rev(0, 25) }
 spriteset(seibu10000_6_mot_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu10000/seibu10000_6.png"){ tmpl_std(0, 50) }
 spriteset(seibu10000_6_mot_1_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu10000/seibu10000_6.png"){ tmpl_std_rev(0, 50) }
  spriteset(seibu10000_6_mot_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu10000/seibu10000_6.png"){ tmpl_std(0, 75) }
 spriteset(seibu10000_6_mot_2_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu10000/seibu10000_6.png"){ tmpl_std_rev(0, 75) }
 spriteset(seibu10000_6_wag_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu10000/seibu10000_6.png"){ tmpl_std(0, 100) }
 spriteset(seibu10000_6_wag_1_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu10000/seibu10000_6.png"){ tmpl_std_rev(0, 100) }
  spriteset(seibu10000_6_wag_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu10000/seibu10000_6.png"){ tmpl_std(0, 125) }
 spriteset(seibu10000_6_wag_2_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu10000/seibu10000_6.png"){ tmpl_std_rev(0, 125) }
  spriteset(seibu10000_6_mot_3, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu10000/seibu10000_6.png"){ tmpl_std(0, 150) }
 spriteset(seibu10000_6_mot_3_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu10000/seibu10000_6.png"){ tmpl_std_rev(0, 150) }
 spriteset(seibu10000_6_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu10000/seibu10000_6.png"){ tmpl_std_rev(0, 175) }
 spriteset(seibu10000_6_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu10000/seibu10000_6.png"){ tmpl_std(0, 175) }


 spriteset(seibu10000_7_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu10000/seibu10000_7.png"){ tmpl_std(0, 0) }
 spriteset(seibu10000_7_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu10000/seibu10000_7.png"){ tmpl_std_rev(0, 25) }
 spriteset(seibu10000_7_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu10000/seibu10000_7.png"){ tmpl_std(0, 50) }
 spriteset(seibu10000_7_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu10000/seibu10000_7.png"){ tmpl_std_rev(0, 50) }
 spriteset(seibu10000_7_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu10000/seibu10000_7.png"){ tmpl_std(0, 75) }
 spriteset(seibu10000_7_wag_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu10000/seibu10000_7.png"){ tmpl_std_rev(0, 75) }
 spriteset(seibu10000_7_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu10000/seibu10000_7.png"){ tmpl_std_rev(0, 100) }
 spriteset(seibu10000_7_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu10000/seibu10000_7.png"){ tmpl_std(0, 100) }




   switch(FEAT_TRAINS, SELF, sw_seibu10000_1_panto_placer_1,position_in_vehid_chain %6){
    0: seibu10000_1_mot;
    1: seibu10000_1_mot;
    4: seibu10000_1_mot;
    seibu10000_1_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu10000_1_panto_placer_1_rev,position_in_vehid_chain_from_end %6 -1){
    0: seibu10000_1_mot_rev;
    1: seibu10000_1_mot_rev;
    4: seibu10000_1_mot_rev;
    seibu10000_1_wag_rev;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu10000_1_panto_placer_main_1,vehicle_is_reversed){
    1: sw_seibu10000_1_panto_placer_1_rev;
    sw_seibu10000_1_panto_placer_1;
   }

      switch(FEAT_TRAINS, SELF, sw_seibu10000_1_panto_placer_2,position_in_vehid_chain %6){
    0: seibu10000_1_mot;
    1: seibu10000_1_mot;
    seibu10000_1_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu10000_1_panto_placer_2_rev,position_in_vehid_chain_from_end %6 -1){
    0: seibu10000_1_mot_rev;
    1: seibu10000_1_mot_rev;
    seibu10000_1_wag_rev;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu10000_1_panto_placer_main_2,vehicle_is_reversed){
    1: sw_seibu10000_1_panto_placer_2_rev;
    sw_seibu10000_1_panto_placer_2;
   }

      switch(FEAT_TRAINS, SELF, sw_seibu10000_1_panto_placer_3,position_in_vehid_chain %6){
    0: seibu10000_1_mot;
    1: seibu10000_1_mot;
    3: seibu10000_1_mot;
    seibu10000_1_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu10000_1_panto_placer_3_rev,position_in_vehid_chain_from_end %6 -1){
    0: seibu10000_1_mot_rev;
    1: seibu10000_1_mot_rev;
    3: seibu10000_1_mot_rev;
    seibu10000_1_wag_rev;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu10000_1_panto_placer_main_3,vehicle_is_reversed){
    1: sw_seibu10000_1_panto_placer_3_rev;
    sw_seibu10000_1_panto_placer_3;
   }

      switch(FEAT_TRAINS, SELF, sw_seibu10000_1_panto_placer_main,num_vehs_in_vehid_chain+1){
        0..5:sw_seibu10000_1_panto_placer_main_2;
        6:sw_seibu10000_1_panto_placer_main_3;
        sw_seibu10000_1_panto_placer_main_1;
      }


    switch(FEAT_TRAINS, SELF, sw_seibu10000_1_fake_placer,position_in_vehid_chain +1){
   6: seibu10000_1_front_f;
   7: seibu10000_1_end_f;
    sw_seibu10000_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu10000_1_fake_placer_rev,position_in_vehid_chain_from_end ){
   6: seibu10000_1_end_f;
   7: seibu10000_1_front_f;
    sw_seibu10000_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu10000_1_fake_placer_gfx,vehicle_is_reversed){
   1: sw_seibu10000_1_fake_placer_rev;
   sw_seibu10000_1_fake_placer;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu10000_1_fake_placer_main,num_vehs_in_vehid_chain>10 - 1){
   1: sw_seibu10000_1_fake_placer_gfx;
     sw_seibu10000_1_panto_placer_main;
    }


    switch(FEAT_TRAINS, SELF, sw_seibu10000_1_end_gfx_main,position_in_vehid_chain_from_end){
   0: seibu10000_1_end;
   default: sw_seibu10000_1_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu10000_1_front_gfx_main,position_in_vehid_chain_from_end){
   0: seibu10000_1_front;
   default: sw_seibu10000_1_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu10000_livery_1,vehicle_type_id){
   mu_car_narrow:sw_seibu10000_1_end_gfx_main;
   sw_seibu10000_1_front_gfx_main;
    }



   switch(FEAT_TRAINS, SELF, sw_seibu10000_2_panto_placer_1,position_in_vehid_chain %6){
    0: seibu10000_2_mot;
    1: seibu10000_2_mot;
    4: seibu10000_2_mot;
    seibu10000_2_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu10000_2_panto_placer_1_rev,position_in_vehid_chain_from_end %6 -1){
    0: seibu10000_2_mot_rev;
    1: seibu10000_2_mot_rev;
    4: seibu10000_2_mot_rev;
    seibu10000_2_wag_rev;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu10000_2_panto_placer_main_1,vehicle_is_reversed){
    1: sw_seibu10000_2_panto_placer_1_rev;
    sw_seibu10000_2_panto_placer_1;
   }

      switch(FEAT_TRAINS, SELF, sw_seibu10000_2_panto_placer_2,position_in_vehid_chain %6){
    0: seibu10000_2_mot;
    1: seibu10000_2_mot;
    seibu10000_2_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu10000_2_panto_placer_2_rev,position_in_vehid_chain_from_end %6 -1){
    0: seibu10000_2_mot_rev;
    1: seibu10000_2_mot_rev;
    seibu10000_2_wag_rev;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu10000_2_panto_placer_main_2,vehicle_is_reversed){
    1: sw_seibu10000_2_panto_placer_2_rev;
    sw_seibu10000_2_panto_placer_2;
   }

      switch(FEAT_TRAINS, SELF, sw_seibu10000_2_panto_placer_3,position_in_vehid_chain %6){
    0: seibu10000_2_mot;
    1: seibu10000_2_mot;
    3: seibu10000_2_mot;
    seibu10000_2_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu10000_2_panto_placer_3_rev,position_in_vehid_chain_from_end %6 -1){
    0: seibu10000_2_mot_rev;
    1: seibu10000_2_mot_rev;
    3: seibu10000_2_mot_rev;
    seibu10000_2_wag_rev;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu10000_2_panto_placer_main_3,vehicle_is_reversed){
    1: sw_seibu10000_2_panto_placer_3_rev;
    sw_seibu10000_2_panto_placer_3;
   }

      switch(FEAT_TRAINS, SELF, sw_seibu10000_2_panto_placer_main,num_vehs_in_vehid_chain+1){
        0..5:sw_seibu10000_2_panto_placer_main_2;
        6:sw_seibu10000_2_panto_placer_main_3;
        sw_seibu10000_2_panto_placer_main_1;
      }


    switch(FEAT_TRAINS, SELF, sw_seibu10000_2_fake_placer,position_in_vehid_chain +1){
   6: seibu10000_2_front_f;
   7: seibu10000_2_end_f;
    sw_seibu10000_2_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu10000_2_fake_placer_rev,position_in_vehid_chain_from_end ){
   6: seibu10000_2_end_f;
   7: seibu10000_2_front_f;
    sw_seibu10000_2_panto_placer_main;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu10000_2_fake_placer_gfx,vehicle_is_reversed){
   1: sw_seibu10000_2_fake_placer_rev;
   sw_seibu10000_2_fake_placer;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu10000_2_fake_placer_main,num_vehs_in_vehid_chain>10 - 1){
   1: sw_seibu10000_2_fake_placer_gfx;
     sw_seibu10000_2_panto_placer_main;
    }


    switch(FEAT_TRAINS, SELF, sw_seibu10000_2_end_gfx_main,position_in_vehid_chain_from_end){
   0: seibu10000_2_end;
   default: sw_seibu10000_2_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu10000_2_front_gfx_main,position_in_vehid_chain_from_end){
   0: seibu10000_2_front;
   default: sw_seibu10000_2_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu10000_livery_2,vehicle_type_id){
   mu_car_narrow:sw_seibu10000_2_end_gfx_main;
   sw_seibu10000_2_front_gfx_main;
    }



   switch(FEAT_TRAINS, SELF, sw_seibu10000_3_panto_placer_1,position_in_vehid_chain %6){
    0: seibu10000_3_mot;
    1: seibu10000_3_mot;
    4: seibu10000_3_mot;
    seibu10000_3_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu10000_3_panto_placer_1_rev,position_in_vehid_chain_from_end %6 -1){
    0: seibu10000_3_mot_rev;
    1: seibu10000_3_mot_rev;
    4: seibu10000_3_mot_rev;
    seibu10000_3_wag_rev;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu10000_3_panto_placer_main_1,vehicle_is_reversed){
    1: sw_seibu10000_3_panto_placer_1_rev;
    sw_seibu10000_3_panto_placer_1;
   }

      switch(FEAT_TRAINS, SELF, sw_seibu10000_3_panto_placer_2,position_in_vehid_chain %6){
    0: seibu10000_3_mot;
    1: seibu10000_3_mot;
    seibu10000_3_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu10000_3_panto_placer_2_rev,position_in_vehid_chain_from_end %6 -1){
    0: seibu10000_3_mot_rev;
    1: seibu10000_3_mot_rev;
    seibu10000_3_wag_rev;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu10000_3_panto_placer_main_2,vehicle_is_reversed){
    1: sw_seibu10000_3_panto_placer_2_rev;
    sw_seibu10000_3_panto_placer_2;
   }

      switch(FEAT_TRAINS, SELF, sw_seibu10000_3_panto_placer_3,position_in_vehid_chain %6){
    0: seibu10000_3_mot;
    1: seibu10000_3_mot;
    3: seibu10000_3_mot;
    seibu10000_3_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu10000_3_panto_placer_3_rev,position_in_vehid_chain_from_end %6 -1){
    0: seibu10000_3_mot_rev;
    1: seibu10000_3_mot_rev;
    3: seibu10000_3_mot_rev;
    seibu10000_3_wag_rev;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu10000_3_panto_placer_main_3,vehicle_is_reversed){
    1: sw_seibu10000_3_panto_placer_3_rev;
    sw_seibu10000_3_panto_placer_3;
   }

      switch(FEAT_TRAINS, SELF, sw_seibu10000_3_panto_placer_main,num_vehs_in_vehid_chain+1){
        0..5:sw_seibu10000_3_panto_placer_main_2;
        6:sw_seibu10000_3_panto_placer_main_3;
        sw_seibu10000_3_panto_placer_main_1;
      }


    switch(FEAT_TRAINS, SELF, sw_seibu10000_3_fake_placer,position_in_vehid_chain +1){
   6: seibu10000_3_front_f;
   7: seibu10000_3_end_f;
    sw_seibu10000_3_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu10000_3_fake_placer_rev,position_in_vehid_chain_from_end ){
   6: seibu10000_3_end_f;
   7: seibu10000_3_front_f;
    sw_seibu10000_3_panto_placer_main;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu10000_3_fake_placer_gfx,vehicle_is_reversed){
   1: sw_seibu10000_3_fake_placer_rev;
   sw_seibu10000_3_fake_placer;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu10000_3_fake_placer_main,num_vehs_in_vehid_chain>10 - 1){
   1: sw_seibu10000_3_fake_placer_gfx;
     sw_seibu10000_3_panto_placer_main;
    }


    switch(FEAT_TRAINS, SELF, sw_seibu10000_3_end_gfx_main,position_in_vehid_chain_from_end){
   0: seibu10000_3_end;
   default: sw_seibu10000_3_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu10000_3_front_gfx_main,position_in_vehid_chain_from_end){
   0: seibu10000_3_front;
   default: sw_seibu10000_3_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu10000_livery_3,vehicle_type_id){
   mu_car_narrow:sw_seibu10000_3_end_gfx_main;
   sw_seibu10000_3_front_gfx_main;
    }



   switch(FEAT_TRAINS, SELF, sw_seibu10000_4_panto_placer_1,position_in_vehid_chain %6){
    0: seibu10000_4_mot;
    1: seibu10000_4_mot;
    4: seibu10000_4_mot;
    seibu10000_4_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu10000_4_panto_placer_1_rev,position_in_vehid_chain_from_end %6 -1){
    0: seibu10000_4_mot_rev;
    1: seibu10000_4_mot_rev;
    4: seibu10000_4_mot_rev;
    seibu10000_4_wag_rev;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu10000_4_panto_placer_main_1,vehicle_is_reversed){
    1: sw_seibu10000_4_panto_placer_1_rev;
    sw_seibu10000_4_panto_placer_1;
   }

      switch(FEAT_TRAINS, SELF, sw_seibu10000_4_panto_placer_2,position_in_vehid_chain %6){
    0: seibu10000_4_mot;
    1: seibu10000_4_mot;
    seibu10000_4_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu10000_4_panto_placer_2_rev,position_in_vehid_chain_from_end %6 -1){
    0: seibu10000_4_mot_rev;
    1: seibu10000_4_mot_rev;
    seibu10000_4_wag_rev;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu10000_4_panto_placer_main_2,vehicle_is_reversed){
    1: sw_seibu10000_4_panto_placer_2_rev;
    sw_seibu10000_4_panto_placer_2;
   }

      switch(FEAT_TRAINS, SELF, sw_seibu10000_4_panto_placer_3,position_in_vehid_chain %6){
    0: seibu10000_4_mot;
    1: seibu10000_4_mot;
    3: seibu10000_4_mot;
    seibu10000_4_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu10000_4_panto_placer_3_rev,position_in_vehid_chain_from_end %6 -1){
    0: seibu10000_4_mot_rev;
    1: seibu10000_4_mot_rev;
    3: seibu10000_4_mot_rev;
    seibu10000_4_wag_rev;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu10000_4_panto_placer_main_3,vehicle_is_reversed){
    1: sw_seibu10000_4_panto_placer_3_rev;
    sw_seibu10000_4_panto_placer_3;
   }

      switch(FEAT_TRAINS, SELF, sw_seibu10000_4_panto_placer_main,num_vehs_in_vehid_chain+1){
        0..5:sw_seibu10000_4_panto_placer_main_2;
        6:sw_seibu10000_4_panto_placer_main_3;
        sw_seibu10000_4_panto_placer_main_1;
      }


    switch(FEAT_TRAINS, SELF, sw_seibu10000_4_fake_placer,position_in_vehid_chain +1){
   6: seibu10000_4_front_f;
   7: seibu10000_4_end_f;
    sw_seibu10000_4_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu10000_4_fake_placer_rev,position_in_vehid_chain_from_end ){
   6: seibu10000_4_end_f;
   7: seibu10000_4_front_f;
    sw_seibu10000_4_panto_placer_main;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu10000_4_fake_placer_gfx,vehicle_is_reversed){
   1: sw_seibu10000_4_fake_placer_rev;
   sw_seibu10000_4_fake_placer;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu10000_4_fake_placer_main,num_vehs_in_vehid_chain>10 - 1){
   1: sw_seibu10000_4_fake_placer_gfx;
     sw_seibu10000_4_panto_placer_main;
    }


    switch(FEAT_TRAINS, SELF, sw_seibu10000_4_end_gfx_main,position_in_vehid_chain_from_end){
   0: seibu10000_4_end;
   default: sw_seibu10000_4_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu10000_4_front_gfx_main,position_in_vehid_chain_from_end){
   0: seibu10000_4_front;
   default: sw_seibu10000_4_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu10000_livery_4,vehicle_type_id){
   mu_car_narrow:sw_seibu10000_4_end_gfx_main;
   sw_seibu10000_4_front_gfx_main;
    }



   switch(FEAT_TRAINS, SELF, sw_seibu10000_5_panto_placer_1,position_in_vehid_chain %6){
    0: seibu10000_5_mot_1;
    1: seibu10000_5_mot_2;
        2: seibu10000_5_wag_1;
        3: seibu10000_5_wag_2;
    4: seibu10000_5_mot_3;
        5: seibu10000_5_wag_1;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu10000_5_panto_placer_1_rev,position_in_vehid_chain_from_end %6 -1){
    0: seibu10000_5_mot_1_rev;
    1: seibu10000_5_mot_2_rev;
        2: seibu10000_5_wag_1_rev;
        3: seibu10000_5_wag_2_rev;
    4: seibu10000_5_mot_3_rev;
        5: seibu10000_5_wag_1_rev;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu10000_5_panto_placer_main_1,vehicle_is_reversed){
    1: sw_seibu10000_5_panto_placer_1_rev;
    sw_seibu10000_5_panto_placer_1;
   }

      switch(FEAT_TRAINS, SELF, sw_seibu10000_5_panto_placer_2,position_in_vehid_chain %6){
    0: seibu10000_5_mot_1;
    1: seibu10000_5_mot_2;
        2: seibu10000_5_wag_1;
    seibu10000_5_wag_1;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu10000_5_panto_placer_2_rev,position_in_vehid_chain_from_end %6 -1){
    0: seibu10000_5_mot_1_rev;
    1: seibu10000_5_mot_2_rev;
        2: seibu10000_5_wag_1_rev;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu10000_5_panto_placer_main_2,vehicle_is_reversed){
    1: sw_seibu10000_5_panto_placer_2_rev;
    sw_seibu10000_5_panto_placer_2;
   }

      switch(FEAT_TRAINS, SELF, sw_seibu10000_5_panto_placer_3,position_in_vehid_chain %6){
    0: seibu10000_5_mot_1;
    1: seibu10000_5_mot_2;
        2: seibu10000_5_wag_1;
    3: seibu10000_5_mot_3;
        4: seibu10000_5_wag_1;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu10000_5_panto_placer_3_rev,position_in_vehid_chain_from_end %6 -1){
    0: seibu10000_5_mot_1_rev;
    1: seibu10000_5_mot_2_rev;
        2: seibu10000_5_wag_1_rev;
    3: seibu10000_5_mot_3_rev;
        4: seibu10000_5_wag_1_rev;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu10000_5_panto_placer_main_3,vehicle_is_reversed){
    1: sw_seibu10000_5_panto_placer_3_rev;
    sw_seibu10000_5_panto_placer_3;
   }

      switch(FEAT_TRAINS, SELF, sw_seibu10000_5_panto_placer_main,num_vehs_in_vehid_chain+1){
        0..5:sw_seibu10000_5_panto_placer_main_2;
        6:sw_seibu10000_5_panto_placer_main_3;
        sw_seibu10000_5_panto_placer_main_1;
      }


    switch(FEAT_TRAINS, SELF, sw_seibu10000_5_fake_placer,position_in_vehid_chain +1){
   6: seibu10000_5_front_f;
   7: seibu10000_5_end_f;
    sw_seibu10000_5_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu10000_5_fake_placer_rev,position_in_vehid_chain_from_end ){
   6: seibu10000_5_end_f;
   7: seibu10000_5_front_f;
    sw_seibu10000_5_panto_placer_main;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu10000_5_fake_placer_gfx,vehicle_is_reversed){
   1: sw_seibu10000_5_fake_placer_rev;
   sw_seibu10000_5_fake_placer;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu10000_5_fake_placer_main,num_vehs_in_vehid_chain>10 - 1){
   1: sw_seibu10000_5_fake_placer_gfx;
     sw_seibu10000_5_panto_placer_main;
    }


    switch(FEAT_TRAINS, SELF, sw_seibu10000_5_end_gfx_main,position_in_vehid_chain_from_end){
   0: seibu10000_5_end;
   default: sw_seibu10000_5_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu10000_5_front_gfx_main,position_in_vehid_chain_from_end){
   0: seibu10000_5_front;
   default: sw_seibu10000_5_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu10000_livery_5,vehicle_type_id){
   mu_car_narrow:sw_seibu10000_5_end_gfx_main;
   sw_seibu10000_5_front_gfx_main;
    }



   switch(FEAT_TRAINS, SELF, sw_seibu10000_6_panto_placer_1,position_in_vehid_chain %6){
    0: seibu10000_6_mot_1;
    1: seibu10000_6_mot_2;
        2: seibu10000_6_wag_1;
        3: seibu10000_6_wag_2;
    4: seibu10000_6_mot_3;
        5: seibu10000_6_wag_1;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu10000_6_panto_placer_1_rev,position_in_vehid_chain_from_end %6 -1){
    0: seibu10000_6_mot_1_rev;
    1: seibu10000_6_mot_2_rev;
        2: seibu10000_6_wag_1_rev;
        3: seibu10000_6_wag_2_rev;
    4: seibu10000_6_mot_3_rev;
        5: seibu10000_6_wag_1_rev;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu10000_6_panto_placer_main_1,vehicle_is_reversed){
    1: sw_seibu10000_6_panto_placer_1_rev;
    sw_seibu10000_6_panto_placer_1;
   }

      switch(FEAT_TRAINS, SELF, sw_seibu10000_6_panto_placer_2,position_in_vehid_chain %6){
    0: seibu10000_6_mot_1;
    1: seibu10000_6_mot_2;
        2: seibu10000_6_wag_1;
    seibu10000_6_wag_1;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu10000_6_panto_placer_2_rev,position_in_vehid_chain_from_end %6 -1){
    0: seibu10000_6_mot_1_rev;
    1: seibu10000_6_mot_2_rev;
        2: seibu10000_6_wag_1_rev;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu10000_6_panto_placer_main_2,vehicle_is_reversed){
    1: sw_seibu10000_6_panto_placer_2_rev;
    sw_seibu10000_6_panto_placer_2;
   }

      switch(FEAT_TRAINS, SELF, sw_seibu10000_6_panto_placer_3,position_in_vehid_chain %6){
    0: seibu10000_6_mot_1;
    1: seibu10000_6_mot_2;
        2: seibu10000_6_wag_1;
    3: seibu10000_6_mot_3;
        4: seibu10000_6_wag_1;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu10000_6_panto_placer_3_rev,position_in_vehid_chain_from_end %6 -1){
    0: seibu10000_6_mot_1_rev;
    1: seibu10000_6_mot_2_rev;
        2: seibu10000_6_wag_1_rev;
    3: seibu10000_6_mot_3_rev;
        4: seibu10000_6_wag_1_rev;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu10000_6_panto_placer_main_3,vehicle_is_reversed){
    1: sw_seibu10000_6_panto_placer_3_rev;
    sw_seibu10000_6_panto_placer_3;
   }

      switch(FEAT_TRAINS, SELF, sw_seibu10000_6_panto_placer_main,num_vehs_in_vehid_chain+1){
        0..5:sw_seibu10000_6_panto_placer_main_2;
        6:sw_seibu10000_6_panto_placer_main_3;
        sw_seibu10000_6_panto_placer_main_1;
      }


    switch(FEAT_TRAINS, SELF, sw_seibu10000_6_fake_placer,position_in_vehid_chain +1){
   6: seibu10000_6_front_f;
   7: seibu10000_6_end_f;
    sw_seibu10000_6_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu10000_6_fake_placer_rev,position_in_vehid_chain_from_end ){
   6: seibu10000_6_end_f;
   7: seibu10000_6_front_f;
    sw_seibu10000_6_panto_placer_main;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu10000_6_fake_placer_gfx,vehicle_is_reversed){
   1: sw_seibu10000_6_fake_placer_rev;
   sw_seibu10000_6_fake_placer;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu10000_6_fake_placer_main,num_vehs_in_vehid_chain>10 - 1){
   1: sw_seibu10000_6_fake_placer_gfx;
     sw_seibu10000_6_panto_placer_main;
    }


    switch(FEAT_TRAINS, SELF, sw_seibu10000_6_end_gfx_main,position_in_vehid_chain_from_end){
   0: seibu10000_6_end;
   default: sw_seibu10000_6_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu10000_6_front_gfx_main,position_in_vehid_chain_from_end){
   0: seibu10000_6_front;
   default: sw_seibu10000_6_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu10000_livery_6,vehicle_type_id){
   mu_car_narrow:sw_seibu10000_6_end_gfx_main;
   sw_seibu10000_6_front_gfx_main;
    }



   switch(FEAT_TRAINS, SELF, sw_seibu10000_7_panto_placer_1,position_in_vehid_chain %6){
    0: seibu10000_7_mot;
    1: seibu10000_7_mot;
    4: seibu10000_7_mot;
    seibu10000_7_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu10000_7_panto_placer_1_rev,position_in_vehid_chain_from_end %6 -1){
    0: seibu10000_7_mot_rev;
    1: seibu10000_7_mot_rev;
    4: seibu10000_7_mot_rev;
    seibu10000_7_wag_rev;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu10000_7_panto_placer_main_1,vehicle_is_reversed){
    1: sw_seibu10000_7_panto_placer_1_rev;
    sw_seibu10000_7_panto_placer_1;
   }

      switch(FEAT_TRAINS, SELF, sw_seibu10000_7_panto_placer_2,position_in_vehid_chain %6){
    0: seibu10000_7_mot;
    1: seibu10000_7_mot;
    seibu10000_7_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu10000_7_panto_placer_2_rev,position_in_vehid_chain_from_end %6 -1){
    0: seibu10000_7_mot_rev;
    1: seibu10000_7_mot_rev;
    seibu10000_7_wag_rev;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu10000_7_panto_placer_main_2,vehicle_is_reversed){
    1: sw_seibu10000_7_panto_placer_2_rev;
    sw_seibu10000_7_panto_placer_2;
   }

      switch(FEAT_TRAINS, SELF, sw_seibu10000_7_panto_placer_3,position_in_vehid_chain %6){
    0: seibu10000_7_mot;
    1: seibu10000_7_mot;
    3: seibu10000_7_mot;
    seibu10000_7_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu10000_7_panto_placer_3_rev,position_in_vehid_chain_from_end %6 -1){
    0: seibu10000_7_mot_rev;
    1: seibu10000_7_mot_rev;
    3: seibu10000_7_mot_rev;
    seibu10000_7_wag_rev;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu10000_7_panto_placer_main_3,vehicle_is_reversed){
    1: sw_seibu10000_7_panto_placer_3_rev;
    sw_seibu10000_7_panto_placer_3;
   }

      switch(FEAT_TRAINS, SELF, sw_seibu10000_7_panto_placer_main,num_vehs_in_vehid_chain+1){
        0..5:sw_seibu10000_7_panto_placer_main_2;
        6:sw_seibu10000_7_panto_placer_main_3;
        sw_seibu10000_7_panto_placer_main_1;
      }


    switch(FEAT_TRAINS, SELF, sw_seibu10000_7_fake_placer,position_in_vehid_chain +1){
   6: seibu10000_7_front_f;
   7: seibu10000_7_end_f;
    sw_seibu10000_7_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu10000_7_fake_placer_rev,position_in_vehid_chain_from_end ){
   6: seibu10000_7_end_f;
   7: seibu10000_7_front_f;
    sw_seibu10000_7_panto_placer_main;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu10000_7_fake_placer_gfx,vehicle_is_reversed){
   1: sw_seibu10000_7_fake_placer_rev;
   sw_seibu10000_7_fake_placer;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu10000_7_fake_placer_main,num_vehs_in_vehid_chain>10 - 1){
   1: sw_seibu10000_7_fake_placer_gfx;
     sw_seibu10000_7_panto_placer_main;
    }


    switch(FEAT_TRAINS, SELF, sw_seibu10000_7_end_gfx_main,position_in_vehid_chain_from_end){
   0: seibu10000_7_end;
   default: sw_seibu10000_7_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu10000_7_front_gfx_main,position_in_vehid_chain_from_end){
   0: seibu10000_7_front;
   default: sw_seibu10000_7_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu10000_livery_7,vehicle_type_id){
   mu_car_narrow:sw_seibu10000_7_end_gfx_main;
   sw_seibu10000_7_front_gfx_main;
    }





    random_switch(FEAT_TRAINS, PARENT, sw_seibu10000_livery_0_1){
      3:sw_seibu10000_livery_1;
      1:sw_seibu10000_livery_2;
    }

    random_switch(FEAT_TRAINS, PARENT, sw_seibu10000_livery_0_2){
      3:sw_seibu10000_livery_1;
      1:sw_seibu10000_livery_2;
      1:sw_seibu10000_livery_3;
    }

    random_switch(FEAT_TRAINS, PARENT, sw_seibu10000_livery_0_3){
      3:sw_seibu10000_livery_1;
      1:sw_seibu10000_livery_2;
      1:sw_seibu10000_livery_3;
      1:sw_seibu10000_livery_4;
      1:sw_seibu10000_livery_5;
    }

    random_switch(FEAT_TRAINS, PARENT, sw_seibu10000_livery_0_4){
      2:sw_seibu10000_livery_1;
      1:sw_seibu10000_livery_2;
      1:sw_seibu10000_livery_3;
      1:sw_seibu10000_livery_4;
      1:sw_seibu10000_livery_5;
      1:sw_seibu10000_livery_6;
      1:sw_seibu10000_livery_7;
    }

    switch(FEAT_TRAINS, SELF, sw_seibu10000_livery_0, current_year){
      0..2010:sw_seibu10000_livery_1;
      2011..2015:sw_seibu10000_livery_0_1;
      2016:sw_seibu10000_livery_0_2;
      2017:sw_seibu10000_livery_0_3;
      sw_seibu10000_livery_0_4;
    }

    switch(FEAT_TRAINS, PARENT, sw_seibu10000_lv, cargo_subtype){
      0:sw_seibu10000_livery_0;
      1:sw_seibu10000_livery_1;
      2:sw_seibu10000_livery_2;
      3:sw_seibu10000_livery_3;
      4:sw_seibu10000_livery_4;
      5:sw_seibu10000_livery_5;
      6:sw_seibu10000_livery_6;
      7:sw_seibu10000_livery_7;
  }

    switch(FEAT_TRAINS, SELF, sw_seibu10000_lv_desc, cargo_subtype){
      0:string(LV_RANDOM);
      1:string(LV_DEFAULT);
      2:string(LV_seibu10000_2);
      3:string(LV_seibu10000_3);
      4:string(LV_seibu10000_4);
      5:string(LV_seibu10000_5);
      6:string(LV_seibu10000_6);
      7:string(LV_seibu10000_7);
    }


  switch(FEAT_TRAINS, SELF, sw_seibu10000_capacity_main,position_in_vehid_chain_from_end){
   0: 48;
   default: 64;
    }


    switch(FEAT_TRAINS, SELF, sw_seibu10000_power,position_in_vehid_chain_from_end%3){
   0:return 0;
   return 150;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu10000_head_power,num_vehs_in_consist){
   39: return 150;
   return 0;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu10000_power_main,vehicle_type_id){
   mu_car_narrow:sw_seibu10000_power;
   sw_seibu10000_head_power;
    }


    switch(FEAT_TRAINS, SELF, seibu10000_attach_vehid, vehicle_type_id) {
        mu_car: return string(STR_ATTACH_1067_ERROR);
        mu_car_metro: return string(STR_ATTACH_1067_ERROR);
        return CB_RESULT_ATTACH_ALLOW;
    }

item(FEAT_TRAINS, seibu10000,2101) {
    property {
        cargo_capacity: 130;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        climates_available: param_disable_seibu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        name: string(STR_TRAIN_NAME_LONG, string(STR_NAME_SEIBU), "10000", string(STR_NAME_SERIES), string(STR_NAME_SEIBU_NRA));
        introduction_date: date(1993, 1, 1);
        vehicle_life: 35;
        model_life: VEHICLE_NEVER_EXPIRES;
        reliability_decay: 10;

        cost_factor: 22;
        running_cost_factor: 49;
        speed: 120 km/h;
        track_type: TR_1067_DC;
        power: 520 kW;
        weight: 33 ton;
        loading_speed: param_loading_1D;
    }
 graphics {
        purchase: seibu10000_purchase;
        default: sw_seibu10000_lv;
        cargo_capacity: 38*param_capacity_mod/3;
        power: sw_seibu10000_power_main()*4*1342/1000;
        cargo_age_period:ltd_express_cargo_age;
        can_attach_wagon: seibu10000_attach_vehid;
        cargo_subtype_text:sw_seibu10000_lv_desc;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 1)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 7)),
  string(STR_USAGE, string(STR_LIMITED)),
  string(STR_OPERATOR, string(STR_SEIBU)));
 }
    livery_override(mu_car_narrow){
        default: sw_seibu10000_lv;
        cargo_capacity: sw_seibu10000_capacity_main()*param_capacity_mod/3;
        power: sw_seibu10000_power_main()*4*1342/1000;
        cargo_age_period:ltd_express_cargo_age;
        loading_speed: param_loading_1D;
        weight: 33;
      }
}
# 64 "src/_private.pnml" 2
# 1 "src/private/Kanto/seibu/seibu001.pnml" 1

  spriteset(seibu001_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu001/seibu001.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(seibu001_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu001/seibu001.png"){ tmpl_purchase_2c(0, 100) }
  switch(FEAT_TRAINS, SELF, seibu001_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_seibu; 1: seibu001_purchase_c1; 2: seibu001_purchase_c2;}

 spriteset(seibu001_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu001/seibu001.png"){ tmpl_std(0, 0) }
 spriteset(seibu001_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu001/seibu001.png"){ tmpl_std_rev(0, 25) }
 spriteset(seibu001_front_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu001/seibu001.png"){ tmpl_std(0, 50) }
 spriteset(seibu001_end_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu001/seibu001.png"){ tmpl_std_rev(0, 75) }
 spriteset(seibu001_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu001/seibu001.png"){ tmpl_std(0, 100) }
 spriteset(seibu001_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu001/seibu001.png"){ tmpl_std_rev(0, 100) }
 spriteset(seibu001_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu001/seibu001.png"){ tmpl_std(0, 125) }
 spriteset(seibu001_wag_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu001/seibu001.png"){ tmpl_std_rev(0, 125) }
 spriteset(seibu001_wag_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu001/seibu001.png"){ tmpl_std(0, 150) }
 spriteset(seibu001_wag_1_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu001/seibu001.png"){ tmpl_std_rev(0, 150) }
 spriteset(seibu001_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu001/seibu001.png"){ tmpl_std_rev(0, 175) }
 spriteset(seibu001_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu001/seibu001.png"){ tmpl_std(0, 175) }




    switch(FEAT_TRAINS, PARENT, sw_seibu001_front_gfx,vehicle_is_reversed){
    1: seibu001_front_1;
    seibu001_front;
   }

    switch(FEAT_TRAINS, PARENT, sw_seibu001_end_gfx,vehicle_is_reversed){
    1: seibu001_end;
    seibu001_end_1;
   }


   switch(FEAT_TRAINS, SELF, sw_seibu001_panto_placer_1,position_in_vehid_chain %4){
    0: seibu001_mot_rev;
    1: seibu001_mot_rev;
    seibu001_wag_rev;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu001_panto_placer_1_rev,position_in_vehid_chain_from_end %4 -1){
    0: seibu001_mot;
    1: seibu001_mot;
    seibu001_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu001_panto_placer_main_1,vehicle_is_reversed){
    1: sw_seibu001_panto_placer_1_rev;
    sw_seibu001_panto_placer_1;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu001_panto_placer_2,position_in_vehid_chain %6){
    0: seibu001_mot_rev;
    2: seibu001_mot_rev;
        3: seibu001_wag_1_rev;
    4: seibu001_mot_rev;
    seibu001_wag_rev;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu001_panto_placer_2_rev,position_in_vehid_chain_from_end %6 -1){
    0: seibu001_mot;
    2: seibu001_mot;
        3: seibu001_wag_1;
    4: seibu001_mot;
    seibu001_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu001_panto_placer_main_2,vehicle_is_reversed){
    1: sw_seibu001_panto_placer_2_rev;
    sw_seibu001_panto_placer_2;
   }

      switch(FEAT_TRAINS, SELF, sw_seibu001_panto_placer_main,num_vehs_in_vehid_chain+1){
        0..4:sw_seibu001_panto_placer_main_1;
        sw_seibu001_panto_placer_main_2;
      }

    switch(FEAT_TRAINS, SELF, sw_seibu001_fake_placer,position_in_vehid_chain +1){
   7: seibu001_front_f;
   8: seibu001_end_f;
    sw_seibu001_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu001_fake_placer_rev,position_in_vehid_chain_from_end ){
   7: seibu001_end_f;
   8: seibu001_front_f;
    sw_seibu001_panto_placer_main;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu001_fake_placer_gfx,vehicle_is_reversed){
   1: sw_seibu001_fake_placer_rev;
   sw_seibu001_fake_placer;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu001_fake_placer_main,num_vehs_in_vehid_chain>12 - 1){
   1: sw_seibu001_fake_placer_gfx;
     sw_seibu001_panto_placer_main;
    }


    switch(FEAT_TRAINS, SELF, sw_seibu001_end_gfx_main,position_in_vehid_chain_from_end){
   0: sw_seibu001_end_gfx;
   default: sw_seibu001_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu001_front_gfx_main,position_in_vehid_chain_from_end){
   0: sw_seibu001_front_gfx;
   default: sw_seibu001_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu001_lv,vehicle_type_id){
   mu_car_narrow:sw_seibu001_end_gfx_main;
   sw_seibu001_front_gfx_main;
    }



  switch(FEAT_TRAINS, SELF, sw_seibu001_capacity_1,position_in_vehid_chain_from_end){
   0: 48;
      3: 48;
   default: 60;
    }
  switch(FEAT_TRAINS, SELF, sw_seibu001_capacity_main,vehicle_type_id){
   mu_car_narrow:sw_seibu001_capacity_1;
   default: 26;
    }

    switch(FEAT_TRAINS, SELF, sw_seibu001_power,position_in_vehid_chain_from_end%4){
   0:return 0;
      3:return 0;
   return 170;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu001_head_power,num_vehs_in_consist){
   39: return 170;
   return 0;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu001_power_main,vehicle_type_id){
   mu_car_narrow:sw_seibu001_power;
   sw_seibu001_head_power;
    }


    switch(FEAT_TRAINS, SELF, seibu001_attach_vehid, vehicle_type_id) {
   mu_car: return string(STR_ATTACH_1067_ERROR);
   mu_car_metro: return string(STR_ATTACH_1067_ERROR);
   return CB_RESULT_ATTACH_ALLOW;
  }

item(FEAT_TRAINS, seibu001,2102) {
    property {
        cargo_capacity: 130;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        climates_available: param_disable_seibu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        name: string(STR_TRAIN_NAME_LONG, string(STR_NAME_SEIBU), "001", string(STR_NAME_SERIES), string(STR_NAME_SEIBU_LAVIEW));
        introduction_date: date(2018, 1, 1);
        vehicle_life: 35;
        model_life: VEHICLE_NEVER_EXPIRES;
        reliability_decay: 10;

        cost_factor: 22;
        running_cost_factor: 50;
        speed: 130 km/h;
        track_type: TR_1067_DC;
        power: 520 kW;
        weight: 38 ton;
        loading_speed: param_loading_1D;
    }
 graphics {
        purchase: seibu001_purchase;
        default: sw_seibu001_lv;
        cargo_capacity: sw_seibu001_capacity_main()*param_capacity_mod/3;
        power: sw_seibu001_power_main()*4*1342/1000;
        cargo_age_period:ltd_express_cargo_age;
        can_attach_wagon: seibu001_attach_vehid;

        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 1)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 8)),
  string(STR_USAGE, string(STR_LIMITED)),
  string(STR_OPERATOR, string(STR_SEIBU)));
 }
    livery_override(mu_car_narrow){
        default: sw_seibu001_lv;
        cargo_capacity: sw_seibu001_capacity_main()*param_capacity_mod/3;
        power: sw_seibu001_power_main()*4*1342/1000;
        cargo_age_period:ltd_express_cargo_age;
        loading_speed: param_loading_1D;
        weight: 35;
      }
}
# 65 "src/_private.pnml" 2

# 1 "src/private/Kanto/seibu/seibuDeha100.pnml" 1

  spriteset(seibuDeha100_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibuDeha100/seibuDeha100.png"){ tmpl_purchase_1c(0, 0) }
  switch(FEAT_TRAINS, SELF, seibuDeha100_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_seibu; 1: seibuDeha100_purchase_c1;}

spriteset(seibuDeha100_front_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibuDeha100/seibuDeha100.png"){ tmpl_std(0, 0) }
spriteset(seibuDeha100_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibuDeha100/seibuDeha100.png"){ tmpl_std_rev(0, 25) }
spriteset(seibuDeha100_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibuDeha100/seibuDeha100.png"){ tmpl_std(0, 50) }
spriteset(seibuDeha100_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibuDeha100/seibuDeha100.png"){ tmpl_std_rev(0, 50) }


switch(FEAT_TRAINS, PARENT, sw_seibuDeha100_front_gfx, vehicle_is_reversed==1&&num_vehs_in_consist==1){
    1:seibuDeha100_front_rev;
    seibuDeha100_front;
}

switch(FEAT_TRAINS, SELF, sw_seibuDeha100_panto_placer,position_in_vehid_chain %2){
    0: seibuDeha100_end;
    seibuDeha100_end_rev;
}
switch(FEAT_TRAINS, SELF, sw_seibuDeha100_panto_placer_rev,position_in_vehid_chain_from_end %2 -1){
    0: seibuDeha100_end_rev;
    seibuDeha100_end;
}
switch(FEAT_TRAINS, PARENT, sw_seibuDeha100_panto_placer_main,vehicle_is_reversed){
    1: sw_seibuDeha100_panto_placer_rev;
    sw_seibuDeha100_panto_placer;
}

switch(FEAT_TRAINS, SELF, sw_seibuDeha100_end_fix, position_in_consist_from_end){
    0:seibuDeha100_end;
    sw_seibuDeha100_panto_placer_main;
}

switch(FEAT_TRAINS, SELF, sw_seibuDeha100_livery_0,vehicle_type_id){
    mu_car_narrow:sw_seibuDeha100_end_fix;
    sw_seibuDeha100_front_gfx;
}


    switch(FEAT_TRAINS, SELF, seibuDeha100_attach_vehid, vehicle_type_id) {
        mu_car: return string(STR_ATTACH_1067_ERROR);
        mu_car_metro: return string(STR_ATTACH_1067_ERROR);
        return CB_RESULT_ATTACH_ALLOW;
    }

item(FEAT_TRAINS, seibuDeha100,2105) {
    property {
        cargo_capacity: 130;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        climates_available: param_disable_seibu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        name: string(STR_TRAIN_NAME, string(STR_NAME_SEIBU), string(STR_NAME_DEHA, "100"), string(STR_NAME_TYPE));
        introduction_date: date(1922, 1, 1);
        model_life: 24;
        vehicle_life: 29;
        reliability_decay: 10;

        cost_factor: 12;
        running_cost_factor: 42;
        speed: 75 km/h;
        track_type: TR_1067_DC;
        power: 192 kW;
        weight: 27 ton;
        loading_speed: param_loading_2D;
    }
 graphics {
        default: sw_seibuDeha100_livery_0;
        purchase: seibuDeha100_purchase;
        can_attach_wagon: seibuDeha100_attach_vehid;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 2)),
  string(STR_FORMATION, string(STR_NUM_CARS_2, 1,2)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_SEIBU)));
        cargo_capacity: 107*param_capacity_mod/3;
    }
    livery_override(mu_car_narrow){
        loading_speed: param_loading_2D;
        cargo_capacity: 107*param_capacity_mod/3;
        default: sw_seibuDeha100_livery_0;
        power: 192*1342/1000;
        weight: 27;
      }
}
# 67 "src/_private.pnml" 2
# 1 "src/private/Kanto/seibu/seibuDeha5560.pnml" 1

  spriteset(seibuDeha5560_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibuDeha5560/seibu5560_1.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(seibuDeha5560_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibuDeha5560/seibu5560_1.png"){ tmpl_purchase_2c(0, 125) }
  switch(FEAT_TRAINS, SELF, seibuDeha5560_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_seibu; 1: seibuDeha5560_purchase_c1; 2: seibuDeha5560_purchase_c2;}

  spriteset(seibuDeha5560_1_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibuDeha5560/seibu5560_1.png"){ tmpl_std(0, 0) }
  spriteset(seibuDeha5560_1_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibuDeha5560/seibu5560_1.png"){ tmpl_std_rev(0, 25) }
  spriteset(seibuDeha5560_1_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibuDeha5560/seibu5560_1.png"){ tmpl_std(0, 50) }
  spriteset(seibuDeha5560_1_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibuDeha5560/seibu5560_1.png"){ tmpl_std_rev(0, 50) }
  spriteset(seibuDeha5560_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibuDeha5560/seibu5560_1.png"){ tmpl_std(0, 75) }
  spriteset(seibuDeha5560_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibuDeha5560/seibu5560_1.png"){ tmpl_std_rev(0, 100) }
  spriteset(seibuDeha5560_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibuDeha5560/seibu5560_1.png"){ tmpl_std(0, 125) }
  spriteset(seibuDeha5560_1_wag_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibuDeha5560/seibu5560_1.png"){ tmpl_std_rev(0, 125) }


  spriteset(seibuDeha5560_2_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibuDeha5560/seibu5560_2.png"){ tmpl_std(0, 0) }
  spriteset(seibuDeha5560_2_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibuDeha5560/seibu5560_2.png"){ tmpl_std_rev(0, 25) }
  spriteset(seibuDeha5560_2_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibuDeha5560/seibu5560_2.png"){ tmpl_std(0, 50) }
  spriteset(seibuDeha5560_2_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibuDeha5560/seibu5560_2.png"){ tmpl_std_rev(0, 50) }
  spriteset(seibuDeha5560_2_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibuDeha5560/seibu5560_2.png"){ tmpl_std(0, 75) }
  spriteset(seibuDeha5560_2_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibuDeha5560/seibu5560_2.png"){ tmpl_std_rev(0, 100) }
  spriteset(seibuDeha5560_2_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibuDeha5560/seibu5560_2.png"){ tmpl_std(0, 125) }
  spriteset(seibuDeha5560_2_wag_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibuDeha5560/seibu5560_2.png"){ tmpl_std_rev(0, 125) }


  spriteset(seibuDeha5560_3_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibuDeha5560/seibu5560_3.png"){ tmpl_std(0, 0) }
  spriteset(seibuDeha5560_3_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibuDeha5560/seibu5560_3.png"){ tmpl_std_rev(0, 25) }
  spriteset(seibuDeha5560_3_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibuDeha5560/seibu5560_3.png"){ tmpl_std(0, 50) }
  spriteset(seibuDeha5560_3_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibuDeha5560/seibu5560_3.png"){ tmpl_std_rev(0, 50) }
  spriteset(seibuDeha5560_3_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibuDeha5560/seibu5560_3.png"){ tmpl_std(0, 75) }
  spriteset(seibuDeha5560_3_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibuDeha5560/seibu5560_3.png"){ tmpl_std_rev(0, 100) }
  spriteset(seibuDeha5560_3_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibuDeha5560/seibu5560_3.png"){ tmpl_std(0, 125) }
  spriteset(seibuDeha5560_3_wag_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibuDeha5560/seibu5560_3.png"){ tmpl_std_rev(0, 125) }



    switch(FEAT_TRAINS, PARENT, sw_seibuDeha5560_1_front_gfx, vehicle_is_reversed){
        1: seibuDeha5560_1_front;
        seibuDeha5560_1_front_mot;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibuDeha5560_1_end_gfx, vehicle_is_reversed){
        1: seibuDeha5560_1_end_mot;
        seibuDeha5560_1_end;
    }

    switch(FEAT_TRAINS, SELF, sw_seibuDeha5560_1_panto_placer,position_in_vehid_chain %2){
        0: seibuDeha5560_1_wag_rev;
        seibuDeha5560_1_mot;
    }
    switch(FEAT_TRAINS, SELF, sw_seibuDeha5560_1_panto_placer_rev,position_in_vehid_chain_from_end %2 -1){
        0: seibuDeha5560_1_wag;
        seibuDeha5560_1_mot_rev;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibuDeha5560_1_panto_placer_main,vehicle_is_reversed){
        1: sw_seibuDeha5560_1_panto_placer_rev;
        sw_seibuDeha5560_1_panto_placer;
    }

    switch(FEAT_TRAINS, SELF, sw_seibuDeha5560_1_end_fix, position_in_consist_from_end){
        0:sw_seibuDeha5560_1_end_gfx;
        sw_seibuDeha5560_1_panto_placer_main;
    }

    switch(FEAT_TRAINS, SELF, sw_seibuDeha5560_livery_1,vehicle_type_id){
        mu_car_narrow:sw_seibuDeha5560_1_end_fix;
        sw_seibuDeha5560_1_front_gfx;
    }



    switch(FEAT_TRAINS, PARENT, sw_seibuDeha5560_2_front_gfx, vehicle_is_reversed){
        1: seibuDeha5560_2_front;
        seibuDeha5560_2_front_mot;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibuDeha5560_2_end_gfx, vehicle_is_reversed){
        1: seibuDeha5560_2_end_mot;
        seibuDeha5560_2_end;
    }

    switch(FEAT_TRAINS, SELF, sw_seibuDeha5560_2_panto_placer,position_in_vehid_chain %2){
        0: seibuDeha5560_2_wag_rev;
        seibuDeha5560_2_mot;
    }
    switch(FEAT_TRAINS, SELF, sw_seibuDeha5560_2_panto_placer_rev,position_in_vehid_chain_from_end %2 -1){
        0: seibuDeha5560_2_wag;
        seibuDeha5560_2_mot_rev;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibuDeha5560_2_panto_placer_main,vehicle_is_reversed){
        1: sw_seibuDeha5560_2_panto_placer_rev;
        sw_seibuDeha5560_2_panto_placer;
    }

    switch(FEAT_TRAINS, SELF, sw_seibuDeha5560_2_end_fix, position_in_consist_from_end){
        0:sw_seibuDeha5560_2_end_gfx;
        sw_seibuDeha5560_2_panto_placer_main;
    }

    switch(FEAT_TRAINS, SELF, sw_seibuDeha5560_livery_2,vehicle_type_id){
        mu_car_narrow:sw_seibuDeha5560_2_end_fix;
        sw_seibuDeha5560_2_front_gfx;
    }



    switch(FEAT_TRAINS, PARENT, sw_seibuDeha5560_3_front_gfx, vehicle_is_reversed){
        1: seibuDeha5560_3_front;
        seibuDeha5560_3_front_mot;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibuDeha5560_3_end_gfx, vehicle_is_reversed){
        1: seibuDeha5560_3_end_mot;
        seibuDeha5560_3_end;
    }

    switch(FEAT_TRAINS, SELF, sw_seibuDeha5560_3_panto_placer,position_in_vehid_chain %2){
        0: seibuDeha5560_3_wag_rev;
        seibuDeha5560_3_mot;
    }
    switch(FEAT_TRAINS, SELF, sw_seibuDeha5560_3_panto_placer_rev,position_in_vehid_chain_from_end %2 -1){
        0: seibuDeha5560_3_wag;
        seibuDeha5560_3_mot_rev;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibuDeha5560_3_panto_placer_main,vehicle_is_reversed){
        1: sw_seibuDeha5560_3_panto_placer_rev;
        sw_seibuDeha5560_3_panto_placer;
    }

    switch(FEAT_TRAINS, SELF, sw_seibuDeha5560_3_end_fix, position_in_consist_from_end){
        0:sw_seibuDeha5560_3_end_gfx;
        sw_seibuDeha5560_3_panto_placer_main;
    }

    switch(FEAT_TRAINS, SELF, sw_seibuDeha5560_livery_3,vehicle_type_id){
        mu_car_narrow:sw_seibuDeha5560_3_end_fix;
        sw_seibuDeha5560_3_front_gfx;
    }



    switch(FEAT_TRAINS, PARENT, sw_seibuDeha5560_lv, cargo_subtype){
      0:sw_seibuDeha5560_livery_1;
      1:sw_seibuDeha5560_livery_2;
      2:sw_seibuDeha5560_livery_3;
  }

    switch(FEAT_TRAINS, SELF, sw_seibuDeha5560_lv_desc, cargo_subtype){
      0:string(LV_seibuDeha5560_1);
      1:string(LV_SEIBU_YELLOW);
      2:string(LV_seibuDeha5560_3);
    }


    switch(FEAT_TRAINS, SELF, sw_seibuDeha5560_load, cargo_subtype){
        2:param_loading_3D;
        param_loading_2D;
    }

    switch(FEAT_TRAINS, SELF, sw_seibuDeha5560_power,position_in_vehid_chain_from_end %2){
        0: return 0;
        return 340*1342/1000;
    }

  switch(FEAT_TRAINS, SELF, seibuDeha5560_attach_vehid, vehicle_type_id) {
        mu_car: return string(STR_ATTACH_1067_ERROR);
        mu_car_metro: return string(STR_ATTACH_1067_ERROR);
        return CB_RESULT_ATTACH_ALLOW;
    }

item(FEAT_TRAINS, seibuDeha5560,2106) {
    property {
        cargo_capacity: 130;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        climates_available: param_disable_seibu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        name: string(STR_TRAIN_NAME, string(STR_NAME_SEIBU), string(STR_NAME_DEHA, "5560"), string(STR_NAME_TYPE));
        introduction_date: date(1928, 1, 1);
        model_life: 27;
        vehicle_life: 32;
        reliability_decay: 10;

        cost_factor: 13;
        running_cost_factor: 43;
        speed: 85 km/h;
        track_type: TR_1067_DC;
        power: 340 kW;
        weight: 32 ton;
        loading_speed: param_loading_2D;
    }
 graphics {
        start_stop: sw_stop_start_2;
        loading_speed: sw_seibuDeha5560_load;
        cargo_capacity: 110*param_capacity_mod/3;
        default: sw_seibuDeha5560_lv;
        purchase: seibuDeha5560_purchase;
        can_attach_wagon: seibuDeha5560_attach_vehid;
        cargo_subtype_text:sw_seibuDeha5560_lv_desc;
        additional_text:
  string(STR_TRAIN_DESC,
                            string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
                            string(STR_LOAD_SPEED,
                            string(STR_DOORS_REFIT, 2, 3),),
                            string(STR_FORMATION, string(STR_NUM_CARS_1, 2)),


                            string(STR_USAGE, string(STR_COMMUTER)),
  string( STR_OPERATOR, string(STR_SEIBU)));
    }
    livery_override(mu_car_narrow){
        loading_speed: sw_seibuDeha5560_load;
        cargo_capacity: 110*param_capacity_mod/3;
        default: sw_seibuDeha5560_lv;
        power: sw_seibuDeha5560_power;
        weight: 32;
      }
}
# 68 "src/_private.pnml" 2
# 1 "src/private/Kanto/seibu/seibu311.pnml" 1

  spriteset(seibu311_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu311/seibu311_1.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(seibu311_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu311/seibu311_1.png"){ tmpl_purchase_2c(0, 125) }
  switch(FEAT_TRAINS, SELF, seibu311_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_seibu; 1: seibu311_purchase_c1; 2: seibu311_purchase_c2;}

  spriteset(seibu311_1_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu311/seibu311_1.png"){ tmpl_std(0, 0) }
  spriteset(seibu311_1_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu311/seibu311_1.png"){ tmpl_std_rev(0, 25) }
  spriteset(seibu311_1_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu311/seibu311_1.png"){ tmpl_std(0, 50) }
  spriteset(seibu311_1_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu311/seibu311_1.png"){ tmpl_std_rev(0, 50) }
  spriteset(seibu311_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu311/seibu311_1.png"){ tmpl_std(0, 75) }
  spriteset(seibu311_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu311/seibu311_1.png"){ tmpl_std_rev(0, 100) }
  spriteset(seibu311_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu311/seibu311_1.png"){ tmpl_std(0, 125) }
  spriteset(seibu311_1_wag_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu311/seibu311_1.png"){ tmpl_std_rev(0, 125) }


  spriteset(seibu311_2_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu311/seibu311_2.png"){ tmpl_std(0, 0) }
  spriteset(seibu311_2_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu311/seibu311_2.png"){ tmpl_std_rev(0, 25) }
  spriteset(seibu311_2_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu311/seibu311_2.png"){ tmpl_std(0, 50) }
  spriteset(seibu311_2_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu311/seibu311_2.png"){ tmpl_std_rev(0, 50) }
  spriteset(seibu311_2_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu311/seibu311_2.png"){ tmpl_std(0, 75) }
  spriteset(seibu311_2_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu311/seibu311_2.png"){ tmpl_std_rev(0, 100) }
  spriteset(seibu311_2_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu311/seibu311_2.png"){ tmpl_std(0, 125) }
  spriteset(seibu311_2_wag_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu311/seibu311_2.png"){ tmpl_std_rev(0, 125) }


  spriteset(seibu311_3_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu311/seibu311_3.png"){ tmpl_std(0, 0) }
  spriteset(seibu311_3_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu311/seibu311_3.png"){ tmpl_std_rev(0, 25) }
  spriteset(seibu311_3_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu311/seibu311_3.png"){ tmpl_std(0, 50) }
  spriteset(seibu311_3_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu311/seibu311_3.png"){ tmpl_std_rev(0, 50) }
  spriteset(seibu311_3_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu311/seibu311_3.png"){ tmpl_std(0, 75) }
  spriteset(seibu311_3_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu311/seibu311_3.png"){ tmpl_std_rev(0, 100) }
  spriteset(seibu311_3_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu311/seibu311_3.png"){ tmpl_std(0, 125) }
  spriteset(seibu311_3_wag_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu311/seibu311_3.png"){ tmpl_std_rev(0, 125) }


  spriteset(seibu311_4_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu311/seibu311_4.png"){ tmpl_std(0, 0) }
  spriteset(seibu311_4_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu311/seibu311_4.png"){ tmpl_std_rev(0, 25) }
  spriteset(seibu311_4_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu311/seibu311_4.png"){ tmpl_std(0, 50) }
  spriteset(seibu311_4_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu311/seibu311_4.png"){ tmpl_std_rev(0, 50) }
  spriteset(seibu311_4_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu311/seibu311_4.png"){ tmpl_std(0, 75) }
  spriteset(seibu311_4_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu311/seibu311_4.png"){ tmpl_std_rev(0, 100) }
  spriteset(seibu311_4_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu311/seibu311_4.png"){ tmpl_std(0, 125) }
  spriteset(seibu311_4_wag_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu311/seibu311_4.png"){ tmpl_std_rev(0, 125) }



    switch(FEAT_TRAINS, PARENT, sw_seibu311_1_front_gfx, vehicle_is_reversed){
        1: seibu311_1_front;
        seibu311_1_front_mot;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu311_1_end_gfx, vehicle_is_reversed){
        1: seibu311_1_end_mot;
        seibu311_1_end;
    }

    switch(FEAT_TRAINS, SELF, sw_seibu311_1_panto_placer,position_in_vehid_chain %2){
        0: seibu311_1_wag_rev;
        seibu311_1_mot;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu311_1_panto_placer_rev,position_in_vehid_chain_from_end %2 -1){
        0: seibu311_1_wag;
        seibu311_1_mot_rev;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu311_1_panto_placer_main,vehicle_is_reversed){
        1: sw_seibu311_1_panto_placer_rev;
        sw_seibu311_1_panto_placer;
    }

    switch(FEAT_TRAINS, SELF, sw_seibu311_1_end_fix, position_in_consist_from_end){
        0:sw_seibu311_1_end_gfx;
        sw_seibu311_1_panto_placer_main;
    }

    switch(FEAT_TRAINS, SELF, sw_seibu311_livery_1,vehicle_type_id){
        mu_car_narrow:sw_seibu311_1_end_fix;
        sw_seibu311_1_front_gfx;
    }



    switch(FEAT_TRAINS, PARENT, sw_seibu311_2_front_gfx, vehicle_is_reversed){
        1: seibu311_2_front;
        seibu311_2_front_mot;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu311_2_end_gfx, vehicle_is_reversed){
        1: seibu311_2_end_mot;
        seibu311_2_end;
    }

    switch(FEAT_TRAINS, SELF, sw_seibu311_2_panto_placer,position_in_vehid_chain %2){
        0: seibu311_2_wag_rev;
        seibu311_2_mot;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu311_2_panto_placer_rev,position_in_vehid_chain_from_end %2 -1){
        0: seibu311_2_wag;
        seibu311_2_mot_rev;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu311_2_panto_placer_main,vehicle_is_reversed){
        1: sw_seibu311_2_panto_placer_rev;
        sw_seibu311_2_panto_placer;
    }

    switch(FEAT_TRAINS, SELF, sw_seibu311_2_end_fix, position_in_consist_from_end){
        0:sw_seibu311_2_end_gfx;
        sw_seibu311_2_panto_placer_main;
    }

    switch(FEAT_TRAINS, SELF, sw_seibu311_livery_2,vehicle_type_id){
        mu_car_narrow:sw_seibu311_2_end_fix;
        sw_seibu311_2_front_gfx;
    }



    switch(FEAT_TRAINS, PARENT, sw_seibu311_3_front_gfx, vehicle_is_reversed){
        1: seibu311_3_front;
        seibu311_3_front_mot;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu311_3_end_gfx, vehicle_is_reversed){
        1: seibu311_3_end_mot;
        seibu311_3_end;
    }

    switch(FEAT_TRAINS, SELF, sw_seibu311_3_panto_placer,position_in_vehid_chain %2){
        0: seibu311_3_wag_rev;
        seibu311_3_mot;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu311_3_panto_placer_rev,position_in_vehid_chain_from_end %2 -1){
        0: seibu311_3_wag;
        seibu311_3_mot_rev;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu311_3_panto_placer_main,vehicle_is_reversed){
        1: sw_seibu311_3_panto_placer_rev;
        sw_seibu311_3_panto_placer;
    }

    switch(FEAT_TRAINS, SELF, sw_seibu311_3_end_fix, position_in_consist_from_end){
        0:sw_seibu311_3_end_gfx;
        sw_seibu311_3_panto_placer_main;
    }

    switch(FEAT_TRAINS, SELF, sw_seibu311_livery_3,vehicle_type_id){
        mu_car_narrow:sw_seibu311_3_end_fix;
        sw_seibu311_3_front_gfx;
    }



    switch(FEAT_TRAINS, PARENT, sw_seibu311_4_front_gfx, vehicle_is_reversed){
        1: seibu311_4_front;
        seibu311_4_front_mot;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu311_4_end_gfx, vehicle_is_reversed){
        1: seibu311_4_end_mot;
        seibu311_4_end;
    }

    switch(FEAT_TRAINS, SELF, sw_seibu311_4_panto_placer,position_in_vehid_chain %2){
        0: seibu311_4_wag_rev;
        seibu311_4_mot;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu311_4_panto_placer_rev,position_in_vehid_chain_from_end %2 -1){
        0: seibu311_4_wag;
        seibu311_4_mot_rev;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu311_4_panto_placer_main,vehicle_is_reversed){
        1: sw_seibu311_4_panto_placer_rev;
        sw_seibu311_4_panto_placer;
    }

    switch(FEAT_TRAINS, SELF, sw_seibu311_4_end_fix, position_in_consist_from_end){
        0:sw_seibu311_4_end_gfx;
        sw_seibu311_4_panto_placer_main;
    }

    switch(FEAT_TRAINS, SELF, sw_seibu311_livery_4,vehicle_type_id){
        mu_car_narrow:sw_seibu311_4_end_fix;
        sw_seibu311_4_front_gfx;
    }




    random_switch(FEAT_TRAINS, PARENT, sw_seibu311_livery_0_1){
      1:sw_seibu311_livery_3;
      1:sw_seibu311_livery_4;
    }

    switch(FEAT_TRAINS, SELF, sw_seibu311_livery_0, current_year){
      0..1959:sw_seibu311_livery_1;
      sw_seibu311_livery_0_1;
    }

    switch(FEAT_TRAINS, PARENT, sw_seibu311_lv, cargo_subtype){
      0:sw_seibu311_livery_0;
      1:sw_seibu311_livery_1;
      2:sw_seibu311_livery_2;
      3:sw_seibu311_livery_3;
      4:sw_seibu311_livery_4;
    }

    switch(FEAT_TRAINS, SELF, sw_seibu311_lv_desc, cargo_subtype){
      0:string(LV_RANDOM);
      1:string(LV_seibu311_1);
      2:string(LV_SEIBU_BRYELLOW);
      3:string(LV_SEIBU_AKADEN_A);
      4:string(LV_SEIBU_AKADEN_B);
    }


    switch(FEAT_TRAINS, SELF, sw_seibu311_power,position_in_vehid_chain_from_end %2){
        0: return 0;
        return 340*1342/1000;
    }

  switch(FEAT_TRAINS, SELF, seibu311_attach_vehid, vehicle_type_id) {
   mu_car: return string(STR_ATTACH_1067_ERROR);
   mu_car_metro: return string(STR_ATTACH_1067_ERROR);
   return CB_RESULT_ATTACH_ALLOW;
  }

item(FEAT_TRAINS, seibu311,2107) {
    property {
        cargo_capacity: 130;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        climates_available: param_disable_seibu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        name: string(STR_TRAIN_NAME, string(STR_NAME_SEIBU), "311", string(STR_NAME_SERIES));
        introduction_date: date(1946, 1, 1);
        model_life: 25;
        vehicle_life: 30;
        reliability_decay: 10;

        cost_factor: 16;
        running_cost_factor: 46;
        speed: 95 km/h;
        track_type: TR_1067_DC;
        power: 340 kW;
        weight: 40 ton;
        loading_speed: param_loading_2D;
    }
 graphics {
        start_stop: sw_stop_start_2;
        loading_speed: param_loading_3D;
        cargo_capacity: 118*param_capacity_mod/3;
        default: sw_seibu311_lv;
        purchase: seibu311_purchase;
        can_attach_wagon: seibu311_attach_vehid;
        cargo_subtype_text:sw_seibu311_lv_desc;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_2, 2,3)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string( STR_OPERATOR, string(STR_SEIBU)));
    }
    livery_override(mu_car_narrow){
        loading_speed: param_loading_3D;
        cargo_capacity: 118*param_capacity_mod/3;
        default: sw_seibu311_lv;
        power: sw_seibu311_power;
        weight: 37;
      }
}
# 69 "src/_private.pnml" 2
# 1 "src/private/Kanto/seibu/seibu401_1.pnml" 1

  spriteset(seibu401_1_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu401_1/seibu401_1_1.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(seibu401_1_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu401_1/seibu401_1_1.png"){ tmpl_purchase_2c(0, 125) }
  switch(FEAT_TRAINS, SELF, seibu401_1_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_seibu; 1: seibu401_1_purchase_c1; 2: seibu401_1_purchase_c2;}

  spriteset(seibu401_1_1_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu401_1/seibu401_1_1.png"){ tmpl_std(0, 0) }
  spriteset(seibu401_1_1_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu401_1/seibu401_1_1.png"){ tmpl_std_rev(0, 25) }
  spriteset(seibu401_1_1_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu401_1/seibu401_1_1.png"){ tmpl_std(0, 50) }
  spriteset(seibu401_1_1_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu401_1/seibu401_1_1.png"){ tmpl_std_rev(0, 50) }
  spriteset(seibu401_1_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu401_1/seibu401_1_1.png"){ tmpl_std(0, 75) }
  spriteset(seibu401_1_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu401_1/seibu401_1_1.png"){ tmpl_std_rev(0, 100) }
  spriteset(seibu401_1_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu401_1/seibu401_1_1.png"){ tmpl_std(0, 125) }
  spriteset(seibu401_1_1_wag_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu401_1/seibu401_1_1.png"){ tmpl_std_rev(0, 125) }


  spriteset(seibu401_1_2_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu401_1/seibu401_1_2.png"){ tmpl_std(0, 0) }
  spriteset(seibu401_1_2_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu401_1/seibu401_1_2.png"){ tmpl_std_rev(0, 25) }
  spriteset(seibu401_1_2_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu401_1/seibu401_1_2.png"){ tmpl_std(0, 50) }
  spriteset(seibu401_1_2_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu401_1/seibu401_1_2.png"){ tmpl_std_rev(0, 50) }
  spriteset(seibu401_1_2_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu401_1/seibu401_1_2.png"){ tmpl_std(0, 75) }
  spriteset(seibu401_1_2_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu401_1/seibu401_1_2.png"){ tmpl_std_rev(0, 100) }
  spriteset(seibu401_1_2_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu401_1/seibu401_1_2.png"){ tmpl_std(0, 125) }
  spriteset(seibu401_1_2_wag_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu401_1/seibu401_1_2.png"){ tmpl_std_rev(0, 125) }



    switch(FEAT_TRAINS, PARENT, sw_seibu401_1_1_front_gfx, vehicle_is_reversed){
        1: seibu401_1_1_front;
        seibu401_1_1_front_mot;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu401_1_1_end_gfx, vehicle_is_reversed){
        1: seibu401_1_1_end_mot;
        seibu401_1_1_end;
    }

    switch(FEAT_TRAINS, SELF, sw_seibu401_1_1_panto_placer,position_in_vehid_chain %2){
        0: seibu401_1_1_wag_rev;
        seibu401_1_1_mot;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu401_1_1_panto_placer_rev,position_in_vehid_chain_from_end %2 -1){
        0: seibu401_1_1_wag;
        seibu401_1_1_mot_rev;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu401_1_1_panto_placer_main,vehicle_is_reversed){
        1: sw_seibu401_1_1_panto_placer_rev;
        sw_seibu401_1_1_panto_placer;
    }

    switch(FEAT_TRAINS, SELF, sw_seibu401_1_1_end_fix, position_in_consist_from_end){
        0:sw_seibu401_1_1_end_gfx;
        sw_seibu401_1_1_panto_placer_main;
    }

    switch(FEAT_TRAINS, SELF, sw_seibu401_1_livery_1,vehicle_type_id){
        mu_car_narrow:sw_seibu401_1_1_end_fix;
        sw_seibu401_1_1_front_gfx;
    }



    switch(FEAT_TRAINS, PARENT, sw_seibu401_1_2_front_gfx, vehicle_is_reversed){
        1: seibu401_1_2_front;
        seibu401_1_2_front_mot;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu401_1_2_end_gfx, vehicle_is_reversed){
        1: seibu401_1_2_end_mot;
        seibu401_1_2_end;
    }

    switch(FEAT_TRAINS, SELF, sw_seibu401_1_2_panto_placer,position_in_vehid_chain %2){
        0: seibu401_1_2_wag_rev;
        seibu401_1_2_mot;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu401_1_2_panto_placer_rev,position_in_vehid_chain_from_end %2 -1){
        0: seibu401_1_2_wag;
        seibu401_1_2_mot_rev;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu401_1_2_panto_placer_main,vehicle_is_reversed){
        1: sw_seibu401_1_2_panto_placer_rev;
        sw_seibu401_1_2_panto_placer;
    }

    switch(FEAT_TRAINS, SELF, sw_seibu401_1_2_end_fix, position_in_consist_from_end){
        0:sw_seibu401_1_2_end_gfx;
        sw_seibu401_1_2_panto_placer_main;
    }

    switch(FEAT_TRAINS, SELF, sw_seibu401_1_livery_2,vehicle_type_id){
        mu_car_narrow:sw_seibu401_1_2_end_fix;
        sw_seibu401_1_2_front_gfx;
    }




    switch(FEAT_TRAINS, PARENT, sw_seibu401_1_livery_0, current_year){
      0..1959:sw_seibu401_1_livery_1;
      sw_seibu401_1_livery_2;
    }

    switch(FEAT_TRAINS, PARENT, sw_seibu401_1_lv, cargo_subtype){
      0:sw_seibu401_1_livery_0;
      1:sw_seibu401_1_livery_1;
      2:sw_seibu401_1_livery_2;
    }

    switch(FEAT_TRAINS, SELF, sw_seibu401_1_lv_desc, cargo_subtype){
      0:string(LV_RANDOM);
      1:string(LV_SEIBU_YELLOW);
      2:string(LV_SEIBU_AKADEN);
    }


    switch(FEAT_TRAINS, SELF, sw_seibu401_1_power,position_in_vehid_chain_from_end %2){
        0: return 0;
        return 400*1342/1000;
    }

  switch(FEAT_TRAINS, SELF, seibu401_1_attach_vehid, vehicle_type_id) {
   mu_car: return string(STR_ATTACH_1067_ERROR);
   mu_car_metro: return string(STR_ATTACH_1067_ERROR);
   return CB_RESULT_ATTACH_ALLOW;
  }

item(FEAT_TRAINS, seibu401_1,2108) {
    property {
        cargo_capacity: 130;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        climates_available: param_disable_seibu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        name: string(STR_TRAIN_NAME_LONG, string(STR_NAME_SEIBU), "401", string(STR_NAME_SERIES), string(STR_NAME_1_GEN));
        introduction_date: date(1953, 1, 1);
        model_life: 22;
        vehicle_life: 27;
        reliability_decay: 10;

        cost_factor: 17;
        running_cost_factor: 46;
        speed: 100 km/h;
        track_type: TR_1067_DC;
        power: 400 kW;
        weight: 29 ton;
        loading_speed: param_loading_4D;
    }
 graphics {
        start_stop: sw_stop_start_2;
        loading_speed: param_loading_4D;
        cargo_capacity: 120*param_capacity_mod/3;
        default: sw_seibu401_1_lv;
        purchase: seibu401_1_purchase;
        can_attach_wagon: seibu401_1_attach_vehid;
        cargo_subtype_text:sw_seibu401_1_lv_desc;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_2, 2,4)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string( STR_OPERATOR, string(STR_SEIBU)));
    }
    livery_override(mu_car_narrow){
        loading_speed: param_loading_4D;
        cargo_capacity: 120*param_capacity_mod/3;
        default: sw_seibu401_1_lv;
        power: sw_seibu401_1_power;
        weight: 27;
      }
}
# 70 "src/_private.pnml" 2
# 1 "src/private/Kanto/seibu/seibu351.pnml" 1

  spriteset(seibu351_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu351/seibu351_1.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(seibu351_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu351/seibu351_1.png"){ tmpl_purchase_2c(0, 75) }
  switch(FEAT_TRAINS, SELF, seibu351_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_seibu; 1: seibu351_purchase_c1; 2: seibu351_purchase_c2;}

  spriteset(seibu351_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu351/seibu351_1.png"){ tmpl_std(0, 0) }
  spriteset(seibu351_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu351/seibu351_1.png"){ tmpl_std_rev(0, 25) }
  spriteset(seibu351_1_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu351/seibu351_1.png"){ tmpl_std(0, 25) }
  spriteset(seibu351_1_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu351/seibu351_1.png"){ tmpl_std(0, 50) }
  spriteset(seibu351_1_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu351/seibu351_1.png"){ tmpl_std_rev(0, 50) }
  spriteset(seibu351_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu351/seibu351_1.png"){ tmpl_symm(0, 75) }


  spriteset(seibu351_2_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu351/seibu351_2.png"){ tmpl_std(0, 0) }
  spriteset(seibu351_2_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu351/seibu351_2.png"){ tmpl_std_rev(0, 25) }
  spriteset(seibu351_2_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu351/seibu351_2.png"){ tmpl_std(0, 25) }
  spriteset(seibu351_2_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu351/seibu351_2.png"){ tmpl_std(0, 50) }
  spriteset(seibu351_2_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu351/seibu351_2.png"){ tmpl_std_rev(0, 50) }
  spriteset(seibu351_2_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu351/seibu351_2.png"){ tmpl_symm(0, 75) }



    switch(FEAT_TRAINS, SELF, sw_seibu351_1_panto_placer,position_in_vehid_chain %4){
        2: seibu351_1_mot;
        seibu351_1_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu351_1_panto_placer_rev,position_in_vehid_chain_from_end %4 -1){
        2: seibu351_1_mot_rev;
        seibu351_1_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu351_1_panto_placer_main,vehicle_is_reversed){
        1: sw_seibu351_1_panto_placer_rev;
        sw_seibu351_1_panto_placer;
    }

    switch(FEAT_TRAINS, SELF, sw_seibu351_1_fake_placer,position_in_vehid_chain +1){
   2: seibu351_1_end;
   3: seibu351_1_end_rev;
    sw_seibu351_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu351_1_fake_placer_rev,position_in_vehid_chain_from_end ){
   2: seibu351_1_end_rev;
   3: seibu351_1_end;
    sw_seibu351_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu351_1_fake_placer_gfx,vehicle_is_reversed){
   1: sw_seibu351_1_fake_placer_rev;
   sw_seibu351_1_fake_placer;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu351_1_fake_placer_main,num_vehs_in_vehid_chain>6 - 1){
   1: sw_seibu351_1_fake_placer_gfx;
     sw_seibu351_1_panto_placer_main;
    }

    switch(FEAT_TRAINS, SELF, sw_seibu351_1_end_fix, position_in_consist_from_end){
        0:seibu351_1_end;
        sw_seibu351_1_fake_placer_main;
    }

    switch(FEAT_TRAINS, SELF, sw_seibu351_livery_1,vehicle_type_id){
        mu_car_narrow:sw_seibu351_1_end_fix;
        seibu351_1_front;
    }



    switch(FEAT_TRAINS, SELF, sw_seibu351_2_panto_placer,position_in_vehid_chain %4){
        2: seibu351_2_mot;
        seibu351_2_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu351_2_panto_placer_rev,position_in_vehid_chain_from_end %4 -1){
        2: seibu351_2_mot_rev;
        seibu351_2_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu351_2_panto_placer_main,vehicle_is_reversed){
        1: sw_seibu351_2_panto_placer_rev;
        sw_seibu351_2_panto_placer;
    }

    switch(FEAT_TRAINS, SELF, sw_seibu351_2_fake_placer,position_in_vehid_chain +1){
   2: seibu351_2_end;
   3: seibu351_2_end_rev;
    sw_seibu351_2_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu351_2_fake_placer_rev,position_in_vehid_chain_from_end ){
   2: seibu351_2_end_rev;
   3: seibu351_2_end;
    sw_seibu351_2_panto_placer_main;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu351_2_fake_placer_gfx,vehicle_is_reversed){
   1: sw_seibu351_2_fake_placer_rev;
   sw_seibu351_2_fake_placer;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu351_2_fake_placer_main,num_vehs_in_vehid_chain>6 - 1){
   1: sw_seibu351_2_fake_placer_gfx;
     sw_seibu351_2_panto_placer_main;
    }

    switch(FEAT_TRAINS, SELF, sw_seibu351_2_end_fix, position_in_consist_from_end){
        0:seibu351_2_end;
        sw_seibu351_2_fake_placer_main;
    }

    switch(FEAT_TRAINS, SELF, sw_seibu351_livery_2,vehicle_type_id){
        mu_car_narrow:sw_seibu351_2_end_fix;
        seibu351_2_front;
    }




    switch(FEAT_TRAINS, SELF, sw_seibu351_livery_0, current_year){
      0..1959:sw_seibu351_livery_1;
      sw_seibu351_livery_2;
    }

    switch(FEAT_TRAINS, PARENT, sw_seibu351_lv, cargo_subtype){
      0:sw_seibu351_livery_0;
      1:sw_seibu351_livery_1;
      2:sw_seibu351_livery_2;
    }

    switch(FEAT_TRAINS, SELF, sw_seibu351_lv_desc, cargo_subtype){
      0:string(LV_RANDOM);
      1:string(LV_SEIBU_BRYELLOW);
      2:string(LV_SEIBU_AKADEN);
    }


    switch(FEAT_TRAINS, SELF, sw_seibu351_capacity,position_in_vehid_chain_from_end){
        0: return 128;
        return 135;
    }

    switch(FEAT_TRAINS, SELF, sw_seibu351_power,position_in_vehid_chain_from_end %2){
      0: return 0;
      return 400*1342/1000;
    }

  switch(FEAT_TRAINS, SELF, seibu351_attach_vehid, vehicle_type_id) {
   mu_car: return string(STR_ATTACH_1067_ERROR);
   mu_car_metro: return string(STR_ATTACH_1067_ERROR);
   return CB_RESULT_ATTACH_ALLOW;
  }

item(FEAT_TRAINS, seibu351,2109) {
    property {
        cargo_capacity: 130;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        climates_available: param_disable_seibu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        name: string(STR_TRAIN_NAME, string(STR_NAME_SEIBU), "351", string(STR_NAME_SERIES));
        introduction_date: date(1954, 1, 1);
        model_life: 36;
        vehicle_life: 31;
        reliability_decay: 10;

        cost_factor: 16;
        running_cost_factor: 46;
        speed: 100 km/h;
        track_type: TR_1067_DC;
        power: 400 kW;
        weight: 40 ton;
        loading_speed: param_loading_2D;
    }
 graphics {
        start_stop: sw_stop_start_2;
        loading_speed: param_loading_3D;
        cargo_capacity: sw_seibu351_capacity()*param_capacity_mod/3;
        default: sw_seibu351_lv;
        purchase: seibu351_purchase;
        can_attach_wagon: seibu351_attach_vehid;
        cargo_subtype_text:sw_seibu351_lv_desc;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 3)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string( STR_OPERATOR, string(STR_SEIBU)));
    }
    livery_override(mu_car_narrow){
        loading_speed: param_loading_3D;
        cargo_capacity: sw_seibu351_capacity()*param_capacity_mod/3;
        default: sw_seibu351_lv;
        power: sw_seibu351_power;
        weight: 30;
      }
}
# 71 "src/_private.pnml" 2
# 1 "src/private/Kanto/seibu/seibu451.pnml" 1

  spriteset(seibu451_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu451/seibu451_1.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(seibu451_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu451/seibu451_1.png"){ tmpl_purchase_2c(0, 125) }
  switch(FEAT_TRAINS, SELF, seibu451_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_seibu; 1: seibu451_purchase_c1; 2: seibu451_purchase_c2;}

  spriteset(seibu451_1_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu451/seibu451_1.png"){ tmpl_std(0, 0) }
  spriteset(seibu451_1_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu451/seibu451_1.png"){ tmpl_std_rev(0, 25) }
  spriteset(seibu451_1_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu451/seibu451_1.png"){ tmpl_std(0, 25) }
  spriteset(seibu451_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu451/seibu451_1.png"){ tmpl_std(0, 50) }
  spriteset(seibu451_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu451/seibu451_1.png"){ tmpl_std_rev(0, 75) }
  spriteset(seibu451_1_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu451/seibu451_1.png"){ tmpl_std(0, 75) }
  spriteset(seibu451_1_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu451/seibu451_1.png"){ tmpl_std(0, 100) }
  spriteset(seibu451_1_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu451/seibu451_1.png"){ tmpl_std_rev(0, 100) }
  spriteset(seibu451_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu451/seibu451_1.png"){ tmpl_symm(0, 125) }


  spriteset(seibu451_2_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu451/seibu451_2.png"){ tmpl_std(0, 0) }
  spriteset(seibu451_2_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu451/seibu451_2.png"){ tmpl_std_rev(0, 25) }
  spriteset(seibu451_2_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu451/seibu451_2.png"){ tmpl_std(0, 25) }
  spriteset(seibu451_2_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu451/seibu451_2.png"){ tmpl_std(0, 50) }
  spriteset(seibu451_2_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu451/seibu451_2.png"){ tmpl_std_rev(0, 75) }
  spriteset(seibu451_2_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu451/seibu451_2.png"){ tmpl_std(0, 75) }
  spriteset(seibu451_2_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu451/seibu451_2.png"){ tmpl_std(0, 100) }
  spriteset(seibu451_2_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu451/seibu451_2.png"){ tmpl_std_rev(0, 100) }
  spriteset(seibu451_2_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu451/seibu451_2.png"){ tmpl_symm(0, 125) }


    switch(FEAT_TRAINS, PARENT, sw_seibu451_1_front_gfx_1, vehicle_is_reversed){
        1: seibu451_1_front;
        seibu451_1_front_mot;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu451_1_front_gfx, num_vehs_in_consist){
        2: sw_seibu451_1_front_gfx_1;
        seibu451_1_front_mot;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu451_1_end_gfx_1, vehicle_is_reversed){
        1: seibu451_1_end_mot;
        seibu451_1_end;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu451_1_end_gfx, num_vehs_in_consist){
        2: sw_seibu451_1_end_gfx_1;
        seibu451_1_end_mot;
    }


      switch(FEAT_TRAINS, SELF, sw_seibu451_1_panto_placer,position_in_vehid_chain %4){
          2: seibu451_1_mot;
          seibu451_1_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_seibu451_1_panto_placer_rev,position_in_vehid_chain_from_end %4 -1){
          2: seibu451_1_mot_rev;
          seibu451_1_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_seibu451_1_panto_placer_main,vehicle_is_reversed){
          1: sw_seibu451_1_panto_placer_rev;
          sw_seibu451_1_panto_placer;
      }

    switch(FEAT_TRAINS, SELF, sw_seibu451_1_fake_placer,position_in_vehid_chain +1){
   3: seibu451_1_end_mot;
   4: seibu451_1_end_mot_rev;
    sw_seibu451_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu451_1_fake_placer_rev,position_in_vehid_chain_from_end ){
   3: seibu451_1_end_mot_rev;
   4: seibu451_1_end_mot;
    sw_seibu451_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu451_1_fake_placer_gfx,vehicle_is_reversed){
   1: sw_seibu451_1_fake_placer_rev;
   sw_seibu451_1_fake_placer;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu451_1_fake_placer_main,num_vehs_in_vehid_chain>5 - 1){
   1: sw_seibu451_1_fake_placer_gfx;
     sw_seibu451_1_panto_placer_main;
    }

    switch(FEAT_TRAINS, SELF, sw_seibu451_1_end_fix, position_in_consist_from_end){
        0:sw_seibu451_1_end_gfx;
        sw_seibu451_1_fake_placer_main;
    }

    switch(FEAT_TRAINS, SELF, sw_seibu451_livery_1,vehicle_type_id){
        mu_car_narrow:sw_seibu451_1_end_fix;
        sw_seibu451_1_front_gfx;
    }



    switch(FEAT_TRAINS, PARENT, sw_seibu451_2_front_gfx_1, vehicle_is_reversed){
        1: seibu451_2_front;
        seibu451_2_front_mot;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu451_2_front_gfx, num_vehs_in_consist){
        2: sw_seibu451_2_front_gfx_1;
        seibu451_2_front_mot;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu451_2_end_gfx_1, vehicle_is_reversed){
        1: seibu451_2_end_mot;
        seibu451_2_end;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu451_2_end_gfx, num_vehs_in_consist){
        2: sw_seibu451_2_end_gfx_1;
        seibu451_2_end_mot;
    }


      switch(FEAT_TRAINS, SELF, sw_seibu451_2_panto_placer,position_in_vehid_chain %4){
          2: seibu451_2_mot;
          seibu451_2_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_seibu451_2_panto_placer_rev,position_in_vehid_chain_from_end %4 -1){
          2: seibu451_2_mot_rev;
          seibu451_2_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_seibu451_2_panto_placer_main,vehicle_is_reversed){
          1: sw_seibu451_2_panto_placer_rev;
          sw_seibu451_2_panto_placer;
      }

    switch(FEAT_TRAINS, SELF, sw_seibu451_2_fake_placer,position_in_vehid_chain +1){
   3: seibu451_2_end_mot;
   4: seibu451_2_end_mot_rev;
    sw_seibu451_2_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu451_2_fake_placer_rev,position_in_vehid_chain_from_end ){
   3: seibu451_2_end_mot_rev;
   4: seibu451_2_end_mot;
    sw_seibu451_2_panto_placer_main;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu451_2_fake_placer_gfx,vehicle_is_reversed){
   1: sw_seibu451_2_fake_placer_rev;
   sw_seibu451_2_fake_placer;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu451_2_fake_placer_main,num_vehs_in_vehid_chain>5 - 1){
   1: sw_seibu451_2_fake_placer_gfx;
     sw_seibu451_2_panto_placer_main;
    }

    switch(FEAT_TRAINS, SELF, sw_seibu451_2_end_fix, position_in_consist_from_end){
        0:sw_seibu451_2_end_gfx;
        sw_seibu451_2_fake_placer_main;
    }

    switch(FEAT_TRAINS, SELF, sw_seibu451_livery_2,vehicle_type_id){
        mu_car_narrow:sw_seibu451_2_end_fix;
        sw_seibu451_2_front_gfx;
    }



    switch(FEAT_TRAINS, SELF, sw_seibu451_livery_0, current_year){
      0..1960:sw_seibu451_livery_1;
      sw_seibu451_livery_2;
    }

    switch(FEAT_TRAINS, PARENT, sw_seibu451_lv, cargo_subtype){
      0:sw_seibu451_livery_0;
      1:sw_seibu451_livery_1;
      2:sw_seibu451_livery_2;
    }

    switch(FEAT_TRAINS, SELF, sw_seibu451_lv_desc, cargo_subtype){
      0:string(LV_RANDOM);
      1:string(LV_SEIBU_YELLOW);
      2:string(LV_SEIBU_AKADEN);
    }


    switch(FEAT_TRAINS, SELF, sw_seibu451_capacity,position_in_vehid_chain_from_end){
        0: return 160;
        return 168;
    }

    switch(FEAT_TRAINS, SELF, sw_seibu451_power,position_in_vehid_chain_from_end %2){
      0: return 0;
      return 400*1342/1000;
    }

  switch(FEAT_TRAINS, SELF, seibu451_attach_vehid, vehicle_type_id) {
   mu_car: return string(STR_ATTACH_1067_ERROR);
   mu_car_metro: return string(STR_ATTACH_1067_ERROR);
   return CB_RESULT_ATTACH_ALLOW;
  }

item(FEAT_TRAINS, seibu451,2110) {
    property {
        cargo_capacity: 130;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        climates_available: param_disable_seibu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        name: string(STR_TRAIN_NAME, string(STR_NAME_SEIBU), "451", string(STR_NAME_SERIES));
        introduction_date: date(1959, 1, 1);
        model_life: 36;
        vehicle_life: 31;
        reliability_decay: 10;

        cost_factor: 18;
        running_cost_factor: 47;
        speed: 100 km/h;
        track_type: TR_1067_DC;
        power: 400 kW;
        weight: 40 ton;
        loading_speed: param_loading_2D;
    }
 graphics {
        start_stop: sw_stop_start_2;
        loading_speed: param_loading_3D;
        cargo_capacity: sw_seibu451_capacity()*param_capacity_mod/3;
        default: sw_seibu451_lv;
        purchase: seibu451_purchase;
        can_attach_wagon: seibu451_attach_vehid;
        cargo_subtype_text:sw_seibu451_lv_desc;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_3, 2,4,6)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string( STR_OPERATOR, string(STR_SEIBU)));
    }
    livery_override(mu_car_narrow){
        loading_speed: param_loading_3D;
        cargo_capacity: sw_seibu451_capacity()*param_capacity_mod/3;
        default: sw_seibu451_lv;
        power: sw_seibu451_power;
        weight: 30;
      }
}
# 72 "src/_private.pnml" 2
# 1 "src/private/Kanto/seibu/seibu551.pnml" 1

  spriteset(seibu551_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu551/seibu551.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(seibu551_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu551/seibu551.png"){ tmpl_purchase_2c(0, 125) }
  switch(FEAT_TRAINS, SELF, seibu551_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_seibu; 1: seibu551_purchase_c1; 2: seibu551_purchase_c2;}

  spriteset(seibu551_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu551/seibu551.png"){ tmpl_std(0, 0) }
  spriteset(seibu551_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu551/seibu551.png"){ tmpl_std_rev(0, 25) }
  spriteset(seibu551_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu551/seibu551.png"){ tmpl_std(0, 25) }
  spriteset(seibu551_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu551/seibu551.png"){ tmpl_std(0, 50) }
  spriteset(seibu551_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu551/seibu551.png"){ tmpl_std_rev(0, 75) }
  spriteset(seibu551_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu551/seibu551.png"){ tmpl_std(0, 75) }
  spriteset(seibu551_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu551/seibu551.png"){ tmpl_std(0, 100) }
  spriteset(seibu551_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu551/seibu551.png"){ tmpl_std_rev(0, 100) }
  spriteset(seibu551_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu551/seibu551.png"){ tmpl_symm(0, 125) }


  spriteset(seibu551_2_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu551/seibu551_2.png"){ tmpl_std(0, 0) }
  spriteset(seibu551_2_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu551/seibu551_2.png"){ tmpl_std_rev(0, 25) }
  spriteset(seibu551_2_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu551/seibu551_2.png"){ tmpl_std(0, 25) }
  spriteset(seibu551_2_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu551/seibu551_2.png"){ tmpl_std(0, 50) }
  spriteset(seibu551_2_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu551/seibu551_2.png"){ tmpl_std_rev(0, 75) }
  spriteset(seibu551_2_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu551/seibu551_2.png"){ tmpl_std(0, 75) }
  spriteset(seibu551_2_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu551/seibu551_2.png"){ tmpl_std(0, 100) }
  spriteset(seibu551_2_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu551/seibu551_2.png"){ tmpl_std_rev(0, 100) }
  spriteset(seibu551_2_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu551/seibu551_2.png"){ tmpl_symm(0, 125) }


    switch(FEAT_TRAINS, PARENT, sw_seibu551_front_gfx_1, vehicle_is_reversed){
        1: seibu551_front;
        seibu551_front_mot;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu551_front_gfx, num_vehs_in_consist){
        2: sw_seibu551_front_gfx_1;
        seibu551_front_mot;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu551_end_gfx_1, vehicle_is_reversed){
        1: seibu551_end_mot;
        seibu551_end;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu551_end_gfx, num_vehs_in_consist){
        2: sw_seibu551_end_gfx_1;
        seibu551_end_mot;
    }


      switch(FEAT_TRAINS, SELF, sw_seibu551_panto_placer,position_in_vehid_chain %4){
          2: seibu551_mot;
          seibu551_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_seibu551_panto_placer_rev,position_in_vehid_chain_from_end %4 -1){
          2: seibu551_mot_rev;
          seibu551_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_seibu551_panto_placer_main,vehicle_is_reversed){
          1: sw_seibu551_panto_placer_rev;
          sw_seibu551_panto_placer;
      }

    switch(FEAT_TRAINS, SELF, sw_seibu551_fake_placer,position_in_vehid_chain +1){
   3: seibu551_end_mot;
   4: seibu551_end_mot_rev;
    sw_seibu551_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu551_fake_placer_rev,position_in_vehid_chain_from_end ){
   3: seibu551_end_mot_rev;
   4: seibu551_end_mot;
    sw_seibu551_panto_placer_main;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu551_fake_placer_gfx,vehicle_is_reversed){
   1: sw_seibu551_fake_placer_rev;
   sw_seibu551_fake_placer;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu551_fake_placer_main,num_vehs_in_vehid_chain>5 - 1){
   1: sw_seibu551_fake_placer_gfx;
     sw_seibu551_panto_placer_main;
    }

    switch(FEAT_TRAINS, SELF, sw_seibu551_end_fix, position_in_consist_from_end){
        0:sw_seibu551_end_gfx;
        sw_seibu551_fake_placer_main;
    }

    switch(FEAT_TRAINS, SELF, sw_seibu551_lv,vehicle_type_id){
        mu_car_narrow:sw_seibu551_end_fix;
        sw_seibu551_front_gfx;
    }



    switch(FEAT_TRAINS, SELF, sw_seibu551_capacity,position_in_vehid_chain_from_end){
        0: return 160;
        return 168;
    }

    switch(FEAT_TRAINS, SELF, sw_seibu551_power,position_in_vehid_chain_from_end %2){
      0: return 0;
      return 400*1342/1000;
    }

  switch(FEAT_TRAINS, SELF, seibu551_attach_vehid, vehicle_type_id) {
   mu_car: return string(STR_ATTACH_1067_ERROR);
   mu_car_metro: return string(STR_ATTACH_1067_ERROR);
   return CB_RESULT_ATTACH_ALLOW;
  }

item(FEAT_TRAINS, seibu551,2111) {
    property {
        cargo_capacity: 130;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        climates_available: param_disable_seibu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        name: string(STR_TRAIN_NAME, string(STR_NAME_SEIBU), "551", string(STR_NAME_SERIES));
        introduction_date: date(1961, 1, 1);
        model_life: 36;
        vehicle_life: 31;
        reliability_decay: 10;

        cost_factor: 19;
        running_cost_factor: 48;
        speed: 100 km/h;
        track_type: TR_1067_DC;
        power: 400 kW;
        weight: 39 ton;
        loading_speed: param_loading_2D;
    }
 graphics {
        start_stop: sw_stop_start_2;
        loading_speed: param_loading_3D;
        cargo_capacity: sw_seibu551_capacity()*param_capacity_mod/3;
        default: sw_seibu551_lv;
        purchase: seibu551_purchase;
        can_attach_wagon: seibu551_attach_vehid;

        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_2, 2,4)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string( STR_OPERATOR, string(STR_SEIBU)));
    }
    livery_override(mu_car_narrow){
        loading_speed: param_loading_3D;
        cargo_capacity: sw_seibu551_capacity()*param_capacity_mod/3;
        default: sw_seibu551_lv;
        power: sw_seibu551_power;
        weight: 35;
      }
}
# 73 "src/_private.pnml" 2
# 1 "src/private/Kanto/seibu/seibu571.pnml" 1

  spriteset(seibu571_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu571/seibu571.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(seibu571_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu571/seibu571.png"){ tmpl_purchase_2c(0, 125) }
  switch(FEAT_TRAINS, SELF, seibu571_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_seibu; 1: seibu571_purchase_c1; 2: seibu571_purchase_c2;}

  spriteset(seibu571_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu571/seibu571.png"){ tmpl_std(0, 0) }
  spriteset(seibu571_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu571/seibu571.png"){ tmpl_std_rev(0, 25) }
  spriteset(seibu571_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu571/seibu571.png"){ tmpl_std(0, 25) }
  spriteset(seibu571_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu571/seibu571.png"){ tmpl_std(0, 50) }
  spriteset(seibu571_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu571/seibu571.png"){ tmpl_std_rev(0, 75) }
  spriteset(seibu571_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu571/seibu571.png"){ tmpl_std(0, 75) }
  spriteset(seibu571_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu571/seibu571.png"){ tmpl_std(0, 100) }
  spriteset(seibu571_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu571/seibu571.png"){ tmpl_std_rev(0, 100) }
  spriteset(seibu571_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu571/seibu571.png"){ tmpl_symm(0, 125) }


    switch(FEAT_TRAINS, PARENT, sw_seibu571_front_gfx_1, vehicle_is_reversed){
        1: seibu571_front;
        seibu571_front_mot;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu571_front_gfx, num_vehs_in_consist){
        2: sw_seibu571_front_gfx_1;
        seibu571_front_mot;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu571_end_gfx_1, vehicle_is_reversed){
        1: seibu571_end_mot;
        seibu571_end;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu571_end_gfx, num_vehs_in_consist){
        2: sw_seibu571_end_gfx_1;
        seibu571_end_mot;
    }


      switch(FEAT_TRAINS, SELF, sw_seibu571_panto_placer,position_in_vehid_chain %4){
          2: seibu571_mot;
          seibu571_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_seibu571_panto_placer_rev,position_in_vehid_chain_from_end %4 -1){
          2: seibu571_mot_rev;
          seibu571_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_seibu571_panto_placer_main,vehicle_is_reversed){
          1: sw_seibu571_panto_placer_rev;
          sw_seibu571_panto_placer;
      }

    switch(FEAT_TRAINS, SELF, sw_seibu571_fake_placer,position_in_vehid_chain +1){
   3: seibu571_end_mot;
   4: seibu571_end_mot_rev;
    sw_seibu571_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu571_fake_placer_rev,position_in_vehid_chain_from_end ){
   3: seibu571_end_mot_rev;
   4: seibu571_end_mot;
    sw_seibu571_panto_placer_main;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu571_fake_placer_gfx,vehicle_is_reversed){
   1: sw_seibu571_fake_placer_rev;
   sw_seibu571_fake_placer;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu571_fake_placer_main,num_vehs_in_vehid_chain>5 - 1){
   1: sw_seibu571_fake_placer_gfx;
     sw_seibu571_panto_placer_main;
    }

    switch(FEAT_TRAINS, SELF, sw_seibu571_end_fix, position_in_consist_from_end){
        0:sw_seibu571_end_gfx;
        sw_seibu571_fake_placer_main;
    }

    switch(FEAT_TRAINS, SELF, sw_seibu571_lv,vehicle_type_id){
        mu_car_narrow:sw_seibu571_end_fix;
        sw_seibu571_front_gfx;
    }



    switch(FEAT_TRAINS, SELF, sw_seibu571_capacity,position_in_vehid_chain_from_end){
        0: return 160;
        return 168;
    }

    switch(FEAT_TRAINS, SELF, sw_seibu571_power,position_in_vehid_chain_from_end %2){
      0: return 0;
      return 400*1342/1000;
    }

  switch(FEAT_TRAINS, SELF, seibu571_attach_vehid, vehicle_type_id) {
   mu_car: return string(STR_ATTACH_1067_ERROR);
   mu_car_metro: return string(STR_ATTACH_1067_ERROR);
   return CB_RESULT_ATTACH_ALLOW;
  }

item(FEAT_TRAINS, seibu571,2112) {
    property {
        cargo_capacity: 130;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        climates_available: param_disable_seibu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        name: string(STR_TRAIN_NAME, string(STR_NAME_SEIBU), "571", string(STR_NAME_SERIES));
        introduction_date: date(1978, 1, 1);
        model_life: 36;
        vehicle_life: 31;
        reliability_decay: 10;

        cost_factor: 19;
        running_cost_factor: 48;
        speed: 110 km/h;
        track_type: TR_1067_DC;
        power: 400 kW;
        weight: 40 ton;
        loading_speed: param_loading_2D;
        variant_group:2111;
    }
 graphics {
        start_stop: sw_stop_start_2;
        loading_speed: param_loading_3D;
        cargo_capacity: sw_seibu571_capacity()*param_capacity_mod/3;
        default: sw_seibu571_lv;
        purchase: seibu571_purchase;
        can_attach_wagon: seibu571_attach_vehid;

        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_2, 2,4)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string( STR_OPERATOR, string(STR_SEIBU)));
    }
    livery_override(mu_car_narrow){
        loading_speed: param_loading_3D;
        cargo_capacity: sw_seibu571_capacity()*param_capacity_mod/3;
        default: sw_seibu571_lv;
        power: sw_seibu571_power;
        weight: 30;
      }
}
# 74 "src/_private.pnml" 2
# 1 "src/private/Kanto/seibu/seibu411.pnml" 1

  spriteset(seibu411_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu401/seibu411_1.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(seibu411_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu401/seibu411_1.png"){ tmpl_purchase_2c(0, 75) }
  switch(FEAT_TRAINS, SELF, seibu411_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_seibu; 1: seibu411_purchase_c1; 2: seibu411_purchase_c2;}

  spriteset(seibu411_1_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu401/seibu411_1.png"){ tmpl_std(0, 0) }
  spriteset(seibu411_1_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu401/seibu411_1.png"){ tmpl_std_rev(0, 25) }
  spriteset(seibu411_1_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu401/seibu411_1.png"){ tmpl_std(0, 25) }
  spriteset(seibu411_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu401/seibu411_1.png"){ tmpl_std(0, 50) }
  spriteset(seibu411_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu401/seibu411_1.png"){ tmpl_std_rev(0, 75) }
  spriteset(seibu411_1_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu401/seibu411_1.png"){ tmpl_std(0, 75) }


  spriteset(seibu401_1_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu401/seibu401_1.png"){ tmpl_std(0, 0) }
  spriteset(seibu401_1_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu401/seibu401_1.png"){ tmpl_std_rev(0, 25) }
  spriteset(seibu401_1_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu401/seibu401_1.png"){ tmpl_std(0, 25) }
  spriteset(seibu401_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu401/seibu401_1.png"){ tmpl_std(0, 50) }
  spriteset(seibu401_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu401/seibu401_1.png"){ tmpl_std_rev(0, 75) }
  spriteset(seibu401_1_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu401/seibu401_1.png"){ tmpl_std(0, 75) }



    switch(FEAT_TRAINS, PARENT, sw_seibu411_1_front_gfx, vehicle_is_reversed){
        1: seibu411_1_front;
        seibu411_1_front_mot;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu411_1_end_gfx, vehicle_is_reversed){
        1: seibu411_1_end_mot;
        seibu411_1_end;
    }

    switch(FEAT_TRAINS, SELF, sw_seibu411_1_panto_placer,position_in_vehid_chain %2){
        0: seibu411_1_end;
        seibu411_1_end_mot_rev;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu411_1_panto_placer_rev,position_in_vehid_chain_from_end %2 -1){
        0: seibu411_1_end_rev;
        seibu411_1_end_mot;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu411_1_panto_placer_main,vehicle_is_reversed){
        1: sw_seibu411_1_panto_placer_rev;
        sw_seibu411_1_panto_placer;
    }

    switch(FEAT_TRAINS, SELF, sw_seibu411_1_end_fix, position_in_consist_from_end){
        0:sw_seibu411_1_end_gfx;
        sw_seibu411_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu411_livery_1,vehicle_type_id){
        mu_car_narrow:sw_seibu411_1_end_fix;
        sw_seibu411_1_front_gfx;
    }


    switch(FEAT_TRAINS, PARENT, sw_seibu401_1_front_gfx, vehicle_is_reversed){
        1: seibu401_1_front;
        seibu401_1_front_mot;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu401_1_end_gfx, vehicle_is_reversed){
        1: seibu401_1_end_mot;
        seibu401_1_end;
    }

    switch(FEAT_TRAINS, SELF, sw_seibu401_1_panto_placer,position_in_vehid_chain %2){
        0: seibu401_1_end;
        seibu401_1_end_mot_rev;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu401_1_panto_placer_rev,position_in_vehid_chain_from_end %2 -1){
        0: seibu401_1_end_rev;
        seibu401_1_end_mot;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu401_1_panto_placer_main,vehicle_is_reversed){
        1: sw_seibu401_1_panto_placer_rev;
        sw_seibu401_1_panto_placer;
    }

    switch(FEAT_TRAINS, SELF, sw_seibu401_1_end_fix, position_in_consist_from_end){
        0:sw_seibu401_1_end_gfx;
        sw_seibu401_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu411_livery_2,vehicle_type_id){
        mu_car_narrow:sw_seibu401_1_end_fix;
        sw_seibu401_1_front_gfx;
    }





    switch(FEAT_TRAINS, SELF, sw_seibu411_livery_0, current_year){
      0..1978:sw_seibu411_livery_1;
      sw_seibu411_livery_2;
    }

    switch(FEAT_TRAINS, PARENT, sw_seibu411_lv, cargo_subtype){
      0:sw_seibu411_livery_0;
      1:sw_seibu411_livery_1;
      2:sw_seibu411_livery_2;
    }

    switch(FEAT_TRAINS, SELF, sw_seibu411_lv_desc, cargo_subtype){
      0:string(LV_RANDOM);
      1:string(LV_seibu411_1);
      2:string(LV_seibu411_2);
    }


    switch(FEAT_TRAINS, SELF, sw_seibu411_power_1,position_in_vehid_chain_from_end %6){
        0..3: return 120;
        return 0;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu411_power_2,position_in_vehid_chain_from_end %2){
        0: return 0;
        return 100;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu411_power, build_year>1977){
        1: sw_seibu411_power_1;
        sw_seibu411_power_2;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu411_head_power, build_year>1977){
        1: sw_seibu411_power_1;
        return 100;
    }

  switch(FEAT_TRAINS, SELF, seibu411_attach_vehid, vehicle_type_id) {
   mu_car: return string(STR_ATTACH_1067_ERROR);
   mu_car_metro: return string(STR_ATTACH_1067_ERROR);
   return CB_RESULT_ATTACH_ALLOW;
  }

item(FEAT_TRAINS, seibu411,2113) {
    property {
        cargo_capacity: 130;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        climates_available: param_disable_seibu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        name: string(STR_TRAIN_NAME_LONG, string(STR_NAME_SEIBU), "411/401", string(STR_NAME_SERIES), string(STR_NAME_2_GEN));
        introduction_date: date(1968, 1, 1);
        model_life: 22;
        vehicle_life: 27;
        reliability_decay: 10;

        cost_factor: 17;
        running_cost_factor: 47;
        speed: 100 km/h;
        track_type: TR_1067_DC;
        power: 480 kW;
        weight: 39 ton;
        loading_speed: param_loading_4D;
    }
 graphics {
        start_stop: sw_stop_start_2;
        power: sw_seibu411_head_power()*4*1342/1000;
        loading_speed: param_loading_3D;
        cargo_capacity: 160*param_capacity_mod/3;
        default: sw_seibu411_lv;
        purchase: seibu411_purchase;
        can_attach_wagon: seibu411_attach_vehid;
        cargo_subtype_text:sw_seibu411_lv_desc;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 2)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string( STR_OPERATOR, string(STR_SEIBU)));
    }
    livery_override(mu_car_narrow){
        loading_speed: param_loading_3D;
        cargo_capacity: 160*param_capacity_mod/3;
        default: sw_seibu411_lv;
        power: sw_seibu411_power()*4*1342/1000;
        weight: 38;
      }
}
# 75 "src/_private.pnml" 2
# 1 "src/private/Kanto/seibu/seibu501.pnml" 1

  spriteset(seibu501_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu501/seibu501_1.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(seibu501_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu501/seibu501_1.png"){ tmpl_purchase_2c(0, 125) }
  switch(FEAT_TRAINS, SELF, seibu501_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_seibu; 1: seibu501_purchase_c1; 2: seibu501_purchase_c2;}

  spriteset(seibu501_1_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu501/seibu501_1.png"){ tmpl_std(0, 0) }
  spriteset(seibu501_1_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu501/seibu501_1.png"){ tmpl_std_rev(0, 25) }
  spriteset(seibu501_1_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu501/seibu501_1.png"){ tmpl_std(0, 25) }
  spriteset(seibu501_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu501/seibu501_1.png"){ tmpl_std(0, 50) }
  spriteset(seibu501_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu501/seibu501_1.png"){ tmpl_std_rev(0, 75) }
  spriteset(seibu501_1_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu501/seibu501_1.png"){ tmpl_std(0, 75) }
  spriteset(seibu501_1_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu501/seibu501_1.png"){ tmpl_symm(0, 100) }
  spriteset(seibu501_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu501/seibu501_1.png"){ tmpl_symm(0, 125) }



  spriteset(seibu501n_1_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu501/seibu501n_1.png"){ tmpl_std(0, 0) }
  spriteset(seibu501n_1_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu501/seibu501n_1.png"){ tmpl_std_rev(0, 25) }
  spriteset(seibu501n_1_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu501/seibu501n_1.png"){ tmpl_std(0, 25) }
  spriteset(seibu501n_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu501/seibu501n_1.png"){ tmpl_std(0, 50) }
  spriteset(seibu501n_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu501/seibu501n_1.png"){ tmpl_std_rev(0, 75) }
  spriteset(seibu501n_1_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu501/seibu501n_1.png"){ tmpl_std(0, 75) }
  spriteset(seibu501n_1_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu501/seibu501n_1.png"){ tmpl_symm(0, 100) }
  spriteset(seibu501n_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu501/seibu501n_1.png"){ tmpl_symm(0, 125) }




  spriteset(seibu501_2_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu501/seibu501_2.png"){ tmpl_std(0, 0) }
  spriteset(seibu501_2_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu501/seibu501_2.png"){ tmpl_std_rev(0, 25) }
  spriteset(seibu501_2_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu501/seibu501_2.png"){ tmpl_std(0, 25) }
  spriteset(seibu501_2_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu501/seibu501_2.png"){ tmpl_std(0, 50) }
  spriteset(seibu501_2_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu501/seibu501_2.png"){ tmpl_std_rev(0, 75) }
  spriteset(seibu501_2_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu501/seibu501_2.png"){ tmpl_std(0, 75) }
  spriteset(seibu501_2_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu501/seibu501_2.png"){ tmpl_symm(0, 100) }
  spriteset(seibu501_2_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu501/seibu501_2.png"){ tmpl_symm(0, 125) }



      switch(FEAT_TRAINS, PARENT, seibu501_1_front_gfx, current_year>1976){
          1: seibu501n_1_front;
          seibu501_1_front;
      }
      switch(FEAT_TRAINS, PARENT, seibu501_1_front_mot_gfx, current_year>1976){
          1: seibu501n_1_front_mot;
          seibu501_1_front_mot;
      }
      switch(FEAT_TRAINS, PARENT, sw_seibu501_1_front_gfx_1, vehicle_is_reversed){
          1: seibu501_1_front_gfx;
          seibu501_1_front_mot_gfx;
      }
      switch(FEAT_TRAINS, SELF, sw_seibu501_1_front_gfx, num_vehs_in_consist){
          2: sw_seibu501_1_front_gfx_1;
          seibu501_1_front_gfx;
      }

      switch(FEAT_TRAINS, PARENT, seibu501_1_end_gfx, current_year>1976){
          1: seibu501n_1_end;
          seibu501_1_end;
      }
      switch(FEAT_TRAINS, PARENT, seibu501_1_end_mot_gfx, current_year>1976){
          1: seibu501n_1_end_mot;
          seibu501_1_end_mot;
      }
      switch(FEAT_TRAINS, PARENT, sw_seibu501_1_end_gfx_1, vehicle_is_reversed){
          1: seibu501_1_end_mot_gfx;
          seibu501_1_end_gfx;
      }
      switch(FEAT_TRAINS, SELF, sw_seibu501_1_end_gfx, num_vehs_in_consist){
          2: sw_seibu501_1_end_gfx_1;
          seibu501_1_end_gfx;
      }
      switch(FEAT_TRAINS, SELF, sw_seibu501_1_end_rev_gfx, current_year>1976){
          1: seibu501n_1_end_rev;
          seibu501_1_end_rev;
      }

      switch(FEAT_TRAINS, PARENT, seibu501_1_mot_gfx, current_year>1976){
        1: seibu501n_1_mot;
        seibu501_1_mot;
      }

      switch(FEAT_TRAINS, PARENT, seibu501_1_wag_gfx, current_year>1976){
        1: seibu501n_1_wag;
        seibu501_1_wag;
      }

    switch(FEAT_TRAINS, SELF, sw_seibu501_1_panto_placer,position_in_vehid_chain %2){
        0: seibu501_1_mot_gfx;
        seibu501_1_wag_gfx;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu501_1_panto_placer_rev,position_in_vehid_chain_from_end %2 -1){
        0: seibu501_1_mot_gfx;
        seibu501_1_wag_gfx;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu501_1_panto_placer_main,vehicle_is_reversed){
        1: sw_seibu501_1_panto_placer_rev;
        sw_seibu501_1_panto_placer;
    }

    switch(FEAT_TRAINS, SELF, sw_seibu501_1_fake_placer,position_in_vehid_chain +1){
   3: sw_seibu501_1_end_gfx;
   4: sw_seibu501_1_end_rev_gfx;
      sw_seibu501_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu501_1_fake_placer_rev,position_in_vehid_chain_from_end ){
   3: sw_seibu501_1_end_rev_gfx;
   4: sw_seibu501_1_end_gfx;
      sw_seibu501_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu501_1_fake_placer_gfx,vehicle_is_reversed){
   1: sw_seibu501_1_fake_placer_rev;
   sw_seibu501_1_fake_placer;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu501_1_fake_placer_main,num_vehs_in_vehid_chain>7 - 1){
   1: sw_seibu501_1_fake_placer_gfx;
      sw_seibu501_1_panto_placer_main;
    }

    switch(FEAT_TRAINS, SELF, sw_seibu501_1_end_fix, position_in_vehid_chain_from_end){
        0:sw_seibu501_1_end_gfx;
        sw_seibu501_1_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu501_livery_1,vehicle_type_id){
        mu_car_narrow:sw_seibu501_1_end_fix;
        sw_seibu501_1_front_gfx;
    }



      switch(FEAT_TRAINS, PARENT, sw_seibu501_2_front_gfx_1, vehicle_is_reversed){
          1: seibu501_2_front;
          seibu501_2_front_mot;
      }
      switch(FEAT_TRAINS, SELF, sw_seibu501_2_front_gfx, num_vehs_in_consist){
          2: sw_seibu501_2_front_gfx_1;
          seibu501_2_front;
      }

      switch(FEAT_TRAINS, PARENT, sw_seibu501_2_end_gfx_1, vehicle_is_reversed){
          1: seibu501n_1_end_mot;
          seibu501_2_end;
      }
      switch(FEAT_TRAINS, SELF, sw_seibu501_2_end_gfx, num_vehs_in_consist){
          2: sw_seibu501_2_end_gfx_1;
          seibu501_2_end;
      }

    switch(FEAT_TRAINS, SELF, sw_seibu501_2_panto_placer,position_in_vehid_chain %2){
        0: seibu501_2_mot;
        seibu501_2_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu501_2_panto_placer_rev,position_in_vehid_chain_from_end %2 -1){
        0: seibu501_2_mot;
        seibu501_2_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu501_2_panto_placer_main,vehicle_is_reversed){
        1: sw_seibu501_2_panto_placer_rev;
        sw_seibu501_2_panto_placer;
    }

    switch(FEAT_TRAINS, SELF, sw_seibu501_2_fake_placer,position_in_vehid_chain +1){
   3: seibu501_2_end;
   4: seibu501_2_end_rev;
      sw_seibu501_2_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu501_2_fake_placer_rev,position_in_vehid_chain_from_end ){
   3: seibu501_2_end_rev;
   4: seibu501_2_end;
      sw_seibu501_2_panto_placer_main;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu501_2_fake_placer_gfx,vehicle_is_reversed){
   1: sw_seibu501_2_fake_placer_rev;
   sw_seibu501_2_fake_placer;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu501_2_fake_placer_main,num_vehs_in_vehid_chain>7 - 1){
   1: sw_seibu501_2_fake_placer_gfx;
      sw_seibu501_2_panto_placer_main;
    }

    switch(FEAT_TRAINS, SELF, sw_seibu501_2_end_fix, position_in_vehid_chain_from_end){
        0:sw_seibu501_2_end_gfx;
        sw_seibu501_2_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu501_livery_2,vehicle_type_id){
        mu_car_narrow:sw_seibu501_2_end_fix;
        sw_seibu501_2_front_gfx;
    }



    switch(FEAT_TRAINS, SELF, sw_seibu501_livery_0, current_year){
      0..1976:sw_seibu501_livery_1;
      sw_seibu501_livery_2;
    }

    switch(FEAT_TRAINS, PARENT, sw_seibu501_lv, cargo_subtype){
      0:sw_seibu501_livery_0;
      1:sw_seibu501_livery_1;
      2:sw_seibu501_livery_2;
    }

    switch(FEAT_TRAINS, SELF, sw_seibu501_lv_desc, cargo_subtype){
      0:string(LV_RANDOM);
      1:string(LV_SEIBU_AKADEN);
      2:string(LV_SEIBU_YELLOW);
    }


  switch(FEAT_TRAINS, SELF, sw_seibu501_capacity_wag,position_in_vehid_chain_from_end){
   0: 141;
   default: 153;
  }
  switch(FEAT_TRAINS, SELF, sw_seibu501_capacity_head,position_in_vehid_chain){
   0: 141;
   default: sw_seibu501_capacity_wag;
  }
  switch(FEAT_TRAINS, SELF, sw_seibu501_capacity,vehicle_type_id){
   mu_car_narrow:sw_seibu501_capacity_wag;
   sw_seibu501_capacity_head;
  }

    switch(FEAT_TRAINS, SELF, sw_seibu501_power,position_in_vehid_chain_from_end %5){
        1..3: return 120;
        return 0;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu501_head_power, num_vehs_in_consist){
        2: return 150;
        return 0;
    }

  switch(FEAT_TRAINS, SELF, seibu501_attach_vehid, vehicle_type_id) {
   mu_car: return string(STR_ATTACH_1067_ERROR);
   mu_car_metro: return string(STR_ATTACH_1067_ERROR);
   return CB_RESULT_ATTACH_ALLOW;
  }

item(FEAT_TRAINS, seibu501,2114) {
    property {
        cargo_capacity: 130;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        climates_available: param_disable_seibu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        name: string(STR_TRAIN_NAME, string(STR_NAME_SEIBU), "701/801/501", string(STR_NAME_SERIES));
        introduction_date: date(1968, 1, 1);
        model_life: 22;
        vehicle_life: 27;
        reliability_decay: 10;

        cost_factor: 18;
        running_cost_factor: 48;
        speed: 100 km/h;
        track_type: TR_1067_DC;
        power: 480 kW;
        weight: 37 ton;
        loading_speed: param_loading_4D;
    }
 graphics {
        start_stop: sw_stop_start_2;
        power: sw_seibu501_head_power()*4*1342/1000;
        loading_speed: param_loading_3D;
        cargo_capacity: sw_seibu501_capacity()*param_capacity_mod/3;
        default: sw_seibu501_lv;
        purchase: seibu501_purchase;
        can_attach_wagon: seibu501_attach_vehid;
        cargo_subtype_text:sw_seibu501_lv_desc;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_4, 2,3,4,6)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string( STR_OPERATOR, string(STR_SEIBU)));
    }
    livery_override(mu_car_narrow){
        loading_speed: param_loading_3D;
        cargo_capacity: sw_seibu501_capacity()*param_capacity_mod/3;
        default: sw_seibu501_lv;
        power: sw_seibu501_power()*4*1342/1000;
        weight: 35;
      }
}
# 76 "src/_private.pnml" 2
# 1 "src/private/Kanto/seibu/seibu301.pnml" 1

  spriteset(seibu301_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu101_3.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(seibu301_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu101_3.png"){ tmpl_purchase_2c(0, 100) }
  switch(FEAT_TRAINS, SELF, seibu301_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_seibu; 1: seibu301_purchase_c1; 2: seibu301_purchase_c2;}


 spriteset(seibu101_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu101_1.png"){ tmpl_std(0, 0) }
 spriteset(seibu101_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu101_1.png"){ tmpl_std_rev(0, 25) }
 spriteset(seibu101_1_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu101_1.png"){ tmpl_std(0, 25) }
 spriteset(seibu101_1_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu101_1.png"){ tmpl_std(0, 50) }
 spriteset(seibu101_1_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu101_1.png"){ tmpl_std_rev(0, 75) }
 spriteset(seibu101_1_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu101_1.png"){ tmpl_std(0, 75) }
 spriteset(seibu101_1_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu101_1.png"){ tmpl_symm(0, 100) }
 spriteset(seibu101_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu101_1.png"){ tmpl_symm(0, 125) }


 spriteset(seibu101_1_front_ac, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu101_1_ac.png"){ tmpl_std(0, 0) }
 spriteset(seibu101_1_end_ac, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu101_1_ac.png"){ tmpl_std_rev(0, 25) }
 spriteset(seibu101_1_end_ac_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu101_1_ac.png"){ tmpl_std(0, 25) }
 spriteset(seibu101_1_front_mot_ac, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu101_1_ac.png"){ tmpl_std(0, 50) }
 spriteset(seibu101_1_end_mot_ac, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu101_1_ac.png"){ tmpl_std_rev(0, 75) }
 spriteset(seibu101_1_end_mot_ac_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu101_1_ac.png"){ tmpl_std(0, 75) }
 spriteset(seibu101_1_mot_ac, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu101_1_ac.png"){ tmpl_symm(0, 100) }
 spriteset(seibu101_1_wag_ac, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu101_1_ac.png"){ tmpl_symm(0, 125) }


 spriteset(seibu101_2_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu101_2.png"){ tmpl_std(0, 0) }
 spriteset(seibu101_2_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu101_2.png"){ tmpl_std_rev(0, 25) }
 spriteset(seibu101_2_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu101_2.png"){ tmpl_std(0, 25) }
 spriteset(seibu101_2_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu101_2.png"){ tmpl_std(0, 50) }
 spriteset(seibu101_2_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu101_2.png"){ tmpl_std_rev(0, 75) }
 spriteset(seibu101_2_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu101_2.png"){ tmpl_std(0, 75) }
 spriteset(seibu101_2_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu101_2.png"){ tmpl_symm(0, 100) }
 spriteset(seibu101_2_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu101_2.png"){ tmpl_symm(0, 125) }


 spriteset(seibu101_3_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu101_3.png"){ tmpl_std(0, 0) }
 spriteset(seibu101_3_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu101_3.png"){ tmpl_std_rev(0, 25) }
 spriteset(seibu101_3_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu101_3.png"){ tmpl_std(0, 25) }
 spriteset(seibu101_3_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu101_3.png"){ tmpl_std(0, 50) }
 spriteset(seibu101_3_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu101_3.png"){ tmpl_std_rev(0, 75) }
 spriteset(seibu101_3_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu101_3.png"){ tmpl_std(0, 75) }
 spriteset(seibu101_3_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu101_3.png"){ tmpl_symm(0, 100) }
 spriteset(seibu101_3_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu101_3.png"){ tmpl_symm(0, 125) }


 spriteset(seibu301_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu301_1.png"){ tmpl_std(0, 0) }
 spriteset(seibu301_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu301_1.png"){ tmpl_std_rev(0, 25) }
 spriteset(seibu301_1_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu301_1.png"){ tmpl_std(0, 25) }
 spriteset(seibu301_1_front_sk, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu301_1_sk.png"){ tmpl_std(0, 0) }
 spriteset(seibu301_1_end_sk, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu301_1_sk.png"){ tmpl_std_rev(0, 25) }
 spriteset(seibu301_1_end_sk_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu301_1_sk.png"){ tmpl_std(0, 25) }
 spriteset(seibu301_1_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu301_1.png"){ tmpl_std(0, 50) }
 spriteset(seibu301_1_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu301_1.png"){ tmpl_std_rev(0, 75) }
 spriteset(seibu301_1_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu301_1.png"){ tmpl_std(0, 75) }
 spriteset(seibu301_1_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu301_1.png"){ tmpl_symm(0, 100) }
 spriteset(seibu301_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu301_1.png"){ tmpl_symm(0, 125) }


 spriteset(seibu301_2_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu301_2.png"){ tmpl_std(0, 0) }
 spriteset(seibu301_2_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu301_2.png"){ tmpl_std_rev(0, 25) }
 spriteset(seibu301_2_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu301_2.png"){ tmpl_std(0, 25) }
 spriteset(seibu301_2_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu301_2.png"){ tmpl_std(0, 50) }
 spriteset(seibu301_2_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu301_2.png"){ tmpl_std_rev(0, 75) }
 spriteset(seibu301_2_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu301_2.png"){ tmpl_std(0, 75) }
 spriteset(seibu301_2_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu301_2.png"){ tmpl_symm(0, 100) }
 spriteset(seibu301_2_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu301_2.png"){ tmpl_symm(0, 125) }


 spriteset(seibu301_3_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu301_3.png"){ tmpl_std(0, 0) }
 spriteset(seibu301_3_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu301_3.png"){ tmpl_std_rev(0, 25) }
 spriteset(seibu301_3_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu301_3.png"){ tmpl_std(0, 25) }
 spriteset(seibu301_3_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu301_3.png"){ tmpl_std(0, 50) }
 spriteset(seibu301_3_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu301_3.png"){ tmpl_std_rev(0, 75) }
 spriteset(seibu301_3_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu301_3.png"){ tmpl_std(0, 75) }
 spriteset(seibu301_3_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu301_3.png"){ tmpl_symm(0, 100) }
 spriteset(seibu301_3_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu301_3.png"){ tmpl_symm(0, 125) }


 spriteset(seibu301_4_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu301_4.png"){ tmpl_std(0, 0) }
 spriteset(seibu301_4_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu301_4.png"){ tmpl_std_rev(0, 25) }
 spriteset(seibu301_4_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu301_4.png"){ tmpl_std(0, 25) }
 spriteset(seibu301_4_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu301_4.png"){ tmpl_std(0, 50) }
 spriteset(seibu301_4_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu301_4.png"){ tmpl_std_rev(0, 75) }
 spriteset(seibu301_4_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu301_4.png"){ tmpl_std(0, 75) }
 spriteset(seibu301_4_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu301_4.png"){ tmpl_symm(0, 100) }
 spriteset(seibu301_4_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu301_4.png"){ tmpl_symm(0, 125) }


 spriteset(seibu301_5_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu301_5.png"){ tmpl_std(0, 0) }
 spriteset(seibu301_5_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu301_5.png"){ tmpl_std_rev(0, 25) }
 spriteset(seibu301_5_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu301_5.png"){ tmpl_std(0, 25) }
 spriteset(seibu301_5_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu301_5.png"){ tmpl_std(0, 50) }
 spriteset(seibu301_5_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu301_5.png"){ tmpl_std_rev(0, 75) }
 spriteset(seibu301_5_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu301_5.png"){ tmpl_std(0, 75) }
 spriteset(seibu301_5_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu301_5.png"){ tmpl_symm(0, 100) }
 spriteset(seibu301_5_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu301_5.png"){ tmpl_symm(0, 125) }


 spriteset(seibu301_6_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu301_6.png"){ tmpl_std(0, 0) }
 spriteset(seibu301_6_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu301_6.png"){ tmpl_std_rev(0, 25) }
 spriteset(seibu301_6_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu301_6.png"){ tmpl_std(0, 25) }
 spriteset(seibu301_6_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu301_6.png"){ tmpl_std(0, 50) }
 spriteset(seibu301_6_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu301_6.png"){ tmpl_std_rev(0, 75) }
 spriteset(seibu301_6_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu301_6.png"){ tmpl_std(0, 75) }
 spriteset(seibu301_6_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu301_6.png"){ tmpl_symm(0, 100) }
 spriteset(seibu301_6_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu301/seibu301_6.png"){ tmpl_symm(0, 125) }




   switch(FEAT_TRAINS, PARENT, seibu101_1_front_gfx, current_year>1972){
    1:seibu101_1_front_ac;
    seibu101_1_front;
   }
   switch(FEAT_TRAINS, PARENT, seibu101_1_front_mot_gfx, current_year>1972){
    1:seibu101_1_front_mot_ac;
    seibu101_1_front_mot;
   }
   switch(FEAT_TRAINS, PARENT, seibu101_1_end_gfx, current_year>1972){
    1:seibu101_1_end_ac;
    seibu101_1_end;
   }
   switch(FEAT_TRAINS, PARENT, seibu101_1_end_mot_gfx, current_year>1972){
    1:seibu101_1_end_mot_ac;
    seibu101_1_end_mot;
   }
   switch(FEAT_TRAINS, PARENT, seibu101_1_end_rev_gfx, current_year>1972){
    1:seibu101_1_end_ac_rev;
    seibu101_1_end_rev;
   }





  switch(FEAT_TRAINS, PARENT, seibu101_1_mot_gfx, current_year>1972){
   1:seibu101_1_mot_ac;
   seibu101_1_mot;
  }
  switch(FEAT_TRAINS, PARENT, seibu101_1_wag_gfx, current_year>1972){
   1:seibu101_1_wag_ac;
   seibu101_1_wag;
  }

  switch(FEAT_TRAINS, PARENT, seibu101_1_front_gfx_1, vehicle_is_reversed){
   1:seibu101_1_front_gfx;
   seibu101_1_front_mot_gfx;
  }
  switch(FEAT_TRAINS, PARENT, sw_seibu101_1_front_gfx, num_vehs_in_consist){
   2:seibu101_1_front_gfx_1;
   seibu101_1_front_gfx;
  }
  switch(FEAT_TRAINS, PARENT, seibu101_1_end_gfx_1, vehicle_is_reversed){
   1:seibu101_1_end_mot_gfx;
   seibu101_1_end_gfx;
  }
  switch(FEAT_TRAINS, PARENT, sw_seibu101_1_end_gfx, num_vehs_in_consist){
   2:seibu101_1_end_gfx_1;
   seibu101_1_end_gfx;
  }


   switch(FEAT_TRAINS, SELF, sw_seibu101_1_panto_placer_1,position_in_vehid_chain %2){
    0: seibu101_1_mot_gfx;
    seibu101_1_wag_gfx;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu101_1_panto_placer_1_rev,position_in_vehid_chain_from_end %2 -1){
    0: seibu101_1_mot_gfx;
    seibu101_1_wag_gfx;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu101_1_panto_placer_main_1,vehicle_is_reversed){
    1: sw_seibu101_1_panto_placer_1_rev;
    sw_seibu101_1_panto_placer_1;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu101_1_panto_placer_2,position_in_vehid_chain %3){
    1: seibu101_1_mot_gfx;
    seibu101_1_wag_gfx;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu101_1_panto_placer_2_rev,position_in_vehid_chain_from_end %3 -1){
    1: seibu101_1_mot_gfx;
    seibu101_1_wag_gfx;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu101_1_panto_placer_main_2,vehicle_is_reversed){
    1: sw_seibu101_1_panto_placer_2_rev;
    sw_seibu101_1_panto_placer_2;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu101_1_panto_placer_main,num_vehs_in_vehid_chain+1){
    5:sw_seibu101_1_panto_placer_main_2;
    sw_seibu101_1_panto_placer_main_1;
   }

    switch(FEAT_TRAINS, SELF, sw_seibu101_1_fake_placer,position_in_vehid_chain +1){
   5: seibu101_1_end_gfx;
   6: seibu101_1_end_rev_gfx;
    sw_seibu101_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu101_1_fake_placer_rev,position_in_vehid_chain_from_end ){
   5: seibu101_1_end_rev_gfx;
   6: seibu101_1_end_gfx;
    sw_seibu101_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu101_1_fake_placer_gfx,vehicle_is_reversed){
   1: sw_seibu101_1_fake_placer_rev;
   sw_seibu101_1_fake_placer;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu101_1_fake_placer_main,num_vehs_in_vehid_chain>9 - 1){
   1: sw_seibu101_1_fake_placer_gfx;
     sw_seibu101_1_panto_placer_main;
    }


    switch(FEAT_TRAINS, SELF, sw_seibu101_1_end_gfx_main,position_in_vehid_chain_from_end){
   0: sw_seibu101_1_end_gfx;
   default: sw_seibu101_1_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu101_1_front_gfx_main,position_in_vehid_chain_from_end){
   0: sw_seibu101_1_front_gfx;
   default: sw_seibu101_1_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu101_livery_1,vehicle_type_id){
   mu_car_narrow:sw_seibu101_1_end_gfx_main;
   sw_seibu101_1_front_gfx_main;
    }



  switch(FEAT_TRAINS, PARENT, seibu101_2_front_gfx_1, vehicle_is_reversed){
   1:seibu101_2_front;
   seibu101_2_front_mot;
  }
  switch(FEAT_TRAINS, PARENT, sw_seibu101_2_front_gfx, num_vehs_in_consist){
   2:seibu101_2_front_gfx_1;
   seibu101_2_front;
  }
  switch(FEAT_TRAINS, PARENT, seibu101_2_end_gfx_1, vehicle_is_reversed){
   1:seibu101_2_end_mot;
   seibu101_2_end;
  }
  switch(FEAT_TRAINS, PARENT, sw_seibu101_2_end_gfx, num_vehs_in_consist){
   2:seibu101_2_end_gfx_1;
   seibu101_2_end;
  }


   switch(FEAT_TRAINS, SELF, sw_seibu101_2_panto_placer_1,position_in_vehid_chain %2){
    0: seibu101_2_mot;
    seibu101_2_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu101_2_panto_placer_1_rev,position_in_vehid_chain_from_end %2 -1){
    0: seibu101_2_mot;
    seibu101_2_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu101_2_panto_placer_main_1,vehicle_is_reversed){
    1: sw_seibu101_2_panto_placer_1_rev;
    sw_seibu101_2_panto_placer_1;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu101_2_panto_placer_2,position_in_vehid_chain %3){
    1: seibu101_2_mot;
    seibu101_2_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu101_2_panto_placer_2_rev,position_in_vehid_chain_from_end %3 -1){
    1: seibu101_2_mot;
    seibu101_2_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu101_2_panto_placer_main_2,vehicle_is_reversed){
    1: sw_seibu101_2_panto_placer_2_rev;
    sw_seibu101_2_panto_placer_2;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu101_2_panto_placer_main,num_vehs_in_vehid_chain+1){
    5:sw_seibu101_2_panto_placer_main_2;
    sw_seibu101_2_panto_placer_main_1;
   }

    switch(FEAT_TRAINS, SELF, sw_seibu101_2_fake_placer,position_in_vehid_chain +1){
   5: seibu101_2_end;
   6: seibu101_2_end_rev;
    sw_seibu101_2_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu101_2_fake_placer_rev,position_in_vehid_chain_from_end ){
   5: seibu101_2_end_rev;
   6: seibu101_2_end;
    sw_seibu101_2_panto_placer_main;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu101_2_fake_placer_gfx,vehicle_is_reversed){
   1: sw_seibu101_2_fake_placer_rev;
   sw_seibu101_2_fake_placer;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu101_2_fake_placer_main,num_vehs_in_vehid_chain>9 - 1){
   1: sw_seibu101_2_fake_placer_gfx;
     sw_seibu101_2_panto_placer_main;
    }


    switch(FEAT_TRAINS, SELF, sw_seibu101_2_end_gfx_main,position_in_vehid_chain_from_end){
   0: sw_seibu101_2_end_gfx;
   default: sw_seibu101_2_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu101_2_front_gfx_main,position_in_vehid_chain_from_end){
   0: sw_seibu101_2_front_gfx;
   default: sw_seibu101_2_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu101_livery_2,vehicle_type_id){
   mu_car_narrow:sw_seibu101_2_end_gfx_main;
   sw_seibu101_2_front_gfx_main;
    }



  switch(FEAT_TRAINS, PARENT, seibu101_3_front_gfx_1, vehicle_is_reversed){
   1:seibu101_3_front;
   seibu101_3_front_mot;
  }
  switch(FEAT_TRAINS, PARENT, sw_seibu101_3_front_gfx, num_vehs_in_consist){
   2:seibu101_3_front_gfx_1;
   seibu101_3_front;
  }
  switch(FEAT_TRAINS, PARENT, seibu101_3_end_gfx_1, vehicle_is_reversed){
   1:seibu101_3_end_mot;
   seibu101_3_end;
  }
  switch(FEAT_TRAINS, PARENT, sw_seibu101_3_end_gfx, num_vehs_in_consist){
   2:seibu101_3_end_gfx_1;
   seibu101_3_end;
  }


   switch(FEAT_TRAINS, SELF, sw_seibu101_3_panto_placer_1,position_in_vehid_chain %2){
    0: seibu101_3_mot;
    seibu101_3_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu101_3_panto_placer_1_rev,position_in_vehid_chain_from_end %2 -1){
    0: seibu101_3_mot;
    seibu101_3_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu101_3_panto_placer_main_1,vehicle_is_reversed){
    1: sw_seibu101_3_panto_placer_1_rev;
    sw_seibu101_3_panto_placer_1;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu101_3_panto_placer_2,position_in_vehid_chain %3){
    1: seibu101_3_mot;
    seibu101_3_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu101_3_panto_placer_2_rev,position_in_vehid_chain_from_end %3 -1){
    1: seibu101_3_mot;
    seibu101_3_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu101_3_panto_placer_main_2,vehicle_is_reversed){
    1: sw_seibu101_3_panto_placer_2_rev;
    sw_seibu101_3_panto_placer_2;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu101_3_panto_placer_main,num_vehs_in_vehid_chain+1){
    5:sw_seibu101_3_panto_placer_main_2;
    sw_seibu101_3_panto_placer_main_1;
   }

    switch(FEAT_TRAINS, SELF, sw_seibu101_3_fake_placer,position_in_vehid_chain +1){
   5: seibu101_3_end;
   6: seibu101_3_end_rev;
    sw_seibu101_3_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu101_3_fake_placer_rev,position_in_vehid_chain_from_end ){
   5: seibu101_3_end_rev;
   6: seibu101_3_end;
    sw_seibu101_3_panto_placer_main;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu101_3_fake_placer_gfx,vehicle_is_reversed){
   1: sw_seibu101_3_fake_placer_rev;
   sw_seibu101_3_fake_placer;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu101_3_fake_placer_main,num_vehs_in_vehid_chain>9 - 1){
   1: sw_seibu101_3_fake_placer_gfx;
     sw_seibu101_3_panto_placer_main;
    }


    switch(FEAT_TRAINS, SELF, sw_seibu101_3_end_gfx_main,position_in_vehid_chain_from_end){
   0: sw_seibu101_3_end_gfx;
   default: sw_seibu101_3_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu101_3_front_gfx_main,position_in_vehid_chain_from_end){
   0: sw_seibu101_3_front_gfx;
   default: sw_seibu101_3_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu101_livery_3,vehicle_type_id){
   mu_car_narrow:sw_seibu101_3_end_gfx_main;
   sw_seibu101_3_front_gfx_main;
    }



  switch(FEAT_TRAINS, PARENT, seibu301_1_front_gfx, current_year>2004){
   1:seibu301_1_front_sk;
   seibu301_1_front;
  }
  switch(FEAT_TRAINS, PARENT, seibu301_1_end_gfx, current_year>2004){
   1:seibu301_1_end_sk;
   seibu301_1_end;
  }
  switch(FEAT_TRAINS, PARENT, seibu301_1_end_rev_gfx, current_year>2004){
   1:seibu301_1_end_sk_rev;
   seibu301_1_end_rev;
  }


  switch(FEAT_TRAINS, PARENT, seibu301_1_front_gfx_1, vehicle_is_reversed){
   1:seibu301_1_front;
   seibu301_1_front_mot;
  }
  switch(FEAT_TRAINS, PARENT, sw_seibu301_1_front_gfx, num_vehs_in_consist){
   2:seibu301_1_front_gfx_1;
   seibu301_1_front_gfx;
  }
  switch(FEAT_TRAINS, PARENT, seibu301_1_end_gfx_1, vehicle_is_reversed){
   1:seibu301_1_end_mot;
   seibu301_1_end;
  }
  switch(FEAT_TRAINS, PARENT, sw_seibu301_1_end_gfx, num_vehs_in_consist){
   2:seibu301_1_end_gfx_1;
   seibu301_1_end_gfx;
  }


   switch(FEAT_TRAINS, SELF, sw_seibu301_1_panto_placer_1,position_in_vehid_chain %3){
    0: seibu301_1_mot;
    seibu301_1_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu301_1_panto_placer_1_rev,position_in_vehid_chain_from_end %3 -1){
    0: seibu301_1_mot;
    seibu301_1_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu301_1_panto_placer_main_1,vehicle_is_reversed){
    1: sw_seibu301_1_panto_placer_1_rev;
    sw_seibu301_1_panto_placer_1;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu301_1_panto_placer_2,position_in_vehid_chain %4){
    0: seibu301_1_mot;
    seibu301_1_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu301_1_panto_placer_2_rev,position_in_vehid_chain_from_end %4 -1){
    0: seibu301_1_mot;
    seibu301_1_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu301_1_panto_placer_main_2,vehicle_is_reversed){
    1: sw_seibu301_1_panto_placer_2_rev;
    sw_seibu301_1_panto_placer_2;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu301_1_panto_placer_3,position_in_vehid_chain %3){
    1: seibu301_1_mot;
    seibu301_1_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu301_1_panto_placer_3_rev,position_in_vehid_chain_from_end %3 -1){
    1: seibu301_1_mot;
    seibu301_1_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu301_1_panto_placer_main_3,vehicle_is_reversed){
    1: sw_seibu301_1_panto_placer_3_rev;
    sw_seibu301_1_panto_placer_3;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu301_1_panto_placer_main,num_vehs_in_vehid_chain+1){
    5:sw_seibu301_1_panto_placer_main_3;
    8:sw_seibu301_1_panto_placer_main_2;

    sw_seibu301_1_panto_placer_main_1;
   }

    switch(FEAT_TRAINS, SELF, sw_seibu301_1_fake_placer,position_in_vehid_chain +1){
   5: seibu301_1_end_gfx;
   6: seibu301_1_end_rev_gfx;
    sw_seibu301_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu301_1_fake_placer_rev,position_in_vehid_chain_from_end ){
   5: seibu301_1_end_rev_gfx;
   6: seibu301_1_end_gfx;
    sw_seibu301_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu301_1_fake_placer_gfx,vehicle_is_reversed){
   1: sw_seibu301_1_fake_placer_rev;
   sw_seibu301_1_fake_placer;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu301_1_fake_placer_main,num_vehs_in_vehid_chain>9 - 1){
   1: sw_seibu301_1_fake_placer_gfx;
     sw_seibu301_1_panto_placer_main;
    }


    switch(FEAT_TRAINS, SELF, sw_seibu301_1_end_gfx_main,position_in_vehid_chain_from_end){
   0: sw_seibu301_1_end_gfx;
   default: sw_seibu301_1_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu301_1_front_gfx_main,position_in_vehid_chain_from_end){
   0: sw_seibu301_1_front_gfx;
   default: sw_seibu301_1_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu301_livery_1,vehicle_type_id){
   mu_car_narrow:sw_seibu301_1_end_gfx_main;
   sw_seibu301_1_front_gfx_main;
    }



  switch(FEAT_TRAINS, PARENT, seibu301_2_front_gfx_1, vehicle_is_reversed){
   1:seibu301_2_front;
   seibu301_2_front_mot;
  }
  switch(FEAT_TRAINS, PARENT, sw_seibu301_2_front_gfx, num_vehs_in_consist){
   2:seibu301_2_front_gfx_1;
   seibu301_2_front;
  }
  switch(FEAT_TRAINS, PARENT, seibu301_2_end_gfx_1, vehicle_is_reversed){
   1:seibu301_2_end_mot;
   seibu301_2_end;
  }
  switch(FEAT_TRAINS, PARENT, sw_seibu301_2_end_gfx, num_vehs_in_consist){
   2:seibu301_2_end_gfx_1;
   seibu301_2_end;
  }


   switch(FEAT_TRAINS, SELF, sw_seibu301_2_panto_placer_1,position_in_vehid_chain %3){
    0: seibu301_2_mot;
    seibu301_2_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu301_2_panto_placer_1_rev,position_in_vehid_chain_from_end %3 -1){
    0: seibu301_2_mot;
    seibu301_2_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu301_2_panto_placer_main_1,vehicle_is_reversed){
    1: sw_seibu301_2_panto_placer_1_rev;
    sw_seibu301_2_panto_placer_1;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu301_2_panto_placer_2,position_in_vehid_chain %4){
    0: seibu301_2_mot;
    seibu301_2_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu301_2_panto_placer_2_rev,position_in_vehid_chain_from_end %4 -1){
    0: seibu301_2_mot;
    seibu301_2_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu301_2_panto_placer_main_2,vehicle_is_reversed){
    1: sw_seibu301_2_panto_placer_2_rev;
    sw_seibu301_2_panto_placer_2;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu301_2_panto_placer_3,position_in_vehid_chain %3){
    1: seibu301_2_mot;
    seibu301_2_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu301_2_panto_placer_3_rev,position_in_vehid_chain_from_end %3 -1){
    1: seibu301_2_mot;
    seibu301_2_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu301_2_panto_placer_main_3,vehicle_is_reversed){
    1: sw_seibu301_2_panto_placer_3_rev;
    sw_seibu301_2_panto_placer_3;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu301_2_panto_placer_main,num_vehs_in_vehid_chain+1){
    5:sw_seibu301_2_panto_placer_main_3;
    8:sw_seibu301_2_panto_placer_main_2;

    sw_seibu301_2_panto_placer_main_1;
   }

    switch(FEAT_TRAINS, SELF, sw_seibu301_2_fake_placer,position_in_vehid_chain +1){
   5: seibu301_2_end;
   6: seibu301_2_end_rev;
    sw_seibu301_2_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu301_2_fake_placer_rev,position_in_vehid_chain_from_end ){
   5: seibu301_2_end_rev;
   6: seibu301_2_end;
    sw_seibu301_2_panto_placer_main;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu301_2_fake_placer_gfx,vehicle_is_reversed){
   1: sw_seibu301_2_fake_placer_rev;
   sw_seibu301_2_fake_placer;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu301_2_fake_placer_main,num_vehs_in_vehid_chain>9 - 1){
   1: sw_seibu301_2_fake_placer_gfx;
     sw_seibu301_2_panto_placer_main;
    }


    switch(FEAT_TRAINS, SELF, sw_seibu301_2_end_gfx_main,position_in_vehid_chain_from_end){
   0: sw_seibu301_2_end_gfx;
   default: sw_seibu301_2_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu301_2_front_gfx_main,position_in_vehid_chain_from_end){
   0: sw_seibu301_2_front_gfx;
   default: sw_seibu301_2_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu301_livery_2,vehicle_type_id){
   mu_car_narrow:sw_seibu301_2_end_gfx_main;
   sw_seibu301_2_front_gfx_main;
    }



  switch(FEAT_TRAINS, PARENT, seibu301_3_front_gfx_1, vehicle_is_reversed){
   1:seibu301_3_front;
   seibu301_3_front_mot;
  }
  switch(FEAT_TRAINS, PARENT, sw_seibu301_3_front_gfx, num_vehs_in_consist){
   2:seibu301_3_front_gfx_1;
   seibu301_3_front;
  }
  switch(FEAT_TRAINS, PARENT, seibu301_3_end_gfx_1, vehicle_is_reversed){
   1:seibu301_3_end_mot;
   seibu301_3_end;
  }
  switch(FEAT_TRAINS, PARENT, sw_seibu301_3_end_gfx, num_vehs_in_consist){
   2:seibu301_3_end_gfx_1;
   seibu301_3_end;
  }


   switch(FEAT_TRAINS, SELF, sw_seibu301_3_panto_placer_1,position_in_vehid_chain %3){
    0: seibu301_3_mot;
    seibu301_3_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu301_3_panto_placer_1_rev,position_in_vehid_chain_from_end %3 -1){
    0: seibu301_3_mot;
    seibu301_3_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu301_3_panto_placer_main_1,vehicle_is_reversed){
    1: sw_seibu301_3_panto_placer_1_rev;
    sw_seibu301_3_panto_placer_1;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu301_3_panto_placer_2,position_in_vehid_chain %4){
    0: seibu301_3_mot;
    seibu301_3_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu301_3_panto_placer_2_rev,position_in_vehid_chain_from_end %4 -1){
    0: seibu301_3_mot;
    seibu301_3_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu301_3_panto_placer_main_2,vehicle_is_reversed){
    1: sw_seibu301_3_panto_placer_2_rev;
    sw_seibu301_3_panto_placer_2;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu301_3_panto_placer_3,position_in_vehid_chain %3){
    1: seibu301_3_mot;
    seibu301_3_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu301_3_panto_placer_3_rev,position_in_vehid_chain_from_end %3 -1){
    1: seibu301_3_mot;
    seibu301_3_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu301_3_panto_placer_main_3,vehicle_is_reversed){
    1: sw_seibu301_3_panto_placer_3_rev;
    sw_seibu301_3_panto_placer_3;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu301_3_panto_placer_main,num_vehs_in_vehid_chain+1){
    5:sw_seibu301_3_panto_placer_main_3;
    8:sw_seibu301_3_panto_placer_main_2;

    sw_seibu301_3_panto_placer_main_1;
   }

    switch(FEAT_TRAINS, SELF, sw_seibu301_3_fake_placer,position_in_vehid_chain +1){
   5: seibu301_3_end;
   6: seibu301_3_end_rev;
    sw_seibu301_3_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu301_3_fake_placer_rev,position_in_vehid_chain_from_end ){
   5: seibu301_3_end_rev;
   6: seibu301_3_end;
    sw_seibu301_3_panto_placer_main;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu301_3_fake_placer_gfx,vehicle_is_reversed){
   1: sw_seibu301_3_fake_placer_rev;
   sw_seibu301_3_fake_placer;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu301_3_fake_placer_main,num_vehs_in_vehid_chain>9 - 1){
   1: sw_seibu301_3_fake_placer_gfx;
     sw_seibu301_3_panto_placer_main;
    }


    switch(FEAT_TRAINS, SELF, sw_seibu301_3_end_gfx_main,position_in_vehid_chain_from_end){
   0: sw_seibu301_3_end_gfx;
   default: sw_seibu301_3_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu301_3_front_gfx_main,position_in_vehid_chain_from_end){
   0: sw_seibu301_3_front_gfx;
   default: sw_seibu301_3_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu301_livery_3,vehicle_type_id){
   mu_car_narrow:sw_seibu301_3_end_gfx_main;
   sw_seibu301_3_front_gfx_main;
    }



  switch(FEAT_TRAINS, PARENT, seibu301_4_front_gfx_1, vehicle_is_reversed){
   1:seibu301_4_front;
   seibu301_4_front_mot;
  }
  switch(FEAT_TRAINS, PARENT, sw_seibu301_4_front_gfx, num_vehs_in_consist){
   2:seibu301_4_front_gfx_1;
   seibu301_4_front;
  }
  switch(FEAT_TRAINS, PARENT, seibu301_4_end_gfx_1, vehicle_is_reversed){
   1:seibu301_4_end_mot;
   seibu301_4_end;
  }
  switch(FEAT_TRAINS, PARENT, sw_seibu301_4_end_gfx, num_vehs_in_consist){
   2:seibu301_4_end_gfx_1;
   seibu301_4_end;
  }


   switch(FEAT_TRAINS, SELF, sw_seibu301_4_panto_placer_1,position_in_vehid_chain %2){
    0: seibu301_4_mot;
    seibu301_4_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu301_4_panto_placer_1_rev,position_in_vehid_chain_from_end %2 -1){
    0: seibu301_4_mot;
    seibu301_4_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu301_4_panto_placer_main_1,vehicle_is_reversed){
    1: sw_seibu301_4_panto_placer_1_rev;
    sw_seibu301_4_panto_placer_1;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu301_4_panto_placer_2,position_in_vehid_chain %3){
    1: seibu301_4_mot;
    seibu301_4_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu301_4_panto_placer_2_rev,position_in_vehid_chain_from_end %3 -1){
    1: seibu301_4_mot;
    seibu301_4_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu301_4_panto_placer_main_2,vehicle_is_reversed){
    1: sw_seibu301_4_panto_placer_2_rev;
    sw_seibu301_4_panto_placer_2;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu301_4_panto_placer_main,num_vehs_in_vehid_chain+1){
    5:sw_seibu301_4_panto_placer_main_2;
    sw_seibu301_4_panto_placer_main_1;
   }

    switch(FEAT_TRAINS, SELF, sw_seibu301_4_fake_placer,position_in_vehid_chain +1){
   5: seibu301_4_end;
   6: seibu301_4_end_rev;
    sw_seibu301_4_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu301_4_fake_placer_rev,position_in_vehid_chain_from_end ){
   5: seibu301_4_end_rev;
   6: seibu301_4_end;
    sw_seibu301_4_panto_placer_main;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu301_4_fake_placer_gfx,vehicle_is_reversed){
   1: sw_seibu301_4_fake_placer_rev;
   sw_seibu301_4_fake_placer;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu301_4_fake_placer_main,num_vehs_in_vehid_chain>9 - 1){
   1: sw_seibu301_4_fake_placer_gfx;
     sw_seibu301_4_panto_placer_main;
    }


    switch(FEAT_TRAINS, SELF, sw_seibu301_4_end_gfx_main,position_in_vehid_chain_from_end){
   0: sw_seibu301_4_end_gfx;
   default: sw_seibu301_4_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu301_4_front_gfx_main,position_in_vehid_chain_from_end){
   0: sw_seibu301_4_front_gfx;
   default: sw_seibu301_4_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu301_livery_4,vehicle_type_id){
   mu_car_narrow:sw_seibu301_4_end_gfx_main;
   sw_seibu301_4_front_gfx_main;
    }



  switch(FEAT_TRAINS, PARENT, seibu301_5_front_gfx_1, vehicle_is_reversed){
   1:seibu301_5_front;
   seibu301_5_front_mot;
  }
  switch(FEAT_TRAINS, PARENT, sw_seibu301_5_front_gfx, num_vehs_in_consist){
   2:seibu301_5_front_gfx_1;
   seibu301_5_front;
  }
  switch(FEAT_TRAINS, PARENT, seibu301_5_end_gfx_1, vehicle_is_reversed){
   1:seibu301_5_end_mot;
   seibu301_5_end;
  }
  switch(FEAT_TRAINS, PARENT, sw_seibu301_5_end_gfx, num_vehs_in_consist){
   2:seibu301_5_end_gfx_1;
   seibu301_5_end;
  }


   switch(FEAT_TRAINS, SELF, sw_seibu301_5_panto_placer_1,position_in_vehid_chain %3){
    0: seibu301_5_mot;
    seibu301_5_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu301_5_panto_placer_1_rev,position_in_vehid_chain_from_end %3 -1){
    0: seibu301_5_mot;
    seibu301_5_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu301_5_panto_placer_main_1,vehicle_is_reversed){
    1: sw_seibu301_5_panto_placer_1_rev;
    sw_seibu301_5_panto_placer_1;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu301_5_panto_placer_2,position_in_vehid_chain %4){
    0: seibu301_5_mot;
    seibu301_5_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu301_5_panto_placer_2_rev,position_in_vehid_chain_from_end %4 -1){
    0: seibu301_5_mot;
    seibu301_5_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu301_5_panto_placer_main_2,vehicle_is_reversed){
    1: sw_seibu301_5_panto_placer_2_rev;
    sw_seibu301_5_panto_placer_2;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu301_5_panto_placer_3,position_in_vehid_chain %3){
    1: seibu301_5_mot;
    seibu301_5_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu301_5_panto_placer_3_rev,position_in_vehid_chain_from_end %3 -1){
    1: seibu301_5_mot;
    seibu301_5_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu301_5_panto_placer_main_3,vehicle_is_reversed){
    1: sw_seibu301_5_panto_placer_3_rev;
    sw_seibu301_5_panto_placer_3;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu301_5_panto_placer_main,num_vehs_in_vehid_chain+1){
    5:sw_seibu301_5_panto_placer_main_3;
    8:sw_seibu301_5_panto_placer_main_2;

    sw_seibu301_5_panto_placer_main_1;
   }

    switch(FEAT_TRAINS, SELF, sw_seibu301_5_fake_placer,position_in_vehid_chain +1){
   5: seibu301_5_end;
   6: seibu301_5_end_rev;
    sw_seibu301_5_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu301_5_fake_placer_rev,position_in_vehid_chain_from_end ){
   5: seibu301_5_end_rev;
   6: seibu301_5_end;
    sw_seibu301_5_panto_placer_main;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu301_5_fake_placer_gfx,vehicle_is_reversed){
   1: sw_seibu301_5_fake_placer_rev;
   sw_seibu301_5_fake_placer;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu301_5_fake_placer_main,num_vehs_in_vehid_chain>9 - 1){
   1: sw_seibu301_5_fake_placer_gfx;
     sw_seibu301_5_panto_placer_main;
    }


    switch(FEAT_TRAINS, SELF, sw_seibu301_5_end_gfx_main,position_in_vehid_chain_from_end){
   0: sw_seibu301_5_end_gfx;
   default: sw_seibu301_5_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu301_5_front_gfx_main,position_in_vehid_chain_from_end){
   0: sw_seibu301_5_front_gfx;
   default: sw_seibu301_5_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu301_livery_5,vehicle_type_id){
   mu_car_narrow:sw_seibu301_5_end_gfx_main;
   sw_seibu301_5_front_gfx_main;
    }



  switch(FEAT_TRAINS, PARENT, seibu301_6_front_gfx_1, vehicle_is_reversed){
   1:seibu301_6_front;
   seibu301_6_front_mot;
  }
  switch(FEAT_TRAINS, PARENT, sw_seibu301_6_front_gfx, num_vehs_in_consist){
   2:seibu301_6_front_gfx_1;
   seibu301_6_front;
  }
  switch(FEAT_TRAINS, PARENT, seibu301_6_end_gfx_1, vehicle_is_reversed){
   1:seibu301_6_end_mot;
   seibu301_6_end;
  }
  switch(FEAT_TRAINS, PARENT, sw_seibu301_6_end_gfx, num_vehs_in_consist){
   2:seibu301_6_end_gfx_1;
   seibu301_6_end;
  }


   switch(FEAT_TRAINS, SELF, sw_seibu301_6_panto_placer_1,position_in_vehid_chain %3){
    0: seibu301_6_mot;
    seibu301_6_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu301_6_panto_placer_1_rev,position_in_vehid_chain_from_end %3 -1){
    0: seibu301_6_mot;
    seibu301_6_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu301_6_panto_placer_main_1,vehicle_is_reversed){
    1: sw_seibu301_6_panto_placer_1_rev;
    sw_seibu301_6_panto_placer_1;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu301_6_panto_placer_2,position_in_vehid_chain %4){
    0: seibu301_6_mot;
    seibu301_6_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu301_6_panto_placer_2_rev,position_in_vehid_chain_from_end %4 -1){
    0: seibu301_6_mot;
    seibu301_6_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu301_6_panto_placer_main_2,vehicle_is_reversed){
    1: sw_seibu301_6_panto_placer_2_rev;
    sw_seibu301_6_panto_placer_2;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu301_6_panto_placer_3,position_in_vehid_chain %3){
    1: seibu301_6_mot;
    seibu301_6_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu301_6_panto_placer_3_rev,position_in_vehid_chain_from_end %3 -1){
    1: seibu301_6_mot;
    seibu301_6_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu301_6_panto_placer_main_3,vehicle_is_reversed){
    1: sw_seibu301_6_panto_placer_3_rev;
    sw_seibu301_6_panto_placer_3;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu301_6_panto_placer_main,num_vehs_in_vehid_chain+1){
    5:sw_seibu301_6_panto_placer_main_3;
    8:sw_seibu301_6_panto_placer_main_2;

    sw_seibu301_6_panto_placer_main_1;
   }

    switch(FEAT_TRAINS, SELF, sw_seibu301_6_fake_placer,position_in_vehid_chain +1){
   5: seibu301_6_end;
   6: seibu301_6_end_rev;
    sw_seibu301_6_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu301_6_fake_placer_rev,position_in_vehid_chain_from_end ){
   5: seibu301_6_end_rev;
   6: seibu301_6_end;
    sw_seibu301_6_panto_placer_main;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu301_6_fake_placer_gfx,vehicle_is_reversed){
   1: sw_seibu301_6_fake_placer_rev;
   sw_seibu301_6_fake_placer;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu301_6_fake_placer_main,num_vehs_in_vehid_chain>9 - 1){
   1: sw_seibu301_6_fake_placer_gfx;
     sw_seibu301_6_panto_placer_main;
    }


    switch(FEAT_TRAINS, SELF, sw_seibu301_6_end_gfx_main,position_in_vehid_chain_from_end){
   0: sw_seibu301_6_end_gfx;
   default: sw_seibu301_6_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu301_6_front_gfx_main,position_in_vehid_chain_from_end){
   0: sw_seibu301_6_front_gfx;
   default: sw_seibu301_6_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu301_livery_6,vehicle_type_id){
   mu_car_narrow:sw_seibu301_6_end_gfx_main;
   sw_seibu301_6_front_gfx_main;
    }




    random_switch(FEAT_TRAINS, PARENT, sw_seibu101_livery_0_1){
      3:sw_seibu101_livery_3;
      1:sw_seibu101_livery_2;
    }

  random_switch(FEAT_TRAINS, PARENT, sw_seibu301_livery_0_1){
      3:sw_seibu301_livery_1;
      1:sw_seibu301_livery_2;
    }

  random_switch(FEAT_TRAINS, PARENT, sw_seibu301_livery_0_2){
      3:sw_seibu301_livery_1;
      1:sw_seibu301_livery_2;
      1:sw_seibu301_livery_3;
    }

  random_switch(FEAT_TRAINS, PARENT, sw_seibu301_livery_0_3){
      3:sw_seibu301_livery_1;
      1:sw_seibu301_livery_2;
      1:sw_seibu301_livery_3;
      1:sw_seibu301_livery_4;
      1:sw_seibu301_livery_5;
    }

  random_switch(FEAT_TRAINS, PARENT, sw_seibu301_livery_0_4){
      3:sw_seibu301_livery_1;
      1:sw_seibu301_livery_2;
      1:sw_seibu301_livery_3;
      1:sw_seibu301_livery_4;
      1:sw_seibu301_livery_5;
      1:sw_seibu301_livery_6;
    }


   switch(FEAT_TRAINS, SELF, sw_seibu101_livery_0_gfx, current_year){
    0..2000:sw_seibu101_livery_1;
    sw_seibu101_livery_0_1;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu301_livery_0_gfx, current_year){
    0..2005:sw_seibu301_livery_1;
    2006..2008:sw_seibu301_livery_0_1;
    2009..2016:sw_seibu301_livery_0_2;
    2017:sw_seibu301_livery_0_3;
    sw_seibu301_livery_0_4;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu301_livery_0, build_year){
    0..1978:sw_seibu101_livery_0_gfx;
    sw_seibu301_livery_0_gfx;
   }

    switch(FEAT_TRAINS, PARENT, sw_seibu301_lv, cargo_subtype){
      0:sw_seibu301_livery_0;
      1:sw_seibu101_livery_1;
      2:sw_seibu101_livery_2;
      3:sw_seibu101_livery_3;
      4:sw_seibu301_livery_1;
      5:sw_seibu301_livery_2;
      6:sw_seibu301_livery_3;
      7:sw_seibu301_livery_4;
      8:sw_seibu301_livery_5;
      9:sw_seibu301_livery_6;
  }

    switch(FEAT_TRAINS, SELF, sw_seibu301_lv_desc, cargo_subtype){
      0:string(LV_RANDOM);
      1:string(LV_seibu101_1);
   2:string(LV_seibu101_2);
   3:string(LV_seibu101_3);
   4:string(LV_seibu301_1);
   5:string(LV_seibu301_2);
   6:string(LV_seibu301_3);
   7:string(LV_seibu301_4);
   8:string(LV_seibu301_5);
   9:string(LV_seibu301_6);
    }


  switch(FEAT_TRAINS, SELF, sw_seibu301_capacity_wag,position_in_vehid_chain_from_end){
   0: 160;
   default: 168;
  }
  switch(FEAT_TRAINS, SELF, sw_seibu301_capacity_head,position_in_vehid_chain){
   0: 160;
   default: sw_seibu301_capacity_wag;
  }
  switch(FEAT_TRAINS, SELF, sw_seibu301_capacity,vehicle_type_id){
   mu_car_narrow:sw_seibu301_capacity_wag;
   sw_seibu301_capacity_head;
  }

  switch(FEAT_TRAINS, SELF, sw_seibu301_power,position_in_vehid_chain_from_end%7){
     0..1:return 150;
   3..4:return 150;
   return 0;
  }
  switch(FEAT_TRAINS, SELF, sw_seibu301_head_power,num_vehs_in_consist){
   2: return 150;
   return 0;
  }
  switch(FEAT_TRAINS, SELF, sw_seibu301_power_main,vehicle_type_id){
   mu_car_narrow:sw_seibu301_power()*4*1342/1000;
   sw_seibu301_head_power()*4*1342/1000;
  }



  switch(FEAT_TRAINS, SELF, seibu301_attach_vehid, vehicle_type_id) {
   mu_car: return string(STR_ATTACH_1067_ERROR);
   mu_car_metro: return string(STR_ATTACH_1067_ERROR);
   return CB_RESULT_ATTACH_ALLOW;
  }

item(FEAT_TRAINS, seibu301,2115) {
 property {
  cargo_capacity: 130;
  ai_special_flag: AI_FLAG_PASSENGER;
  sprite_id: SPRITE_ID_NEW_TRAIN;
  misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
  refittable_cargo_classes: bitmask(CC_PASSENGERS);
  non_refittable_cargo_classes: bitmask();
  refit_cost: 0;
  dual_headed: 0;
  ai_engine_rank: 0;
  running_cost_base: RUNNING_COST_ELECTRIC;
  engine_class: ENGINE_CLASS_ELECTRIC;
  visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
  tractive_effort_coefficient: 0.3;
  air_drag_coefficient: 0.07;
  bitmask_vehicle_info: 0;

  climates_available: param_disable_seibu == 0 ? ALL_CLIMATES : NO_CLIMATE;
  name: string(STR_TRAIN_NAME, string(STR_NAME_SEIBU), "101/301", string(STR_NAME_SERIES));
  introduction_date: date(1968, 1, 1);
  model_life: VEHICLE_NEVER_EXPIRES;
  vehicle_life: 35;
  reliability_decay: 10;

  cost_factor: 23;
  running_cost_factor: 46;
  speed: 110 km/h;
  track_type: TR_1067_DC;
  power: 400 kW;
  weight: 35 ton;
  loading_speed: param_loading_2D;
 }
 graphics {
  purchase: seibu301_purchase;
  default: sw_seibu301_lv;

  power: sw_seibu301_power_main;
  loading_speed: param_loading_3D;
  cargo_capacity: sw_seibu301_capacity()*param_capacity_mod/3;
  can_attach_wagon: seibu301_attach_vehid;
  cargo_subtype_text:sw_seibu301_lv_desc;
  additional_text:
  string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_4, 2,4,6,8)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string( STR_OPERATOR, string(STR_SEIBU)));
    }
    livery_override(mu_car_narrow){
   loading_speed: param_loading_3D;
   cargo_capacity: sw_seibu301_capacity()*param_capacity_mod/3;
   default: sw_seibu301_lv;
   power: sw_seibu301_power_main;
   weight: 34;
  }
}
# 77 "src/_private.pnml" 2
# 1 "src/private/Kanto/seibu/seibu2000.pnml" 1

  spriteset(seibu2000_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu2000/seibu2000_1.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(seibu2000_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu2000/seibu2000_1.png"){ tmpl_purchase_2c(0, 100) }
  switch(FEAT_TRAINS, SELF, seibu2000_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_seibu; 1: seibu2000_purchase_c1; 2: seibu2000_purchase_c2;}

 spriteset(seibu2000_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu2000/seibu2000_1.png"){ tmpl_std(0, 0) }
 spriteset(seibu2000_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu2000/seibu2000_1.png"){ tmpl_std_rev(0, 25) }
 spriteset(seibu2000_1_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu2000/seibu2000_1.png"){ tmpl_std(0, 25) }
 spriteset(seibu2000_1_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu2000/seibu2000_1.png"){ tmpl_std(0, 50) }
 spriteset(seibu2000_1_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu2000/seibu2000_1.png"){ tmpl_std_rev(0, 75) }
 spriteset(seibu2000_1_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu2000/seibu2000_1.png"){ tmpl_std(0, 75) }
 spriteset(seibu2000_1_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu2000/seibu2000_1.png"){ tmpl_std(0, 100) }
 spriteset(seibu2000_1_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu2000/seibu2000_1.png"){ tmpl_std_rev(0, 100) }
 spriteset(seibu2000_1_mot_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu2000/seibu2000_1.png"){ tmpl_symm(0, 125) }
 spriteset(seibu2000_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu2000/seibu2000_1.png"){ tmpl_symm(0, 150) }


 spriteset(seibu2000n_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu2000/seibu2000n_1.png"){ tmpl_std(0, 0) }
 spriteset(seibu2000n_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu2000/seibu2000n_1.png"){ tmpl_std_rev(0, 25) }
 spriteset(seibu2000n_1_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu2000/seibu2000n_1.png"){ tmpl_std(0, 25) }
 spriteset(seibu2000n_1_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu2000/seibu2000n_1.png"){ tmpl_std(0, 50) }
 spriteset(seibu2000n_1_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu2000/seibu2000n_1.png"){ tmpl_std_rev(0, 75) }
 spriteset(seibu2000n_1_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu2000/seibu2000n_1.png"){ tmpl_std(0, 75) }
 spriteset(seibu2000n_1_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu2000/seibu2000n_1.png"){ tmpl_std(0, 100) }
 spriteset(seibu2000n_1_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu2000/seibu2000n_1.png"){ tmpl_std_rev(0, 100) }
 spriteset(seibu2000n_1_mot_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu2000/seibu2000n_1.png"){ tmpl_symm(0, 125) }
 spriteset(seibu2000n_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu2000/seibu2000n_1.png"){ tmpl_symm(0, 150) }


 spriteset(seibu2000_2_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu2000/seibu2000_2.png"){ tmpl_std(0, 0) }
 spriteset(seibu2000_2_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu2000/seibu2000_2.png"){ tmpl_std_rev(0, 25) }
 spriteset(seibu2000_2_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu2000/seibu2000_2.png"){ tmpl_std(0, 25) }
 spriteset(seibu2000_2_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu2000/seibu2000_2.png"){ tmpl_std(0, 50) }
 spriteset(seibu2000_2_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu2000/seibu2000_2.png"){ tmpl_std_rev(0, 75) }
 spriteset(seibu2000_2_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu2000/seibu2000_2.png"){ tmpl_std(0, 75) }
 spriteset(seibu2000_2_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu2000/seibu2000_2.png"){ tmpl_std(0, 100) }
 spriteset(seibu2000_2_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu2000/seibu2000_2.png"){ tmpl_std_rev(0, 100) }
 spriteset(seibu2000_2_mot_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu2000/seibu2000_2.png"){ tmpl_symm(0, 125) }
 spriteset(seibu2000_2_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu2000/seibu2000_2.png"){ tmpl_symm(0, 150) }





   switch(FEAT_TRAINS, SELF, seibu2000_1_wag_gfx,current_year>2007){
    1: seibu2000n_1_wag;
    seibu2000_1_wag;
   }

   switch(FEAT_TRAINS, SELF, seibu2000_1_mot_gfx,current_year>2007){
    1: seibu2000n_1_mot;
    seibu2000_1_mot;
   }
   switch(FEAT_TRAINS, SELF, seibu2000_1_mot_rev_gfx,current_year>2007){
    1: seibu2000n_1_mot_rev;
    seibu2000_1_mot_rev;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu2000_1_mot_gfx,vehicle_is_reversed){
    1: seibu2000_1_mot_gfx;
    seibu2000_1_mot_rev_gfx;
   }
   switch(FEAT_TRAINS, SELF, seibu2000_1_mot_2_gfx,current_year>2007){
    1: seibu2000n_1_mot_2;
    seibu2000_1_mot_2;
   }

   switch(FEAT_TRAINS, PARENT, seibu2000_1_front_mot_gfx,current_year>2007||build_year>1987){
     1: seibu2000n_1_front_mot;
     seibu2000_1_front_mot;
   }
   switch(FEAT_TRAINS, PARENT, seibu2000_1_front_gfx,current_year>2007||build_year>1987){
     1: seibu2000n_1_front;
     seibu2000_1_front;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu2000_1_front_gfx_1,vehicle_is_reversed){
     1: seibu2000_1_front_gfx;
     seibu2000_1_front_mot_gfx;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu2000_1_front_gfx,num_vehs_in_consist){
     2: sw_seibu2000_1_front_gfx_1;
     4: sw_seibu2000_1_front_gfx_1;
     seibu2000_1_front_gfx;
   }

   switch(FEAT_TRAINS, PARENT, seibu2000_1_end_mot_gfx,current_year>2007||build_year>1987){
     1: seibu2000n_1_end_mot;
     seibu2000_1_end_mot;
   }
   switch(FEAT_TRAINS, PARENT, seibu2000_1_end_mot_rev_gfx,current_year>2007||build_year>1987){
     1: seibu2000n_1_end_mot_rev;
     seibu2000_1_end_mot_rev;
   }
   switch(FEAT_TRAINS, PARENT, seibu2000_1_end_gfx,current_year>2007||build_year>1987){
     1: seibu2000n_1_end;
     seibu2000_1_end;
   }
   switch(FEAT_TRAINS, PARENT, seibu2000_1_end_rev_gfx,current_year>2007||build_year>1987){
     1: seibu2000n_1_end_rev;
     seibu2000_1_end_rev;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu2000_1_end_gfx_1,vehicle_is_reversed){
     1: seibu2000_1_end_mot_gfx;
     seibu2000_1_end_gfx;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu2000_1_end_gfx,num_vehs_in_consist){
     2: sw_seibu2000_1_end_gfx_1;
     4: sw_seibu2000_1_end_gfx_1;
     seibu2000_1_end_gfx;
   }


   switch(FEAT_TRAINS, SELF, sw_seibu2000_1_panto_placer_1,position_in_vehid_chain %2){
    0: sw_seibu2000_1_mot_gfx;
    seibu2000_1_wag_gfx;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu2000_1_panto_placer_1_rev,position_in_vehid_chain_from_end %2 -1){
    0: sw_seibu2000_1_mot_gfx;
    seibu2000_1_wag_gfx;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu2000_1_panto_placer_main_1,vehicle_is_reversed){
    1: sw_seibu2000_1_panto_placer_1_rev;
    sw_seibu2000_1_panto_placer_1;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu2000_1_panto_placer_2,position_in_vehid_chain_from_end %3 -1){
    0: seibu2000_1_mot_2_gfx;
    seibu2000_1_wag_gfx;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu2000_1_panto_placer_2_rev,position_in_vehid_chain %3){
    0: seibu2000_1_mot_2_gfx;
    seibu2000_1_wag_gfx;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu2000_1_panto_placer_main_2,vehicle_is_reversed){
    1: sw_seibu2000_1_panto_placer_2_rev;
    sw_seibu2000_1_panto_placer_2;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu2000_1_panto_placer_main,num_vehs_in_vehid_chain+1){
    3..4:sw_seibu2000_1_panto_placer_main_2;
    sw_seibu2000_1_panto_placer_main_1;
   }


  switch(FEAT_TRAINS, SELF, sw_seibu2000_1_special_fake_placer,position_in_vehid_chain_from_end){
   1: seibu2000_1_end_mot_rev_gfx;
   2: seibu2000_1_end_gfx;
    sw_seibu2000_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu2000_1_special_fake_placer_rev,position_in_vehid_chain +1 ){
   1: seibu2000_1_end_mot_gfx;
   2: seibu2000_1_end_rev_gfx;
    sw_seibu2000_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu2000_1_special_fake_placer_gfx,vehicle_is_reversed){
   1: sw_seibu2000_1_special_fake_placer_rev;
   sw_seibu2000_1_special_fake_placer;
    }

  random_switch(FEAT_TRAINS, PARENT, sw_seibu2000_1_special_fake_placer_8_car_random){
   3:sw_seibu2000_1_panto_placer_main;
   1:sw_seibu2000_1_special_fake_placer_gfx;
  }
  switch(FEAT_TRAINS, SELF, sw_seibu2000_1_special_fake_placer_main,num_vehs_in_vehid_chain +1){
   8: sw_seibu2000_1_special_fake_placer_8_car_random;
   10:sw_seibu2000_1_special_fake_placer_gfx;
   sw_seibu2000_1_panto_placer_main;
    }

    switch(FEAT_TRAINS, SELF, sw_seibu2000_1_fake_placer,position_in_vehid_chain +1){
   7: seibu2000_1_end_gfx;
   8: seibu2000_1_end_rev_gfx;
   sw_seibu2000_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu2000_1_fake_placer_rev,position_in_vehid_chain_from_end ){
   7: seibu2000_1_end_rev_gfx;
   8: seibu2000_1_end_gfx;
   sw_seibu2000_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu2000_1_fake_placer_gfx,vehicle_is_reversed){
   1: sw_seibu2000_1_fake_placer_rev;
   sw_seibu2000_1_fake_placer;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu2000_1_fake_placer_main,num_vehs_in_vehid_chain>10 - 1){
   1: sw_seibu2000_1_fake_placer_gfx;
     sw_seibu2000_1_special_fake_placer_main;
    }


    switch(FEAT_TRAINS, SELF, sw_seibu2000_1_end_gfx_main,position_in_vehid_chain_from_end){
   0: sw_seibu2000_1_end_gfx;
   default: sw_seibu2000_1_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu2000_1_front_gfx_main,position_in_vehid_chain_from_end){
   0: sw_seibu2000_1_front_gfx;
   default: sw_seibu2000_1_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu2000_livery_1,vehicle_type_id){
   mu_car_narrow:sw_seibu2000_1_end_gfx_main;
   sw_seibu2000_1_front_gfx_main;
    }




   switch(FEAT_TRAINS, SELF, sw_seibu2000_2_panto_placer_1,position_in_vehid_chain %2){
    0: seibu2000_2_mot_rev;
    seibu2000_2_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu2000_2_panto_placer_1_rev,position_in_vehid_chain_from_end %2 -1){
    0: seibu2000_2_mot;
    seibu2000_2_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu2000_2_panto_placer_main_1,vehicle_is_reversed){
    1: sw_seibu2000_2_panto_placer_1_rev;
    sw_seibu2000_2_panto_placer_1;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu2000_2_panto_placer_2,position_in_vehid_chain_from_end %3 -1){
    0: seibu2000_2_mot_2;
    seibu2000_2_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu2000_2_panto_placer_2_rev,position_in_vehid_chain %3){
    0: seibu2000_2_mot_2;
    seibu2000_2_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu2000_2_panto_placer_main_2,vehicle_is_reversed){
    1: sw_seibu2000_2_panto_placer_2_rev;
    sw_seibu2000_2_panto_placer_2;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu2000_2_panto_placer_main,num_vehs_in_vehid_chain+1){
    3..4:sw_seibu2000_2_panto_placer_main_2;
    sw_seibu2000_2_panto_placer_main_1;
   }


  switch(FEAT_TRAINS, SELF, sw_seibu2000_2_special_fake_placer,position_in_vehid_chain_from_end){
   1: seibu2000_2_end_mot_rev;
   2: seibu2000_2_end;
    sw_seibu2000_2_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu2000_2_special_fake_placer_rev,position_in_vehid_chain +1 ){
   1: seibu2000_2_end_mot;
   2: seibu2000_2_end_rev;
    sw_seibu2000_2_panto_placer_main;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu2000_2_special_fake_placer_gfx,vehicle_is_reversed){
   1: sw_seibu2000_2_special_fake_placer_rev;
   sw_seibu2000_2_special_fake_placer;
    }

  random_switch(FEAT_TRAINS, PARENT, sw_seibu2000_2_special_fake_placer_8_car_random){
   3:sw_seibu2000_2_panto_placer_main;
   1:sw_seibu2000_2_special_fake_placer_gfx;
  }
  switch(FEAT_TRAINS, SELF, sw_seibu2000_2_special_fake_placer_main,num_vehs_in_vehid_chain +1){
   8: sw_seibu2000_2_special_fake_placer_8_car_random;
   10:sw_seibu2000_2_special_fake_placer_gfx;
   sw_seibu2000_2_panto_placer_main;
    }

    switch(FEAT_TRAINS, SELF, sw_seibu2000_2_fake_placer,position_in_vehid_chain +1){
   7: seibu2000_2_end;
   8: seibu2000_2_end_rev;
   sw_seibu2000_2_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu2000_2_fake_placer_rev,position_in_vehid_chain_from_end ){
   7: seibu2000_2_end_rev;
   8: seibu2000_2_end;
   sw_seibu2000_2_panto_placer_main;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu2000_2_fake_placer_gfx,vehicle_is_reversed){
   1: sw_seibu2000_2_fake_placer_rev;
   sw_seibu2000_2_fake_placer;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu2000_2_fake_placer_main,num_vehs_in_vehid_chain>10 - 1){
   1: sw_seibu2000_2_fake_placer_gfx;
     sw_seibu2000_2_special_fake_placer_main;
    }


    switch(FEAT_TRAINS, SELF, sw_seibu2000_2_end_gfx_main,position_in_vehid_chain_from_end){
   0: seibu2000_2_end;
   default: sw_seibu2000_2_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu2000_2_front_gfx_main,position_in_vehid_chain_from_end){
   0: seibu2000_2_front;
   default: sw_seibu2000_2_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu2000_livery_2,vehicle_type_id){
   mu_car_narrow:sw_seibu2000_2_end_gfx_main;
   sw_seibu2000_2_front_gfx_main;
    }






    random_switch(FEAT_TRAINS, PARENT, sw_seibu2000_livery_0_1){
      3:sw_seibu2000_livery_1;
      1:sw_seibu2000_livery_2;
    }

  switch(FEAT_TRAINS, SELF, sw_seibu2000_livery_0, current_year){
      0..2022:sw_seibu2000_livery_1;
      sw_seibu2000_livery_0_1;
  }

    switch(FEAT_TRAINS, PARENT, sw_seibu2000_lv, cargo_subtype){
      0:sw_seibu2000_livery_0;
      1:sw_seibu2000_livery_1;
      2:sw_seibu2000_livery_2;
  }

    switch(FEAT_TRAINS, SELF, sw_seibu2000_lv_desc, cargo_subtype){
      0:string(LV_RANDOM);
      1:string(LV_DEFAULT);
   2:string(LV_seibu2000_2);
    }


  switch(FEAT_TRAINS, SELF, sw_seibu2000_capacity_wag,position_in_vehid_chain_from_end){
   0: 136;
   default: 144;
  }
  switch(FEAT_TRAINS, SELF, sw_seibu2000_capacity_head,position_in_vehid_chain){
   0: 136;
   default: sw_seibu2000_capacity_wag;
  }
  switch(FEAT_TRAINS, SELF, sw_seibu2000_capacity,vehicle_type_id){
   mu_car_narrow:sw_seibu2000_capacity_wag;
   sw_seibu2000_capacity_head;
  }

  switch(FEAT_TRAINS, SELF, sw_seibu2000_power_1,position_in_vehid_chain_from_end%8){
     1..5:return 130;
     return 0;
  }
  switch(FEAT_TRAINS, SELF, sw_seibu2000_power_2,position_in_vehid_chain_from_end%9){
     1..7:return 130;
     return 0;
  }
  switch(FEAT_TRAINS, SELF, sw_seibu2000_power,build_year>1987){
     1..5:sw_seibu2000_power_2;
     sw_seibu2000_power_1;
  }
  switch(FEAT_TRAINS, SELF, sw_seibu2000_head_power,num_vehs_in_consist){
   2: return 130;
   4: return 130;
   return 0;
  }
  switch(FEAT_TRAINS, SELF, sw_seibu2000_power_main,vehicle_type_id){
   mu_car_narrow:sw_seibu2000_power()*4*1342/1000;
   sw_seibu2000_head_power()*4*1342/1000;
  }

  switch(FEAT_TRAINS, SELF, seibu2000_attach_vehid, vehicle_type_id) {
   mu_car: return string(STR_ATTACH_1067_ERROR);
   mu_car_metro: return string(STR_ATTACH_1067_ERROR);
   return CB_RESULT_ATTACH_ALLOW;
  }

item(FEAT_TRAINS, seibu2000,2116) {
 property {
  cargo_capacity: 130;
  ai_special_flag: AI_FLAG_PASSENGER;
  sprite_id: SPRITE_ID_NEW_TRAIN;
  misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
  refittable_cargo_classes: bitmask(CC_PASSENGERS);
  non_refittable_cargo_classes: bitmask();
  refit_cost: 0;
  dual_headed: 0;
  ai_engine_rank: 0;
  running_cost_base: RUNNING_COST_ELECTRIC;
  engine_class: ENGINE_CLASS_ELECTRIC;
  visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
  tractive_effort_coefficient: 0.3;
  air_drag_coefficient: 0.07;
  bitmask_vehicle_info: 0;

  climates_available: param_disable_seibu == 0 ? ALL_CLIMATES : NO_CLIMATE;
  name: string(STR_TRAIN_NAME, string(STR_NAME_SEIBU), string(STR_CONCAT_2_DASH,"2000", string(STR_NAME_NEW, "2000")), string(STR_NAME_SERIES));
  introduction_date: date(1977, 1, 1);
  model_life: VEHICLE_NEVER_EXPIRES;
  vehicle_life: 35;
  reliability_decay: 10;

  cost_factor: 20;
  running_cost_factor: 48;
  speed: 110 km/h;
  track_type: TR_1067_DC;
  power: 400 kW;
  weight: 40 ton;
  loading_speed: param_loading_2D;
 }
 graphics {
  purchase: seibu2000_purchase;
  default: sw_seibu2000_lv;

  power: sw_seibu2000_power_main;
  loading_speed: param_loading_4D;
  cargo_capacity: sw_seibu2000_capacity()*param_capacity_mod/3;
  can_attach_wagon: seibu2000_attach_vehid;
  cargo_subtype_text:sw_seibu2000_lv_desc;
  additional_text:
  string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_4, 2,4,6,8)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string( STR_OPERATOR, string(STR_SEIBU)));
    }
    livery_override(mu_car_narrow){
   loading_speed: param_loading_4D;
   cargo_capacity: sw_seibu2000_capacity()*param_capacity_mod/3;
   default: sw_seibu2000_lv;
   power: sw_seibu2000_power_main;
   weight: 40;
  }
}
# 78 "src/_private.pnml" 2
# 1 "src/private/Kanto/seibu/seibu3000.pnml" 1

  spriteset(seibu3000_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu3000/seibu3000_1.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(seibu3000_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu3000/seibu3000_1_sk.png"){ tmpl_purchase_2c(0, 50) }
  switch(FEAT_TRAINS, SELF, seibu3000_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_seibu; 1: seibu3000_purchase_c1; 2: seibu3000_purchase_c2;}

 spriteset(seibu3000_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu3000/seibu3000_1.png"){ tmpl_std(0, 0) }
 spriteset(seibu3000_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu3000/seibu3000_1.png"){ tmpl_std_rev(0, 25) }
 spriteset(seibu3000_1_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu3000/seibu3000_1.png"){ tmpl_std(0, 25) }
 spriteset(seibu3000_1_front_sk, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu3000/seibu3000_1_sk.png"){ tmpl_std(0, 0) }
 spriteset(seibu3000_1_end_sk, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu3000/seibu3000_1_sk.png"){ tmpl_std_rev(0, 25) }
 spriteset(seibu3000_1_end_sk_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu3000/seibu3000_1_sk.png"){ tmpl_std(0, 25) }
 spriteset(seibu3000_1_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu3000/seibu3000_1_sk.png"){ tmpl_symm(0, 50) }
 spriteset(seibu3000_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu3000/seibu3000_1_sk.png"){ tmpl_symm(0, 75) }


 spriteset(seibu3000_2_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu3000/seibu3000_2.png"){ tmpl_std(0, 0) }
 spriteset(seibu3000_2_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu3000/seibu3000_2.png"){ tmpl_std_rev(0, 25) }
 spriteset(seibu3000_2_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu3000/seibu3000_2.png"){ tmpl_std(0, 25) }
 spriteset(seibu3000_2_front_sk, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu3000/seibu3000_2_sk.png"){ tmpl_std(0, 0) }
 spriteset(seibu3000_2_end_sk, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu3000/seibu3000_2_sk.png"){ tmpl_std_rev(0, 25) }
 spriteset(seibu3000_2_end_sk_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu3000/seibu3000_2_sk.png"){ tmpl_std(0, 25) }
 spriteset(seibu3000_2_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu3000/seibu3000_2_sk.png"){ tmpl_symm(0, 50) }
 spriteset(seibu3000_2_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu3000/seibu3000_2_sk.png"){ tmpl_symm(0, 75) }


 spriteset(seibu3000_3_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu3000/seibu3000_3.png"){ tmpl_std(0, 0) }
 spriteset(seibu3000_3_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu3000/seibu3000_3.png"){ tmpl_std_rev(0, 25) }
 spriteset(seibu3000_3_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu3000/seibu3000_3.png"){ tmpl_std(0, 25) }
 spriteset(seibu3000_3_front_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu3000/seibu3000_3.png"){ tmpl_std(0, 50) }
 spriteset(seibu3000_3_end_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu3000/seibu3000_3.png"){ tmpl_std_rev(0, 75) }
 spriteset(seibu3000_3_end_1_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu3000/seibu3000_3.png"){ tmpl_std(0, 75) }
 spriteset(seibu3000_3_mot_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu3000/seibu3000_3.png"){ tmpl_std(0, 100) }
 spriteset(seibu3000_3_mot_1_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu3000/seibu3000_3.png"){ tmpl_std_rev(0, 100) }
 spriteset(seibu3000_3_mot_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu3000/seibu3000_3.png"){ tmpl_std(0, 125) }
 spriteset(seibu3000_3_mot_2_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu3000/seibu3000_3.png"){ tmpl_std_rev(0, 125) }
 spriteset(seibu3000_3_mot_3, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu3000/seibu3000_3.png"){ tmpl_std(0, 150) }
 spriteset(seibu3000_3_mot_3_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu3000/seibu3000_3.png"){ tmpl_std_rev(0, 150) }
 spriteset(seibu3000_3_wag_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu3000/seibu3000_3.png"){ tmpl_std(0, 175) }
 spriteset(seibu3000_3_wag_1_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu3000/seibu3000_3.png"){ tmpl_std_rev(0, 175) }
 spriteset(seibu3000_3_wag_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu3000/seibu3000_3.png"){ tmpl_std(0, 200) }
 spriteset(seibu3000_3_wag_2_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu3000/seibu3000_3.png"){ tmpl_std_rev(0, 200) }
 spriteset(seibu3000_3_wag_3, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu3000/seibu3000_3.png"){ tmpl_std(0, 225) }
 spriteset(seibu3000_3_wag_3_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu3000/seibu3000_3.png"){ tmpl_std_rev(0, 225) }


 spriteset(seibu3000_4_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu3000/seibu3000_4.png"){ tmpl_std(0, 0) }
 spriteset(seibu3000_4_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu3000/seibu3000_4.png"){ tmpl_std_rev(0, 25) }
 spriteset(seibu3000_4_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu3000/seibu3000_4.png"){ tmpl_std(0, 25) }
 spriteset(seibu3000_4_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu3000/seibu3000_4.png"){ tmpl_symm(0, 50) }
 spriteset(seibu3000_4_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu3000/seibu3000_4.png"){ tmpl_symm(0, 75) }



  switch(FEAT_TRAINS, PARENT, seibu3000_1_front_gfx, current_year>2005){
   1:seibu3000_1_front_sk;
   seibu3000_1_front;
  }
  switch(FEAT_TRAINS, PARENT, seibu3000_1_end_gfx, current_year>2005){
   1:seibu3000_1_end_sk;
   seibu3000_1_end;
  }
  switch(FEAT_TRAINS, PARENT, seibu3000_1_end_rev_gfx, current_year>2005){
   1:seibu3000_1_end_sk_rev;
   seibu3000_1_end_rev;
  }


   switch(FEAT_TRAINS, SELF, sw_seibu3000_1_panto_placer_1,position_in_vehid_chain %2){
    0: seibu3000_1_mot;
    seibu3000_1_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu3000_1_panto_placer_1_rev,position_in_vehid_chain_from_end %2 -1){
    0: seibu3000_1_mot;
    seibu3000_1_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu3000_1_panto_placer_main_1,vehicle_is_reversed){
    1: sw_seibu3000_1_panto_placer_1_rev;
    sw_seibu3000_1_panto_placer_1;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu3000_1_panto_placer_2,position_in_vehid_chain %3){
    1: seibu3000_1_mot;
    seibu3000_1_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu3000_1_panto_placer_2_rev,position_in_vehid_chain_from_end %3 -1){
    1: seibu3000_1_mot;
    seibu3000_1_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu3000_1_panto_placer_main_2,vehicle_is_reversed){
    1: sw_seibu3000_1_panto_placer_2_rev;
    sw_seibu3000_1_panto_placer_2;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu3000_1_panto_placer_main,num_vehs_in_vehid_chain+1){
    5:sw_seibu3000_1_panto_placer_main_2;
    sw_seibu3000_1_panto_placer_main_1;
   }

    switch(FEAT_TRAINS, SELF, sw_seibu3000_1_fake_placer,position_in_vehid_chain +1){
   5: seibu3000_1_end_gfx;
   6: seibu3000_1_end_rev_gfx;
    sw_seibu3000_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu3000_1_fake_placer_rev,position_in_vehid_chain_from_end ){
   5: seibu3000_1_end_rev_gfx;
   6: seibu3000_1_end_gfx;
    sw_seibu3000_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu3000_1_fake_placer_gfx,vehicle_is_reversed){
   1: sw_seibu3000_1_fake_placer_rev;
   sw_seibu3000_1_fake_placer;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu3000_1_fake_placer_main,num_vehs_in_vehid_chain>9 - 1){
   1: sw_seibu3000_1_fake_placer_gfx;
     sw_seibu3000_1_panto_placer_main;
    }


    switch(FEAT_TRAINS, SELF, sw_seibu3000_1_end_gfx_main,position_in_vehid_chain_from_end){
   0: seibu3000_1_end_gfx;
   default: sw_seibu3000_1_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu3000_1_front_gfx_main,position_in_vehid_chain_from_end){
   0: seibu3000_1_front_gfx;
   default: sw_seibu3000_1_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu3000_livery_1,vehicle_type_id){
   mu_car_narrow:sw_seibu3000_1_end_gfx_main;
   sw_seibu3000_1_front_gfx_main;
    }



  switch(FEAT_TRAINS, PARENT, seibu3000_2_front_gfx, current_year>2005){
   1:seibu3000_2_front_sk;
   seibu3000_2_front;
  }
  switch(FEAT_TRAINS, PARENT, seibu3000_2_end_gfx, current_year>2005){
   1:seibu3000_2_end_sk;
   seibu3000_2_end;
  }
  switch(FEAT_TRAINS, PARENT, seibu3000_2_end_rev_gfx, current_year>2005){
   1:seibu3000_2_end_sk_rev;
   seibu3000_2_end_rev;
  }


   switch(FEAT_TRAINS, SELF, sw_seibu3000_2_panto_placer_1,position_in_vehid_chain %2){
    0: seibu3000_2_mot;
    seibu3000_2_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu3000_2_panto_placer_1_rev,position_in_vehid_chain_from_end %2 -1){
    0: seibu3000_2_mot;
    seibu3000_2_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu3000_2_panto_placer_main_1,vehicle_is_reversed){
    1: sw_seibu3000_2_panto_placer_1_rev;
    sw_seibu3000_2_panto_placer_1;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu3000_2_panto_placer_2,position_in_vehid_chain %3){
    1: seibu3000_2_mot;
    seibu3000_2_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu3000_2_panto_placer_2_rev,position_in_vehid_chain_from_end %3 -1){
    1: seibu3000_2_mot;
    seibu3000_2_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu3000_2_panto_placer_main_2,vehicle_is_reversed){
    1: sw_seibu3000_2_panto_placer_2_rev;
    sw_seibu3000_2_panto_placer_2;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu3000_2_panto_placer_main,num_vehs_in_vehid_chain+1){
    5:sw_seibu3000_2_panto_placer_main_2;
    sw_seibu3000_2_panto_placer_main_1;
   }

    switch(FEAT_TRAINS, SELF, sw_seibu3000_2_fake_placer,position_in_vehid_chain +1){
   5: seibu3000_2_end_gfx;
   6: seibu3000_2_end_rev_gfx;
    sw_seibu3000_2_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu3000_2_fake_placer_rev,position_in_vehid_chain_from_end ){
   5: seibu3000_2_end_rev_gfx;
   6: seibu3000_2_end_gfx;
    sw_seibu3000_2_panto_placer_main;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu3000_2_fake_placer_gfx,vehicle_is_reversed){
   1: sw_seibu3000_2_fake_placer_rev;
   sw_seibu3000_2_fake_placer;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu3000_2_fake_placer_main,num_vehs_in_vehid_chain>9 - 1){
   1: sw_seibu3000_2_fake_placer_gfx;
     sw_seibu3000_2_panto_placer_main;
    }


    switch(FEAT_TRAINS, SELF, sw_seibu3000_2_end_gfx_main,position_in_vehid_chain_from_end){
   0: seibu3000_2_end_gfx;
   default: sw_seibu3000_2_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu3000_2_front_gfx_main,position_in_vehid_chain_from_end){
   0: seibu3000_2_front_gfx;
   default: sw_seibu3000_2_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu3000_livery_2,vehicle_type_id){
   mu_car_narrow:sw_seibu3000_2_end_gfx_main;
   sw_seibu3000_2_front_gfx_main;
    }



  switch(FEAT_TRAINS, PARENT, seibu3000_3_front_gfx, vehicle_is_reversed){
   1:seibu3000_3_front_1;
   seibu3000_3_front;
  }
  switch(FEAT_TRAINS, PARENT, seibu3000_3_end_gfx, vehicle_is_reversed){
   1:seibu3000_3_end;
   seibu3000_3_end_1;
  }
  switch(FEAT_TRAINS, PARENT, seibu3000_3_end_rev_gfx, vehicle_is_reversed){
   1:seibu3000_3_end_1_rev;
   seibu3000_3_end_rev;
  }

   switch(FEAT_TRAINS, PARENT, seibu3000_3_mot_1_gfx, vehicle_is_reversed){
    1:seibu3000_3_mot_1;
    seibu3000_3_mot_1_rev;
   }
   switch(FEAT_TRAINS, PARENT, seibu3000_3_mot_2_gfx, vehicle_is_reversed){
    1:seibu3000_3_mot_2;
    seibu3000_3_mot_2_rev;
   }
   switch(FEAT_TRAINS, PARENT, seibu3000_3_mot_3_gfx, vehicle_is_reversed){
    1:seibu3000_3_mot_3;
    seibu3000_3_mot_3_rev;
   }

   switch(FEAT_TRAINS, PARENT, seibu3000_3_wag_1_gfx, vehicle_is_reversed){
    1:seibu3000_3_wag_1;
    seibu3000_3_wag_1_rev;
   }
   switch(FEAT_TRAINS, PARENT, seibu3000_3_wag_2_gfx, vehicle_is_reversed){
    1:seibu3000_3_wag_2;
    seibu3000_3_wag_2_rev;
   }
   switch(FEAT_TRAINS, PARENT, seibu3000_3_wag_3_gfx, vehicle_is_reversed){
    1:seibu3000_3_wag_3;
    seibu3000_3_wag_3_rev;
   }


   switch(FEAT_TRAINS, SELF, sw_seibu3000_3_panto_placer_1,position_in_vehid_chain %6){
    0: seibu3000_3_mot_1_gfx;
    1: seibu3000_3_wag_1_gfx;
    2: seibu3000_3_mot_3_gfx;
    3: seibu3000_3_wag_2_gfx;
    4: seibu3000_3_mot_2_gfx;
    seibu3000_3_wag_3_gfx;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu3000_3_panto_placer_1_rev,position_in_vehid_chain_from_end %6 -1){
    0: seibu3000_3_mot_1_gfx;
    1: seibu3000_3_wag_1_gfx;
    2: seibu3000_3_mot_3_gfx;
    3: seibu3000_3_wag_2_gfx;
    4: seibu3000_3_mot_2_gfx;
    seibu3000_3_wag_3_gfx;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu3000_3_panto_placer_main,vehicle_is_reversed){
    1: sw_seibu3000_3_panto_placer_1_rev;
    sw_seibu3000_3_panto_placer_1;
   }


    switch(FEAT_TRAINS, SELF, sw_seibu3000_3_fake_placer,position_in_vehid_chain +1){
   5: seibu3000_3_end_gfx;
   6: seibu3000_3_end_rev_gfx;
    sw_seibu3000_3_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu3000_3_fake_placer_rev,position_in_vehid_chain_from_end ){
   5: seibu3000_3_end_rev_gfx;
   6: seibu3000_3_end_gfx;
    sw_seibu3000_3_panto_placer_main;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu3000_3_fake_placer_gfx,vehicle_is_reversed){
   1: sw_seibu3000_3_fake_placer_rev;
   sw_seibu3000_3_fake_placer;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu3000_3_fake_placer_main,num_vehs_in_vehid_chain>9 - 1){
   1: sw_seibu3000_3_fake_placer_gfx;
     sw_seibu3000_3_panto_placer_main;
    }


    switch(FEAT_TRAINS, SELF, sw_seibu3000_3_end_gfx_main,position_in_vehid_chain_from_end){
   0: seibu3000_3_end_gfx;
   default: sw_seibu3000_3_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu3000_3_front_gfx_main,position_in_vehid_chain_from_end){
   0: seibu3000_3_front_gfx;
   default: sw_seibu3000_3_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu3000_livery_3,vehicle_type_id){
   mu_car_narrow:sw_seibu3000_3_end_gfx_main;
   sw_seibu3000_3_front_gfx_main;
    }




   switch(FEAT_TRAINS, SELF, sw_seibu3000_4_panto_placer_1,position_in_vehid_chain %2){
    0: seibu3000_4_mot;
    seibu3000_4_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu3000_4_panto_placer_1_rev,position_in_vehid_chain_from_end %2 -1){
    0: seibu3000_4_mot;
    seibu3000_4_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu3000_4_panto_placer_main_1,vehicle_is_reversed){
    1: sw_seibu3000_4_panto_placer_1_rev;
    sw_seibu3000_4_panto_placer_1;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu3000_4_panto_placer_2,position_in_vehid_chain %3){
    1: seibu3000_4_mot;
    seibu3000_4_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu3000_4_panto_placer_2_rev,position_in_vehid_chain_from_end %3 -1){
    1: seibu3000_4_mot;
    seibu3000_4_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu3000_4_panto_placer_main_2,vehicle_is_reversed){
    1: sw_seibu3000_4_panto_placer_2_rev;
    sw_seibu3000_4_panto_placer_2;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu3000_4_panto_placer_main,num_vehs_in_vehid_chain+1){
    5:sw_seibu3000_4_panto_placer_main_2;
    sw_seibu3000_4_panto_placer_main_1;
   }

    switch(FEAT_TRAINS, SELF, sw_seibu3000_4_fake_placer,position_in_vehid_chain +1){
   5: seibu3000_4_end;
   6: seibu3000_4_end_rev;
    sw_seibu3000_4_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu3000_4_fake_placer_rev,position_in_vehid_chain_from_end ){
   5: seibu3000_4_end_rev;
   6: seibu3000_4_end;
    sw_seibu3000_4_panto_placer_main;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu3000_4_fake_placer_gfx,vehicle_is_reversed){
   1: sw_seibu3000_4_fake_placer_rev;
   sw_seibu3000_4_fake_placer;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu3000_4_fake_placer_main,num_vehs_in_vehid_chain>9 - 1){
   1: sw_seibu3000_4_fake_placer_gfx;
     sw_seibu3000_4_panto_placer_main;
    }


    switch(FEAT_TRAINS, SELF, sw_seibu3000_4_end_gfx_main,position_in_vehid_chain_from_end){
   0: seibu3000_4_end;
   default: sw_seibu3000_4_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu3000_4_front_gfx_main,position_in_vehid_chain_from_end){
   0: seibu3000_4_front;
   default: sw_seibu3000_4_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu3000_livery_4,vehicle_type_id){
   mu_car_narrow:sw_seibu3000_4_end_gfx_main;
   sw_seibu3000_4_front_gfx_main;
    }





    switch(FEAT_TRAINS, SELF, sw_seibu3000_livery_1_2, current_year){
      0..1996:sw_seibu3000_livery_1;
      sw_seibu3000_livery_2;
    }

    random_switch(FEAT_TRAINS, PARENT, sw_seibu3000_livery_0_1){
      3:sw_seibu3000_livery_1_2;
      1:sw_seibu3000_livery_3;
    }

  random_switch(FEAT_TRAINS, PARENT, sw_seibu3000_livery_0_2){
      3:sw_seibu3000_livery_1_2;
      1:sw_seibu3000_livery_3;
      1:sw_seibu3000_livery_4;
    }

  switch(FEAT_TRAINS, SELF, sw_seibu3000_livery_0, current_year){
      0..2008:sw_seibu3000_livery_1_2;
      2009..2015:sw_seibu3000_livery_0_1;
   sw_seibu3000_livery_0_2;
    }

    switch(FEAT_TRAINS, PARENT, sw_seibu3000_lv, cargo_subtype){
      0:sw_seibu3000_livery_0;
      1:sw_seibu3000_livery_1;
      2:sw_seibu3000_livery_2;
      3:sw_seibu3000_livery_3;
      4:sw_seibu3000_livery_4;
  }

    switch(FEAT_TRAINS, SELF, sw_seibu3000_lv_desc, cargo_subtype){
      0:string(LV_RANDOM);
      1:string(LV_seibu3000_1);
   2:string(LV_seibu3000_2);
   3:string(LV_seibu3000_3);
   4:string(LV_seibu3000_4);
    }


  switch(FEAT_TRAINS, SELF, sw_seibu3000_capacity_wag,position_in_vehid_chain_from_end){
   0: 136;
   default: 144;
  }
  switch(FEAT_TRAINS, SELF, sw_seibu3000_capacity_head,position_in_vehid_chain){
   0: 136;
   default: sw_seibu3000_capacity_wag;
  }
  switch(FEAT_TRAINS, SELF, sw_seibu3000_capacity,vehicle_type_id){
   mu_car_narrow:sw_seibu3000_capacity_wag;
   sw_seibu3000_capacity_head;
  }

  switch(FEAT_TRAINS, SELF, sw_seibu3000_power,position_in_vehid_chain_from_end%7){
     0:return 0;
     return 130;
  }
  switch(FEAT_TRAINS, SELF, sw_seibu3000_head_power,num_vehs_in_consist){
   39: return 130;
   return 0;
  }
  switch(FEAT_TRAINS, SELF, sw_seibu3000_power_main,vehicle_type_id){
   mu_car_narrow:sw_seibu3000_power()*4*1342/1000;
   sw_seibu3000_head_power()*4*1342/1000;
  }

  switch(FEAT_TRAINS, SELF, seibu3000_attach_vehid, vehicle_type_id) {
   mu_car: return string(STR_ATTACH_1067_ERROR);
   mu_car_metro: return string(STR_ATTACH_1067_ERROR);
   return CB_RESULT_ATTACH_ALLOW;
  }

item(FEAT_TRAINS, seibu3000,2117) {
 property {
  cargo_capacity: 130;
  ai_special_flag: AI_FLAG_PASSENGER;
  sprite_id: SPRITE_ID_NEW_TRAIN;
  misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
  refittable_cargo_classes: bitmask(CC_PASSENGERS);
  non_refittable_cargo_classes: bitmask();
  refit_cost: 0;
  dual_headed: 0;
  ai_engine_rank: 0;
  running_cost_base: RUNNING_COST_ELECTRIC;
  engine_class: ENGINE_CLASS_ELECTRIC;
  visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
  tractive_effort_coefficient: 0.3;
  air_drag_coefficient: 0.07;
  bitmask_vehicle_info: 0;

  climates_available: param_disable_seibu == 0 ? ALL_CLIMATES : NO_CLIMATE;
  name: string(STR_TRAIN_NAME, string(STR_NAME_SEIBU), "3000", string(STR_NAME_SERIES));
  introduction_date: date(1983, 1, 1);
  model_life: VEHICLE_NEVER_EXPIRES;
  vehicle_life: 35;
  reliability_decay: 10;

  cost_factor: 19;
  running_cost_factor: 49;
  speed: 110 km/h;
  track_type: TR_1067_DC;
  power: 400 kW;
  weight: 38 ton;
  loading_speed: param_loading_2D;
 }
 graphics {
  purchase: seibu3000_purchase;
  default: sw_seibu3000_lv;

  power: sw_seibu3000_power_main;
  loading_speed: param_loading_3D;
  cargo_capacity: sw_seibu3000_capacity()*param_capacity_mod/3;
  can_attach_wagon: seibu3000_attach_vehid;
  cargo_subtype_text:sw_seibu3000_lv_desc;
  additional_text:
  string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_2, 6,8)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string( STR_OPERATOR, string(STR_SEIBU)));
    }
    livery_override(mu_car_narrow){
   loading_speed: param_loading_3D;
   cargo_capacity: sw_seibu3000_capacity()*param_capacity_mod/3;
   default: sw_seibu3000_lv;
   power: sw_seibu3000_power_main;
   weight: 36;
  }
}
# 79 "src/_private.pnml" 2
# 1 "src/private/Kanto/seibu/seibu4000.pnml" 1

  spriteset(seibu4000_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu4000/seibu4000_1.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(seibu4000_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu4000/seibu4000_1.png"){ tmpl_purchase_2c(0, 50) }
  switch(FEAT_TRAINS, SELF, seibu4000_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_seibu; 1: seibu4000_purchase_c1; 2: seibu4000_purchase_c2;}

 spriteset(seibu4000_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu4000/seibu4000_1.png"){ tmpl_std(0, 0) }
 spriteset(seibu4000_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu4000/seibu4000_1.png"){ tmpl_std_rev(0, 25) }
 spriteset(seibu4000_1_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu4000/seibu4000_1.png"){ tmpl_symm(0, 50) }
 spriteset(seibu4000_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu4000/seibu4000_1.png"){ tmpl_symm(0, 75) }
 spriteset(seibu4000_1_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu4000/seibu4000_1.png"){ tmpl_std(0, 100) }
 spriteset(seibu4000_1_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu4000/seibu4000_1.png"){ tmpl_std_rev(0, 100) }


 spriteset(seibu4000_3_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu4000/seibu4000_3.png"){ tmpl_std(0, 0) }
 spriteset(seibu4000_3_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu4000/seibu4000_3.png"){ tmpl_std_rev(0, 25) }
 spriteset(seibu4000_3_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu4000/seibu4000_3.png"){ tmpl_std(0, 50) }
 spriteset(seibu4000_3_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu4000/seibu4000_3.png"){ tmpl_std_rev(0, 50) }
 spriteset(seibu4000_3_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu4000/seibu4000_3.png"){ tmpl_symm(0, 75) }
 spriteset(seibu4000_3_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu4000/seibu4000_3.png"){ tmpl_std(0, 100) }
 spriteset(seibu4000_3_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu4000/seibu4000_3.png"){ tmpl_std_rev(0, 100) }




   switch(FEAT_TRAINS, SELF, sw_seibu4000_1_panto_placer_1,position_in_vehid_chain %2){
    0: seibu4000_1_mot;
    seibu4000_1_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu4000_1_panto_placer_1_rev,position_in_vehid_chain_from_end %2 -1){
    0: seibu4000_1_mot;
    seibu4000_1_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu4000_1_panto_placer_main_1,vehicle_is_reversed){
    1: sw_seibu4000_1_panto_placer_1_rev;
    sw_seibu4000_1_panto_placer_1;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu4000_1_panto_placer_2,position_in_vehid_chain %3){
    1: seibu4000_1_mot;
    seibu4000_1_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu4000_1_panto_placer_2_rev,position_in_vehid_chain_from_end %3 -1){
    1: seibu4000_1_mot;
    seibu4000_1_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu4000_1_panto_placer_main_2,vehicle_is_reversed){
    1: sw_seibu4000_1_panto_placer_2_rev;
    sw_seibu4000_1_panto_placer_2;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu4000_1_panto_placer_main,num_vehs_in_vehid_chain+1){
    5:sw_seibu4000_1_panto_placer_main_2;
    sw_seibu4000_1_panto_placer_main_1;
   }

    switch(FEAT_TRAINS, SELF, sw_seibu4000_1_fake_placer,position_in_vehid_chain +1){
   3: seibu4000_1_end_f;
   4: seibu4000_1_front_f;
    sw_seibu4000_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu4000_1_fake_placer_rev,position_in_vehid_chain_from_end ){
   3: seibu4000_1_front_f;
   4: seibu4000_1_end_f;
    sw_seibu4000_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu4000_1_fake_placer_gfx,vehicle_is_reversed){
   1: sw_seibu4000_1_fake_placer_rev;
   sw_seibu4000_1_fake_placer;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu4000_1_fake_placer_main,num_vehs_in_vehid_chain>6 - 1){
   1: sw_seibu4000_1_fake_placer_gfx;
     sw_seibu4000_1_panto_placer_main;
    }


    switch(FEAT_TRAINS, SELF, sw_seibu4000_1_end_gfx_main,position_in_vehid_chain_from_end){
   0: seibu4000_1_end;
   default: sw_seibu4000_1_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu4000_1_front_gfx_main,position_in_vehid_chain_from_end){
   0: seibu4000_1_front;
   default: sw_seibu4000_1_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu4000_lv,vehicle_type_id){
   mu_car_narrow:sw_seibu4000_1_end_gfx_main;
   sw_seibu4000_1_front_gfx_main;
    }




  switch(FEAT_TRAINS, SELF, sw_seibu4000_capacity_wag,position_in_vehid_chain_from_end){
   0: 127;
   default: 138;
  }
  switch(FEAT_TRAINS, SELF, sw_seibu4000_capacity_head,position_in_vehid_chain){
   0: 119;
   default: sw_seibu4000_capacity_wag;
  }
  switch(FEAT_TRAINS, SELF, sw_seibu4000_capacity,vehicle_type_id){
   mu_car_narrow:sw_seibu4000_capacity_wag;
   sw_seibu4000_capacity_head;
  }

  switch(FEAT_TRAINS, SELF, sw_seibu4000_power,position_in_vehid_chain_from_end%4){
     1..2:return 150;
     return 0;
  }
  switch(FEAT_TRAINS, SELF, sw_seibu4000_head_power,num_vehs_in_consist){
   39: return 150;
   return 0;
  }
  switch(FEAT_TRAINS, SELF, sw_seibu4000_power_main,vehicle_type_id){
   mu_car_narrow:sw_seibu4000_power()*4*1342/1000;
   sw_seibu4000_head_power()*4*1342/1000;
  }

  switch(FEAT_TRAINS, SELF, seibu4000_attach_vehid, vehicle_type_id) {
   mu_car: return string(STR_ATTACH_1067_ERROR);
   mu_car_metro: return string(STR_ATTACH_1067_ERROR);
   return CB_RESULT_ATTACH_ALLOW;
  }

item(FEAT_TRAINS, seibu4000,2118) {
 property {
  cargo_capacity: 130;
  ai_special_flag: AI_FLAG_PASSENGER;
  sprite_id: SPRITE_ID_NEW_TRAIN;
  misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
  refittable_cargo_classes: bitmask(CC_PASSENGERS);
  non_refittable_cargo_classes: bitmask();
  refit_cost: 0;
  dual_headed: 0;
  ai_engine_rank: 0;
  running_cost_base: RUNNING_COST_ELECTRIC;
  engine_class: ENGINE_CLASS_ELECTRIC;
  visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
  tractive_effort_coefficient: 0.3;
  air_drag_coefficient: 0.07;
  bitmask_vehicle_info: 0;

  climates_available: param_disable_seibu == 0 ? ALL_CLIMATES : NO_CLIMATE;
  name: string(STR_TRAIN_NAME, string(STR_NAME_SEIBU), "4000", string(STR_NAME_SERIES));
  introduction_date: date(1988, 1, 1);
  model_life: VEHICLE_NEVER_EXPIRES;
  vehicle_life: 35;
  reliability_decay: 10;

  cost_factor: 19;
  running_cost_factor: 48;
  speed: 110 km/h;
  track_type: TR_1067_DC;
  power: 400 kW;
  weight: 35 ton;
  loading_speed: param_loading_2D;
 }
 graphics {
  purchase: seibu4000_purchase;
  default: sw_seibu4000_lv;

  power: sw_seibu4000_power_main;
  loading_speed: param_loading_2D;
  cargo_capacity: sw_seibu4000_capacity()*param_capacity_mod/3;
  can_attach_wagon: seibu4000_attach_vehid;

  additional_text:
  string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 2)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 4)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string( STR_OPERATOR, string(STR_SEIBU)));
    }
    livery_override(mu_car_narrow){
   loading_speed: param_loading_2D;
   cargo_capacity: sw_seibu4000_capacity()*param_capacity_mod/3;
   default: sw_seibu4000_lv;
   power: sw_seibu4000_power_main;
   weight: 35;
  }
}
# 80 "src/_private.pnml" 2
# 1 "src/private/Kanto/seibu/seibu6000.pnml" 1

  spriteset(seibu6000_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu6000/seibu6000_1.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(seibu6000_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu6000/seibu6000_1.png"){ tmpl_purchase_2c(0, 50) }
  switch(FEAT_TRAINS, SELF, seibu6000_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_seibu; 1: seibu6000_purchase_c1; 2: seibu6000_purchase_c2;}

 spriteset(seibu6000_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu6000/seibu6000_1.png"){ tmpl_std(0, 0) }
 spriteset(seibu6000_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu6000/seibu6000_1.png"){ tmpl_std_rev(0, 25) }
 spriteset(seibu6000_1_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu6000/seibu6000_1.png"){ tmpl_std(0, 50) }
 spriteset(seibu6000_1_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu6000/seibu6000_1.png"){ tmpl_std_rev(0, 50) }
 spriteset(seibu6000_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu6000/seibu6000_1.png"){ tmpl_symm(0, 75) }
 spriteset(seibu6000_1_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu6000/seibu6000_1.png"){ tmpl_std(0, 100) }
 spriteset(seibu6000_1_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu6000/seibu6000_1.png"){ tmpl_std_rev(0, 100) }


 spriteset(seibu6000_2_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu6000/seibu6000_2.png"){ tmpl_std(0, 0) }
 spriteset(seibu6000_2_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu6000/seibu6000_2.png"){ tmpl_std_rev(0, 25) }
 spriteset(seibu6000_2_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu6000/seibu6000_2.png"){ tmpl_std(0, 50) }
 spriteset(seibu6000_2_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu6000/seibu6000_2.png"){ tmpl_std_rev(0, 50) }
 spriteset(seibu6000_2_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu6000/seibu6000_2.png"){ tmpl_symm(0, 75) }
 spriteset(seibu6000_2_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu6000/seibu6000_2.png"){ tmpl_std(0, 100) }
 spriteset(seibu6000_2_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu6000/seibu6000_2.png"){ tmpl_std_rev(0, 100) }


 spriteset(seibu6000_3_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu6000/seibu6000_3.png"){ tmpl_std(0, 0) }
 spriteset(seibu6000_3_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu6000/seibu6000_3.png"){ tmpl_std_rev(0, 25) }
 spriteset(seibu6000_3_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu6000/seibu6000_3.png"){ tmpl_std(0, 50) }
 spriteset(seibu6000_3_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu6000/seibu6000_3.png"){ tmpl_std_rev(0, 50) }
 spriteset(seibu6000_3_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu6000/seibu6000_3.png"){ tmpl_symm(0, 75) }
 spriteset(seibu6000_3_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu6000/seibu6000_3.png"){ tmpl_std(0, 100) }
 spriteset(seibu6000_3_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu6000/seibu6000_3.png"){ tmpl_std_rev(0, 100) }




   switch(FEAT_TRAINS, SELF, sw_seibu6000_1_panto_placer_1,position_in_vehid_chain %3){
    0: seibu6000_1_mot_rev;
    seibu6000_1_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu6000_1_panto_placer_1_rev,position_in_vehid_chain_from_end %3 -1){
    0: seibu6000_1_mot;
    seibu6000_1_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu6000_1_panto_placer_main_1,vehicle_is_reversed){
    1: sw_seibu6000_1_panto_placer_1_rev;
    sw_seibu6000_1_panto_placer_1;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu6000_1_panto_placer_2,position_in_vehid_chain %4){
    0: seibu6000_1_mot_rev;
    seibu6000_1_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu6000_1_panto_placer_2_rev,position_in_vehid_chain_from_end %4 -1){
    0: seibu6000_1_mot;
    seibu6000_1_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu6000_1_panto_placer_main_2,vehicle_is_reversed){
    1: sw_seibu6000_1_panto_placer_2_rev;
    sw_seibu6000_1_panto_placer_2;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu6000_1_panto_placer_3,position_in_vehid_chain %4){
    1: seibu6000_1_mot_rev;
    seibu6000_1_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu6000_1_panto_placer_3_rev,position_in_vehid_chain_from_end %4 -1){
    1: seibu6000_1_mot;
    seibu6000_1_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu6000_1_panto_placer_main_3,vehicle_is_reversed){
    1: sw_seibu6000_1_panto_placer_3_rev;
    sw_seibu6000_1_panto_placer_3;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu6000_1_panto_placer_main,num_vehs_in_vehid_chain+1){
    5:sw_seibu6000_1_panto_placer_main_3;
    8:sw_seibu6000_1_panto_placer_main_2;
    11:sw_seibu6000_1_panto_placer_main_2;
    sw_seibu6000_1_panto_placer_main_1;
   }

    switch(FEAT_TRAINS, SELF, sw_seibu6000_1_fake_placer,position_in_vehid_chain +1){
   5: seibu6000_1_end_f;
   6: seibu6000_1_front_f;
    sw_seibu6000_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu6000_1_fake_placer_rev,position_in_vehid_chain_from_end ){
   5: seibu6000_1_front_f;
   6: seibu6000_1_end_f;
    sw_seibu6000_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu6000_1_fake_placer_gfx,vehicle_is_reversed){
   1: sw_seibu6000_1_fake_placer_rev;
   sw_seibu6000_1_fake_placer;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu6000_1_fake_placer_main,num_vehs_in_vehid_chain>11 - 1){
   1: sw_seibu6000_1_fake_placer_gfx;
     sw_seibu6000_1_panto_placer_main;
    }


    switch(FEAT_TRAINS, SELF, sw_seibu6000_1_end_gfx_main,position_in_vehid_chain_from_end){
   0: seibu6000_1_end;
   default: sw_seibu6000_1_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu6000_1_front_gfx_main,position_in_vehid_chain_from_end){
   0: seibu6000_1_front;
   default: sw_seibu6000_1_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu6000_livery_1,vehicle_type_id){
   mu_car_narrow:sw_seibu6000_1_end_gfx_main;
   sw_seibu6000_1_front_gfx_main;
    }



   switch(FEAT_TRAINS, SELF, sw_seibu6000_2_panto_placer_1,position_in_vehid_chain %3){
    0: seibu6000_2_mot_rev;
    seibu6000_2_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu6000_2_panto_placer_1_rev,position_in_vehid_chain_from_end %3 -1){
    0: seibu6000_2_mot;
    seibu6000_2_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu6000_2_panto_placer_main_1,vehicle_is_reversed){
    1: sw_seibu6000_2_panto_placer_1_rev;
    sw_seibu6000_2_panto_placer_1;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu6000_2_panto_placer_2,position_in_vehid_chain %4){
    0: seibu6000_2_mot_rev;
    seibu6000_2_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu6000_2_panto_placer_2_rev,position_in_vehid_chain_from_end %4 -1){
    0: seibu6000_2_mot;
    seibu6000_2_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu6000_2_panto_placer_main_2,vehicle_is_reversed){
    1: sw_seibu6000_2_panto_placer_2_rev;
    sw_seibu6000_2_panto_placer_2;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu6000_2_panto_placer_3,position_in_vehid_chain %4){
    1: seibu6000_2_mot_rev;
    seibu6000_2_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu6000_2_panto_placer_3_rev,position_in_vehid_chain_from_end %4 -1){
    1: seibu6000_2_mot;
    seibu6000_2_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu6000_2_panto_placer_main_3,vehicle_is_reversed){
    1: sw_seibu6000_2_panto_placer_3_rev;
    sw_seibu6000_2_panto_placer_3;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu6000_2_panto_placer_main,num_vehs_in_vehid_chain+1){
    5:sw_seibu6000_2_panto_placer_main_3;
    8:sw_seibu6000_2_panto_placer_main_2;
    11:sw_seibu6000_2_panto_placer_main_2;
    sw_seibu6000_2_panto_placer_main_1;
   }

    switch(FEAT_TRAINS, SELF, sw_seibu6000_2_fake_placer,position_in_vehid_chain +1){
   5: seibu6000_2_end_f;
   6: seibu6000_2_front_f;
    sw_seibu6000_2_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu6000_2_fake_placer_rev,position_in_vehid_chain_from_end ){
   5: seibu6000_2_front_f;
   6: seibu6000_2_end_f;
    sw_seibu6000_2_panto_placer_main;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu6000_2_fake_placer_gfx,vehicle_is_reversed){
   1: sw_seibu6000_2_fake_placer_rev;
   sw_seibu6000_2_fake_placer;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu6000_2_fake_placer_main,num_vehs_in_vehid_chain>11 - 1){
   1: sw_seibu6000_2_fake_placer_gfx;
     sw_seibu6000_2_panto_placer_main;
    }


    switch(FEAT_TRAINS, SELF, sw_seibu6000_2_end_gfx_main,position_in_vehid_chain_from_end){
   0: seibu6000_2_end;
   default: sw_seibu6000_2_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu6000_2_front_gfx_main,position_in_vehid_chain_from_end){
   0: seibu6000_2_front;
   default: sw_seibu6000_2_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu6000_livery_2,vehicle_type_id){
   mu_car_narrow:sw_seibu6000_2_end_gfx_main;
   sw_seibu6000_2_front_gfx_main;
    }



   switch(FEAT_TRAINS, SELF, sw_seibu6000_3_panto_placer_1,position_in_vehid_chain %3){
    0: seibu6000_3_mot_rev;
    seibu6000_3_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu6000_3_panto_placer_1_rev,position_in_vehid_chain_from_end %3 -1){
    0: seibu6000_3_mot;
    seibu6000_3_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu6000_3_panto_placer_main_1,vehicle_is_reversed){
    1: sw_seibu6000_3_panto_placer_1_rev;
    sw_seibu6000_3_panto_placer_1;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu6000_3_panto_placer_2,position_in_vehid_chain %4){
    0: seibu6000_3_mot_rev;
    seibu6000_3_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu6000_3_panto_placer_2_rev,position_in_vehid_chain_from_end %4 -1){
    0: seibu6000_3_mot;
    seibu6000_3_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu6000_3_panto_placer_main_2,vehicle_is_reversed){
    1: sw_seibu6000_3_panto_placer_2_rev;
    sw_seibu6000_3_panto_placer_2;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu6000_3_panto_placer_3,position_in_vehid_chain %4){
    1: seibu6000_3_mot_rev;
    seibu6000_3_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu6000_3_panto_placer_3_rev,position_in_vehid_chain_from_end %4 -1){
    1: seibu6000_3_mot;
    seibu6000_3_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu6000_3_panto_placer_main_3,vehicle_is_reversed){
    1: sw_seibu6000_3_panto_placer_3_rev;
    sw_seibu6000_3_panto_placer_3;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu6000_3_panto_placer_main,num_vehs_in_vehid_chain+1){
    5:sw_seibu6000_3_panto_placer_main_3;
    8:sw_seibu6000_3_panto_placer_main_2;
    11:sw_seibu6000_3_panto_placer_main_2;
    sw_seibu6000_3_panto_placer_main_1;
   }

    switch(FEAT_TRAINS, SELF, sw_seibu6000_3_fake_placer,position_in_vehid_chain +1){
   5: seibu6000_3_end_f;
   6: seibu6000_3_front_f;
    sw_seibu6000_3_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu6000_3_fake_placer_rev,position_in_vehid_chain_from_end ){
   5: seibu6000_3_front_f;
   6: seibu6000_3_end_f;
    sw_seibu6000_3_panto_placer_main;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu6000_3_fake_placer_gfx,vehicle_is_reversed){
   1: sw_seibu6000_3_fake_placer_rev;
   sw_seibu6000_3_fake_placer;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu6000_3_fake_placer_main,num_vehs_in_vehid_chain>11 - 1){
   1: sw_seibu6000_3_fake_placer_gfx;
     sw_seibu6000_3_panto_placer_main;
    }


    switch(FEAT_TRAINS, SELF, sw_seibu6000_3_end_gfx_main,position_in_vehid_chain_from_end){
   0: seibu6000_3_end;
   default: sw_seibu6000_3_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu6000_3_front_gfx_main,position_in_vehid_chain_from_end){
   0: seibu6000_3_front;
   default: sw_seibu6000_3_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu6000_livery_3,vehicle_type_id){
   mu_car_narrow:sw_seibu6000_3_end_gfx_main;
   sw_seibu6000_3_front_gfx_main;
    }







    switch(FEAT_TRAINS, SELF, sw_seibu6000_livery_1_2, build_year){
      0..2005:sw_seibu6000_livery_1;
      sw_seibu6000_livery_2;
    }

    random_switch(FEAT_TRAINS, PARENT, sw_seibu6000_livery_0){
      3:sw_seibu6000_livery_1_2;
      1:sw_seibu6000_livery_3;
    }

    switch(FEAT_TRAINS, PARENT, sw_seibu6000_lv, cargo_subtype){
      0:sw_seibu6000_livery_0;
      1:sw_seibu6000_livery_1;
      2:sw_seibu6000_livery_2;
      3:sw_seibu6000_livery_3;
  }

    switch(FEAT_TRAINS, SELF, sw_seibu6000_lv_desc, cargo_subtype){
      0:string(LV_RANDOM);
      1:string(LV_STEEL);
   2:string(LV_ALUMI);
   3:string(LV_seibu6000_3);
    }


  switch(FEAT_TRAINS, SELF, sw_seibu6000_capacity_wag,position_in_vehid_chain_from_end){
   0: 135;
   default: 145;
  }
  switch(FEAT_TRAINS, SELF, sw_seibu6000_capacity_head,position_in_vehid_chain){
   0: 135;
   default: sw_seibu6000_capacity_wag;
  }
  switch(FEAT_TRAINS, SELF, sw_seibu6000_capacity,vehicle_type_id){
   mu_car_narrow:sw_seibu6000_capacity_wag;
   sw_seibu6000_capacity_head;
  }

  switch(FEAT_TRAINS, SELF, sw_seibu6000_power,position_in_vehid_chain_from_end%10){
     1..2:return 155;
     4..5:return 155;
   7..8:return 155;
     return 0;
  }
  switch(FEAT_TRAINS, SELF, sw_seibu6000_head_power,num_vehs_in_consist){
   39: return 155;
   return 0;
  }
  switch(FEAT_TRAINS, SELF, sw_seibu6000_power_main,vehicle_type_id){
   mu_car_narrow:sw_seibu6000_power()*4*1342/1000;
   sw_seibu6000_head_power()*4*1342/1000;
  }

  switch(FEAT_TRAINS, SELF, seibu6000_attach_vehid, vehicle_type_id) {
   mu_car: return string(STR_ATTACH_1067_ERROR);
   mu_car_metro: return string(STR_ATTACH_1067_ERROR);
   return CB_RESULT_ATTACH_ALLOW;
  }

item(FEAT_TRAINS, seibu6000,2119) {
 property {
  cargo_capacity: 130;
  ai_special_flag: AI_FLAG_PASSENGER;
  sprite_id: SPRITE_ID_NEW_TRAIN;
  misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
  refittable_cargo_classes: bitmask(CC_PASSENGERS);
  non_refittable_cargo_classes: bitmask();
  refit_cost: 0;
  dual_headed: 0;
  ai_engine_rank: 0;
  running_cost_base: RUNNING_COST_ELECTRIC;
  engine_class: ENGINE_CLASS_ELECTRIC;
  visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
  tractive_effort_coefficient: 0.3;
  air_drag_coefficient: 0.07;
  bitmask_vehicle_info: 0;

  climates_available: param_disable_seibu == 0 ? ALL_CLIMATES : NO_CLIMATE;
  name: string(STR_TRAIN_NAME, string(STR_NAME_SEIBU), "6000", string(STR_NAME_SERIES));
  introduction_date: date(1992, 1, 1);
  model_life: VEHICLE_NEVER_EXPIRES;
  vehicle_life: 35;
  reliability_decay: 10;

  cost_factor: 21;
  running_cost_factor: 49;
  speed: 120 km/h;
  track_type: TR_1067_DC;
  power: 400 kW;
  weight: 33 ton;
  loading_speed: param_loading_2D;
 }
 graphics {
  purchase: seibu6000_purchase;
  default: sw_seibu6000_lv;

  power: sw_seibu6000_power_main;
  loading_speed: param_loading_4D;
  cargo_capacity: sw_seibu6000_capacity()*param_capacity_mod/3;
  can_attach_wagon: seibu6000_attach_vehid;
  cargo_subtype_text:sw_seibu6000_lv_desc;
  additional_text:
  string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 10)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string( STR_OPERATOR, string(STR_SEIBU)));
    }
    livery_override(mu_car_narrow){
   loading_speed: param_loading_4D;
   cargo_capacity: sw_seibu6000_capacity()*param_capacity_mod/3;
   default: sw_seibu6000_lv;
   power: sw_seibu6000_power_main;
   weight: 32;
  }
}
# 81 "src/_private.pnml" 2
# 1 "src/private/Kanto/seibu/seibu9000.pnml" 1

  spriteset(seibu9000_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu9000/seibu9000_1.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(seibu9000_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu9000/seibu9000_1.png"){ tmpl_purchase_2c(0, 50) }
  switch(FEAT_TRAINS, SELF, seibu9000_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_seibu; 1: seibu9000_purchase_c1; 2: seibu9000_purchase_c2;}

 spriteset(seibu9000_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu9000/seibu9000_1.png"){ tmpl_std(0, 0) }
 spriteset(seibu9000_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu9000/seibu9000_1.png"){ tmpl_std_rev(0, 25) }
 spriteset(seibu9000_1_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu9000/seibu9000_1.png"){ tmpl_std(0, 25) }
 spriteset(seibu9000_1_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu9000/seibu9000_1.png"){ tmpl_std(0, 50) }
 spriteset(seibu9000_1_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu9000/seibu9000_1.png"){ tmpl_std_rev(0, 50) }
 spriteset(seibu9000_1_mot_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu9000/seibu9000_1.png"){ tmpl_symm(0, 75) }
 spriteset(seibu9000_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu9000/seibu9000_1.png"){ tmpl_symm(0, 100) }


 spriteset(seibu9000_2_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu9000/seibu9000_2.png"){ tmpl_std(0, 0) }
 spriteset(seibu9000_2_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu9000/seibu9000_2.png"){ tmpl_std_rev(0, 25) }
 spriteset(seibu9000_2_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu9000/seibu9000_2.png"){ tmpl_std(0, 25) }
 spriteset(seibu9000_2_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu9000/seibu9000_2.png"){ tmpl_std(0, 50) }
 spriteset(seibu9000_2_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu9000/seibu9000_2.png"){ tmpl_std_rev(0, 50) }
 spriteset(seibu9000_2_mot_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu9000/seibu9000_2.png"){ tmpl_symm(0, 75) }
 spriteset(seibu9000_2_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu9000/seibu9000_2.png"){ tmpl_symm(0, 100) }


 spriteset(seibu9000_3_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu9000/seibu9000_3.png"){ tmpl_std(0, 0) }
 spriteset(seibu9000_3_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu9000/seibu9000_3.png"){ tmpl_std_rev(0, 25) }
 spriteset(seibu9000_3_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu9000/seibu9000_3.png"){ tmpl_std(0, 25) }
 spriteset(seibu9000_3_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu9000/seibu9000_3.png"){ tmpl_std(0, 50) }
 spriteset(seibu9000_3_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu9000/seibu9000_3.png"){ tmpl_std_rev(0, 50) }
 spriteset(seibu9000_3_mot_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu9000/seibu9000_3.png"){ tmpl_symm(0, 75) }
 spriteset(seibu9000_3_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu9000/seibu9000_3.png"){ tmpl_symm(0, 100) }


 spriteset(seibu9000_4_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu9000/seibu9000_4.png"){ tmpl_std(0, 0) }
 spriteset(seibu9000_4_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu9000/seibu9000_4.png"){ tmpl_std_rev(0, 25) }
 spriteset(seibu9000_4_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu9000/seibu9000_4.png"){ tmpl_std(0, 25) }
 spriteset(seibu9000_4_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu9000/seibu9000_4.png"){ tmpl_std(0, 50) }
 spriteset(seibu9000_4_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu9000/seibu9000_4.png"){ tmpl_std_rev(0, 50) }
 spriteset(seibu9000_4_mot_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu9000/seibu9000_4.png"){ tmpl_symm(0, 75) }
 spriteset(seibu9000_4_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu9000/seibu9000_4.png"){ tmpl_symm(0, 100) }


 spriteset(seibu9000_7_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu9000/seibu9000_7.png"){ tmpl_std(0, 0) }
 spriteset(seibu9000_7_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu9000/seibu9000_7.png"){ tmpl_std_rev(0, 25) }
 spriteset(seibu9000_7_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu9000/seibu9000_7.png"){ tmpl_std(0, 25) }
 spriteset(seibu9000_7_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu9000/seibu9000_7.png"){ tmpl_std(0, 50) }
 spriteset(seibu9000_7_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu9000/seibu9000_7.png"){ tmpl_std_rev(0, 50) }
 spriteset(seibu9000_7_mot_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu9000/seibu9000_7.png"){ tmpl_symm(0, 75) }
 spriteset(seibu9000_7_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu9000/seibu9000_7.png"){ tmpl_symm(0, 100) }





   switch(FEAT_TRAINS, SELF, sw_seibu9000_1_panto_placer_1,position_in_vehid_chain %3){
    0: seibu9000_1_mot_rev;
    seibu9000_1_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu9000_1_panto_placer_1_rev,position_in_vehid_chain_from_end %3 -1){
    0: seibu9000_1_mot;
    seibu9000_1_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu9000_1_panto_placer_main_1,vehicle_is_reversed){
    1: sw_seibu9000_1_panto_placer_1_rev;
    sw_seibu9000_1_panto_placer_1;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu9000_1_panto_placer_2,position_in_vehid_chain %4){
    0: seibu9000_1_mot_rev;
    seibu9000_1_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu9000_1_panto_placer_2_rev,position_in_vehid_chain_from_end %4 -1){
    0: seibu9000_1_mot;
    seibu9000_1_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu9000_1_panto_placer_main_2,vehicle_is_reversed){
    1: sw_seibu9000_1_panto_placer_2_rev;
    sw_seibu9000_1_panto_placer_2;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu9000_1_panto_placer_3,position_in_vehid_chain %4){
    1: seibu9000_1_mot_2;
    seibu9000_1_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu9000_1_panto_placer_3_rev,position_in_vehid_chain_from_end %4 -1){
    1: seibu9000_1_mot_2;
    seibu9000_1_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu9000_1_panto_placer_main_3,vehicle_is_reversed){
    1: sw_seibu9000_1_panto_placer_3_rev;
    sw_seibu9000_1_panto_placer_3;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu9000_1_panto_placer_main,num_vehs_in_vehid_chain+1){
    4..5:sw_seibu9000_1_panto_placer_main_3;
    8:sw_seibu9000_1_panto_placer_main_2;
    sw_seibu9000_1_panto_placer_main_1;
   }

    switch(FEAT_TRAINS, SELF, sw_seibu9000_1_fake_placer,position_in_vehid_chain +1){
   5: seibu9000_1_end;
   6: seibu9000_1_end_rev;
    sw_seibu9000_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu9000_1_fake_placer_rev,position_in_vehid_chain_from_end ){
   5: seibu9000_1_end_rev;
   6: seibu9000_1_end;
    sw_seibu9000_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu9000_1_fake_placer_gfx,vehicle_is_reversed){
   1: sw_seibu9000_1_fake_placer_rev;
   sw_seibu9000_1_fake_placer;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu9000_1_fake_placer_main,num_vehs_in_vehid_chain>10 - 1){
   1: sw_seibu9000_1_fake_placer_gfx;
     sw_seibu9000_1_panto_placer_main;
    }


    switch(FEAT_TRAINS, SELF, sw_seibu9000_1_end_gfx_main,position_in_vehid_chain_from_end){
   0: seibu9000_1_end;
   default: sw_seibu9000_1_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu9000_1_front_gfx_main,position_in_vehid_chain_from_end){
   0: seibu9000_1_front;
   default: sw_seibu9000_1_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu9000_livery_1,vehicle_type_id){
   mu_car_narrow:sw_seibu9000_1_end_gfx_main;
   sw_seibu9000_1_front_gfx_main;
    }



   switch(FEAT_TRAINS, SELF, sw_seibu9000_2_panto_placer_1,position_in_vehid_chain %3){
    0: seibu9000_2_mot_rev;
    seibu9000_2_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu9000_2_panto_placer_1_rev,position_in_vehid_chain_from_end %3 -1){
    0: seibu9000_2_mot;
    seibu9000_2_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu9000_2_panto_placer_main_1,vehicle_is_reversed){
    1: sw_seibu9000_2_panto_placer_1_rev;
    sw_seibu9000_2_panto_placer_1;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu9000_2_panto_placer_2,position_in_vehid_chain %4){
    0: seibu9000_2_mot_rev;
    seibu9000_2_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu9000_2_panto_placer_2_rev,position_in_vehid_chain_from_end %4 -1){
    0: seibu9000_2_mot;
    seibu9000_2_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu9000_2_panto_placer_main_2,vehicle_is_reversed){
    1: sw_seibu9000_2_panto_placer_2_rev;
    sw_seibu9000_2_panto_placer_2;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu9000_2_panto_placer_3,position_in_vehid_chain %4){
    1: seibu9000_2_mot_2;
    seibu9000_2_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu9000_2_panto_placer_3_rev,position_in_vehid_chain_from_end %4 -1){
    1: seibu9000_2_mot_2;
    seibu9000_2_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu9000_2_panto_placer_main_3,vehicle_is_reversed){
    1: sw_seibu9000_2_panto_placer_3_rev;
    sw_seibu9000_2_panto_placer_3;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu9000_2_panto_placer_main,num_vehs_in_vehid_chain+1){
    4..5:sw_seibu9000_2_panto_placer_main_3;
    8:sw_seibu9000_2_panto_placer_main_2;
    sw_seibu9000_2_panto_placer_main_1;
   }

    switch(FEAT_TRAINS, SELF, sw_seibu9000_2_fake_placer,position_in_vehid_chain +1){
   5: seibu9000_2_end;
   6: seibu9000_2_end_rev;
    sw_seibu9000_2_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu9000_2_fake_placer_rev,position_in_vehid_chain_from_end ){
   5: seibu9000_2_end_rev;
   6: seibu9000_2_end;
    sw_seibu9000_2_panto_placer_main;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu9000_2_fake_placer_gfx,vehicle_is_reversed){
   1: sw_seibu9000_2_fake_placer_rev;
   sw_seibu9000_2_fake_placer;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu9000_2_fake_placer_main,num_vehs_in_vehid_chain>10 - 1){
   1: sw_seibu9000_2_fake_placer_gfx;
     sw_seibu9000_2_panto_placer_main;
    }


    switch(FEAT_TRAINS, SELF, sw_seibu9000_2_end_gfx_main,position_in_vehid_chain_from_end){
   0: seibu9000_2_end;
   default: sw_seibu9000_2_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu9000_2_front_gfx_main,position_in_vehid_chain_from_end){
   0: seibu9000_2_front;
   default: sw_seibu9000_2_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu9000_livery_2,vehicle_type_id){
   mu_car_narrow:sw_seibu9000_2_end_gfx_main;
   sw_seibu9000_2_front_gfx_main;
    }



   switch(FEAT_TRAINS, SELF, sw_seibu9000_3_panto_placer_1,position_in_vehid_chain %3){
    0: seibu9000_3_mot_rev;
    seibu9000_3_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu9000_3_panto_placer_1_rev,position_in_vehid_chain_from_end %3 -1){
    0: seibu9000_3_mot;
    seibu9000_3_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu9000_3_panto_placer_main_1,vehicle_is_reversed){
    1: sw_seibu9000_3_panto_placer_1_rev;
    sw_seibu9000_3_panto_placer_1;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu9000_3_panto_placer_2,position_in_vehid_chain %4){
    0: seibu9000_3_mot_rev;
    seibu9000_3_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu9000_3_panto_placer_2_rev,position_in_vehid_chain_from_end %4 -1){
    0: seibu9000_3_mot;
    seibu9000_3_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu9000_3_panto_placer_main_2,vehicle_is_reversed){
    1: sw_seibu9000_3_panto_placer_2_rev;
    sw_seibu9000_3_panto_placer_2;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu9000_3_panto_placer_3,position_in_vehid_chain %4){
    1: seibu9000_3_mot_2;
    seibu9000_3_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu9000_3_panto_placer_3_rev,position_in_vehid_chain_from_end %4 -1){
    1: seibu9000_3_mot_2;
    seibu9000_3_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu9000_3_panto_placer_main_3,vehicle_is_reversed){
    1: sw_seibu9000_3_panto_placer_3_rev;
    sw_seibu9000_3_panto_placer_3;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu9000_3_panto_placer_main,num_vehs_in_vehid_chain+1){
    4..5:sw_seibu9000_3_panto_placer_main_3;
    8:sw_seibu9000_3_panto_placer_main_2;
    sw_seibu9000_3_panto_placer_main_1;
   }

    switch(FEAT_TRAINS, SELF, sw_seibu9000_3_fake_placer,position_in_vehid_chain +1){
   5: seibu9000_3_end;
   6: seibu9000_3_end_rev;
    sw_seibu9000_3_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu9000_3_fake_placer_rev,position_in_vehid_chain_from_end ){
   5: seibu9000_3_end_rev;
   6: seibu9000_3_end;
    sw_seibu9000_3_panto_placer_main;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu9000_3_fake_placer_gfx,vehicle_is_reversed){
   1: sw_seibu9000_3_fake_placer_rev;
   sw_seibu9000_3_fake_placer;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu9000_3_fake_placer_main,num_vehs_in_vehid_chain>10 - 1){
   1: sw_seibu9000_3_fake_placer_gfx;
     sw_seibu9000_3_panto_placer_main;
    }


    switch(FEAT_TRAINS, SELF, sw_seibu9000_3_end_gfx_main,position_in_vehid_chain_from_end){
   0: seibu9000_3_end;
   default: sw_seibu9000_3_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu9000_3_front_gfx_main,position_in_vehid_chain_from_end){
   0: seibu9000_3_front;
   default: sw_seibu9000_3_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu9000_livery_3,vehicle_type_id){
   mu_car_narrow:sw_seibu9000_3_end_gfx_main;
   sw_seibu9000_3_front_gfx_main;
    }



   switch(FEAT_TRAINS, SELF, sw_seibu9000_4_panto_placer_1,position_in_vehid_chain %3){
    0: seibu9000_4_mot_rev;
    seibu9000_4_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu9000_4_panto_placer_1_rev,position_in_vehid_chain_from_end %3 -1){
    0: seibu9000_4_mot;
    seibu9000_4_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu9000_4_panto_placer_main_1,vehicle_is_reversed){
    1: sw_seibu9000_4_panto_placer_1_rev;
    sw_seibu9000_4_panto_placer_1;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu9000_4_panto_placer_2,position_in_vehid_chain %4){
    0: seibu9000_4_mot_rev;
    seibu9000_4_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu9000_4_panto_placer_2_rev,position_in_vehid_chain_from_end %4 -1){
    0: seibu9000_4_mot;
    seibu9000_4_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu9000_4_panto_placer_main_2,vehicle_is_reversed){
    1: sw_seibu9000_4_panto_placer_2_rev;
    sw_seibu9000_4_panto_placer_2;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu9000_4_panto_placer_3,position_in_vehid_chain %4){
    1: seibu9000_4_mot_2;
    seibu9000_4_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu9000_4_panto_placer_3_rev,position_in_vehid_chain_from_end %4 -1){
    1: seibu9000_4_mot_2;
    seibu9000_4_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu9000_4_panto_placer_main_3,vehicle_is_reversed){
    1: sw_seibu9000_4_panto_placer_3_rev;
    sw_seibu9000_4_panto_placer_3;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu9000_4_panto_placer_main,num_vehs_in_vehid_chain+1){
    4..5:sw_seibu9000_4_panto_placer_main_3;
    8:sw_seibu9000_4_panto_placer_main_2;
    sw_seibu9000_4_panto_placer_main_1;
   }

    switch(FEAT_TRAINS, SELF, sw_seibu9000_4_fake_placer,position_in_vehid_chain +1){
   5: seibu9000_4_end;
   6: seibu9000_4_end_rev;
    sw_seibu9000_4_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu9000_4_fake_placer_rev,position_in_vehid_chain_from_end ){
   5: seibu9000_4_end_rev;
   6: seibu9000_4_end;
    sw_seibu9000_4_panto_placer_main;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu9000_4_fake_placer_gfx,vehicle_is_reversed){
   1: sw_seibu9000_4_fake_placer_rev;
   sw_seibu9000_4_fake_placer;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu9000_4_fake_placer_main,num_vehs_in_vehid_chain>10 - 1){
   1: sw_seibu9000_4_fake_placer_gfx;
     sw_seibu9000_4_panto_placer_main;
    }


    switch(FEAT_TRAINS, SELF, sw_seibu9000_4_end_gfx_main,position_in_vehid_chain_from_end){
   0: seibu9000_4_end;
   default: sw_seibu9000_4_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu9000_4_front_gfx_main,position_in_vehid_chain_from_end){
   0: seibu9000_4_front;
   default: sw_seibu9000_4_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu9000_livery_4,vehicle_type_id){
   mu_car_narrow:sw_seibu9000_4_end_gfx_main;
   sw_seibu9000_4_front_gfx_main;
    }



   switch(FEAT_TRAINS, SELF, sw_seibu9000_7_panto_placer_1,position_in_vehid_chain %3){
    0: seibu9000_7_mot_rev;
    seibu9000_7_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu9000_7_panto_placer_1_rev,position_in_vehid_chain_from_end %3 -1){
    0: seibu9000_7_mot;
    seibu9000_7_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu9000_7_panto_placer_main_1,vehicle_is_reversed){
    1: sw_seibu9000_7_panto_placer_1_rev;
    sw_seibu9000_7_panto_placer_1;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu9000_7_panto_placer_2,position_in_vehid_chain %4){
    0: seibu9000_7_mot_rev;
    seibu9000_7_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu9000_7_panto_placer_2_rev,position_in_vehid_chain_from_end %4 -1){
    0: seibu9000_7_mot;
    seibu9000_7_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu9000_7_panto_placer_main_2,vehicle_is_reversed){
    1: sw_seibu9000_7_panto_placer_2_rev;
    sw_seibu9000_7_panto_placer_2;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu9000_7_panto_placer_3,position_in_vehid_chain %4){
    1: seibu9000_7_mot_2;
    seibu9000_7_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu9000_7_panto_placer_3_rev,position_in_vehid_chain_from_end %4 -1){
    1: seibu9000_7_mot_2;
    seibu9000_7_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu9000_7_panto_placer_main_3,vehicle_is_reversed){
    1: sw_seibu9000_7_panto_placer_3_rev;
    sw_seibu9000_7_panto_placer_3;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu9000_7_panto_placer_main,num_vehs_in_vehid_chain+1){
    4..5:sw_seibu9000_7_panto_placer_main_3;
    8:sw_seibu9000_7_panto_placer_main_2;
    sw_seibu9000_7_panto_placer_main_1;
   }

    switch(FEAT_TRAINS, SELF, sw_seibu9000_7_fake_placer,position_in_vehid_chain +1){
   5: seibu9000_7_end;
   6: seibu9000_7_end_rev;
    sw_seibu9000_7_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu9000_7_fake_placer_rev,position_in_vehid_chain_from_end ){
   5: seibu9000_7_end_rev;
   6: seibu9000_7_end;
    sw_seibu9000_7_panto_placer_main;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu9000_7_fake_placer_gfx,vehicle_is_reversed){
   1: sw_seibu9000_7_fake_placer_rev;
   sw_seibu9000_7_fake_placer;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu9000_7_fake_placer_main,num_vehs_in_vehid_chain>10 - 1){
   1: sw_seibu9000_7_fake_placer_gfx;
     sw_seibu9000_7_panto_placer_main;
    }


    switch(FEAT_TRAINS, SELF, sw_seibu9000_7_end_gfx_main,position_in_vehid_chain_from_end){
   0: seibu9000_7_end;
   default: sw_seibu9000_7_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu9000_7_front_gfx_main,position_in_vehid_chain_from_end){
   0: seibu9000_7_front;
   default: sw_seibu9000_7_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu9000_livery_7,vehicle_type_id){
   mu_car_narrow:sw_seibu9000_7_end_gfx_main;
   sw_seibu9000_7_front_gfx_main;
    }






    random_switch(FEAT_TRAINS, PARENT, sw_seibu9000_livery_0_1){
      3:sw_seibu9000_livery_1;
      1:sw_seibu9000_livery_2;
    }

    random_switch(FEAT_TRAINS, PARENT, sw_seibu9000_livery_0_2){
      3:sw_seibu9000_livery_1;
      1:sw_seibu9000_livery_2;
      1:sw_seibu9000_livery_4;
      1:sw_seibu9000_livery_7;
    }

  switch(FEAT_TRAINS, SELF, sw_seibu9000_livery_0, current_year){
      0..2013:sw_seibu9000_livery_0_1;
      sw_seibu9000_livery_0_2;
  }

    switch(FEAT_TRAINS, PARENT, sw_seibu9000_lv, cargo_subtype){
      0:sw_seibu9000_livery_0;
      1:sw_seibu9000_livery_1;
      2:sw_seibu9000_livery_2;
      3:sw_seibu9000_livery_3;
      4:sw_seibu9000_livery_4;
      7:sw_seibu9000_livery_7;
  }

    switch(FEAT_TRAINS, SELF, sw_seibu9000_lv_desc, cargo_subtype){
      0:string(LV_RANDOM);
      1:string(LV_DEFAULT);
   2:string(LV_seibu9000_2);
   3:string(LV_seibu9000_3);
   4..6:string(LV_seibu9000_4);
   7:string(LV_seibu9000_7);
    }



  switch(FEAT_TRAINS, SELF, sw_seibu9000_capacity_wag,position_in_vehid_chain_from_end){
   0: 137;
   default: 147;
  }
  switch(FEAT_TRAINS, SELF, sw_seibu9000_capacity_head,position_in_vehid_chain){
   0: 137;
   default: sw_seibu9000_capacity_wag;
  }
  switch(FEAT_TRAINS, SELF, sw_seibu9000_capacity,vehicle_type_id){
   mu_car_narrow:sw_seibu9000_capacity_wag;
   sw_seibu9000_capacity_head;
  }

  switch(FEAT_TRAINS, SELF, sw_seibu9000_power,position_in_vehid_chain_from_end%10){
     1..2:return 135;
     4..5:return 135;
   7..8:return 135;
     return 0;
  }
  switch(FEAT_TRAINS, SELF, sw_seibu9000_head_power,num_vehs_in_consist){
   39: return 135;
   return 0;
  }
  switch(FEAT_TRAINS, SELF, sw_seibu9000_power_main,vehicle_type_id){
   mu_car_narrow:sw_seibu9000_power()*4*1342/1000;
   sw_seibu9000_head_power()*4*1342/1000;
  }

  switch(FEAT_TRAINS, SELF, seibu9000_attach_vehid, vehicle_type_id) {
   mu_car: return string(STR_ATTACH_1067_ERROR);
   mu_car_metro: return string(STR_ATTACH_1067_ERROR);
   return CB_RESULT_ATTACH_ALLOW;
  }

item(FEAT_TRAINS, seibu9000,2120) {
 property {
  cargo_capacity: 130;
  ai_special_flag: AI_FLAG_PASSENGER;
  sprite_id: SPRITE_ID_NEW_TRAIN;
  misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
  refittable_cargo_classes: bitmask(CC_PASSENGERS);
  non_refittable_cargo_classes: bitmask();
  refit_cost: 0;
  dual_headed: 0;
  ai_engine_rank: 0;
  running_cost_base: RUNNING_COST_ELECTRIC;
  engine_class: ENGINE_CLASS_ELECTRIC;
  visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
  tractive_effort_coefficient: 0.3;
  air_drag_coefficient: 0.07;
  bitmask_vehicle_info: 0;

  climates_available: param_disable_seibu == 0 ? ALL_CLIMATES : NO_CLIMATE;
  name: string(STR_TRAIN_NAME, string(STR_NAME_SEIBU), "9000", string(STR_NAME_SERIES));
  introduction_date: date(1993, 1, 1);
  model_life: VEHICLE_NEVER_EXPIRES;
  vehicle_life: 35;
  reliability_decay: 10;

  cost_factor: 20;
  running_cost_factor: 49;
  speed: 120 km/h;
  track_type: TR_1067_DC;
  power: 400 kW;
  weight: 35 ton;
  loading_speed: param_loading_2D;
 }
 graphics {
  purchase: seibu9000_purchase;
  default: sw_seibu9000_lv;

  power: sw_seibu9000_power_main;
  loading_speed: param_loading_4D;
  cargo_capacity: sw_seibu9000_capacity()*param_capacity_mod/3;
  can_attach_wagon: seibu9000_attach_vehid;
  cargo_subtype_text:sw_seibu9000_lv_desc;
  additional_text:
  string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_2, 4,10)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string( STR_OPERATOR, string(STR_SEIBU)));
    }
    livery_override(mu_car_narrow){
   loading_speed: param_loading_4D;
   cargo_capacity: sw_seibu9000_capacity()*param_capacity_mod/3;
   default: sw_seibu9000_lv;
   power: sw_seibu9000_power_main;
   weight: 35;
  }
}
# 82 "src/_private.pnml" 2
# 1 "src/private/Kanto/seibu/seibu20000.pnml" 1

  spriteset(seibu20000_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu20000/seibu20000_1.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(seibu20000_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu20000/seibu20000_1.png"){ tmpl_purchase_2c(0, 100) }
  switch(FEAT_TRAINS, SELF, seibu20000_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_seibu; 1: seibu20000_purchase_c1; 2: seibu20000_purchase_c2;}

 spriteset(seibu20000_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu20000/seibu20000_1.png"){ tmpl_std(0, 0) }
 spriteset(seibu20000_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu20000/seibu20000_1.png"){ tmpl_std_rev(0, 25) }
 spriteset(seibu20000_1_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu20000/seibu20000_1.png"){ tmpl_std(0, 50) }
 spriteset(seibu20000_1_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu20000/seibu20000_1.png"){ tmpl_std_rev(0, 50) }
 spriteset(seibu20000_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu20000/seibu20000_1.png"){ tmpl_symm(0, 75) }
 spriteset(seibu20000_1_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu20000/seibu20000_1.png"){ tmpl_std(0, 100) }
 spriteset(seibu20000_1_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu20000/seibu20000_1.png"){ tmpl_std_rev(0, 100) }


 spriteset(seibu20000_2_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu20000/seibu20000_2.png"){ tmpl_std(0, 0) }
 spriteset(seibu20000_2_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu20000/seibu20000_2.png"){ tmpl_std_rev(0, 25) }
 spriteset(seibu20000_2_front_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu20000/seibu20000_2.png"){ tmpl_std(0, 50) }
 spriteset(seibu20000_2_end_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu20000/seibu20000_2.png"){ tmpl_std_rev(0, 75) }
 spriteset(seibu20000_2_mot_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu20000/seibu20000_2.png"){ tmpl_std(0, 100) }
 spriteset(seibu20000_2_mot_1_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu20000/seibu20000_2.png"){ tmpl_std_rev(0, 100) }
 spriteset(seibu20000_2_mot_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu20000/seibu20000_2.png"){ tmpl_std(0, 125) }
 spriteset(seibu20000_2_mot_2_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu20000/seibu20000_2.png"){ tmpl_std_rev(0, 125) }
 spriteset(seibu20000_2_wag_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu20000/seibu20000_2.png"){ tmpl_std(0, 150) }
 spriteset(seibu20000_2_wag_1_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu20000/seibu20000_2.png"){ tmpl_std_rev(0, 150) }
 spriteset(seibu20000_2_wag_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu20000/seibu20000_2.png"){ tmpl_std(0, 175) }
 spriteset(seibu20000_2_wag_2_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu20000/seibu20000_2.png"){ tmpl_std_rev(0, 175) }
 spriteset(seibu20000_2_wag_3, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu20000/seibu20000_2.png"){ tmpl_std(0, 200) }
 spriteset(seibu20000_2_wag_3_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu20000/seibu20000_2.png"){ tmpl_std_rev(0, 200) }
 spriteset(seibu20000_2_wag_4, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu20000/seibu20000_2.png"){ tmpl_std(0, 225) }
 spriteset(seibu20000_2_wag_4_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu20000/seibu20000_2.png"){ tmpl_std_rev(0, 225) }
 spriteset(seibu20000_2_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu20000/seibu20000_2.png"){ tmpl_std(0, 250) }
 spriteset(seibu20000_2_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu20000/seibu20000_2.png"){ tmpl_std_rev(0, 250) }
 spriteset(seibu20000_2_front_1_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu20000/seibu20000_2.png"){ tmpl_std(0, 275) }
 spriteset(seibu20000_2_end_1_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu20000/seibu20000_2.png"){ tmpl_std_rev(0, 275) }



 spriteset(seibu20000_3_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu20000/seibu20000_3.png"){ tmpl_std(0, 0) }
 spriteset(seibu20000_3_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu20000/seibu20000_3.png"){ tmpl_std_rev(0, 25) }
 spriteset(seibu20000_3_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu20000/seibu20000_3.png"){ tmpl_std(0, 50) }
 spriteset(seibu20000_3_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu20000/seibu20000_3.png"){ tmpl_std_rev(0, 50) }
 spriteset(seibu20000_3_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu20000/seibu20000_3.png"){ tmpl_symm(0, 75) }
 spriteset(seibu20000_3_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu20000/seibu20000_3.png"){ tmpl_std(0, 100) }
 spriteset(seibu20000_3_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu20000/seibu20000_3.png"){ tmpl_std_rev(0, 100) }





   switch(FEAT_TRAINS, SELF, sw_seibu20000_1_panto_placer_1,position_in_vehid_chain %3){
    0: seibu20000_1_mot_rev;
    seibu20000_1_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu20000_1_panto_placer_1_rev,position_in_vehid_chain_from_end %3 -1){
    0: seibu20000_1_mot;
    seibu20000_1_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu20000_1_panto_placer_main_1,vehicle_is_reversed){
    1: sw_seibu20000_1_panto_placer_1_rev;
    sw_seibu20000_1_panto_placer_1;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu20000_1_panto_placer_2,position_in_vehid_chain %4){
    0: seibu20000_1_mot_rev;
    seibu20000_1_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu20000_1_panto_placer_2_rev,position_in_vehid_chain_from_end %4 -1){
    0: seibu20000_1_mot;
    seibu20000_1_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu20000_1_panto_placer_main_2,vehicle_is_reversed){
    1: sw_seibu20000_1_panto_placer_2_rev;
    sw_seibu20000_1_panto_placer_2;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu20000_1_panto_placer_3,position_in_vehid_chain %4){
    1: seibu20000_1_mot_rev;
    seibu20000_1_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu20000_1_panto_placer_3_rev,position_in_vehid_chain_from_end %4 -1){
    1: seibu20000_1_mot;
    seibu20000_1_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu20000_1_panto_placer_main_3,vehicle_is_reversed){
    1: sw_seibu20000_1_panto_placer_3_rev;
    sw_seibu20000_1_panto_placer_3;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu20000_1_panto_placer_main,num_vehs_in_vehid_chain+1){
    5:sw_seibu20000_1_panto_placer_main_3;
    8:sw_seibu20000_1_panto_placer_main_2;
    11:sw_seibu20000_1_panto_placer_main_2;
    sw_seibu20000_1_panto_placer_main_1;
   }

    switch(FEAT_TRAINS, SELF, sw_seibu20000_1_fake_placer,position_in_vehid_chain +1){
   5: seibu20000_1_end_f;
   6: seibu20000_1_front_f;
    sw_seibu20000_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu20000_1_fake_placer_rev,position_in_vehid_chain_from_end ){
   5: seibu20000_1_front_f;
   6: seibu20000_1_end_f;
    sw_seibu20000_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu20000_1_fake_placer_gfx,vehicle_is_reversed){
   1: sw_seibu20000_1_fake_placer_rev;
   sw_seibu20000_1_fake_placer;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu20000_1_fake_placer_main,num_vehs_in_vehid_chain>11 - 1){
   1: sw_seibu20000_1_fake_placer_gfx;
     sw_seibu20000_1_panto_placer_main;
    }


    switch(FEAT_TRAINS, SELF, sw_seibu20000_1_end_gfx_main,position_in_vehid_chain_from_end){
   0: seibu20000_1_end;
   default: sw_seibu20000_1_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu20000_1_front_gfx_main,position_in_vehid_chain_from_end){
   0: seibu20000_1_front;
   default: sw_seibu20000_1_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu20000_livery_1,vehicle_type_id){
   mu_car_narrow:sw_seibu20000_1_end_gfx_main;
   sw_seibu20000_1_front_gfx_main;
    }




  switch(FEAT_TRAINS, PARENT, sw_seibu20000_2_front_gfx,vehicle_is_reversed){
    1: seibu20000_2_front_1;
    seibu20000_2_front;
  }
  switch(FEAT_TRAINS, PARENT, sw_seibu20000_2_front_f_gfx,vehicle_is_reversed){
    1: seibu20000_2_front_1_f;
    seibu20000_2_front_f;
  }

  switch(FEAT_TRAINS, PARENT, sw_seibu20000_2_end_gfx,vehicle_is_reversed){
    1: seibu20000_2_end;
    seibu20000_2_end_1;
  }
  switch(FEAT_TRAINS, PARENT, sw_seibu20000_2_end_f_gfx,vehicle_is_reversed){
    1: seibu20000_2_end_f;
    seibu20000_2_end_1_f;
  }


   switch(FEAT_TRAINS, SELF, sw_seibu20000_2_panto_placer_1,position_in_vehid_chain %6){
    0: seibu20000_2_mot_1_rev;
    1: seibu20000_2_wag_1_rev;
    2: seibu20000_2_wag_2_rev;
    3: seibu20000_2_mot_2_rev;
    4: seibu20000_2_wag_4_rev;
    seibu20000_2_wag_3_rev;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu20000_2_panto_placer_1_rev,position_in_vehid_chain_from_end %6 -1){
    0: seibu20000_2_mot_1;
    1: seibu20000_2_wag_1;
    2: seibu20000_2_wag_2;
    3: seibu20000_2_mot_2;
    4: seibu20000_2_wag_4;
    seibu20000_2_wag_3;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu20000_2_panto_placer_main_1,vehicle_is_reversed){
    1: sw_seibu20000_2_panto_placer_1_rev;
    sw_seibu20000_2_panto_placer_1;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu20000_2_panto_placer_2,position_in_vehid_chain %6){
    0: seibu20000_2_mot_1_rev;
    1: seibu20000_2_wag_1_rev;
    2: seibu20000_2_wag_2_rev;
    3: seibu20000_2_wag_3_rev;
    4: seibu20000_2_mot_2_rev;
    seibu20000_2_wag_4_rev;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu20000_2_panto_placer_2_rev,position_in_vehid_chain_from_end %6 -1){
    0: seibu20000_2_mot_1;
    1: seibu20000_2_wag_1;
    2: seibu20000_2_wag_2;
    3: seibu20000_2_wag_3;
    4: seibu20000_2_mot_2;
    seibu20000_2_wag_4;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu20000_2_panto_placer_main_2,vehicle_is_reversed){
    1: sw_seibu20000_2_panto_placer_2_rev;
    sw_seibu20000_2_panto_placer_2;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu20000_2_panto_placer_3,position_in_vehid_chain %4){
    0: seibu20000_2_wag_3_rev;
    1: seibu20000_2_mot_2_rev;
    seibu20000_2_wag_1_rev;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu20000_2_panto_placer_3_rev,position_in_vehid_chain_from_end %4 -1){
    0: seibu20000_2_wag_3;
    1: seibu20000_2_mot_2;
    seibu20000_2_wag_1;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu20000_2_panto_placer_main_3,vehicle_is_reversed){
    1: sw_seibu20000_2_panto_placer_3_rev;
    sw_seibu20000_2_panto_placer_3;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu20000_2_panto_placer_main,num_vehs_in_vehid_chain+1){
    5:sw_seibu20000_2_panto_placer_main_3;
    8:sw_seibu20000_2_panto_placer_main_2;
    11:sw_seibu20000_2_panto_placer_main_2;
    sw_seibu20000_2_panto_placer_main_1;
   }

    switch(FEAT_TRAINS, SELF, sw_seibu20000_2_fake_placer,position_in_vehid_chain +1){
   5: sw_seibu20000_2_end_f_gfx;
   6: sw_seibu20000_2_front_f_gfx;
    sw_seibu20000_2_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu20000_2_fake_placer_rev,position_in_vehid_chain_from_end ){
   5: sw_seibu20000_2_front_f_gfx;
   6: sw_seibu20000_2_end_f_gfx;
    sw_seibu20000_2_panto_placer_main;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu20000_2_fake_placer_gfx,vehicle_is_reversed){
   1: sw_seibu20000_2_fake_placer_rev;
   sw_seibu20000_2_fake_placer;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu20000_2_fake_placer_main,num_vehs_in_vehid_chain>11 - 1){
   1: sw_seibu20000_2_fake_placer_gfx;
     sw_seibu20000_2_panto_placer_main;
    }


    switch(FEAT_TRAINS, SELF, sw_seibu20000_2_end_gfx_main,position_in_vehid_chain_from_end){
   0: sw_seibu20000_2_end_gfx;
   default: sw_seibu20000_2_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu20000_2_front_gfx_main,position_in_vehid_chain_from_end){
   0: sw_seibu20000_2_front_gfx;
   default: sw_seibu20000_2_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu20000_livery_2,vehicle_type_id){
   mu_car_narrow:sw_seibu20000_2_end_gfx_main;
   sw_seibu20000_2_front_gfx_main;
    }




   switch(FEAT_TRAINS, SELF, sw_seibu20000_3_panto_placer_1,position_in_vehid_chain %3){
    0: seibu20000_3_mot_rev;
    seibu20000_3_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu20000_3_panto_placer_1_rev,position_in_vehid_chain_from_end %3 -1){
    0: seibu20000_3_mot;
    seibu20000_3_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu20000_3_panto_placer_main_1,vehicle_is_reversed){
    1: sw_seibu20000_3_panto_placer_1_rev;
    sw_seibu20000_3_panto_placer_1;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu20000_3_panto_placer_2,position_in_vehid_chain %4){
    0: seibu20000_3_mot_rev;
    seibu20000_3_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu20000_3_panto_placer_2_rev,position_in_vehid_chain_from_end %4 -1){
    0: seibu20000_3_mot;
    seibu20000_3_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu20000_3_panto_placer_main_2,vehicle_is_reversed){
    1: sw_seibu20000_3_panto_placer_2_rev;
    sw_seibu20000_3_panto_placer_2;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu20000_3_panto_placer_3,position_in_vehid_chain %4){
    1: seibu20000_3_mot_rev;
    seibu20000_3_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu20000_3_panto_placer_3_rev,position_in_vehid_chain_from_end %4 -1){
    1: seibu20000_3_mot;
    seibu20000_3_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu20000_3_panto_placer_main_3,vehicle_is_reversed){
    1: sw_seibu20000_3_panto_placer_3_rev;
    sw_seibu20000_3_panto_placer_3;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu20000_3_panto_placer_main,num_vehs_in_vehid_chain+1){
    5:sw_seibu20000_3_panto_placer_main_3;
    8:sw_seibu20000_3_panto_placer_main_2;
    11:sw_seibu20000_3_panto_placer_main_2;
    sw_seibu20000_3_panto_placer_main_1;
   }

    switch(FEAT_TRAINS, SELF, sw_seibu20000_3_fake_placer,position_in_vehid_chain +1){
   5: seibu20000_3_end_f;
   6: seibu20000_3_front_f;
    sw_seibu20000_3_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu20000_3_fake_placer_rev,position_in_vehid_chain_from_end ){
   5: seibu20000_3_front_f;
   6: seibu20000_3_end_f;
    sw_seibu20000_3_panto_placer_main;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu20000_3_fake_placer_gfx,vehicle_is_reversed){
   1: sw_seibu20000_3_fake_placer_rev;
   sw_seibu20000_3_fake_placer;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu20000_3_fake_placer_main,num_vehs_in_vehid_chain>11 - 1){
   1: sw_seibu20000_3_fake_placer_gfx;
     sw_seibu20000_3_panto_placer_main;
    }


    switch(FEAT_TRAINS, SELF, sw_seibu20000_3_end_gfx_main,position_in_vehid_chain_from_end){
   0: seibu20000_3_end;
   default: sw_seibu20000_3_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu20000_3_front_gfx_main,position_in_vehid_chain_from_end){
   0: seibu20000_3_front;
   default: sw_seibu20000_3_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu20000_livery_3,vehicle_type_id){
   mu_car_narrow:sw_seibu20000_3_end_gfx_main;
   sw_seibu20000_3_front_gfx_main;
    }





    random_switch(FEAT_TRAINS, PARENT, sw_seibu20000_livery_0_1){
      3:sw_seibu20000_livery_1;
      1:sw_seibu20000_livery_2;
    }

    random_switch(FEAT_TRAINS, PARENT, sw_seibu20000_livery_0_2){
      3:sw_seibu20000_livery_1;
      1:sw_seibu20000_livery_2;
      1:sw_seibu20000_livery_3;
    }
# 352 "src/private/Kanto/seibu/seibu20000.pnml"
    switch(FEAT_TRAINS, SELF, sw_seibu20000_livery_0, current_year){
      0..2015:sw_seibu20000_livery_1;
      2016..2017:sw_seibu20000_livery_0_1;
      sw_seibu20000_livery_0_2;
    }

    switch(FEAT_TRAINS, PARENT, sw_seibu20000_lv, cargo_subtype){
      0:sw_seibu20000_livery_0;
      1:sw_seibu20000_livery_1;
      2:sw_seibu20000_livery_2;
      3:sw_seibu20000_livery_3;
  }

    switch(FEAT_TRAINS, SELF, sw_seibu20000_lv_desc, cargo_subtype){
      0:string(LV_RANDOM);
      1:string(LV_DEFAULT);
      2:string(LV_seibu20000_2);
      3:string(LV_seibu20000_3);
    }


  switch(FEAT_TRAINS, SELF, sw_seibu20000_capacity_wag,position_in_vehid_chain_from_end){
   0: 135;
   default: 145;
  }
  switch(FEAT_TRAINS, SELF, sw_seibu20000_capacity_head,position_in_vehid_chain){
   0: 135;
   default: sw_seibu20000_capacity_wag;
  }
  switch(FEAT_TRAINS, SELF, sw_seibu20000_capacity,vehicle_type_id){
   mu_car_narrow:sw_seibu20000_capacity_wag;
   sw_seibu20000_capacity_head;
  }

  switch(FEAT_TRAINS, SELF, sw_seibu20000_power,position_in_vehid_chain_from_end%9){
     1..2:return 135;
     4..5:return 135;
   7:return 135;
     return 0;
  }
  switch(FEAT_TRAINS, SELF, sw_seibu20000_head_power,num_vehs_in_consist){
   39: return 135;
   return 0;
  }
  switch(FEAT_TRAINS, SELF, sw_seibu20000_power_main,vehicle_type_id){
   mu_car_narrow:sw_seibu20000_power()*4*1342/1000;
   sw_seibu20000_head_power()*4*1342/1000;
  }

  switch(FEAT_TRAINS, SELF, seibu20000_attach_vehid, vehicle_type_id) {
   mu_car: return string(STR_ATTACH_1067_ERROR);
   mu_car_metro: return string(STR_ATTACH_1067_ERROR);
   return CB_RESULT_ATTACH_ALLOW;
  }

item(FEAT_TRAINS, seibu20000,2121) {
 property {
  cargo_capacity: 130;
  ai_special_flag: AI_FLAG_PASSENGER;
  sprite_id: SPRITE_ID_NEW_TRAIN;
  misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
  refittable_cargo_classes: bitmask(CC_PASSENGERS);
  non_refittable_cargo_classes: bitmask();
  refit_cost: 0;
  dual_headed: 0;
  ai_engine_rank: 0;
  running_cost_base: RUNNING_COST_ELECTRIC;
  engine_class: ENGINE_CLASS_ELECTRIC;
  visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
  tractive_effort_coefficient: 0.3;
  air_drag_coefficient: 0.07;
  bitmask_vehicle_info: 0;

  climates_available: param_disable_seibu == 0 ? ALL_CLIMATES : NO_CLIMATE;
  name: string(STR_TRAIN_NAME, string(STR_NAME_SEIBU), "20000", string(STR_NAME_SERIES));
  introduction_date: date(1999, 1, 1);
  model_life: VEHICLE_NEVER_EXPIRES;
  vehicle_life: 35;
  reliability_decay: 10;

  cost_factor: 20;
  running_cost_factor: 50;
  speed: 120 km/h;
  track_type: TR_1067_DC;
  power: 400 kW;
  weight: 28 ton;
  loading_speed: param_loading_2D;
 }
 graphics {
  purchase: seibu20000_purchase;
  default: sw_seibu20000_lv;

  power: sw_seibu20000_power_main;
  loading_speed: param_loading_4D;
  cargo_capacity: sw_seibu20000_capacity()*param_capacity_mod/3;
  can_attach_wagon: seibu20000_attach_vehid;
  cargo_subtype_text:sw_seibu20000_lv_desc;
  additional_text:
  string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_2, 8,10)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string( STR_OPERATOR, string(STR_SEIBU)));
    }
    livery_override(mu_car_narrow){
   loading_speed: param_loading_4D;
   cargo_capacity: sw_seibu20000_capacity()*param_capacity_mod/3;
   default: sw_seibu20000_lv;
   power: sw_seibu20000_power_main;
   weight: 27;
  }
}
# 83 "src/_private.pnml" 2
# 1 "src/private/Kanto/seibu/seibu30000.pnml" 1

  spriteset(seibu30000_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu30000/seibu30000_1.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(seibu30000_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu30000/seibu30000_1.png"){ tmpl_purchase_2c(0, 50) }
  switch(FEAT_TRAINS, SELF, seibu30000_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_seibu; 1: seibu30000_purchase_c1; 2: seibu30000_purchase_c2;}

 spriteset(seibu30000_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu30000/seibu30000_1.png"){ tmpl_std(0, 0) }
 spriteset(seibu30000_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu30000/seibu30000_1.png"){ tmpl_std_rev(0, 25) }
 spriteset(seibu30000_1_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu30000/seibu30000_1.png"){ tmpl_std(0, 50) }
 spriteset(seibu30000_1_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu30000/seibu30000_1.png"){ tmpl_std_rev(0, 50) }
 spriteset(seibu30000_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu30000/seibu30000_1.png"){ tmpl_symm(0, 75) }
 spriteset(seibu30000_1_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu30000/seibu30000_1.png"){ tmpl_std(0, 100) }
 spriteset(seibu30000_1_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu30000/seibu30000_1.png"){ tmpl_std_rev(0, 125) }
 spriteset(seibu30000_1_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu30000/seibu30000_1.png"){ tmpl_std(0, 150) }
 spriteset(seibu30000_1_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu30000/seibu30000_1.png"){ tmpl_std_rev(0, 150) }
 spriteset(seibu30000_1_front_mot_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu30000/seibu30000_1.png"){ tmpl_std(0, 175) }
 spriteset(seibu30000_1_end_mot_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu30000/seibu30000_1.png"){ tmpl_std_rev(0, 175) }



 spriteset(seibu30000_3_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu30000/seibu30000_3.png"){ tmpl_std(0, 0) }
 spriteset(seibu30000_3_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu30000/seibu30000_3.png"){ tmpl_std_rev(0, 25) }
 spriteset(seibu30000_3_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu30000/seibu30000_3.png"){ tmpl_std(0, 50) }
 spriteset(seibu30000_3_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu30000/seibu30000_3.png"){ tmpl_std_rev(0, 50) }
 spriteset(seibu30000_3_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu30000/seibu30000_3.png"){ tmpl_symm(0, 75) }
 spriteset(seibu30000_3_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu30000/seibu30000_3.png"){ tmpl_std(0, 100) }
 spriteset(seibu30000_3_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu30000/seibu30000_3.png"){ tmpl_std_rev(0, 125) }
 spriteset(seibu30000_3_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu30000/seibu30000_3.png"){ tmpl_std(0, 150) }
 spriteset(seibu30000_3_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu30000/seibu30000_3.png"){ tmpl_std_rev(0, 150) }
 spriteset(seibu30000_3_front_mot_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu30000/seibu30000_3.png"){ tmpl_std(0, 175) }
 spriteset(seibu30000_3_end_mot_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu30000/seibu30000_3.png"){ tmpl_std_rev(0, 175) }



 spriteset(seibu30000_4_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu30000/seibu30000_4.png"){ tmpl_std(0, 0) }
 spriteset(seibu30000_4_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu30000/seibu30000_4.png"){ tmpl_std_rev(0, 25) }
 spriteset(seibu30000_4_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu30000/seibu30000_4.png"){ tmpl_std(0, 50) }
 spriteset(seibu30000_4_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu30000/seibu30000_4.png"){ tmpl_std_rev(0, 50) }
 spriteset(seibu30000_4_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu30000/seibu30000_4.png"){ tmpl_symm(0, 75) }
 spriteset(seibu30000_4_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu30000/seibu30000_4.png"){ tmpl_std(0, 100) }
 spriteset(seibu30000_4_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu30000/seibu30000_4.png"){ tmpl_std_rev(0, 125) }
 spriteset(seibu30000_4_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu30000/seibu30000_4.png"){ tmpl_std(0, 150) }
 spriteset(seibu30000_4_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu30000/seibu30000_4.png"){ tmpl_std_rev(0, 150) }
 spriteset(seibu30000_4_front_mot_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu30000/seibu30000_4.png"){ tmpl_std(0, 175) }
 spriteset(seibu30000_4_end_mot_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu30000/seibu30000_4.png"){ tmpl_std_rev(0, 175) }



 spriteset(seibu30000_5_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu30000/seibu30000_5.png"){ tmpl_std(0, 0) }
 spriteset(seibu30000_5_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu30000/seibu30000_5.png"){ tmpl_std_rev(0, 25) }
 spriteset(seibu30000_5_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu30000/seibu30000_5.png"){ tmpl_std(0, 50) }
 spriteset(seibu30000_5_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu30000/seibu30000_5.png"){ tmpl_std_rev(0, 50) }
 spriteset(seibu30000_5_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu30000/seibu30000_5.png"){ tmpl_symm(0, 75) }
 spriteset(seibu30000_5_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu30000/seibu30000_5.png"){ tmpl_std(0, 100) }
 spriteset(seibu30000_5_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu30000/seibu30000_5.png"){ tmpl_std_rev(0, 125) }
 spriteset(seibu30000_5_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu30000/seibu30000_5.png"){ tmpl_std(0, 150) }
 spriteset(seibu30000_5_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu30000/seibu30000_5.png"){ tmpl_std_rev(0, 150) }
 spriteset(seibu30000_5_front_mot_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu30000/seibu30000_5.png"){ tmpl_std(0, 175) }
 spriteset(seibu30000_5_end_mot_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu30000/seibu30000_5.png"){ tmpl_std_rev(0, 175) }






  switch(FEAT_TRAINS, PARENT, sw_seibu30000_1_front_gfx_1,vehicle_is_reversed){
    1: seibu30000_1_front;
    seibu30000_1_front_mot;
  }
  switch(FEAT_TRAINS, PARENT, sw_seibu30000_1_front_gfx,num_vehs_in_consist){
    0..2: sw_seibu30000_1_front_gfx_1;
    seibu30000_1_front;
  }

  switch(FEAT_TRAINS, PARENT, sw_seibu30000_1_end_gfx_1,vehicle_is_reversed){
    1: seibu30000_1_end_mot;
    seibu30000_1_end;
  }
  switch(FEAT_TRAINS, PARENT, sw_seibu30000_1_end_gfx,num_vehs_in_consist){
    0..2: sw_seibu30000_1_end_gfx_1;
    seibu30000_1_end;
  }


   switch(FEAT_TRAINS, SELF, sw_seibu30000_1_panto_placer_1,position_in_vehid_chain %3){
    0: seibu30000_1_mot_rev;
    seibu30000_1_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu30000_1_panto_placer_1_rev,position_in_vehid_chain_from_end %3 -1){
    0: seibu30000_1_mot;
    seibu30000_1_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu30000_1_panto_placer_main_1,vehicle_is_reversed){
    1: sw_seibu30000_1_panto_placer_1_rev;
    sw_seibu30000_1_panto_placer_1;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu30000_1_panto_placer_2,position_in_vehid_chain %4){
    0: seibu30000_1_mot_rev;
    seibu30000_1_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu30000_1_panto_placer_2_rev,position_in_vehid_chain_from_end %4 -1){
    0: seibu30000_1_mot;
    seibu30000_1_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu30000_1_panto_placer_main_2,vehicle_is_reversed){
    1: sw_seibu30000_1_panto_placer_2_rev;
    sw_seibu30000_1_panto_placer_2;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu30000_1_panto_placer_3,position_in_vehid_chain %4){
    1: seibu30000_1_mot_rev;
    seibu30000_1_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu30000_1_panto_placer_3_rev,position_in_vehid_chain_from_end %4 -1){
    1: seibu30000_1_mot;
    seibu30000_1_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu30000_1_panto_placer_main_3,vehicle_is_reversed){
    1: sw_seibu30000_1_panto_placer_3_rev;
    sw_seibu30000_1_panto_placer_3;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu30000_1_panto_placer_main,num_vehs_in_vehid_chain+1){
    5:sw_seibu30000_1_panto_placer_main_3;
    8:sw_seibu30000_1_panto_placer_main_2;
    11:sw_seibu30000_1_panto_placer_main_2;
    sw_seibu30000_1_panto_placer_main_1;
   }

  switch(FEAT_TRAINS, SELF, sw_seibu30000_1_10_cars,position_in_vehid_chain){
   0: seibu30000_1_mot_rev;
   4: seibu30000_1_mot_rev;
   6: seibu30000_1_end_f;
   7: seibu30000_1_front_mot_f;
   seibu30000_1_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu30000_1_10_cars_rev,position_in_vehid_chain_from_end -1){
   0: seibu30000_1_mot;
   4: seibu30000_1_mot;
   6: seibu30000_1_front_f;
   7: seibu30000_1_end_mot_f;
   seibu30000_1_wag;
    }
  switch(FEAT_TRAINS, PARENT, sw_seibu30000_1_10_cars_main,vehicle_is_reversed){
   1: sw_seibu30000_1_10_cars_rev;
   sw_seibu30000_1_10_cars;
    }

    switch(FEAT_TRAINS, SELF, sw_seibu30000_1_fake_placer,position_in_vehid_chain +1){
   5: seibu30000_1_end_f;
   6: seibu30000_1_front_f;
    sw_seibu30000_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu30000_1_fake_placer_rev,position_in_vehid_chain_from_end ){
   5: seibu30000_1_front_f;
   6: seibu30000_1_end_f;
    sw_seibu30000_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu30000_1_fake_placer_gfx,vehicle_is_reversed){
   1: sw_seibu30000_1_fake_placer_rev;
   sw_seibu30000_1_fake_placer;
    }
  random_switch(FEAT_TRAINS, PARENT, sw_seibu30000_1_fake_placer_main_1){
   3:sw_seibu30000_1_panto_placer_main;
   1:sw_seibu30000_1_10_cars_main;
  }
    switch(FEAT_TRAINS, SELF, sw_seibu30000_1_fake_placer_main,num_vehs_in_vehid_chain+1){
   0..9: sw_seibu30000_1_panto_placer_main;
   10:sw_seibu30000_1_fake_placer_main_1;
   11:sw_seibu30000_1_panto_placer_main;
     sw_seibu30000_1_fake_placer_gfx;
    }

    switch(FEAT_TRAINS, SELF, sw_seibu30000_1_end_gfx_main,position_in_vehid_chain_from_end){
   0: sw_seibu30000_1_end_gfx;
   default: sw_seibu30000_1_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu30000_1_front_gfx_main,position_in_vehid_chain_from_end){
   0: sw_seibu30000_1_front_gfx;
   default: sw_seibu30000_1_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu30000_livery_1,vehicle_type_id){
   mu_car_narrow:sw_seibu30000_1_end_gfx_main;
   sw_seibu30000_1_front_gfx_main;
    }




  switch(FEAT_TRAINS, PARENT, sw_seibu30000_3_front_gfx_1,vehicle_is_reversed){
    1: seibu30000_3_front;
    seibu30000_3_front_mot;
  }
  switch(FEAT_TRAINS, PARENT, sw_seibu30000_3_front_gfx,num_vehs_in_consist){
    0..2: sw_seibu30000_3_front_gfx_1;
    seibu30000_3_front;
  }

  switch(FEAT_TRAINS, PARENT, sw_seibu30000_3_end_gfx_1,vehicle_is_reversed){
    1: seibu30000_3_end_mot;
    seibu30000_3_end;
  }
  switch(FEAT_TRAINS, PARENT, sw_seibu30000_3_end_gfx,num_vehs_in_consist){
    0..2: sw_seibu30000_3_end_gfx_1;
    seibu30000_3_end;
  }


   switch(FEAT_TRAINS, SELF, sw_seibu30000_3_panto_placer_1,position_in_vehid_chain %3){
    0: seibu30000_3_mot_rev;
    seibu30000_3_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu30000_3_panto_placer_1_rev,position_in_vehid_chain_from_end %3 -1){
    0: seibu30000_3_mot;
    seibu30000_3_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu30000_3_panto_placer_main_1,vehicle_is_reversed){
    1: sw_seibu30000_3_panto_placer_1_rev;
    sw_seibu30000_3_panto_placer_1;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu30000_3_panto_placer_2,position_in_vehid_chain %4){
    0: seibu30000_3_mot_rev;
    seibu30000_3_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu30000_3_panto_placer_2_rev,position_in_vehid_chain_from_end %4 -1){
    0: seibu30000_3_mot;
    seibu30000_3_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu30000_3_panto_placer_main_2,vehicle_is_reversed){
    1: sw_seibu30000_3_panto_placer_2_rev;
    sw_seibu30000_3_panto_placer_2;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu30000_3_panto_placer_3,position_in_vehid_chain %4){
    1: seibu30000_3_mot_rev;
    seibu30000_3_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu30000_3_panto_placer_3_rev,position_in_vehid_chain_from_end %4 -1){
    1: seibu30000_3_mot;
    seibu30000_3_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu30000_3_panto_placer_main_3,vehicle_is_reversed){
    1: sw_seibu30000_3_panto_placer_3_rev;
    sw_seibu30000_3_panto_placer_3;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu30000_3_panto_placer_main,num_vehs_in_vehid_chain+1){
    5:sw_seibu30000_3_panto_placer_main_3;
    8:sw_seibu30000_3_panto_placer_main_2;
    11:sw_seibu30000_3_panto_placer_main_2;
    sw_seibu30000_3_panto_placer_main_1;
   }

  switch(FEAT_TRAINS, SELF, sw_seibu30000_3_10_cars,position_in_vehid_chain){
   0: seibu30000_3_mot_rev;
   4: seibu30000_3_mot_rev;
   6: seibu30000_3_end_f;
   7: seibu30000_3_front_mot_f;
   seibu30000_3_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu30000_3_10_cars_rev,position_in_vehid_chain_from_end -1){
   0: seibu30000_3_mot;
   4: seibu30000_3_mot;
   6: seibu30000_3_front_f;
   7: seibu30000_3_end_mot_f;
   seibu30000_3_wag;
    }
  switch(FEAT_TRAINS, PARENT, sw_seibu30000_3_10_cars_main,vehicle_is_reversed){
   1: sw_seibu30000_3_10_cars_rev;
   sw_seibu30000_3_10_cars;
    }

    switch(FEAT_TRAINS, SELF, sw_seibu30000_3_fake_placer,position_in_vehid_chain +1){
   5: seibu30000_3_end_f;
   6: seibu30000_3_front_f;
    sw_seibu30000_3_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu30000_3_fake_placer_rev,position_in_vehid_chain_from_end ){
   5: seibu30000_3_front_f;
   6: seibu30000_3_end_f;
    sw_seibu30000_3_panto_placer_main;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu30000_3_fake_placer_gfx,vehicle_is_reversed){
   1: sw_seibu30000_3_fake_placer_rev;
   sw_seibu30000_3_fake_placer;
    }
  random_switch(FEAT_TRAINS, PARENT, sw_seibu30000_3_fake_placer_main_1){
   3:sw_seibu30000_3_panto_placer_main;
   1:sw_seibu30000_3_10_cars_main;
  }
    switch(FEAT_TRAINS, SELF, sw_seibu30000_3_fake_placer_main,num_vehs_in_vehid_chain+1){
   0..9: sw_seibu30000_3_panto_placer_main;
   10:sw_seibu30000_3_fake_placer_main_1;
   11:sw_seibu30000_3_panto_placer_main;
     sw_seibu30000_3_fake_placer_gfx;
    }

    switch(FEAT_TRAINS, SELF, sw_seibu30000_3_end_gfx_main,position_in_vehid_chain_from_end){
   0: sw_seibu30000_3_end_gfx;
   default: sw_seibu30000_3_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu30000_3_front_gfx_main,position_in_vehid_chain_from_end){
   0: sw_seibu30000_3_front_gfx;
   default: sw_seibu30000_3_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu30000_livery_3,vehicle_type_id){
   mu_car_narrow:sw_seibu30000_3_end_gfx_main;
   sw_seibu30000_3_front_gfx_main;
    }




  switch(FEAT_TRAINS, PARENT, sw_seibu30000_4_front_gfx_1,vehicle_is_reversed){
    1: seibu30000_4_front;
    seibu30000_4_front_mot;
  }
  switch(FEAT_TRAINS, PARENT, sw_seibu30000_4_front_gfx,num_vehs_in_consist){
    0..2: sw_seibu30000_4_front_gfx_1;
    seibu30000_4_front;
  }

  switch(FEAT_TRAINS, PARENT, sw_seibu30000_4_end_gfx_1,vehicle_is_reversed){
    1: seibu30000_4_end_mot;
    seibu30000_4_end;
  }
  switch(FEAT_TRAINS, PARENT, sw_seibu30000_4_end_gfx,num_vehs_in_consist){
    0..2: sw_seibu30000_4_end_gfx_1;
    seibu30000_4_end;
  }


   switch(FEAT_TRAINS, SELF, sw_seibu30000_4_panto_placer_1,position_in_vehid_chain %3){
    0: seibu30000_4_mot_rev;
    seibu30000_4_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu30000_4_panto_placer_1_rev,position_in_vehid_chain_from_end %3 -1){
    0: seibu30000_4_mot;
    seibu30000_4_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu30000_4_panto_placer_main_1,vehicle_is_reversed){
    1: sw_seibu30000_4_panto_placer_1_rev;
    sw_seibu30000_4_panto_placer_1;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu30000_4_panto_placer_2,position_in_vehid_chain %4){
    0: seibu30000_4_mot_rev;
    seibu30000_4_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu30000_4_panto_placer_2_rev,position_in_vehid_chain_from_end %4 -1){
    0: seibu30000_4_mot;
    seibu30000_4_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu30000_4_panto_placer_main_2,vehicle_is_reversed){
    1: sw_seibu30000_4_panto_placer_2_rev;
    sw_seibu30000_4_panto_placer_2;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu30000_4_panto_placer_3,position_in_vehid_chain %4){
    1: seibu30000_4_mot_rev;
    seibu30000_4_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu30000_4_panto_placer_3_rev,position_in_vehid_chain_from_end %4 -1){
    1: seibu30000_4_mot;
    seibu30000_4_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu30000_4_panto_placer_main_3,vehicle_is_reversed){
    1: sw_seibu30000_4_panto_placer_3_rev;
    sw_seibu30000_4_panto_placer_3;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu30000_4_panto_placer_main,num_vehs_in_vehid_chain+1){
    5:sw_seibu30000_4_panto_placer_main_3;
    8:sw_seibu30000_4_panto_placer_main_2;
    11:sw_seibu30000_4_panto_placer_main_2;
    sw_seibu30000_4_panto_placer_main_1;
   }

  switch(FEAT_TRAINS, SELF, sw_seibu30000_4_10_cars,position_in_vehid_chain){
   0: seibu30000_4_mot_rev;
   4: seibu30000_4_mot_rev;
   6: seibu30000_4_end_f;
   7: seibu30000_4_front_mot_f;
   seibu30000_4_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu30000_4_10_cars_rev,position_in_vehid_chain_from_end -1){
   0: seibu30000_4_mot;
   4: seibu30000_4_mot;
   6: seibu30000_4_front_f;
   7: seibu30000_4_end_mot_f;
   seibu30000_4_wag;
    }
  switch(FEAT_TRAINS, PARENT, sw_seibu30000_4_10_cars_main,vehicle_is_reversed){
   1: sw_seibu30000_4_10_cars_rev;
   sw_seibu30000_4_10_cars;
    }

    switch(FEAT_TRAINS, SELF, sw_seibu30000_4_fake_placer,position_in_vehid_chain +1){
   5: seibu30000_4_end_f;
   6: seibu30000_4_front_f;
    sw_seibu30000_4_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu30000_4_fake_placer_rev,position_in_vehid_chain_from_end ){
   5: seibu30000_4_front_f;
   6: seibu30000_4_end_f;
    sw_seibu30000_4_panto_placer_main;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu30000_4_fake_placer_gfx,vehicle_is_reversed){
   1: sw_seibu30000_4_fake_placer_rev;
   sw_seibu30000_4_fake_placer;
    }
  random_switch(FEAT_TRAINS, PARENT, sw_seibu30000_4_fake_placer_main_1){
   3:sw_seibu30000_4_panto_placer_main;
   1:sw_seibu30000_4_10_cars_main;
  }
    switch(FEAT_TRAINS, SELF, sw_seibu30000_4_fake_placer_main,num_vehs_in_vehid_chain+1){
   0..9: sw_seibu30000_4_panto_placer_main;
   10:sw_seibu30000_4_fake_placer_main_1;
   11:sw_seibu30000_4_panto_placer_main;
     sw_seibu30000_4_fake_placer_gfx;
    }

    switch(FEAT_TRAINS, SELF, sw_seibu30000_4_end_gfx_main,position_in_vehid_chain_from_end){
   0: sw_seibu30000_4_end_gfx;
   default: sw_seibu30000_4_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu30000_4_front_gfx_main,position_in_vehid_chain_from_end){
   0: sw_seibu30000_4_front_gfx;
   default: sw_seibu30000_4_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu30000_livery_4,vehicle_type_id){
   mu_car_narrow:sw_seibu30000_4_end_gfx_main;
   sw_seibu30000_4_front_gfx_main;
    }




  switch(FEAT_TRAINS, PARENT, sw_seibu30000_5_front_gfx_1,vehicle_is_reversed){
    1: seibu30000_5_front;
    seibu30000_5_front_mot;
  }
  switch(FEAT_TRAINS, PARENT, sw_seibu30000_5_front_gfx,num_vehs_in_consist){
    0..2: sw_seibu30000_5_front_gfx_1;
    seibu30000_5_front;
  }

  switch(FEAT_TRAINS, PARENT, sw_seibu30000_5_end_gfx_1,vehicle_is_reversed){
    1: seibu30000_5_end_mot;
    seibu30000_5_end;
  }
  switch(FEAT_TRAINS, PARENT, sw_seibu30000_5_end_gfx,num_vehs_in_consist){
    0..2: sw_seibu30000_5_end_gfx_1;
    seibu30000_5_end;
  }


   switch(FEAT_TRAINS, SELF, sw_seibu30000_5_panto_placer_1,position_in_vehid_chain %3){
    0: seibu30000_5_mot_rev;
    seibu30000_5_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu30000_5_panto_placer_1_rev,position_in_vehid_chain_from_end %3 -1){
    0: seibu30000_5_mot;
    seibu30000_5_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu30000_5_panto_placer_main_1,vehicle_is_reversed){
    1: sw_seibu30000_5_panto_placer_1_rev;
    sw_seibu30000_5_panto_placer_1;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu30000_5_panto_placer_2,position_in_vehid_chain %4){
    0: seibu30000_5_mot_rev;
    seibu30000_5_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu30000_5_panto_placer_2_rev,position_in_vehid_chain_from_end %4 -1){
    0: seibu30000_5_mot;
    seibu30000_5_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu30000_5_panto_placer_main_2,vehicle_is_reversed){
    1: sw_seibu30000_5_panto_placer_2_rev;
    sw_seibu30000_5_panto_placer_2;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu30000_5_panto_placer_3,position_in_vehid_chain %4){
    1: seibu30000_5_mot_rev;
    seibu30000_5_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu30000_5_panto_placer_3_rev,position_in_vehid_chain_from_end %4 -1){
    1: seibu30000_5_mot;
    seibu30000_5_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu30000_5_panto_placer_main_3,vehicle_is_reversed){
    1: sw_seibu30000_5_panto_placer_3_rev;
    sw_seibu30000_5_panto_placer_3;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu30000_5_panto_placer_main,num_vehs_in_vehid_chain+1){
    5:sw_seibu30000_5_panto_placer_main_3;
    8:sw_seibu30000_5_panto_placer_main_2;
    11:sw_seibu30000_5_panto_placer_main_2;
    sw_seibu30000_5_panto_placer_main_1;
   }

  switch(FEAT_TRAINS, SELF, sw_seibu30000_5_10_cars,position_in_vehid_chain){
   0: seibu30000_5_mot_rev;
   4: seibu30000_5_mot_rev;
   6: seibu30000_5_end_f;
   7: seibu30000_5_front_mot_f;
   seibu30000_5_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu30000_5_10_cars_rev,position_in_vehid_chain_from_end -1){
   0: seibu30000_5_mot;
   4: seibu30000_5_mot;
   6: seibu30000_5_front_f;
   7: seibu30000_5_end_mot_f;
   seibu30000_5_wag;
    }
  switch(FEAT_TRAINS, PARENT, sw_seibu30000_5_10_cars_main,vehicle_is_reversed){
   1: sw_seibu30000_5_10_cars_rev;
   sw_seibu30000_5_10_cars;
    }

    switch(FEAT_TRAINS, SELF, sw_seibu30000_5_fake_placer,position_in_vehid_chain +1){
   5: seibu30000_5_end_f;
   6: seibu30000_5_front_f;
    sw_seibu30000_5_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu30000_5_fake_placer_rev,position_in_vehid_chain_from_end ){
   5: seibu30000_5_front_f;
   6: seibu30000_5_end_f;
    sw_seibu30000_5_panto_placer_main;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu30000_5_fake_placer_gfx,vehicle_is_reversed){
   1: sw_seibu30000_5_fake_placer_rev;
   sw_seibu30000_5_fake_placer;
    }
  random_switch(FEAT_TRAINS, PARENT, sw_seibu30000_5_fake_placer_main_1){
   3:sw_seibu30000_5_panto_placer_main;
   1:sw_seibu30000_5_10_cars_main;
  }
    switch(FEAT_TRAINS, SELF, sw_seibu30000_5_fake_placer_main,num_vehs_in_vehid_chain+1){
   0..9: sw_seibu30000_5_panto_placer_main;
   10:sw_seibu30000_5_fake_placer_main_1;
   11:sw_seibu30000_5_panto_placer_main;
     sw_seibu30000_5_fake_placer_gfx;
    }

    switch(FEAT_TRAINS, SELF, sw_seibu30000_5_end_gfx_main,position_in_vehid_chain_from_end){
   0: sw_seibu30000_5_end_gfx;
   default: sw_seibu30000_5_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu30000_5_front_gfx_main,position_in_vehid_chain_from_end){
   0: sw_seibu30000_5_front_gfx;
   default: sw_seibu30000_5_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu30000_livery_5,vehicle_type_id){
   mu_car_narrow:sw_seibu30000_5_end_gfx_main;
   sw_seibu30000_5_front_gfx_main;
    }







    random_switch(FEAT_TRAINS, PARENT, sw_seibu30000_livery_0_1){
      3:sw_seibu30000_livery_1;
      1:sw_seibu30000_livery_3;
    }

    random_switch(FEAT_TRAINS, PARENT, sw_seibu30000_livery_0_2){
      3:sw_seibu30000_livery_1;
      1:sw_seibu30000_livery_3;
      1:sw_seibu30000_livery_4;
      1:sw_seibu30000_livery_5;
    }

    switch(FEAT_TRAINS, SELF, sw_seibu30000_livery_0, current_year){
      0..2017:sw_seibu30000_livery_1;
      2018..2019:sw_seibu30000_livery_0_1;
      sw_seibu30000_livery_0_2;
    }

    switch(FEAT_TRAINS, PARENT, sw_seibu30000_lv, cargo_subtype){
      0:sw_seibu30000_livery_0;
      1:sw_seibu30000_livery_1;
      3:sw_seibu30000_livery_3;
      4:sw_seibu30000_livery_4;
      5:sw_seibu30000_livery_5;
  }

    switch(FEAT_TRAINS, SELF, sw_seibu30000_lv_desc, cargo_subtype){
      0:string(LV_RANDOM);
      1..2:string(LV_DEFAULT);
      3:string(LV_seibu30000_3);
      4:string(LV_seibu30000_4);
      5:string(LV_seibu30000_5);
    }


  switch(FEAT_TRAINS, SELF, sw_seibu30000_capacity_wag,position_in_vehid_chain_from_end){
   0: 141;
   default: 153;
  }
  switch(FEAT_TRAINS, SELF, sw_seibu30000_capacity_head,position_in_vehid_chain){
   0: 141;
   default: sw_seibu30000_capacity_wag;
  }
  switch(FEAT_TRAINS, SELF, sw_seibu30000_capacity,vehicle_type_id){
   mu_car_narrow:sw_seibu30000_capacity_wag;
   sw_seibu30000_capacity_head;
  }

  switch(FEAT_TRAINS, SELF, sw_seibu30000_power,position_in_vehid_chain_from_end%9){
     0:return 165;
     2:return 165;
     4..5:return 165;
   7:return 165;
     return 0;
  }
  switch(FEAT_TRAINS, SELF, sw_seibu30000_head_power,num_vehs_in_consist){
   39: return 165;
   return 0;
  }
  switch(FEAT_TRAINS, SELF, sw_seibu30000_power_main,vehicle_type_id){
   mu_car_narrow:sw_seibu30000_power()*4*1342/1000;
   sw_seibu30000_head_power()*4*1342/1000;
  }

  switch(FEAT_TRAINS, SELF, seibu30000_attach_vehid, vehicle_type_id) {
   mu_car: return string(STR_ATTACH_1067_ERROR);
   mu_car_metro: return string(STR_ATTACH_1067_ERROR);
   return CB_RESULT_ATTACH_ALLOW;
  }

item(FEAT_TRAINS, seibu30000,2122) {
 property {
  cargo_capacity: 130;
  ai_special_flag: AI_FLAG_PASSENGER;
  sprite_id: SPRITE_ID_NEW_TRAIN;
  misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
  refittable_cargo_classes: bitmask(CC_PASSENGERS);
  non_refittable_cargo_classes: bitmask();
  refit_cost: 0;
  dual_headed: 0;
  ai_engine_rank: 0;
  running_cost_base: RUNNING_COST_ELECTRIC;
  engine_class: ENGINE_CLASS_ELECTRIC;
  visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
  tractive_effort_coefficient: 0.3;
  air_drag_coefficient: 0.07;
  bitmask_vehicle_info: 0;

  climates_available: param_disable_seibu == 0 ? ALL_CLIMATES : NO_CLIMATE;
  name: string(STR_TRAIN_NAME_LONG, string(STR_NAME_SEIBU), "30000", string(STR_NAME_SERIES), string(STR_NAME_SEIBU_SMILE));
  introduction_date: date(2008, 1, 1);
  model_life: VEHICLE_NEVER_EXPIRES;
  vehicle_life: 35;
  reliability_decay: 10;

  cost_factor: 21;
  running_cost_factor: 51;
  speed: 120 km/h;
  track_type: TR_1067_DC;
  power: 400 kW;
  weight: 30 ton;
  loading_speed: param_loading_2D;
 }
 graphics {
  purchase: seibu30000_purchase;
  default: sw_seibu30000_lv;

  power: sw_seibu30000_power_main;
  loading_speed: param_loading_4D;
  cargo_capacity: sw_seibu30000_capacity()*param_capacity_mod/3;
  can_attach_wagon: seibu30000_attach_vehid;
  cargo_subtype_text:sw_seibu30000_lv_desc;
  additional_text:
  string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_3, 2,8,10)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string( STR_OPERATOR, string(STR_SEIBU)));
    }
    livery_override(mu_car_narrow){
   loading_speed: param_loading_4D;
   cargo_capacity: sw_seibu30000_capacity()*param_capacity_mod/3;
   default: sw_seibu30000_lv;
   power: sw_seibu30000_power_main;
   weight: 29;
  }
}
# 84 "src/_private.pnml" 2
# 1 "src/private/Kanto/seibu/seibu40000.pnml" 1

  spriteset(seibu40000_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu40000/seibu40000_1.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(seibu40000_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu40000/seibu40000_1.png"){ tmpl_purchase_2c(0, 100) }
  switch(FEAT_TRAINS, SELF, seibu40000_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_seibu; 1: seibu40000_purchase_c1; 2: seibu40000_purchase_c2;}

 spriteset(seibu40000_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu40000/seibu40000_1.png"){ tmpl_std(0, 0) }
 spriteset(seibu40000_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu40000/seibu40000_1.png"){ tmpl_std_rev(0, 25) }
 spriteset(seibu40000_1_front_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu40000/seibu40000_1.png"){ tmpl_std(0, 50) }
 spriteset(seibu40000_1_end_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu40000/seibu40000_1.png"){ tmpl_std_rev(0, 75) }
 spriteset(seibu40000_1_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu40000/seibu40000_1.png"){ tmpl_std(0, 100) }
 spriteset(seibu40000_1_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu40000/seibu40000_1.png"){ tmpl_std_rev(0, 100) }
 spriteset(seibu40000_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu40000/seibu40000_1.png"){ tmpl_symm(0, 125) }
 spriteset(seibu40000_1_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu40000/seibu40000_1.png"){ tmpl_std(0, 150) }
 spriteset(seibu40000_1_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu40000/seibu40000_1.png"){ tmpl_std_rev(0, 150) }
 spriteset(seibu40000_1_front_1_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu40000/seibu40000_1.png"){ tmpl_std(0, 175) }
 spriteset(seibu40000_1_end_1_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu40000/seibu40000_1.png"){ tmpl_std_rev(0, 175) }



 spriteset(seibu40000_2_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu40000/seibu40000_2.png"){ tmpl_std(0, 0) }
 spriteset(seibu40000_2_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu40000/seibu40000_2.png"){ tmpl_std_rev(0, 25) }
 spriteset(seibu40000_2_front_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu40000/seibu40000_2.png"){ tmpl_std(0, 50) }
 spriteset(seibu40000_2_end_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu40000/seibu40000_2.png"){ tmpl_std_rev(0, 75) }
 spriteset(seibu40000_2_mot_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu40000/seibu40000_2.png"){ tmpl_std(0, 100) }
 spriteset(seibu40000_2_mot_1_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu40000/seibu40000_2.png"){ tmpl_std_rev(0, 100) }
 spriteset(seibu40000_2_mot_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu40000/seibu40000_2.png"){ tmpl_std(0, 125) }
 spriteset(seibu40000_2_mot_2_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu40000/seibu40000_2.png"){ tmpl_std_rev(0, 125) }
 spriteset(seibu40000_2_mot_3, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu40000/seibu40000_2.png"){ tmpl_std(0, 150) }
 spriteset(seibu40000_2_mot_3_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu40000/seibu40000_2.png"){ tmpl_std_rev(0, 150) }
 spriteset(seibu40000_2_wag_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu40000/seibu40000_2.png"){ tmpl_symm(0, 175) }
 spriteset(seibu40000_2_wag_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu40000/seibu40000_2.png"){ tmpl_symm(0, 200) }
 spriteset(seibu40000_2_wag_3, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu40000/seibu40000_2.png"){ tmpl_symm(0, 225) }
 spriteset(seibu40000_2_wag_4, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu40000/seibu40000_2.png"){ tmpl_symm(0, 250) }
 spriteset(seibu40000_2_wag_5, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu40000/seibu40000_2.png"){ tmpl_symm(0, 275) }
 spriteset(seibu40000_2_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu40000/seibu40000_2.png"){ tmpl_std(0, 300) }
 spriteset(seibu40000_2_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu40000/seibu40000_2.png"){ tmpl_std_rev(0, 300) }
 spriteset(seibu40000_2_front_1_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu40000/seibu40000_2.png"){ tmpl_std(0, 325) }
 spriteset(seibu40000_2_end_1_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/seibu/seibu40000/seibu40000_2.png"){ tmpl_std_rev(0, 325) }




  switch(FEAT_TRAINS, PARENT, sw_seibu40000_1_front_gfx,vehicle_is_reversed){
    1: seibu40000_1_front_1;
    seibu40000_1_front;
  }
  switch(FEAT_TRAINS, PARENT, sw_seibu40000_1_front_f_gfx,vehicle_is_reversed){
    1: seibu40000_1_front_1_f;
    seibu40000_1_front_f;
  }

  switch(FEAT_TRAINS, PARENT, sw_seibu40000_1_end_gfx,vehicle_is_reversed){
    1: seibu40000_1_end;
    seibu40000_1_end_1;
  }
  switch(FEAT_TRAINS, PARENT, sw_seibu40000_1_end_f_gfx,vehicle_is_reversed){
    1: seibu40000_1_end_f;
    seibu40000_1_end_1_f;
  }


   switch(FEAT_TRAINS, SELF, sw_seibu40000_1_panto_placer_1,position_in_vehid_chain %3){
    0: seibu40000_1_mot_rev;
    seibu40000_1_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu40000_1_panto_placer_1_rev,position_in_vehid_chain_from_end %3 -1){
    0: seibu40000_1_mot;
    seibu40000_1_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu40000_1_panto_placer_main_1,vehicle_is_reversed){
    1: sw_seibu40000_1_panto_placer_1_rev;
    sw_seibu40000_1_panto_placer_1;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu40000_1_panto_placer_2,position_in_vehid_chain %4){
    0: seibu40000_1_mot_rev;
    seibu40000_1_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu40000_1_panto_placer_2_rev,position_in_vehid_chain_from_end %4 -1){
    0: seibu40000_1_mot;
    seibu40000_1_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu40000_1_panto_placer_main_2,vehicle_is_reversed){
    1: sw_seibu40000_1_panto_placer_2_rev;
    sw_seibu40000_1_panto_placer_2;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu40000_1_panto_placer_3,position_in_vehid_chain %4){
    1: seibu40000_1_mot_rev;
    seibu40000_1_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu40000_1_panto_placer_3_rev,position_in_vehid_chain_from_end %4 -1){
    1: seibu40000_1_mot;
    seibu40000_1_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu40000_1_panto_placer_main_3,vehicle_is_reversed){
    1: sw_seibu40000_1_panto_placer_3_rev;
    sw_seibu40000_1_panto_placer_3;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu40000_1_panto_placer_main,num_vehs_in_vehid_chain+1){
    5:sw_seibu40000_1_panto_placer_main_3;
    8:sw_seibu40000_1_panto_placer_main_2;
    11:sw_seibu40000_1_panto_placer_main_2;
    sw_seibu40000_1_panto_placer_main_1;
   }

    switch(FEAT_TRAINS, SELF, sw_seibu40000_1_fake_placer,position_in_vehid_chain +1){
   5: sw_seibu40000_1_end_f_gfx;
   6: sw_seibu40000_1_front_f_gfx;
    sw_seibu40000_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu40000_1_fake_placer_rev,position_in_vehid_chain_from_end ){
   5: sw_seibu40000_1_front_f_gfx;
   6: sw_seibu40000_1_end_f_gfx;
    sw_seibu40000_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu40000_1_fake_placer_gfx,vehicle_is_reversed){
   1: sw_seibu40000_1_fake_placer_rev;
   sw_seibu40000_1_fake_placer;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu40000_1_fake_placer_main,num_vehs_in_vehid_chain>11 - 1){
   1: sw_seibu40000_1_fake_placer_gfx;
     sw_seibu40000_1_panto_placer_main;
    }


    switch(FEAT_TRAINS, SELF, sw_seibu40000_1_end_gfx_main,position_in_vehid_chain_from_end){
   0: sw_seibu40000_1_end_gfx;
   default: sw_seibu40000_1_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu40000_1_front_gfx_main,position_in_vehid_chain_from_end){
   0: sw_seibu40000_1_front_gfx;
   default: sw_seibu40000_1_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu40000_livery_1,vehicle_type_id){
   mu_car_narrow:sw_seibu40000_1_end_gfx_main;
   sw_seibu40000_1_front_gfx_main;
    }




  switch(FEAT_TRAINS, PARENT, sw_seibu40000_2_front_gfx,vehicle_is_reversed){
    1: seibu40000_2_front_1;
    seibu40000_2_front;
  }
  switch(FEAT_TRAINS, PARENT, sw_seibu40000_2_front_f_gfx,vehicle_is_reversed){
    1: seibu40000_2_front_1_f;
    seibu40000_2_front_f;
  }

  switch(FEAT_TRAINS, PARENT, sw_seibu40000_2_end_gfx,vehicle_is_reversed){
    1: seibu40000_2_end;
    seibu40000_2_end_1;
  }
  switch(FEAT_TRAINS, PARENT, sw_seibu40000_2_end_f_gfx,vehicle_is_reversed){
    1: seibu40000_2_end_f;
    seibu40000_2_end_1_f;
  }


   switch(FEAT_TRAINS, SELF, sw_seibu40000_2_panto_placer_1,position_in_vehid_chain %8){
    0: seibu40000_2_mot_1_rev;
    1: seibu40000_2_wag_1;
    2: seibu40000_2_wag_2;
    3: seibu40000_2_mot_2_rev;
    4: seibu40000_2_wag_3;
    5: seibu40000_2_wag_4;
    6: seibu40000_2_mot_3_rev;
    seibu40000_2_wag_5;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu40000_2_panto_placer_1_rev,position_in_vehid_chain_from_end %8 -1){
    0: seibu40000_2_mot_1;
    1: seibu40000_2_wag_1;
    2: seibu40000_2_wag_2;
    3: seibu40000_2_mot_2;
    4: seibu40000_2_wag_3;
    5: seibu40000_2_wag_4;
    6: seibu40000_2_mot_3;
    seibu40000_2_wag_5;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu40000_2_panto_placer_main_1,vehicle_is_reversed){
    1: sw_seibu40000_2_panto_placer_1_rev;
    sw_seibu40000_2_panto_placer_1;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu40000_2_panto_placer_2,position_in_vehid_chain %6){
    0: seibu40000_2_mot_1_rev;
    1: seibu40000_2_wag_1;
    2: seibu40000_2_wag_2;
    3: seibu40000_2_wag_3;
    4: seibu40000_2_mot_2_rev;
    seibu40000_2_wag_4;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu40000_2_panto_placer_2_rev,position_in_vehid_chain_from_end %6 -1){
    0: seibu40000_2_mot_1;
    1: seibu40000_2_wag_1;
    2: seibu40000_2_wag_2;
    3: seibu40000_2_wag_3;
    4: seibu40000_2_mot_2;
    seibu40000_2_wag_4;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu40000_2_panto_placer_main_2,vehicle_is_reversed){
    1: sw_seibu40000_2_panto_placer_2_rev;
    sw_seibu40000_2_panto_placer_2;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu40000_2_panto_placer_3,position_in_vehid_chain %5){
    0: seibu40000_2_wag_1;
    1: seibu40000_2_mot_1_rev;
    2: seibu40000_2_wag_2;
    seibu40000_2_wag_3;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu40000_2_panto_placer_3_rev,position_in_vehid_chain_from_end %5 -1){
    0: seibu40000_2_wag_1;
    1: seibu40000_2_mot_1;
    2: seibu40000_2_wag_2;
    seibu40000_2_wag_3;
   }
   switch(FEAT_TRAINS, PARENT, sw_seibu40000_2_panto_placer_main_3,vehicle_is_reversed){
    1: sw_seibu40000_2_panto_placer_3_rev;
    sw_seibu40000_2_panto_placer_3;
   }


   switch(FEAT_TRAINS, SELF, sw_seibu40000_2_panto_placer_main,num_vehs_in_vehid_chain+1){
    5:sw_seibu40000_2_panto_placer_main_3;
    8:sw_seibu40000_2_panto_placer_main_2;
    11:sw_seibu40000_2_panto_placer_main_2;
    sw_seibu40000_2_panto_placer_main_1;
   }

    switch(FEAT_TRAINS, SELF, sw_seibu40000_2_fake_placer,position_in_vehid_chain +1){
   5: sw_seibu40000_2_end_f_gfx;
   6: sw_seibu40000_2_front_f_gfx;
    sw_seibu40000_2_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu40000_2_fake_placer_rev,position_in_vehid_chain_from_end ){
   5: sw_seibu40000_2_front_f_gfx;
   6: sw_seibu40000_2_end_f_gfx;
    sw_seibu40000_2_panto_placer_main;
    }
    switch(FEAT_TRAINS, PARENT, sw_seibu40000_2_fake_placer_gfx,vehicle_is_reversed){
   1: sw_seibu40000_2_fake_placer_rev;
   sw_seibu40000_2_fake_placer;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu40000_2_fake_placer_main,num_vehs_in_vehid_chain>11 - 1){
   1: sw_seibu40000_2_fake_placer_gfx;
     sw_seibu40000_2_panto_placer_main;
    }


    switch(FEAT_TRAINS, SELF, sw_seibu40000_2_end_gfx_main,position_in_vehid_chain_from_end){
   0: sw_seibu40000_2_end_gfx;
   default: sw_seibu40000_2_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu40000_2_front_gfx_main,position_in_vehid_chain_from_end){
   0: sw_seibu40000_2_front_gfx;
   default: sw_seibu40000_2_fake_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_seibu40000_livery_2,vehicle_type_id){
   mu_car_narrow:sw_seibu40000_2_end_gfx_main;
   sw_seibu40000_2_front_gfx_main;
    }





    random_switch(FEAT_TRAINS, PARENT, sw_seibu40000_livery_0_1){
      2:sw_seibu40000_livery_1;
      1:sw_seibu40000_livery_2;
    }

    switch(FEAT_TRAINS, SELF, sw_seibu40000_livery_0, current_year){
      0..2019:sw_seibu40000_livery_1;
      sw_seibu40000_livery_0_1;
    }

    switch(FEAT_TRAINS, PARENT, sw_seibu40000_lv, cargo_subtype){
      0:sw_seibu40000_livery_0;
      1:sw_seibu40000_livery_1;
      2:sw_seibu40000_livery_2;
  }

    switch(FEAT_TRAINS, SELF, sw_seibu40000_lv_desc, cargo_subtype){
      0:string(LV_RANDOM);
      1:string(LV_DEFAULT);
      2:string(LV_seibu40000_1);
    }



   switch(FEAT_TRAINS, SELF, sw_seibu40000_capacity_wag,position_in_vehid_chain_from_end){
    0: 124;
    default: 132;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu40000_capacity_head,position_in_vehid_chain){
    0: 124;
    default: sw_seibu40000_capacity_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu40000_capacity_main,vehicle_type_id){
    mu_car_narrow:sw_seibu40000_capacity_wag;
    sw_seibu40000_capacity_head;
   }

   switch(FEAT_TRAINS, SELF, sw_seibu40050_capacity_wag,position_in_vehid_chain_from_end){
    0: 135;
    default: 146;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu40050_capacity_head,position_in_vehid_chain){
    0: 135;
    default: sw_seibu40050_capacity_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_seibu40050_capacity_main,vehicle_type_id){
    mu_car_narrow:sw_seibu40050_capacity_wag;
    sw_seibu40050_capacity_head;
   }
  switch(FEAT_TRAINS, SELF, sw_seibu40000_capacity, build_year){
   0..2018:sw_seibu40000_capacity_main;
   sw_seibu40050_capacity_main;
    }

  switch(FEAT_TRAINS, SELF, sw_seibu40000_power,position_in_vehid_chain_from_end%9){
     1..2:return 190;
     4..5:return 190;
   7:return 190;
     return 0;
  }
  switch(FEAT_TRAINS, SELF, sw_seibu40000_head_power,num_vehs_in_consist){
   39: return 190;
   return 0;
  }
  switch(FEAT_TRAINS, SELF, sw_seibu40000_power_main,vehicle_type_id){
   mu_car_narrow:sw_seibu40000_power()*4*1342/1000;
   sw_seibu40000_head_power()*4*1342/1000;
  }

  switch(FEAT_TRAINS, SELF, seibu40000_attach_vehid, vehicle_type_id) {
   mu_car: return string(STR_ATTACH_1067_ERROR);
   mu_car_metro: return string(STR_ATTACH_1067_ERROR);
   return CB_RESULT_ATTACH_ALLOW;
  }

item(FEAT_TRAINS, seibu40000,2123) {
 property {
  cargo_capacity: 130;
  ai_special_flag: AI_FLAG_PASSENGER;
  sprite_id: SPRITE_ID_NEW_TRAIN;
  misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
  refittable_cargo_classes: bitmask(CC_PASSENGERS);
  non_refittable_cargo_classes: bitmask();
  refit_cost: 0;
  dual_headed: 0;
  ai_engine_rank: 0;
  running_cost_base: RUNNING_COST_ELECTRIC;
  engine_class: ENGINE_CLASS_ELECTRIC;
  visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
  tractive_effort_coefficient: 0.3;
  air_drag_coefficient: 0.07;
  bitmask_vehicle_info: 0;

  climates_available: param_disable_seibu == 0 ? ALL_CLIMATES : NO_CLIMATE;
  name: string(STR_TRAIN_NAME, string(STR_NAME_SEIBU), "40000", string(STR_NAME_SERIES));
  introduction_date: date(2016, 1, 1);
  model_life: VEHICLE_NEVER_EXPIRES;
  vehicle_life: 35;
  reliability_decay: 10;

  cost_factor: 22;
  running_cost_factor: 51;
  speed: 120 km/h;
  track_type: TR_1067_DC;
  power: 400 kW;
  weight: 32 ton;
  loading_speed: param_loading_2D;
 }
 graphics {
  purchase: seibu40000_purchase;
  default: sw_seibu40000_lv;

  power: sw_seibu40000_power_main;
  loading_speed: param_loading_4D;
  cargo_capacity: sw_seibu40000_capacity()*param_capacity_mod/3;
  can_attach_wagon: seibu40000_attach_vehid;
  cargo_subtype_text:sw_seibu40000_lv_desc;
  additional_text:
  string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 10)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string( STR_OPERATOR, string(STR_SEIBU)));
    }
    livery_override(mu_car_narrow){
   loading_speed: param_loading_4D;
   cargo_capacity: sw_seibu40000_capacity()*param_capacity_mod/3;
   default: sw_seibu40000_lv;
   power: sw_seibu40000_power_main;
   weight: 31;
  }
}
# 85 "src/_private.pnml" 2





item(FEAT_TRAINS, sotetsu6000, 2204) {}
item(FEAT_TRAINS, sotetsu7000, 2205) {}
item(FEAT_TRAINS, sotetsu7000n, 2206) {}
item(FEAT_TRAINS, sotetsu8000, 2207) {}
item(FEAT_TRAINS, sotetsu9000, 2208) {}
item(FEAT_TRAINS, sotetsu10000, 2209) {}
item(FEAT_TRAINS, sotetsu11000, 2210) {}
item(FEAT_TRAINS, sotetsu12000, 2211) {}
item(FEAT_TRAINS, sotetsu20000, 2212) {}

# 1 "src/private/Kanto/sotetsu/sotetsu6000.pnml" 1

 switch(FEAT_TRAINS, PARENT, sw_sotetsu6000_ac, current_year>1976||build_year>1971){
  1: ac_vents_ac_1;
  ac_vents_1;
 }
 switch(FEAT_TRAINS, PARENT, sw_sotetsu6000_ac_rev, current_year>1976||build_year>1971){
  1: ac_vents_ac_1_rev;
  ac_vents_1_rev;
 }
 switch(FEAT_TRAINS, PARENT, sw_sotetsu6000_ac_mot_rev, current_year>1976||build_year>1971){
  1: ac_vents_ac_1_mot_rev;
  ac_vents_1_mot_rev;
 }
 switch(FEAT_TRAINS, PARENT, sw_sotetsu6000_ac_wag, current_year>1976||build_year>1971){
  1: ac_vents_ac_1_wag;
  ac_vents_1_wag;
 }

  spriteset(sotetsu6000_1_front_base_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu6000/sotetsu6000_1.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(sotetsu6000_1_car_base_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu6000/sotetsu6000_1.png"){ tmpl_purchase_2c(0, 25) }
  switch(FEAT_TRAINS, SELF, sotetsu6000_purchase_1, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_sotetsu; 1: roof_gray_med_h1_c1; 2: sotetsu6000_1_front_base_c1; 3: ac_vents_1_c1; 4: roof_gray_med_c2; 5: sotetsu6000_1_car_base_c2; 6: ac_vents_1_c2;}

 spriteset(sotetsu6000n_1_front_base_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu6000/sotetsu6000n_1.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(sotetsu6000n_1_car_base_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu6000/sotetsu6000n_1.png"){ tmpl_purchase_2c(0, 25) }
  switch(FEAT_TRAINS, SELF, sotetsu6000n_purchase_1, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_sotetsu; 1: roof_gray_med_h1_c1; 2: sotetsu6000n_1_front_base_c1; 3: ac_vents_1_c1; 4: roof_gray_med_c2; 5: sotetsu6000n_1_car_base_c2; 6: ac_vents_1_c2;}

 spriteset(sotetsu6000n_2_front_base_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu6000/sotetsu6000n_2.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(sotetsu6000n_2_car_base_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu6000/sotetsu6000n_2.png"){ tmpl_purchase_2c(0, 25) }
  switch(FEAT_TRAINS, SELF, sotetsu6000n_purchase_2, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_sotetsu; 1: roof_gray_med_h1_c1; 2: sotetsu6000n_2_front_base_c1; 3: ac_vents_1_c1; 4: roof_gray_med_c2; 5: sotetsu6000n_2_car_base_c2; 6: ac_vents_1_c2;}

 switch(FEAT_TRAINS, PARENT, sotetsu6000_purchase, current_year){
  0..1970: sotetsu6000_purchase_1;
  1971:sotetsu6000n_purchase_1;
  sotetsu6000n_purchase_2;
 }


 spriteset(sotetsu6000_1_front_base, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu6000/sotetsu6000_1.png"){ tmpl_std(0, 0) }
 spriteset(sotetsu6000_1_end_base, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu6000/sotetsu6000_1.png"){ tmpl_std_rev(0, 0) }
 spriteset(sotetsu6000_1_car_base, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu6000/sotetsu6000_1.png"){ tmpl_symm(0, 25) }
 spriteset(sotetsu6000_lights_rear, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu6000/sotetsu6000_lights.png"){ tmpl_high_skirt(0, 0) }

 switch(FEAT_TRAINS, SELF, sotetsu6000_1_front, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu6000_1_front_base; 2: sotetsu6000_lights_rear; 3: sw_sotetsu6000_ac;}
 switch(FEAT_TRAINS, SELF, sotetsu6000_1_end, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu6000_1_end_base; 2: sw_sotetsu6000_ac_rev;}
 switch(FEAT_TRAINS, SELF, sotetsu6000_1_front_mot, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu6000_1_front_base; 2: sotetsu6000_lights_rear; 3: sw_sotetsu6000_ac_mot_rev; 4: panto_d_arm_single;}
 switch(FEAT_TRAINS, SELF, sotetsu6000_1_end_mot, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu6000_1_end_base; 2: sw_sotetsu6000_ac_mot_rev; 3: panto_d_arm_single_rev;}
 switch(FEAT_TRAINS, SELF, sotetsu6000_1_wag, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu6000_1_car_base; 2: sw_sotetsu6000_ac_wag;}
 switch(FEAT_TRAINS, SELF, sotetsu6000_1_mot, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu6000_1_car_base; 2: sw_sotetsu6000_ac_mot_rev; 3: panto_d_arm_single;}
 switch(FEAT_TRAINS, SELF, sotetsu6000_1_mot_rev, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu6000_1_car_base; 2: sw_sotetsu6000_ac_mot_rev; 3: panto_d_arm_single_rev;}
 switch(FEAT_TRAINS, SELF, sotetsu6000_1_front_f, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu6000_1_front_base; 2: sw_sotetsu6000_ac;}
 switch(FEAT_TRAINS, SELF, sotetsu6000_1_front_mot_f, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu6000_1_front_base; 2: sw_sotetsu6000_ac_mot_rev; 3: panto_d_arm_single;}

 spriteset(sotetsu6000_2_front_base, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu6000/sotetsu6000_2.png"){ tmpl_std(0, 0) }
 spriteset(sotetsu6000_2_end_base, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu6000/sotetsu6000_2.png"){ tmpl_std_rev(0, 0) }
 spriteset(sotetsu6000_2_car_base, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu6000/sotetsu6000_2.png"){ tmpl_symm(0, 25) }

 switch(FEAT_TRAINS, SELF, sotetsu6000_2_front, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu6000_2_front_base; 2: sotetsu6000_lights_rear; 3: sw_sotetsu6000_ac;}
 switch(FEAT_TRAINS, SELF, sotetsu6000_2_end, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu6000_2_end_base; 2: sw_sotetsu6000_ac_rev;}
 switch(FEAT_TRAINS, SELF, sotetsu6000_2_front_mot, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu6000_2_front_base; 2: sotetsu6000_lights_rear; 3: sw_sotetsu6000_ac_mot_rev; 4: panto_d_arm_single;}
 switch(FEAT_TRAINS, SELF, sotetsu6000_2_end_mot, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu6000_2_end_base; 2: sw_sotetsu6000_ac_mot_rev; 3: panto_d_arm_single_rev;}
 switch(FEAT_TRAINS, SELF, sotetsu6000_2_wag, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu6000_2_car_base; 2: sw_sotetsu6000_ac_wag;}
 switch(FEAT_TRAINS, SELF, sotetsu6000_2_mot, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu6000_2_car_base; 2: sw_sotetsu6000_ac_mot_rev; 3: panto_d_arm_single;}
 switch(FEAT_TRAINS, SELF, sotetsu6000_2_mot_rev, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu6000_2_car_base; 2: sw_sotetsu6000_ac_mot_rev; 3: panto_d_arm_single_rev;}
 switch(FEAT_TRAINS, SELF, sotetsu6000_2_front_f, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu6000_2_front_base; 2: sw_sotetsu6000_ac;}
 switch(FEAT_TRAINS, SELF, sotetsu6000_2_front_mot_f, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu6000_2_front_base; 2: sw_sotetsu6000_ac_mot_rev; 3: panto_d_arm_single;}

 spriteset(sotetsu6000_3_front_base, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu6000/sotetsu6000_3.png"){ tmpl_std(0, 0) }
 spriteset(sotetsu6000_3_end_base, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu6000/sotetsu6000_3.png"){ tmpl_std_rev(0, 0) }

 switch(FEAT_TRAINS, SELF, sotetsu6000_3_front_mot, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu6000_3_front_base; 2: sotetsu6000_lights_rear; 3: sw_sotetsu6000_ac_mot_rev; 4: panto_d_arm_single;}
 switch(FEAT_TRAINS, SELF, sotetsu6000_3_end_mot, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu6000_3_end_base; 2: sw_sotetsu6000_ac_mot_rev; 3: panto_d_arm_single_rev;}


 spriteset(sotetsu6000n_1_front_base, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu6000/sotetsu6000n_1.png"){ tmpl_std(0, 0) }
 spriteset(sotetsu6000n_1_end_base, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu6000/sotetsu6000n_1.png"){ tmpl_std_rev(0, 0) }
 spriteset(sotetsu6000n_1_car_base, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu6000/sotetsu6000n_1.png"){ tmpl_symm(0, 25) }
 spriteset(sotetsu6000n_lights_rear, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu6000/sotetsu6000n_lights.png"){ tmpl_high_skirt(0, 0) }

 switch(FEAT_TRAINS, SELF, sotetsu6000n_1_front, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu6000n_1_front_base; 2: sotetsu6000n_lights_rear; 3: sw_sotetsu6000_ac;}
 switch(FEAT_TRAINS, SELF, sotetsu6000n_1_end, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu6000n_1_end_base; 2: sw_sotetsu6000_ac_rev;}
 switch(FEAT_TRAINS, SELF, sotetsu6000n_1_front_mot, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu6000n_1_front_base; 2: sotetsu6000n_lights_rear; 3: sw_sotetsu6000_ac_mot_rev; 4: panto_d_arm_single;}
 switch(FEAT_TRAINS, SELF, sotetsu6000n_1_end_mot, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu6000n_1_end_base; 2: sw_sotetsu6000_ac_mot_rev; 3: panto_d_arm_single_rev;}
 switch(FEAT_TRAINS, SELF, sotetsu6000n_1_wag, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu6000n_1_car_base; 2: sw_sotetsu6000_ac_wag;}
 switch(FEAT_TRAINS, SELF, sotetsu6000n_1_mot, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu6000n_1_car_base; 2: sw_sotetsu6000_ac_mot_rev; 3: panto_d_arm_single;}
 switch(FEAT_TRAINS, SELF, sotetsu6000n_1_mot_rev, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu6000n_1_car_base; 2: sw_sotetsu6000_ac_mot_rev; 3: panto_d_arm_single_rev;}
 switch(FEAT_TRAINS, SELF, sotetsu6000n_1_front_f, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu6000n_1_front_base; 2: sw_sotetsu6000_ac;}

 spriteset(sotetsu6000n_2_front_base, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu6000/sotetsu6000n_2.png"){ tmpl_std(0, 0) }
 spriteset(sotetsu6000n_2_end_base, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu6000/sotetsu6000n_2.png"){ tmpl_std_rev(0, 0) }
 spriteset(sotetsu6000n_2_car_base, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu6000/sotetsu6000n_2.png"){ tmpl_symm(0, 25) }

 switch(FEAT_TRAINS, SELF, sotetsu6000n_2_front, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu6000n_2_front_base; 2: sotetsu6000n_lights_rear; 3: sw_sotetsu6000_ac;}
 switch(FEAT_TRAINS, SELF, sotetsu6000n_2_end, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu6000n_2_end_base; 2: sw_sotetsu6000_ac_rev;}
 switch(FEAT_TRAINS, SELF, sotetsu6000n_2_front_mot, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu6000n_2_front_base; 2: sotetsu6000n_lights_rear; 3: sw_sotetsu6000_ac_mot_rev; 4: panto_d_arm_single;}
 switch(FEAT_TRAINS, SELF, sotetsu6000n_2_end_mot, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu6000n_2_end_base; 2: sw_sotetsu6000_ac_mot_rev; 3: panto_d_arm_single_rev;}
 switch(FEAT_TRAINS, SELF, sotetsu6000n_2_wag, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu6000n_2_car_base; 2: sw_sotetsu6000_ac_wag;}
 switch(FEAT_TRAINS, SELF, sotetsu6000n_2_mot, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu6000n_2_car_base; 2: sw_sotetsu6000_ac_mot_rev; 3: panto_d_arm_single;}
 switch(FEAT_TRAINS, SELF, sotetsu6000n_2_mot_rev, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu6000n_2_car_base; 2: sw_sotetsu6000_ac_mot_rev; 3: panto_d_arm_single_rev;}
 switch(FEAT_TRAINS, SELF, sotetsu6000n_2_front_f, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu6000n_2_front_base; 2: sw_sotetsu6000_ac;}




   switch(FEAT_TRAINS, PARENT, sw_sotetsu6000_1_front_gfx,vehicle_is_reversed){
    1: sotetsu6000_1_front;
    sotetsu6000_1_front_mot;
   }
   switch(FEAT_TRAINS, PARENT, sw_sotetsu6000_1_end_gfx,vehicle_is_reversed){
    1: sotetsu6000_1_end_mot;
    sotetsu6000_1_end;
   }


    switch(FEAT_TRAINS, SELF, sw_sotetsu6000_1_panto_placer_1,position_in_vehid_chain %2){
     1: sotetsu6000_1_mot;
     sotetsu6000_1_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_sotetsu6000_1_panto_placer_1_rev,position_in_vehid_chain_from_end %2){
     0: sotetsu6000_1_mot_rev;
     sotetsu6000_1_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_sotetsu6000_1_panto_placer_main_1,vehicle_is_reversed){
     1: sw_sotetsu6000_1_panto_placer_1_rev;
     sw_sotetsu6000_1_panto_placer_1;
    }

    switch(FEAT_TRAINS, SELF, sw_sotetsu6000_1_panto_placer_2,position_in_vehid_chain %8){
     1: sotetsu6000_1_mot;
     4: sotetsu6000_1_mot;
     5: sotetsu6000_1_mot;
     sotetsu6000_1_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_sotetsu6000_1_panto_placer_2_rev,position_in_vehid_chain_from_end %8-1){
     1: sotetsu6000_1_mot_rev;
     4: sotetsu6000_1_mot_rev;
     5: sotetsu6000_1_mot_rev;
     sotetsu6000_1_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_sotetsu6000_1_panto_placer_main_2,vehicle_is_reversed){
     1: sw_sotetsu6000_1_panto_placer_2_rev;
     sw_sotetsu6000_1_panto_placer_2;
    }

    random_switch(FEAT_TRAINS, PARENT, sw_sotetsu6000_1_panto_placer_main_0){
     2: sw_sotetsu6000_1_panto_placer_main_1;
     1: sw_sotetsu6000_1_panto_placer_main_2;
    }
    switch(FEAT_TRAINS, SELF, sw_sotetsu6000_1_panto_placer_main,num_vehs_in_vehid_chain+1){
     8: sw_sotetsu6000_1_panto_placer_main_0;
     sw_sotetsu6000_1_panto_placer_main_1;
    }

    switch(FEAT_TRAINS, SELF, sw_sotetsu6000_1_fake_placer_1,position_in_vehid_chain){
     2: sotetsu6000_1_end;
     3: sotetsu6000_1_front_mot_f;
     sw_sotetsu6000_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_sotetsu6000_1_fake_placer_1_rev,position_in_vehid_chain_from_end-1){
     2: sotetsu6000_1_front_f;
     3: sotetsu6000_1_end_mot;
     sw_sotetsu6000_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, PARENT, sw_sotetsu6000_1_fake_placer_1_gfx,vehicle_is_reversed){
     1: sw_sotetsu6000_1_fake_placer_1_rev;
     sw_sotetsu6000_1_fake_placer_1;
    }

    switch(FEAT_TRAINS, SELF, sw_sotetsu6000_1_fake_placer_2,position_in_vehid_chain){
     1: sotetsu6000_1_front_mot_f;
     4: sotetsu6000_1_end;
     5: sotetsu6000_1_front_mot_f;
     sw_sotetsu6000_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_sotetsu6000_1_fake_placer_2_rev,position_in_vehid_chain_from_end-1){
     1: sotetsu6000_1_end_mot;
     4: sotetsu6000_1_front_f;
     5: sotetsu6000_1_end_mot;
     sw_sotetsu6000_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, PARENT, sw_sotetsu6000_1_fake_placer_2_gfx,vehicle_is_reversed){
     1: sw_sotetsu6000_1_fake_placer_2_rev;
     sw_sotetsu6000_1_fake_placer_2;
    }

   switch(FEAT_TRAINS, SELF, sw_sotetsu6000_1_fake_placer_main,num_vehs_in_vehid_chain+1){
    0..7: sw_sotetsu6000_1_panto_placer_main;
    10: sw_sotetsu6000_1_fake_placer_2_gfx;
    sw_sotetsu6000_1_fake_placer_1_gfx;
   }

   switch(FEAT_TRAINS, SELF, sw_sotetsu6000_1_end_gfx_main,position_in_vehid_chain_from_end){
    0: sw_sotetsu6000_1_end_gfx;
    default: sw_sotetsu6000_1_fake_placer_main;
   }
   switch(FEAT_TRAINS, SELF, sw_sotetsu6000_1_front_gfx_main,position_in_vehid_chain_from_end){
    0: sw_sotetsu6000_1_front_gfx;
    default: sw_sotetsu6000_1_fake_placer_main;
   }
   switch(FEAT_TRAINS, SELF, sw_sotetsu6000_livery_1,vehicle_type_id){
    mu_car_narrow:sw_sotetsu6000_1_end_gfx_main;
    sw_sotetsu6000_1_front_gfx_main;
   }



   switch(FEAT_TRAINS, PARENT, sw_sotetsu6000_2_front_gfx,vehicle_is_reversed){
    1: sotetsu6000_2_front;
    sotetsu6000_2_front_mot;
   }
   switch(FEAT_TRAINS, PARENT, sw_sotetsu6000_2_end_gfx,vehicle_is_reversed){
    1: sotetsu6000_2_end_mot;
    sotetsu6000_2_end;
   }


    switch(FEAT_TRAINS, SELF, sw_sotetsu6000_2_panto_placer_1,position_in_vehid_chain %2){
     1: sotetsu6000_2_mot;
     sotetsu6000_2_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_sotetsu6000_2_panto_placer_1_rev,position_in_vehid_chain_from_end %2){
     0: sotetsu6000_2_mot_rev;
     sotetsu6000_2_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_sotetsu6000_2_panto_placer_main_1,vehicle_is_reversed){
     1: sw_sotetsu6000_2_panto_placer_1_rev;
     sw_sotetsu6000_2_panto_placer_1;
    }

    switch(FEAT_TRAINS, SELF, sw_sotetsu6000_2_panto_placer_2,position_in_vehid_chain %8){
     1: sotetsu6000_2_mot;
     4: sotetsu6000_2_mot;
     5: sotetsu6000_2_mot;
     sotetsu6000_2_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_sotetsu6000_2_panto_placer_2_rev,position_in_vehid_chain_from_end %8-1){
     1: sotetsu6000_2_mot_rev;
     4: sotetsu6000_2_mot_rev;
     5: sotetsu6000_2_mot_rev;
     sotetsu6000_2_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_sotetsu6000_2_panto_placer_main_2,vehicle_is_reversed){
     1: sw_sotetsu6000_2_panto_placer_2_rev;
     sw_sotetsu6000_2_panto_placer_2;
    }

    random_switch(FEAT_TRAINS, PARENT, sw_sotetsu6000_2_panto_placer_main_0){
     2: sw_sotetsu6000_2_panto_placer_main_1;
     1: sw_sotetsu6000_2_panto_placer_main_2;
    }
    switch(FEAT_TRAINS, SELF, sw_sotetsu6000_2_panto_placer_main,num_vehs_in_vehid_chain+1){
     8: sw_sotetsu6000_2_panto_placer_main_0;
     sw_sotetsu6000_2_panto_placer_main_1;
    }

    switch(FEAT_TRAINS, SELF, sw_sotetsu6000_2_fake_placer_1,position_in_vehid_chain){
     2: sotetsu6000_2_end;
     3: sotetsu6000_2_front_mot_f;
     sw_sotetsu6000_2_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_sotetsu6000_2_fake_placer_1_rev,position_in_vehid_chain_from_end-1){
     2: sotetsu6000_2_front_f;
     3: sotetsu6000_2_end_mot;
     sw_sotetsu6000_2_panto_placer_main;
    }
    switch(FEAT_TRAINS, PARENT, sw_sotetsu6000_2_fake_placer_1_gfx,vehicle_is_reversed){
     1: sw_sotetsu6000_2_fake_placer_1_rev;
     sw_sotetsu6000_2_fake_placer_1;
    }

    switch(FEAT_TRAINS, SELF, sw_sotetsu6000_2_fake_placer_2,position_in_vehid_chain){
     1: sotetsu6000_2_front_mot_f;
     4: sotetsu6000_2_end;
     5: sotetsu6000_2_front_mot_f;
     sw_sotetsu6000_2_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_sotetsu6000_2_fake_placer_2_rev,position_in_vehid_chain_from_end-1){
     1: sotetsu6000_2_end_mot;
     4: sotetsu6000_2_front_f;
     5: sotetsu6000_2_end_mot;
     sw_sotetsu6000_2_panto_placer_main;
    }
    switch(FEAT_TRAINS, PARENT, sw_sotetsu6000_2_fake_placer_2_gfx,vehicle_is_reversed){
     1: sw_sotetsu6000_2_fake_placer_2_rev;
     sw_sotetsu6000_2_fake_placer_2;
    }

   switch(FEAT_TRAINS, SELF, sw_sotetsu6000_2_fake_placer_main,num_vehs_in_vehid_chain+1){
    0..7: sw_sotetsu6000_2_panto_placer_main;
    10: sw_sotetsu6000_2_fake_placer_2_gfx;
    sw_sotetsu6000_2_fake_placer_1_gfx;
   }

   switch(FEAT_TRAINS, SELF, sw_sotetsu6000_2_end_gfx_main,position_in_vehid_chain_from_end){
    0: sw_sotetsu6000_2_end_gfx;
    default: sw_sotetsu6000_2_fake_placer_main;
   }
   switch(FEAT_TRAINS, SELF, sw_sotetsu6000_2_front_gfx_main,position_in_vehid_chain_from_end){
    0: sw_sotetsu6000_2_front_gfx;
    default: sw_sotetsu6000_2_fake_placer_main;
   }
   switch(FEAT_TRAINS, SELF, sw_sotetsu6000_livery_2,vehicle_type_id){
    mu_car_narrow:sw_sotetsu6000_2_end_gfx_main;
    sw_sotetsu6000_2_front_gfx_main;
   }


   switch(FEAT_TRAINS, PARENT, sw_sotetsu6000_3_front_gfx,vehicle_is_reversed){
    1: sotetsu6000_2_front;
    sotetsu6000_3_front_mot;
   }
   switch(FEAT_TRAINS, PARENT, sw_sotetsu6000_3_end_gfx,vehicle_is_reversed){
    1: sotetsu6000_3_end_mot;
    sotetsu6000_2_end;
   }


   switch(FEAT_TRAINS, SELF, sw_sotetsu6000_3_end_gfx_main,position_in_vehid_chain_from_end){
    0: sw_sotetsu6000_3_end_gfx;
    default: sw_sotetsu6000_2_fake_placer_main;
   }
   switch(FEAT_TRAINS, SELF, sw_sotetsu6000_3_front_gfx_main,position_in_vehid_chain_from_end){
    0: sw_sotetsu6000_3_front_gfx;
    default: sw_sotetsu6000_2_fake_placer_main;
   }
   switch(FEAT_TRAINS, SELF, sw_sotetsu6000_livery_3,vehicle_type_id){
    mu_car_narrow:sw_sotetsu6000_3_end_gfx_main;
    sw_sotetsu6000_3_front_gfx_main;
   }



   switch(FEAT_TRAINS, PARENT, sw_sotetsu6000n_1_front_gfx,vehicle_is_reversed==0&&num_vehs_in_consist<3){
    1: sotetsu6000n_1_front_mot;
    sotetsu6000n_1_front;
   }
   switch(FEAT_TRAINS, PARENT, sw_sotetsu6000n_1_end_gfx,vehicle_is_reversed==1&&num_vehs_in_consist<3){
    1: sotetsu6000n_1_end_mot;
    sotetsu6000n_1_end;
   }


    switch(FEAT_TRAINS, SELF, sw_sotetsu6000n_1_panto_placer_1,position_in_vehid_chain %4){
     0: sotetsu6000n_1_mot;
     1: sotetsu6000n_1_mot;
     sotetsu6000n_1_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_sotetsu6000n_1_panto_placer_1_rev,position_in_vehid_chain_from_end %4-1){
     0: sotetsu6000n_1_mot_rev;
     1: sotetsu6000n_1_mot_rev;
     sotetsu6000n_1_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_sotetsu6000n_1_panto_placer_main_1,vehicle_is_reversed){
     1: sw_sotetsu6000n_1_panto_placer_1_rev;
     sw_sotetsu6000n_1_panto_placer_1;
    }

    switch(FEAT_TRAINS, SELF, sw_sotetsu6000n_1_panto_placer_2,position_in_vehid_chain %8){
     0: sotetsu6000n_1_mot;
     3: sotetsu6000n_1_mot;
     sotetsu6000n_1_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_sotetsu6000n_1_panto_placer_2_rev,position_in_vehid_chain_from_end %8-1){
     0: sotetsu6000n_1_mot_rev;
     3: sotetsu6000n_1_mot_rev;
     sotetsu6000n_1_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_sotetsu6000n_1_panto_placer_main_2,vehicle_is_reversed){
     1: sw_sotetsu6000n_1_panto_placer_2_rev;
     sw_sotetsu6000n_1_panto_placer_2;
    }

    switch(FEAT_TRAINS, SELF, sw_sotetsu6000n_1_panto_placer_main,num_vehs_in_vehid_chain+1){
     6: sw_sotetsu6000n_1_panto_placer_main_2;
     sw_sotetsu6000n_1_panto_placer_main_1;
    }

    switch(FEAT_TRAINS, SELF, sw_sotetsu6000n_1_fake_placer_1,position_in_vehid_chain){
     2: sotetsu6000n_1_end;
     3: sotetsu6000n_1_front_f;
     sw_sotetsu6000n_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_sotetsu6000n_1_fake_placer_1_rev,position_in_vehid_chain_from_end-1){
     2: sotetsu6000n_1_front_f;
     3: sotetsu6000n_1_end;
     sw_sotetsu6000n_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, PARENT, sw_sotetsu6000n_1_fake_placer_1_gfx,vehicle_is_reversed){
     1: sw_sotetsu6000n_1_fake_placer_1_rev;
     sw_sotetsu6000n_1_fake_placer_1;
    }

   switch(FEAT_TRAINS, SELF, sw_sotetsu6000n_1_fake_placer_main,num_vehs_in_vehid_chain+1){
    0..7: sw_sotetsu6000n_1_panto_placer_main;
    sw_sotetsu6000n_1_fake_placer_1_gfx;
   }

   switch(FEAT_TRAINS, SELF, sw_sotetsu6000n_1_end_gfx_main,position_in_vehid_chain_from_end){
    0: sw_sotetsu6000n_1_end_gfx;
    default: sw_sotetsu6000n_1_fake_placer_main;
   }
   switch(FEAT_TRAINS, SELF, sw_sotetsu6000n_1_front_gfx_main,position_in_vehid_chain_from_end){
    0: sw_sotetsu6000n_1_front_gfx;
    default: sw_sotetsu6000n_1_fake_placer_main;
   }
   switch(FEAT_TRAINS, SELF, sw_sotetsu6000n_livery_1,vehicle_type_id){
    mu_car_narrow:sw_sotetsu6000n_1_end_gfx_main;
    sw_sotetsu6000n_1_front_gfx_main;
   }




   switch(FEAT_TRAINS, PARENT, sw_sotetsu6000n_2_front_gfx,vehicle_is_reversed==0&&num_vehs_in_consist<3){
    1: sotetsu6000n_2_front_mot;
    sotetsu6000n_2_front;
   }
   switch(FEAT_TRAINS, PARENT, sw_sotetsu6000n_2_end_gfx,vehicle_is_reversed==1&&num_vehs_in_consist<3){
    1: sotetsu6000n_2_end_mot;
    sotetsu6000n_2_end;
   }


    switch(FEAT_TRAINS, SELF, sw_sotetsu6000n_2_panto_placer_1,position_in_vehid_chain %4){
     0: sotetsu6000n_2_mot;
     1: sotetsu6000n_2_mot;
     sotetsu6000n_2_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_sotetsu6000n_2_panto_placer_1_rev,position_in_vehid_chain_from_end %4-1){
     0: sotetsu6000n_2_mot_rev;
     1: sotetsu6000n_2_mot_rev;
     sotetsu6000n_2_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_sotetsu6000n_2_panto_placer_main_1,vehicle_is_reversed){
     1: sw_sotetsu6000n_2_panto_placer_1_rev;
     sw_sotetsu6000n_2_panto_placer_1;
    }

    switch(FEAT_TRAINS, SELF, sw_sotetsu6000n_2_panto_placer_2,position_in_vehid_chain %8){
     0: sotetsu6000n_2_mot;
     3: sotetsu6000n_2_mot;
     sotetsu6000n_2_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_sotetsu6000n_2_panto_placer_2_rev,position_in_vehid_chain_from_end %8-1){
     0: sotetsu6000n_2_mot_rev;
     3: sotetsu6000n_2_mot_rev;
     sotetsu6000n_2_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_sotetsu6000n_2_panto_placer_main_2,vehicle_is_reversed){
     1: sw_sotetsu6000n_2_panto_placer_2_rev;
     sw_sotetsu6000n_2_panto_placer_2;
    }

    switch(FEAT_TRAINS, SELF, sw_sotetsu6000n_2_panto_placer_main,num_vehs_in_vehid_chain+1){
     6: sw_sotetsu6000n_2_panto_placer_main_2;
     sw_sotetsu6000n_2_panto_placer_main_1;
    }

    switch(FEAT_TRAINS, SELF, sw_sotetsu6000n_2_fake_placer_1,position_in_vehid_chain){
     2: sotetsu6000n_2_end;
     3: sotetsu6000n_2_front_f;
     sw_sotetsu6000n_2_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_sotetsu6000n_2_fake_placer_1_rev,position_in_vehid_chain_from_end-1){
     2: sotetsu6000n_2_front_f;
     3: sotetsu6000n_2_end;
     sw_sotetsu6000n_2_panto_placer_main;
    }
    switch(FEAT_TRAINS, PARENT, sw_sotetsu6000n_2_fake_placer_1_gfx,vehicle_is_reversed){
     1: sw_sotetsu6000n_2_fake_placer_1_rev;
     sw_sotetsu6000n_2_fake_placer_1;
    }

   switch(FEAT_TRAINS, SELF, sw_sotetsu6000n_2_fake_placer_main,num_vehs_in_vehid_chain+1){
    0..7: sw_sotetsu6000n_2_panto_placer_main;
    sw_sotetsu6000n_2_fake_placer_1_gfx;
   }

   switch(FEAT_TRAINS, SELF, sw_sotetsu6000n_2_end_gfx_main,position_in_vehid_chain_from_end){
    0: sw_sotetsu6000n_2_end_gfx;
    default: sw_sotetsu6000n_2_fake_placer_main;
   }
   switch(FEAT_TRAINS, SELF, sw_sotetsu6000n_2_front_gfx_main,position_in_vehid_chain_from_end){
    0: sw_sotetsu6000n_2_front_gfx;
    default: sw_sotetsu6000n_2_fake_placer_main;
   }
   switch(FEAT_TRAINS, SELF, sw_sotetsu6000n_livery_2,vehicle_type_id){
    mu_car_narrow:sw_sotetsu6000n_2_end_gfx_main;
    sw_sotetsu6000n_2_front_gfx_main;
   }




 random_switch(FEAT_TRAINS, PARENT, sw_sotetsu6000_livery_0_1){
  2:sw_sotetsu6000_livery_2;
  1:sw_sotetsu6000_livery_3;
 }
 switch(FEAT_TRAINS, PARENT, sw_sotetsu6000_livery_0_2, current_year){
  0..1972: sw_sotetsu6000_livery_1;
  1973..1975:sw_sotetsu6000_livery_2;
  sw_sotetsu6000_livery_0_1;
 }
 switch(FEAT_TRAINS, PARENT, sw_sotetsu6000n_livery_0, current_year){
  0..1971: sw_sotetsu6000n_livery_1;
  sw_sotetsu6000n_livery_2;
 }
 switch(FEAT_TRAINS, PARENT, sw_sotetsu6000_livery_0, build_year){
  0..1970: sw_sotetsu6000_livery_0_2;
  sw_sotetsu6000n_livery_0;
 }
 switch(FEAT_TRAINS, SELF, sw_sotetsu6000_lv, cargo_subtype){
  0:sw_sotetsu6000_livery_0;
  1:sw_sotetsu6000_livery_1;
  2:sw_sotetsu6000_livery_2;
  3:sw_sotetsu6000_livery_3;
  4:sw_sotetsu6000n_livery_1;
  5:sw_sotetsu6000n_livery_2;
 }
 switch(FEAT_TRAINS, SELF, sw_sotetsu6000_lv_desc, cargo_subtype){
  0:string(LV_RANDOM);
  1:string(LV_DATED, string(STR_CONCAT_2, string(STR_TRAIN_NAME_SHORT, "6000", string(STR_NAME_SERIES)), string(LV_blue_red_belt)), 1961);
  2:string(LV_DATED, string(STR_CONCAT_2, string(STR_TRAIN_NAME_SHORT, "6000", string(STR_NAME_SERIES)), string(LV_GREEN)), 1973);
  3:string(LV_DATED, string(STR_CONCAT_2, string(STR_TRAIN_NAME_SHORT, "6000", string(STR_NAME_SERIES)), string(LV_ALUMI)), 1976);
  4:string(LV_DATED, string(STR_CONCAT_2, string(STR_TRAIN_NAME, string(STR_NAME_NEW, "6000"), string(STR_NAME_SERIES)), string(LV_blue_red_belt)), 1971);
  5:string(LV_DATED, string(STR_CONCAT_2, string(STR_TRAIN_NAME, string(STR_NAME_NEW, "6000"), string(STR_NAME_SERIES)), string(LV_GREEN)), 1972);
 }



  switch(FEAT_TRAINS, SELF, sw_sotetsu6000_capacity,position_in_vehid_chain_from_end){
   0: 135;
   default: 150;
  }
  switch(FEAT_TRAINS, SELF, sw_sotetsu6000_capacity_1,position_in_vehid_chain){
   0: 135;
   default: sw_sotetsu6000_capacity;
  }
  switch(FEAT_TRAINS, SELF, sw_sotetsu6000_capacity_main,vehicle_type_id){
   mu_car_narrow:sw_sotetsu6000_capacity;
   sw_sotetsu6000_capacity_1;
  }

  switch(FEAT_TRAINS, SELF, sw_sotetsu6000_power_main_1,position_in_vehid_chain_from_end%8){
   0:return 110;
   3:return 110;
   5:return 110;
   6:return 110;
   return 0;
  }
  switch(FEAT_TRAINS, SELF, sw_sotetsu6000n_power_main_1,position_in_vehid_chain_from_end%8){
   0..1:return 130;
   3:return 130;
   6:return 130;
   return 0;
  }
  switch(FEAT_TRAINS, SELF, sw_sotetsu6000_power_main_0,build_year){
   0..1970:sw_sotetsu6000_power_main_1;
   sw_sotetsu6000n_power_main_1;
  }
  switch(FEAT_TRAINS, SELF, sw_sotetsu6000_head_power,num_vehs_in_consist){
   39: return sw_sotetsu6000_power_main_0;
   return 0;
  }
  switch(FEAT_TRAINS, SELF, sw_sotetsu6000_power_main,vehicle_type_id){
   mu_car_narrow:sw_sotetsu6000_power_main_0;
   sw_sotetsu6000_head_power;
  }

item(FEAT_TRAINS, sotetsu6000) {
 property {

   cargo_capacity: 1;
   power: 1 kW;
   ai_special_flag: AI_FLAG_PASSENGER;
   sprite_id: SPRITE_ID_NEW_TRAIN;
   misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
   refittable_cargo_classes: bitmask(CC_PASSENGERS);
   non_refittable_cargo_classes: bitmask();
   running_cost_base: RUNNING_COST_ELECTRIC;
   engine_class: ENGINE_CLASS_ELECTRIC;
   visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
   tractive_effort_coefficient: 0.3;
   air_drag_coefficient: 0.07;
   bitmask_vehicle_info: 0;

  name: string(STR_TRAIN_NAME, string(STR_NAME_SOTETSU), "6000", string(STR_NAME_SERIES),);
  climates_available: param_disable_sotetsu == 0 ? ALL_CLIMATES : NO_CLIMATE;
  introduction_date: date(1961, 1, 1);
  model_life: VEHICLE_NEVER_EXPIRES;
  vehicle_life: 35;
  reliability_decay: 10;

  cost_factor: 18;
  running_cost_factor: 49;
  speed: 100 km/h;
  track_type: TR_1067_DC;
  weight: 34 ton;
  loading_speed: param_loading_4D;
 }
 graphics {
  cargo_capacity: sw_sotetsu6000_capacity_main()*param_capacity_mod/3;
  power:sw_sotetsu6000_power_main()*4*1342/1000;
  purchase: sotetsu6000_purchase;
  default: sw_sotetsu6000_lv;
  cargo_subtype_text:sw_sotetsu6000_lv_desc;

  start_stop: sw_stop_start_2;
  can_attach_wagon: sw_1067_attach_vehid;
  additional_text:
   string(STR_TRAIN_DESC,
   string(STR_NARROWGAUGE),
   string(STR_DENKI, string(STR_DC_N, 1500)),
   string(STR_LOAD_SPEED, string(STR_DOORS, 4),),
   string(STR_FORMATION, string(STR_NUM_CARS_2, 8,10)),
   string(STR_USAGE, string(STR_COMMUTER)),
   string(STR_OPERATOR, string(STR_SOTETSU)));
 }
 livery_override(mu_car_narrow){
  cargo_capacity: sw_sotetsu6000_capacity_main()*param_capacity_mod/3;
  cargo_subtype_text:sw_sotetsu6000_lv_desc;
  power: sw_sotetsu6000_power_main()*4*1342/1000;
  default: sw_sotetsu6000_lv;
  loading_speed: param_loading_4D;
  weight: 32;
 }
}
# 101 "src/_private.pnml" 2
# 1 "src/private/Kanto/sotetsu/sotetsu7000.pnml" 1

switch(FEAT_TRAINS,PARENT, sw_sotetsu7000_panto, current_year){
 0..2010:panto_d_arm_single;
 panto_arm_n_single;
}
switch(FEAT_TRAINS,PARENT, sw_sotetsu7000_panto_rev, current_year){
 0..2010:panto_d_arm_single_rev;
 panto_arm_n_single_rev;
}

  spriteset(sotetsu7000_1_front_base_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu7000/sotetsu7000_1.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(sotetsu7000_1_car_base_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu7000/sotetsu7000_1.png"){ tmpl_purchase_2c(0, 25) }
  switch(FEAT_TRAINS, SELF, sotetsu7000_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_sotetsu; 1: roof_gray_med_h1_c1; 2: sotetsu7000_1_front_base_c1; 3: ac_long_toshiba_c1; 4: roof_gray_med_c2; 5: sotetsu7000_1_car_base_c2; 6: ac_long_toshiba_c2;}


 spriteset(sotetsu7000_1_front_base, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu7000/sotetsu7000_1.png"){ tmpl_std(0, 0) }
 spriteset(sotetsu7000_1_end_base, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu7000/sotetsu7000_1.png"){ tmpl_std_rev(0, 0) }
 spriteset(sotetsu7000_1_car_base, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu7000/sotetsu7000_1.png"){ tmpl_symm(0, 25) }
 spriteset(sotetsu7000_lights_rear, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu7000/sotetsu7000_lights.png"){ tmpl_high_skirt(0, 0) }
 spriteset(sotetsu7000_lights_back, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu7000/sotetsu7000_lights.png"){ tmpl_end_v2(0, 25) }

 switch(FEAT_TRAINS, SELF, sotetsu7000_1_front, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu7000_1_front_base; 2: sotetsu7000_lights_rear; 3: ac_long_toshiba;}
 switch(FEAT_TRAINS, SELF, sotetsu7000_1_end, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu7000_1_end_base; 2: sotetsu7000_lights_back; 3: ac_long_toshiba;}
 switch(FEAT_TRAINS, SELF, sotetsu7000_1_wag, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu7000_1_car_base; 2: ac_long_toshiba;}
 switch(FEAT_TRAINS, SELF, sotetsu7000_1_mot, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu7000_1_car_base; 2: ac_long_toshiba; 3: sw_sotetsu7000_panto;}
 switch(FEAT_TRAINS, SELF, sotetsu7000_1_mot_rev, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu7000_1_car_base; 2: ac_long_toshiba; 3: sw_sotetsu7000_panto_rev;}




   switch(FEAT_TRAINS, SELF, sw_sotetsu7000_1_panto_placer_1,position_in_vehid_chain %4){
    0: sotetsu7000_1_mot_rev;
    1: sotetsu7000_1_mot_rev;
    sotetsu7000_1_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_sotetsu7000_1_panto_placer_1_rev,position_in_vehid_chain_from_end %4-1){
    0: sotetsu7000_1_mot;
    1: sotetsu7000_1_mot;
    sotetsu7000_1_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_sotetsu7000_1_panto_placer_main_1,vehicle_is_reversed){
    1: sw_sotetsu7000_1_panto_placer_1_rev;
    sw_sotetsu7000_1_panto_placer_1;
   }

   switch(FEAT_TRAINS, SELF, sw_sotetsu7000_1_panto_placer_2,position_in_vehid_chain %3){
    0: sotetsu7000_1_mot;
    1: sotetsu7000_1_mot;
    sotetsu7000_1_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_sotetsu7000_1_panto_placer_2_rev,position_in_vehid_chain_from_end %3-1){
    0: sotetsu7000_1_mot_rev;
    1: sotetsu7000_1_mot_rev;
    sotetsu7000_1_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_sotetsu7000_1_panto_placer_main_2,vehicle_is_reversed){
    1: sw_sotetsu7000_1_panto_placer_2_rev;
    sw_sotetsu7000_1_panto_placer_2;
   }

      switch(FEAT_TRAINS, SELF, sw_sotetsu7000_1_panto_placer_main,num_vehs_in_vehid_chain+1){
        6:sw_sotetsu7000_1_panto_placer_main_2;
        9..10:sw_sotetsu7000_1_panto_placer_main_2;
        sw_sotetsu7000_1_panto_placer_main_1;
      }

  switch(FEAT_TRAINS, SELF, sw_sotetsu7000_1_end_gfx_main,position_in_vehid_chain_from_end){
   0: sotetsu7000_1_end;
   default: sw_sotetsu7000_1_panto_placer_main;
  }
  switch(FEAT_TRAINS, SELF, sw_sotetsu7000_1_front_gfx_main,position_in_vehid_chain_from_end){
   0: sotetsu7000_1_front;
   default: sw_sotetsu7000_1_panto_placer_main;
  }
  switch(FEAT_TRAINS, SELF, sw_sotetsu7000_lv,vehicle_type_id){
   mu_car_narrow:sw_sotetsu7000_1_end_gfx_main;
   sw_sotetsu7000_1_front_gfx_main;
  }



  switch(FEAT_TRAINS, SELF, sw_sotetsu7000_capacity,position_in_vehid_chain_from_end){
   0: 140;
   default: 154;
  }
  switch(FEAT_TRAINS, SELF, sw_sotetsu7000_capacity_1,position_in_vehid_chain){
   0: 140;
   default: sw_sotetsu7000_capacity;
  }
  switch(FEAT_TRAINS, SELF, sw_sotetsu7000_capacity_main,vehicle_type_id){
   mu_car_narrow:sw_sotetsu7000_capacity;
   sw_sotetsu7000_capacity_1;
  }

  switch(FEAT_TRAINS, SELF, sw_sotetsu7000_power_main,position_in_vehid_chain_from_end%8){
   1..2:return 130;
   5..6:return 130;
   return 0;
  }

item(FEAT_TRAINS, sotetsu7000) {
 property {

   cargo_capacity: 1;
   power: 1 kW;
   ai_special_flag: AI_FLAG_PASSENGER;
   sprite_id: SPRITE_ID_NEW_TRAIN;
   misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
   refittable_cargo_classes: bitmask(CC_PASSENGERS);
   non_refittable_cargo_classes: bitmask();
   running_cost_base: RUNNING_COST_ELECTRIC;
   engine_class: ENGINE_CLASS_ELECTRIC;
   visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
   tractive_effort_coefficient: 0.3;
   air_drag_coefficient: 0.07;
   bitmask_vehicle_info: 0;

  name: string(STR_TRAIN_NAME, string(STR_NAME_SOTETSU), "7000", string(STR_NAME_SERIES),);
  climates_available: param_disable_sotetsu == 0 ? ALL_CLIMATES : NO_CLIMATE;
  introduction_date: date(1975, 1, 1);
  model_life: VEHICLE_NEVER_EXPIRES;
  vehicle_life: 35;
  reliability_decay: 10;

  cost_factor: 19;
  running_cost_factor: 49;
  speed: 100 km/h;
  track_type: TR_1067_DC;
  weight: 34 ton;
  loading_speed: param_loading_4D;
 }
 graphics {
  cargo_capacity: sw_sotetsu7000_capacity_main()*param_capacity_mod/3;
  power:sw_sotetsu7000_power_main()*4*1342/1000;
  purchase: sotetsu7000_purchase;
  default: sw_sotetsu7000_lv;


  start_stop: sw_stop_start_3;
  can_attach_wagon: sw_1067_attach_vehid;
  additional_text:
   string(STR_TRAIN_DESC,
   string(STR_NARROWGAUGE),
   string(STR_DENKI, string(STR_DC_N, 1500)),
   string(STR_LOAD_SPEED, string(STR_DOORS, 4),),
   string(STR_FORMATION, string(STR_NUM_CARS_2, 8,10)),
   string(STR_USAGE, string(STR_COMMUTER)),
   string(STR_OPERATOR, string(STR_SOTETSU)));
 }
 livery_override(mu_car_narrow){
  cargo_capacity: sw_sotetsu7000_capacity_main()*param_capacity_mod/3;
  cargo_subtype_text:sw_empty_desc;
  power: sw_sotetsu7000_power_main()*4*1342/1000;
  default: sw_sotetsu7000_lv;
  loading_speed: param_loading_4D;
  weight: 32;
 }
}
# 102 "src/_private.pnml" 2
# 1 "src/private/Kanto/sotetsu/sotetsu7000n.pnml" 1

switch(FEAT_TRAINS,PARENT, sw_sotetsu7000n_panto, current_year){
 0..2006:panto_d_arm_single;
 panto_arm_n_single;
}
switch(FEAT_TRAINS,PARENT, sw_sotetsu7000n_panto_rev, current_year){
 0..2006:panto_d_arm_single_rev;
 panto_arm_n_single_rev;
}

  spriteset(sotetsu7000n_1_front_base_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu7000/sotetsu7000n_1.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(sotetsu7000n_1_car_base_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu7000/sotetsu7000n_1.png"){ tmpl_purchase_2c(0, 25) }
  switch(FEAT_TRAINS, SELF, sotetsu7000n_purchase_1, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_sotetsu; 1: roof_gray_med_h1_c1; 2: sotetsu7000n_1_front_base_c1; 3: ac_long_toshiba_c1; 4: roof_gray_med_c2; 5: sotetsu7000n_1_car_base_c2; 6: ac_long_toshiba_c2;}

 spriteset(sotetsu7000n_2_front_base_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu7000/sotetsu7000n_2.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(sotetsu7000n_2_car_base_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu7000/sotetsu7000n_2.png"){ tmpl_purchase_2c(0, 25) }
  switch(FEAT_TRAINS, SELF, sotetsu7000n_purchase_2, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_sotetsu; 1: roof_gray_med_h1_c1; 2: sotetsu7000n_2_front_base_c1; 3: ac_long_toshiba_c1; 4: roof_gray_med_c2; 5: sotetsu7000n_2_car_base_c2; 6: ac_long_toshiba_c2;}

 switch(FEAT_TRAINS, SELF, sotetsu7000n_purchase, current_year){
  0..2009: sotetsu7000n_purchase_1;
  sotetsu7000n_purchase_2;
 }

 spriteset(sotetsu7000n_lights_rear, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu7000/sotetsu7000n_lights.png"){ tmpl_high_skirt(0, 0) }
 spriteset(sotetsu7000n_lights_back, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu7000/sotetsu7000n_lights.png"){ tmpl_end_v2(0, 25) }

 spriteset(sotetsu7000n_1_front_base, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu7000/sotetsu7000n_1.png"){ tmpl_std(0, 0) }
 spriteset(sotetsu7000n_1_end_base, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu7000/sotetsu7000n_1.png"){ tmpl_std_rev(0, 0) }
 spriteset(sotetsu7000n_1_car_base, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu7000/sotetsu7000n_1.png"){ tmpl_symm(0, 25) }

 switch(FEAT_TRAINS, SELF, sotetsu7000n_1_front, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu7000n_1_front_base; 2: sotetsu7000n_lights_rear; 3: ac_long_toshiba;}
 switch(FEAT_TRAINS, SELF, sotetsu7000n_1_end, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu7000n_1_end_base; 2: sotetsu7000n_lights_back; 3: ac_long_toshiba;}
 switch(FEAT_TRAINS, SELF, sotetsu7000n_1_wag, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu7000n_1_car_base; 2: ac_long_toshiba;}
 switch(FEAT_TRAINS, SELF, sotetsu7000n_1_mot, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu7000n_1_car_base; 2: ac_long_toshiba; 3: sw_sotetsu7000n_panto;}
 switch(FEAT_TRAINS, SELF, sotetsu7000n_1_mot_rev, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu7000n_1_car_base; 2: ac_long_toshiba; 3: sw_sotetsu7000n_panto_rev;}
 switch(FEAT_TRAINS, SELF, sotetsu7000n_1_front_f, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu7000n_1_front_base; 2: ac_long_toshiba;}
 switch(FEAT_TRAINS, SELF, sotetsu7000n_1_end_f, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu7000n_1_end_base; 2: ac_long_toshiba;}

 spriteset(sotetsu7000n_2_front_base, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu7000/sotetsu7000n_2.png"){ tmpl_std(0, 0) }
 spriteset(sotetsu7000n_2_end_base, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu7000/sotetsu7000n_2.png"){ tmpl_std_rev(0, 0) }
 spriteset(sotetsu7000n_2_car_base, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu7000/sotetsu7000n_2.png"){ tmpl_symm(0, 25) }

 switch(FEAT_TRAINS, SELF, sotetsu7000n_2_front, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu7000n_2_front_base; 2: sotetsu7000n_lights_rear; 3: ac_long_toshiba;}
 switch(FEAT_TRAINS, SELF, sotetsu7000n_2_end, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu7000n_2_end_base; 2: sotetsu7000n_lights_back; 3: ac_long_toshiba;}
 switch(FEAT_TRAINS, SELF, sotetsu7000n_2_wag, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu7000n_2_car_base; 2: ac_long_toshiba;}
 switch(FEAT_TRAINS, SELF, sotetsu7000n_2_mot, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu7000n_2_car_base; 2: ac_long_toshiba; 3: sw_sotetsu7000n_panto;}
 switch(FEAT_TRAINS, SELF, sotetsu7000n_2_mot_rev, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu7000n_2_car_base; 2: ac_long_toshiba; 3: sw_sotetsu7000n_panto_rev;}
 switch(FEAT_TRAINS, SELF, sotetsu7000n_2_front_f, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu7000n_2_front_base; 2: ac_long_toshiba;}
 switch(FEAT_TRAINS, SELF, sotetsu7000n_2_end_f, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu7000n_2_end_base; 2: ac_long_toshiba;}




   switch(FEAT_TRAINS, SELF, sw_sotetsu7000n_1_panto_placer_1,position_in_vehid_chain %5){
    0: sotetsu7000n_1_mot;
    2: sotetsu7000n_1_mot;
    sotetsu7000n_1_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_sotetsu7000n_1_panto_placer_1_rev,position_in_vehid_chain_from_end %5-1){
    0: sotetsu7000n_1_mot_rev;
    2: sotetsu7000n_1_mot_rev;
    sotetsu7000n_1_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_sotetsu7000n_1_panto_placer_main_1,vehicle_is_reversed){
    1: sw_sotetsu7000n_1_panto_placer_1_rev;
    sw_sotetsu7000n_1_panto_placer_1;
   }

   switch(FEAT_TRAINS, SELF, sw_sotetsu7000n_1_panto_placer_2,position_in_vehid_chain %4){
    0: sotetsu7000n_1_mot;
    1: sotetsu7000n_1_mot;
    sotetsu7000n_1_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_sotetsu7000n_1_panto_placer_2_rev,position_in_vehid_chain_from_end %4-1){
    0: sotetsu7000n_1_mot_rev;
    1: sotetsu7000n_1_mot_rev;
    sotetsu7000n_1_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_sotetsu7000n_1_panto_placer_main_2,vehicle_is_reversed){
    1: sw_sotetsu7000n_1_panto_placer_2_rev;
    sw_sotetsu7000n_1_panto_placer_2;
   }

   switch(FEAT_TRAINS, SELF, sw_sotetsu7000n_1_panto_placer_3,position_in_vehid_chain %2){
    0: sotetsu7000n_1_mot_rev;
    sotetsu7000n_1_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_sotetsu7000n_1_panto_placer_3_rev,position_in_vehid_chain_from_end %2-1){
    0: sotetsu7000n_1_mot;
    sotetsu7000n_1_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_sotetsu7000n_1_panto_placer_main_3,vehicle_is_reversed){
    1: sw_sotetsu7000n_1_panto_placer_3_rev;
    sw_sotetsu7000n_1_panto_placer_3;
   }

      switch(FEAT_TRAINS, SELF, sw_sotetsu7000n_1_panto_placer_main,num_vehs_in_vehid_chain+1){
        7:sw_sotetsu7000n_1_panto_placer_main_3;
        8:sw_sotetsu7000n_1_panto_placer_main_2;
        sw_sotetsu7000n_1_panto_placer_main_1;
      }

  switch(FEAT_TRAINS, SELF, sw_sotetsu7000n_1_fake_placer,position_in_vehid_chain){
     3: sotetsu7000n_1_end_f;
     4: sotetsu7000n_1_front_f;
   sw_sotetsu7000n_1_panto_placer_main;
  }
  switch(FEAT_TRAINS, SELF, sw_sotetsu7000n_1_fake_placer_rev,position_in_vehid_chain_from_end-1){
   3: sotetsu7000n_1_front_f;
   4: sotetsu7000n_1_end_f;
   sw_sotetsu7000n_1_panto_placer_main;
  }
  switch(FEAT_TRAINS, PARENT, sw_sotetsu7000n_1_fake_placer_gfx,vehicle_is_reversed){
   1: sw_sotetsu7000n_1_fake_placer_rev;
   sw_sotetsu7000n_1_fake_placer;
  }
  switch(FEAT_TRAINS, SELF, sw_sotetsu7000n_1_fake_placer_main_1,num_vehs_in_vehid_chain>9 - 1){
   1: sw_sotetsu7000n_1_fake_placer_gfx;
   sw_sotetsu7000n_1_panto_placer_main;
  }

  random_switch(FEAT_TRAINS, PARENT, sw_sotetsu7000n_1_fake_placer_main_2){
   1: sw_sotetsu7000n_1_fake_placer_main_1;
   1: sw_sotetsu7000n_1_panto_placer_main;
  }
  switch(FEAT_TRAINS, PARENT, sw_sotetsu7000n_1_fake_placer_main,current_year>1987){
   1: sw_sotetsu7000n_1_fake_placer_main_2;
   sw_sotetsu7000n_1_fake_placer_main_1;
  }

  switch(FEAT_TRAINS, SELF, sw_sotetsu7000n_1_end_gfx_main,position_in_vehid_chain_from_end){
   0: sotetsu7000n_1_end;
   default: sw_sotetsu7000n_1_fake_placer_main;
  }
  switch(FEAT_TRAINS, SELF, sw_sotetsu7000n_1_front_gfx_main,position_in_vehid_chain_from_end){
   0: sotetsu7000n_1_front;
   default: sw_sotetsu7000n_1_fake_placer_main;
  }
  switch(FEAT_TRAINS, SELF, sw_sotetsu7000n_livery_1,vehicle_type_id){
   mu_car_narrow:sw_sotetsu7000n_1_end_gfx_main;
   sw_sotetsu7000n_1_front_gfx_main;
  }



   switch(FEAT_TRAINS, SELF, sw_sotetsu7000n_2_panto_placer_1,position_in_vehid_chain %5){
    0: sotetsu7000n_2_mot;
    2: sotetsu7000n_2_mot;
    sotetsu7000n_2_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_sotetsu7000n_2_panto_placer_1_rev,position_in_vehid_chain_from_end %5-1){
    0: sotetsu7000n_2_mot_rev;
    2: sotetsu7000n_2_mot_rev;
    sotetsu7000n_2_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_sotetsu7000n_2_panto_placer_main_1,vehicle_is_reversed){
    1: sw_sotetsu7000n_2_panto_placer_1_rev;
    sw_sotetsu7000n_2_panto_placer_1;
   }

   switch(FEAT_TRAINS, SELF, sw_sotetsu7000n_2_panto_placer_2,position_in_vehid_chain %4){
    0: sotetsu7000n_2_mot;
    1: sotetsu7000n_2_mot;
    sotetsu7000n_2_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_sotetsu7000n_2_panto_placer_2_rev,position_in_vehid_chain_from_end %4-1){
    0: sotetsu7000n_2_mot_rev;
    1: sotetsu7000n_2_mot_rev;
    sotetsu7000n_2_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_sotetsu7000n_2_panto_placer_main_2,vehicle_is_reversed){
    1: sw_sotetsu7000n_2_panto_placer_2_rev;
    sw_sotetsu7000n_2_panto_placer_2;
   }

   switch(FEAT_TRAINS, SELF, sw_sotetsu7000n_2_panto_placer_3,position_in_vehid_chain %2){
    0: sotetsu7000n_2_mot;
    sotetsu7000n_2_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_sotetsu7000n_2_panto_placer_3_rev,position_in_vehid_chain_from_end %2-1){
    0: sotetsu7000n_2_mot_rev;
    sotetsu7000n_2_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_sotetsu7000n_2_panto_placer_main_3,vehicle_is_reversed){
    1: sw_sotetsu7000n_2_panto_placer_3_rev;
    sw_sotetsu7000n_2_panto_placer_3;
   }

      switch(FEAT_TRAINS, SELF, sw_sotetsu7000n_2_panto_placer_main,num_vehs_in_vehid_chain+1){
        7:sw_sotetsu7000n_2_panto_placer_main_3;
        8:sw_sotetsu7000n_2_panto_placer_main_2;
        sw_sotetsu7000n_2_panto_placer_main_1;
      }

  switch(FEAT_TRAINS, SELF, sw_sotetsu7000n_2_fake_placer,position_in_vehid_chain){
     3: sotetsu7000n_2_end_f;
     4: sotetsu7000n_2_front_f;
   sw_sotetsu7000n_2_panto_placer_main;
  }
  switch(FEAT_TRAINS, SELF, sw_sotetsu7000n_2_fake_placer_rev,position_in_vehid_chain_from_end-1){
   3: sotetsu7000n_2_front_f;
   4: sotetsu7000n_2_end_f;
   sw_sotetsu7000n_2_panto_placer_main;
  }
  switch(FEAT_TRAINS, PARENT, sw_sotetsu7000n_2_fake_placer_gfx,vehicle_is_reversed){
   1: sw_sotetsu7000n_2_fake_placer_rev;
   sw_sotetsu7000n_2_fake_placer;
  }
  switch(FEAT_TRAINS, SELF, sw_sotetsu7000n_2_fake_placer_main_1,num_vehs_in_vehid_chain>9 - 1){
   1: sw_sotetsu7000n_2_fake_placer_gfx;
   sw_sotetsu7000n_2_panto_placer_main;
  }

  random_switch(FEAT_TRAINS, PARENT, sw_sotetsu7000n_2_fake_placer_main_2){
   1: sw_sotetsu7000n_2_fake_placer_main_1;
   1: sw_sotetsu7000n_2_panto_placer_main;
  }
  switch(FEAT_TRAINS, PARENT, sw_sotetsu7000n_2_fake_placer_main,current_year>1987){
   1: sw_sotetsu7000n_2_fake_placer_main_2;
   sw_sotetsu7000n_2_fake_placer_main_1;
  }

  switch(FEAT_TRAINS, SELF, sw_sotetsu7000n_2_end_gfx_main,position_in_vehid_chain_from_end){
   0: sotetsu7000n_2_end;
   default: sw_sotetsu7000n_2_fake_placer_main;
  }
  switch(FEAT_TRAINS, SELF, sw_sotetsu7000n_2_front_gfx_main,position_in_vehid_chain_from_end){
   0: sotetsu7000n_2_front;
   default: sw_sotetsu7000n_2_fake_placer_main;
  }
  switch(FEAT_TRAINS, SELF, sw_sotetsu7000n_livery_2,vehicle_type_id){
   mu_car_narrow:sw_sotetsu7000n_2_end_gfx_main;
   sw_sotetsu7000n_2_front_gfx_main;
  }


 switch(FEAT_TRAINS, PARENT, sw_sotetsu7000n_livery_0, current_year){
  0..2009: sw_sotetsu7000n_livery_1;
  sw_sotetsu7000n_livery_2;
 }
 switch(FEAT_TRAINS, SELF, sw_sotetsu7000n_lv, cargo_subtype){
  0:sw_sotetsu7000n_livery_0;
  1:sw_sotetsu7000n_livery_1;
  2:sw_sotetsu7000n_livery_2;
 }
 switch(FEAT_TRAINS, SELF, sw_sotetsu7000n_lv_desc, cargo_subtype){
  0:string(LV_RANDOM);
  1:string(LV_DEFAULT);
  2:string(LV_MODERN);
 }



  switch(FEAT_TRAINS, SELF, sw_sotetsu7000n_capacity,position_in_vehid_chain_from_end){
   0: 141;
   default: 153;
  }
  switch(FEAT_TRAINS, SELF, sw_sotetsu7000n_capacity_1,position_in_vehid_chain){
   0: 141;
   default: sw_sotetsu7000n_capacity;
  }
  switch(FEAT_TRAINS, SELF, sw_sotetsu7000n_capacity_main,vehicle_type_id){
   mu_car_narrow:sw_sotetsu7000n_capacity;
   sw_sotetsu7000n_capacity_1;
  }

  switch(FEAT_TRAINS, SELF, sw_sotetsu7000n_power_main_1,position_in_vehid_chain_from_end%10){
   1:return 130;
   3:return 130;
   6:return 130;
   7:return 130;
   return 0;
  }
  switch(FEAT_TRAINS, SELF, sw_sotetsu7000n_power_main_2,position_in_vehid_chain_from_end%10){
   1:return 180;
   3:return 180;
   6:return 180;
   7:return 180;
   return 0;
  }
  switch(FEAT_TRAINS, SELF, sw_sotetsu7000n_power_main,build_year>1987){
  1:sw_sotetsu7000n_power_main_2;
  sw_sotetsu7000n_power_main_1;
  }

item(FEAT_TRAINS, sotetsu7000n) {
 property {

   cargo_capacity: 1;
   power: 1 kW;
   ai_special_flag: AI_FLAG_PASSENGER;
   sprite_id: SPRITE_ID_NEW_TRAIN;
   misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
   refittable_cargo_classes: bitmask(CC_PASSENGERS);
   non_refittable_cargo_classes: bitmask();
   running_cost_base: RUNNING_COST_ELECTRIC;
   engine_class: ENGINE_CLASS_ELECTRIC;
   visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
   tractive_effort_coefficient: 0.3;
   air_drag_coefficient: 0.07;
   bitmask_vehicle_info: 0;

  name: string(STR_TRAIN_NAME, string(STR_NAME_SOTETSU), string(STR_NAME_NEW, "7000"), string(STR_NAME_SERIES),);
  climates_available: param_disable_sotetsu == 0 ? ALL_CLIMATES : NO_CLIMATE;
  introduction_date: date(1986, 1, 1);
  model_life: VEHICLE_NEVER_EXPIRES;
  vehicle_life: 35;
  reliability_decay: 10;

  cost_factor: 19;
  running_cost_factor: 49;
  speed: 110 km/h;
  track_type: TR_1067_DC;
  weight: 34 ton;
  loading_speed: param_loading_4D;
 }
 graphics {
  cargo_capacity: sw_sotetsu7000n_capacity_main()*param_capacity_mod/3;
  power:sw_sotetsu7000n_power_main()*4*1342/1000;
  purchase: sotetsu7000n_purchase;
  default: sw_sotetsu7000n_lv;
  cargo_subtype_text:sw_sotetsu7000n_lv_desc;

  start_stop: sw_stop_start_3;
  can_attach_wagon: sw_1067_attach_vehid;
  additional_text:
   string(STR_TRAIN_DESC,
   string(STR_NARROWGAUGE),
   string(STR_DENKI, string(STR_DC_N, 1500)),
   string(STR_LOAD_SPEED, string(STR_DOORS, 4),),
   string(STR_FORMATION, string(STR_NUM_CARS_2, 8,10)),
   string(STR_USAGE, string(STR_COMMUTER)),
   string(STR_OPERATOR, string(STR_SOTETSU)));
 }
 livery_override(mu_car_narrow){
  cargo_capacity: sw_sotetsu7000n_capacity_main()*param_capacity_mod/3;
  cargo_subtype_text:sw_sotetsu7000n_lv_desc;
  power: sw_sotetsu7000n_power_main()*4*1342/1000;
  default: sw_sotetsu7000n_lv;
  loading_speed: param_loading_4D;
  weight: 32;
 }
}
# 103 "src/_private.pnml" 2
# 1 "src/private/Kanto/sotetsu/sotetsu8000.pnml" 1

switch(FEAT_TRAINS,PARENT, sw_sotetsu8000_panto, build_year){
 0..2007:panto_d_arm_single;
 panto_arm_n_single;
}
switch(FEAT_TRAINS,PARENT, sw_sotetsu8000_panto_rev, build_year){
 0..2007:panto_d_arm_single_rev;
 panto_arm_n_single_rev;
}

  spriteset(sotetsu8000_1_front_base_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu8000/sotetsu8000_1.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(sotetsu8000_1_car_base_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu8000/sotetsu8000_1.png"){ tmpl_purchase_2c(0, 25) }
  switch(FEAT_TRAINS, SELF, sotetsu8000_1_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_sotetsu; 1: roof_gray_med_h1_c1; 2: sotetsu8000_1_front_base_c1; 3: ac_long_toshiba_c1; 4: roof_gray_med_c2; 5: sotetsu8000_1_car_base_c2; 6: ac_long_toshiba_c2;}

 spriteset(sotetsu8000_2_front_base_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu8000/sotetsu8000_2.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(sotetsu8000_2_car_base_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu8000/sotetsu8000_2.png"){ tmpl_purchase_2c(0, 25) }
  switch(FEAT_TRAINS, SELF, sotetsu8000_2_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_sotetsu; 1: roof_gray_med_h1_c1; 2: sotetsu8000_2_front_base_c1; 3: ac_long_toshiba_c1; 4: roof_gray_med_c2; 5: sotetsu8000_2_car_base_c2; 6: ac_long_toshiba_c2;}

 spriteset(sotetsu8000_3_front_base_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu8000/sotetsu8000_3.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(sotetsu8000_3_car_base_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu8000/sotetsu8000_3.png"){ tmpl_purchase_2c(0, 25) }
  switch(FEAT_TRAINS, SELF, sotetsu8000_3_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_sotetsu; 1: roof_gray_med_h1_c1; 2: sotetsu8000_3_front_base_c1; 3: ac_long_toshiba_c1; 4: roof_gray_med_c2; 5: sotetsu8000_3_car_base_c2; 6: ac_long_toshiba_c2;}

 switch(FEAT_TRAINS, SELF, sotetsu8000_purchase, current_year){
  0..2007: sotetsu8000_1_purchase;
  2008..2018: sotetsu8000_2_purchase;
  sotetsu8000_3_purchase;
 }

 spriteset(sotetsu8000_1_front_base, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu8000/sotetsu8000_1.png"){ tmpl_std(0, 0) }
 spriteset(sotetsu8000_1_end_base, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu8000/sotetsu8000_1.png"){ tmpl_std_rev(0, 0) }
 spriteset(sotetsu8000_1_car_base, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu8000/sotetsu8000_1.png"){ tmpl_symm(0, 25) }
 spriteset(sotetsu8000_lights_rear, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu8000/sotetsu8000_lights.png"){ tmpl_high_skirt(0, 0) }
 spriteset(sotetsu8000_lights_back, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu8000/sotetsu8000_lights.png"){ tmpl_end_v2(0, 25) }

 switch(FEAT_TRAINS, SELF, sotetsu8000_1_front, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med_h1; 1: sotetsu8000_1_front_base; 2: sotetsu8000_lights_rear; 3: ac_long_toshiba;}
 switch(FEAT_TRAINS, SELF, sotetsu8000_1_end, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med_h1_rev; 1: sotetsu8000_1_end_base; 2: sotetsu8000_lights_back; 3: ac_long_toshiba;}
 switch(FEAT_TRAINS, SELF, sotetsu8000_1_wag, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu8000_1_car_base; 2: ac_long_toshiba;}
 switch(FEAT_TRAINS, SELF, sotetsu8000_1_mot, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu8000_1_car_base; 2: ac_long_toshiba; 3: sw_sotetsu8000_panto;}
 switch(FEAT_TRAINS, SELF, sotetsu8000_1_mot_rev, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu8000_1_car_base; 2: ac_long_toshiba; 3: sw_sotetsu8000_panto_rev;}


 spriteset(sotetsu8000_2_front_base, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu8000/sotetsu8000_2.png"){ tmpl_std(0, 0) }
 spriteset(sotetsu8000_2_end_base, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu8000/sotetsu8000_2.png"){ tmpl_std_rev(0, 0) }
 spriteset(sotetsu8000_2_car_base, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu8000/sotetsu8000_2.png"){ tmpl_symm(0, 25) }

 switch(FEAT_TRAINS, SELF, sotetsu8000_2_front, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med_h1; 1: sotetsu8000_2_front_base; 2: sotetsu8000_lights_rear; 3: ac_long_toshiba;}
 switch(FEAT_TRAINS, SELF, sotetsu8000_2_end, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med_h1_rev; 1: sotetsu8000_2_end_base; 2: sotetsu8000_lights_back; 3: ac_long_toshiba;}
 switch(FEAT_TRAINS, SELF, sotetsu8000_2_wag, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu8000_2_car_base; 2: ac_long_toshiba;}
 switch(FEAT_TRAINS, SELF, sotetsu8000_2_mot, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu8000_2_car_base; 2: ac_long_toshiba; 3: panto_arm_n_single;}
 switch(FEAT_TRAINS, SELF, sotetsu8000_2_mot_rev, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu8000_2_car_base; 2: ac_long_toshiba; 3: panto_arm_n_single_rev;}


 spriteset(sotetsu8000_3_front_base, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu8000/sotetsu8000_3.png"){ tmpl_std(0, 0) }
 spriteset(sotetsu8000_3_end_base, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu8000/sotetsu8000_3.png"){ tmpl_std_rev(0, 0) }
 spriteset(sotetsu8000_3_car_base, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu8000/sotetsu8000_3.png"){ tmpl_symm(0, 25) }

 switch(FEAT_TRAINS, SELF, sotetsu8000_3_front, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med_h1; 1: sotetsu8000_3_front_base; 2: sotetsu8000_lights_rear; 3: ac_long_toshiba;}
 switch(FEAT_TRAINS, SELF, sotetsu8000_3_end, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med_h1_rev; 1: sotetsu8000_3_end_base; 2: sotetsu8000_lights_back; 3: ac_long_toshiba;}
 switch(FEAT_TRAINS, SELF, sotetsu8000_3_wag, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu8000_3_car_base; 2: ac_long_toshiba;}
 switch(FEAT_TRAINS, SELF, sotetsu8000_3_mot, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu8000_3_car_base; 2: ac_long_toshiba; 3: panto_arm_n_single;}
 switch(FEAT_TRAINS, SELF, sotetsu8000_3_mot_rev, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu8000_3_car_base; 2: ac_long_toshiba; 3: panto_arm_n_single_rev;}




   switch(FEAT_TRAINS, SELF, sw_sotetsu8000_1_panto_placer_1,position_in_vehid_chain %3){
    0: sotetsu8000_1_mot;
    1: sotetsu8000_1_mot;
    sotetsu8000_1_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_sotetsu8000_1_panto_placer_1_rev,position_in_vehid_chain_from_end %3-1){
    0: sotetsu8000_1_mot_rev;
    1: sotetsu8000_1_mot_rev;
    sotetsu8000_1_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_sotetsu8000_1_panto_placer_main,vehicle_is_reversed){
    1: sw_sotetsu8000_1_panto_placer_1_rev;
    sw_sotetsu8000_1_panto_placer_1;
   }

  switch(FEAT_TRAINS, SELF, sw_sotetsu8000_1_end_gfx_main,position_in_vehid_chain_from_end){
   0: sotetsu8000_1_end;
   default: sw_sotetsu8000_1_panto_placer_main;
  }
  switch(FEAT_TRAINS, SELF, sw_sotetsu8000_1_front_gfx_main,position_in_vehid_chain_from_end){
   0: sotetsu8000_1_front;
   default: sw_sotetsu8000_1_panto_placer_main;
  }
  switch(FEAT_TRAINS, SELF, sw_sotetsu8000_livery_1,vehicle_type_id){
   mu_car_narrow:sw_sotetsu8000_1_end_gfx_main;
   sw_sotetsu8000_1_front_gfx_main;
  }



   switch(FEAT_TRAINS, SELF, sw_sotetsu8000_2_panto_placer_1,position_in_vehid_chain %3){
    0: sotetsu8000_2_mot;
    1: sotetsu8000_2_mot;
    sotetsu8000_2_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_sotetsu8000_2_panto_placer_1_rev,position_in_vehid_chain_from_end %3-1){
    0: sotetsu8000_2_mot_rev;
    1: sotetsu8000_2_mot_rev;
    sotetsu8000_2_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_sotetsu8000_2_panto_placer_main,vehicle_is_reversed){
    1: sw_sotetsu8000_2_panto_placer_1_rev;
    sw_sotetsu8000_2_panto_placer_1;
   }

  switch(FEAT_TRAINS, SELF, sw_sotetsu8000_2_end_gfx_main,position_in_vehid_chain_from_end){
   0: sotetsu8000_2_end;
   default: sw_sotetsu8000_2_panto_placer_main;
  }
  switch(FEAT_TRAINS, SELF, sw_sotetsu8000_2_front_gfx_main,position_in_vehid_chain_from_end){
   0: sotetsu8000_2_front;
   default: sw_sotetsu8000_2_panto_placer_main;
  }
  switch(FEAT_TRAINS, SELF, sw_sotetsu8000_livery_2,vehicle_type_id){
   mu_car_narrow:sw_sotetsu8000_2_end_gfx_main;
   sw_sotetsu8000_2_front_gfx_main;
  }



   switch(FEAT_TRAINS, SELF, sw_sotetsu8000_3_panto_placer_1,position_in_vehid_chain %3){
    0: sotetsu8000_3_mot;
    1: sotetsu8000_3_mot;
    sotetsu8000_3_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_sotetsu8000_3_panto_placer_1_rev,position_in_vehid_chain_from_end %3-1){
    0: sotetsu8000_3_mot_rev;
    1: sotetsu8000_3_mot_rev;
    sotetsu8000_3_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_sotetsu8000_3_panto_placer_main,vehicle_is_reversed){
    1: sw_sotetsu8000_3_panto_placer_1_rev;
    sw_sotetsu8000_3_panto_placer_1;
   }

  switch(FEAT_TRAINS, SELF, sw_sotetsu8000_3_end_gfx_main,position_in_vehid_chain_from_end){
   0: sotetsu8000_3_end;
   default: sw_sotetsu8000_3_panto_placer_main;
  }
  switch(FEAT_TRAINS, SELF, sw_sotetsu8000_3_front_gfx_main,position_in_vehid_chain_from_end){
   0: sotetsu8000_3_front;
   default: sw_sotetsu8000_3_panto_placer_main;
  }
  switch(FEAT_TRAINS, SELF, sw_sotetsu8000_livery_3,vehicle_type_id){
   mu_car_narrow:sw_sotetsu8000_3_end_gfx_main;
   sw_sotetsu8000_3_front_gfx_main;
  }


 random_switch(FEAT_TRAINS, PARENT, sw_sotetsu8000_livery_2_3){
  1:sw_sotetsu8000_livery_2;
  1:sw_sotetsu8000_livery_3;
 }
 switch(FEAT_TRAINS, PARENT, sw_sotetsu8000_livery_0, current_year){
  0..2007: sw_sotetsu8000_livery_1;
  2008..2018:sw_sotetsu8000_livery_2;
  sw_sotetsu8000_livery_2_3;
 }
 switch(FEAT_TRAINS, SELF, sw_sotetsu8000_lv, cargo_subtype){
  0:sw_sotetsu8000_livery_0;
  1:sw_sotetsu8000_livery_1;
  2:sw_sotetsu8000_livery_2;
  3:sw_sotetsu8000_livery_3;
 }
 switch(FEAT_TRAINS, SELF, sw_sotetsu8000_lv_desc, cargo_subtype){
  0:string(LV_RANDOM);
  1:string(LV_DEFAULT);
  2:string(LV_MODERN);
  3:string(LV_sotetsu_navyblue);
 }



  switch(FEAT_TRAINS, SELF, sw_sotetsu8000_capacity,position_in_vehid_chain_from_end){
   0: 145;
   default: 154;
  }
  switch(FEAT_TRAINS, SELF, sw_sotetsu8000_capacity_1,position_in_vehid_chain){
   0: 145;
   default: sw_sotetsu8000_capacity;
  }
  switch(FEAT_TRAINS, SELF, sw_sotetsu8000_capacity_main,vehicle_type_id){
   mu_car_narrow:sw_sotetsu8000_capacity;
   sw_sotetsu8000_capacity_1;
  }

  switch(FEAT_TRAINS, SELF, sw_sotetsu8000_power_main,position_in_vehid_chain_from_end%10){
   1..2:return 150;
   4..5:return 150;
   7..8:return 150;
   return 0;
  }

item(FEAT_TRAINS, sotetsu8000) {
 property {

   cargo_capacity: 1;
   power: 1 kW;
   ai_special_flag: AI_FLAG_PASSENGER;
   sprite_id: SPRITE_ID_NEW_TRAIN;
   misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
   refittable_cargo_classes: bitmask(CC_PASSENGERS);
   non_refittable_cargo_classes: bitmask();
   running_cost_base: RUNNING_COST_ELECTRIC;
   engine_class: ENGINE_CLASS_ELECTRIC;
   visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
   tractive_effort_coefficient: 0.3;
   air_drag_coefficient: 0.07;
   bitmask_vehicle_info: 0;

  name: string(STR_TRAIN_NAME, string(STR_NAME_SOTETSU), "8000", string(STR_NAME_SERIES),);
  climates_available: param_disable_sotetsu == 0 ? ALL_CLIMATES : NO_CLIMATE;
  introduction_date: date(1990, 1, 1);
  model_life: VEHICLE_NEVER_EXPIRES;
  vehicle_life: 35;
  reliability_decay: 10;

  cost_factor: 19;
  running_cost_factor: 50;
  speed: 120 km/h;
  track_type: TR_1067_DC;
  weight: 34 ton;
  loading_speed: param_loading_4D;
 }
 graphics {
  cargo_capacity: sw_sotetsu8000_capacity_main()*param_capacity_mod/3;
  power:sw_sotetsu8000_power_main()*4*1342/1000;
  purchase: sotetsu8000_purchase;
  default: sw_sotetsu8000_lv;
  cargo_subtype_text:sw_sotetsu8000_lv_desc;

  start_stop: sw_stop_start_3;
  can_attach_wagon: sw_1067_attach_vehid;
  additional_text:
   string(STR_TRAIN_DESC,
   string(STR_NARROWGAUGE),
   string(STR_DENKI, string(STR_DC_N, 1500)),
   string(STR_LOAD_SPEED, string(STR_DOORS, 4),),
   string(STR_FORMATION, string(STR_NUM_CARS_1, 10)),
   string(STR_USAGE, string(STR_COMMUTER)),
   string(STR_OPERATOR, string(STR_SOTETSU)));
 }
 livery_override(mu_car_narrow){
  cargo_capacity: sw_sotetsu8000_capacity_main()*param_capacity_mod/3;
  cargo_subtype_text:sw_sotetsu8000_lv_desc;
  power: sw_sotetsu8000_power_main()*4*1342/1000;
  default: sw_sotetsu8000_lv;
  loading_speed: param_loading_4D;
  weight: 32;
 }
}
# 104 "src/_private.pnml" 2
# 1 "src/private/Kanto/sotetsu/sotetsu9000.pnml" 1

template tmpl_sotetsu9000_ac(x,y) {
 [x, y+3, 8, 24, -3, -16]
 [x +9, y+2, 22, 20, -13, -13]
 [x +28, y+2, 32, 17, -14, -13]
 [x +65, y+2, 22, 20, -5, -12]
 [x +88, y, 8, 23, -3, -16]
 [x +97, y+2, 22, 20, -13, -13]
 [x +123, y+2, 32, 17, -14, -13]
 [x+153, y+2, 22, 20, -5, -12]
}
template tmpl_sotetsu9000_ac_rev(x,y) {
 [x +88, y, 8, 23, -3, -16]
 [x +97, y+2, 22, 20, -13, -13]
 [x +123, y+2, 32, 17, -14, -13]
 [x+153, y+2, 22, 20, -5, -12]
 [x, y+3, 8, 24, -3, -16]
 [x +9, y+2, 22, 20, -13, -13]
 [x +28, y+2, 32, 17, -14, -13]
 [x +65, y+2, 22, 20, -5, -12]
}
spriteset(ac_super_long_w_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/parts/ac/ac_super_long.png"){ tmpl_sotetsu9000_ac(0, 3) }
spriteset(ac_super_long_w_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/parts/ac/ac_super_long.png"){ tmpl_sotetsu9000_ac_rev(0, 3) }
switch(FEAT_TRAINS, PARENT, ac_super_long_w, vehicle_is_reversed){1: ac_super_long_w_f; ac_super_long_w_rev;}


  spriteset(sotetsu9000_1_front_base_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu9000/sotetsu9000_1.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(sotetsu9000_1_car_base_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu9000/sotetsu9000_1.png"){ tmpl_purchase_2c(0, 25) }
  switch(FEAT_TRAINS, SELF, sotetsu9000_1_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_sotetsu; 1: roof_gray_med_h1_c1; 2: sotetsu9000_1_front_base_c1; 3: ac_super_long_h_c1; 4: roof_gray_med_c2; 5: sotetsu9000_1_car_base_c2; 6: ac_super_long_c2;}

 spriteset(sotetsu9000_2_front_base_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu9000/sotetsu9000_2.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(sotetsu9000_2_car_base_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu9000/sotetsu9000_2.png"){ tmpl_purchase_2c(0, 25) }
  switch(FEAT_TRAINS, SELF, sotetsu9000_2_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_sotetsu; 1: roof_gray_med_h1_c1; 2: sotetsu9000_2_front_base_c1; 3: ac_super_long_h_c1; 4: roof_gray_med_c2; 5: sotetsu9000_2_car_base_c2; 6: ac_super_long_c2;}

 spriteset(sotetsu9000_3_front_base_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu9000/sotetsu9000_3.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(sotetsu9000_3_car_base_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu9000/sotetsu9000_3.png"){ tmpl_purchase_2c(0, 25) }
  switch(FEAT_TRAINS, SELF, sotetsu9000_3_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_sotetsu; 1: roof_gray_med_h1_c1; 2: sotetsu9000_3_front_base_c1; 3: ac_super_long_h_c1; 4: roof_gray_med_c2; 5: sotetsu9000_3_car_base_c2; 6: ac_super_long_c2;}

 switch(FEAT_TRAINS, SELF, sotetsu9000_purchase, current_year){
  0..2007: sotetsu9000_1_purchase;
  2008..2019: sotetsu9000_2_purchase;
  sotetsu9000_3_purchase;
 }
 spriteset(sotetsu9000_1_front_base, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu9000/sotetsu9000_1.png"){ tmpl_std(0, 0) }
 spriteset(sotetsu9000_1_end_base, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu9000/sotetsu9000_1.png"){ tmpl_std_rev(0, 0) }
 spriteset(sotetsu9000_1_car_base, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu9000/sotetsu9000_1.png"){ tmpl_symm(0, 25) }
 spriteset(sotetsu9000_1_lights_rear, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu9000/sotetsu9000_lights.png"){ tmpl_high_skirt(0, 0) }
 spriteset(sotetsu9000_1_lights_back, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu9000/sotetsu9000_lights.png"){ tmpl_end_v2(0, 25) }

 switch(FEAT_TRAINS, SELF, sotetsu9000_1_front, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med_h1; 1: sotetsu9000_1_front_base; 2: sotetsu9000_1_lights_rear; 3: ac_super_long_h;}
 switch(FEAT_TRAINS, SELF, sotetsu9000_1_end, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med_h1_rev; 1: sotetsu9000_1_end_base; 2: sotetsu9000_1_lights_back; 3: ac_super_long_h_rev;}
 switch(FEAT_TRAINS, SELF, sotetsu9000_1_wag, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu9000_1_car_base; 2: ac_super_long_w;}
 switch(FEAT_TRAINS, SELF, sotetsu9000_1_mot, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu9000_1_car_base; 2: ac_super_long; 3: panto_arm_n_single;}
 switch(FEAT_TRAINS, SELF, sotetsu9000_1_mot_rev, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu9000_1_car_base; 2: ac_super_long; 3: panto_arm_n_single_rev;}


 spriteset(sotetsu9000_2_front_base, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu9000/sotetsu9000_2.png"){ tmpl_std(0, 0) }
 spriteset(sotetsu9000_2_end_base, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu9000/sotetsu9000_2.png"){ tmpl_std_rev(0, 0) }
 spriteset(sotetsu9000_2_car_base, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu9000/sotetsu9000_2.png"){ tmpl_symm(0, 25) }

 switch(FEAT_TRAINS, SELF, sotetsu9000_2_front, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med_h1; 1: sotetsu9000_2_front_base; 2: sotetsu9000_1_lights_rear; 3: ac_super_long_h;}
 switch(FEAT_TRAINS, SELF, sotetsu9000_2_end, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med_h1_rev; 1: sotetsu9000_2_end_base; 2: sotetsu9000_1_lights_back; 3: ac_super_long_h_rev;}
 switch(FEAT_TRAINS, SELF, sotetsu9000_2_wag, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu9000_2_car_base; 2: ac_super_long_w;}
 switch(FEAT_TRAINS, SELF, sotetsu9000_2_mot, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu9000_2_car_base; 2: ac_super_long; 3: panto_arm_n_single;}
 switch(FEAT_TRAINS, SELF, sotetsu9000_2_mot_rev, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu9000_2_car_base; 2: ac_super_long; 3: panto_arm_n_single_rev;}


 spriteset(sotetsu9000_3_front_base, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu9000/sotetsu9000_3.png"){ tmpl_std(0, 0) }
 spriteset(sotetsu9000_3_end_base, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu9000/sotetsu9000_3.png"){ tmpl_std_rev(0, 0) }
 spriteset(sotetsu9000_3_car_base, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu9000/sotetsu9000_3.png"){ tmpl_symm(0, 25) }
 spriteset(sotetsu9000_3_lights_rear, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu9000/sotetsu9000_3_lights.png"){ tmpl_high_skirt(0, 0) }
 spriteset(sotetsu9000_3_lights_back, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu9000/sotetsu9000_3_lights.png"){ tmpl_end_v2(0, 25) }

 switch(FEAT_TRAINS, SELF, sotetsu9000_3_front, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med_h1; 1: sotetsu9000_3_front_base; 2: sotetsu9000_3_lights_rear; 3: ac_super_long_h;}
 switch(FEAT_TRAINS, SELF, sotetsu9000_3_end, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med_h1_rev; 1: sotetsu9000_3_end_base; 2: sotetsu9000_3_lights_back; 3: ac_super_long_h_rev;}
 switch(FEAT_TRAINS, SELF, sotetsu9000_3_wag, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu9000_3_car_base; 2: ac_super_long_w;}
 switch(FEAT_TRAINS, SELF, sotetsu9000_3_mot, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu9000_3_car_base; 2: ac_super_long; 3: panto_arm_n_single;}
 switch(FEAT_TRAINS, SELF, sotetsu9000_3_mot_rev, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu9000_3_car_base; 2: ac_super_long; 3: panto_arm_n_single_rev;}




   switch(FEAT_TRAINS, SELF, sw_sotetsu9000_1_panto_placer_1,position_in_vehid_chain %3){
    0: sotetsu9000_1_mot;
    1: sotetsu9000_1_mot;
    sotetsu9000_1_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_sotetsu9000_1_panto_placer_1_rev,position_in_vehid_chain_from_end %3-1){
    0: sotetsu9000_1_mot_rev;
    1: sotetsu9000_1_mot_rev;
    sotetsu9000_1_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_sotetsu9000_1_panto_placer_main,vehicle_is_reversed){
    1: sw_sotetsu9000_1_panto_placer_1_rev;
    sw_sotetsu9000_1_panto_placer_1;
   }

  switch(FEAT_TRAINS, SELF, sw_sotetsu9000_1_end_gfx_main,position_in_vehid_chain_from_end){
   0: sotetsu9000_1_end;
   default: sw_sotetsu9000_1_panto_placer_main;
  }
  switch(FEAT_TRAINS, SELF, sw_sotetsu9000_1_front_gfx_main,position_in_vehid_chain_from_end){
   0: sotetsu9000_1_front;
   default: sw_sotetsu9000_1_panto_placer_main;
  }
  switch(FEAT_TRAINS, SELF, sw_sotetsu9000_livery_1,vehicle_type_id){
   mu_car_narrow:sw_sotetsu9000_1_end_gfx_main;
   sw_sotetsu9000_1_front_gfx_main;
  }



   switch(FEAT_TRAINS, SELF, sw_sotetsu9000_2_panto_placer_1,position_in_vehid_chain %3){
    0: sotetsu9000_2_mot;
    1: sotetsu9000_2_mot;
    sotetsu9000_2_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_sotetsu9000_2_panto_placer_1_rev,position_in_vehid_chain_from_end %3-1){
    0: sotetsu9000_2_mot_rev;
    1: sotetsu9000_2_mot_rev;
    sotetsu9000_2_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_sotetsu9000_2_panto_placer_main,vehicle_is_reversed){
    1: sw_sotetsu9000_2_panto_placer_1_rev;
    sw_sotetsu9000_2_panto_placer_1;
   }

  switch(FEAT_TRAINS, SELF, sw_sotetsu9000_2_end_gfx_main,position_in_vehid_chain_from_end){
   0: sotetsu9000_2_end;
   default: sw_sotetsu9000_2_panto_placer_main;
  }
  switch(FEAT_TRAINS, SELF, sw_sotetsu9000_2_front_gfx_main,position_in_vehid_chain_from_end){
   0: sotetsu9000_2_front;
   default: sw_sotetsu9000_2_panto_placer_main;
  }
  switch(FEAT_TRAINS, SELF, sw_sotetsu9000_livery_2,vehicle_type_id){
   mu_car_narrow:sw_sotetsu9000_2_end_gfx_main;
   sw_sotetsu9000_2_front_gfx_main;
  }



   switch(FEAT_TRAINS, SELF, sw_sotetsu9000_3_panto_placer_1,position_in_vehid_chain %3){
    0: sotetsu9000_3_mot;
    1: sotetsu9000_3_mot;
    sotetsu9000_3_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_sotetsu9000_3_panto_placer_1_rev,position_in_vehid_chain_from_end %3-1){
    0: sotetsu9000_3_mot_rev;
    1: sotetsu9000_3_mot_rev;
    sotetsu9000_3_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_sotetsu9000_3_panto_placer_main,vehicle_is_reversed){
    1: sw_sotetsu9000_3_panto_placer_1_rev;
    sw_sotetsu9000_3_panto_placer_1;
   }

  switch(FEAT_TRAINS, SELF, sw_sotetsu9000_3_end_gfx_main,position_in_vehid_chain_from_end){
   0: sotetsu9000_3_end;
   default: sw_sotetsu9000_3_panto_placer_main;
  }
  switch(FEAT_TRAINS, SELF, sw_sotetsu9000_3_front_gfx_main,position_in_vehid_chain_from_end){
   0: sotetsu9000_3_front;
   default: sw_sotetsu9000_3_panto_placer_main;
  }
  switch(FEAT_TRAINS, SELF, sw_sotetsu9000_livery_3,vehicle_type_id){
   mu_car_narrow:sw_sotetsu9000_3_end_gfx_main;
   sw_sotetsu9000_3_front_gfx_main;
  }


 random_switch(FEAT_TRAINS, PARENT, sw_sotetsu9000_livery_2_3){
  1:sw_sotetsu9000_livery_2;
  1:sw_sotetsu9000_livery_3;
 }
 switch(FEAT_TRAINS, PARENT, sw_sotetsu9000_livery_0, current_year){
  0..2007: sw_sotetsu9000_livery_1;
  2008..2019: sw_sotetsu9000_livery_2;
  sw_sotetsu9000_livery_2_3;
 }
 switch(FEAT_TRAINS, SELF, sw_sotetsu9000_lv, cargo_subtype){
  0:sw_sotetsu9000_livery_0;
  1:sw_sotetsu9000_livery_1;
  2:sw_sotetsu9000_livery_2;
  3:sw_sotetsu9000_livery_3;
 }
 switch(FEAT_TRAINS, SELF, sw_sotetsu9000_lv_desc, cargo_subtype){
  0:string(LV_RANDOM);
  1:string(LV_DEFAULT);
  2:string(LV_MODERN);
  3:string(LV_sotetsu_navyblue);
 }



  switch(FEAT_TRAINS, SELF, sw_sotetsu9000_capacity,position_in_vehid_chain_from_end){
   0: 142;
   2: 154;
   5: 154;
   default: 153;
  }
  switch(FEAT_TRAINS, SELF, sw_sotetsu9000_capacity_1,position_in_vehid_chain){
   0: 142;
   default: sw_sotetsu9000_capacity;
  }
  switch(FEAT_TRAINS, SELF, sw_sotetsu9000_capacity_main,vehicle_type_id){
   mu_car_narrow:sw_sotetsu9000_capacity;
   sw_sotetsu9000_capacity_1;
  }

  switch(FEAT_TRAINS, SELF, sw_sotetsu9000_power_main,position_in_vehid_chain_from_end%10){
   1..2:return 180;
   4..5:return 180;
   7..8:return 180;
   return 0;
  }

item(FEAT_TRAINS, sotetsu9000) {
 property {

   cargo_capacity: 1;
   power: 1 kW;
   ai_special_flag: AI_FLAG_PASSENGER;
   sprite_id: SPRITE_ID_NEW_TRAIN;
   misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
   refittable_cargo_classes: bitmask(CC_PASSENGERS);
   non_refittable_cargo_classes: bitmask();
   running_cost_base: RUNNING_COST_ELECTRIC;
   engine_class: ENGINE_CLASS_ELECTRIC;
   visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
   tractive_effort_coefficient: 0.3;
   air_drag_coefficient: 0.07;
   bitmask_vehicle_info: 0;

  name: string(STR_TRAIN_NAME, string(STR_NAME_SOTETSU), "9000", string(STR_NAME_SERIES),);
  climates_available: param_disable_sotetsu == 0 ? ALL_CLIMATES : NO_CLIMATE;
  introduction_date: date(1993, 1, 1);
  model_life: VEHICLE_NEVER_EXPIRES;
  vehicle_life: 35;
  reliability_decay: 10;

  cost_factor: 19;
  running_cost_factor: 50;
  speed: 120 km/h;
  track_type: TR_1067_DC;
  weight: 34 ton;
  loading_speed: param_loading_4D;
 }
 graphics {
  cargo_capacity: sw_sotetsu9000_capacity_main()*param_capacity_mod/3;
  power:sw_sotetsu9000_power_main()*4*1342/1000;
  purchase: sotetsu9000_purchase;
  default: sw_sotetsu9000_lv;
  cargo_subtype_text:sw_sotetsu9000_lv_desc;

  start_stop: sw_stop_start_3;
  can_attach_wagon: sw_1067_attach_vehid;
  additional_text:
   string(STR_TRAIN_DESC,
   string(STR_NARROWGAUGE),
   string(STR_DENKI, string(STR_DC_N, 1500)),
   string(STR_LOAD_SPEED, string(STR_DOORS, 4),),
   string(STR_FORMATION, string(STR_NUM_CARS_1, 10)),
   string(STR_USAGE, string(STR_COMMUTER)),
   string(STR_OPERATOR, string(STR_SOTETSU)));
 }
 livery_override(mu_car_narrow){
  cargo_capacity: sw_sotetsu9000_capacity_main()*param_capacity_mod/3;
  cargo_subtype_text:sw_sotetsu9000_lv_desc;
  power: sw_sotetsu9000_power_main()*4*1342/1000;
  default: sw_sotetsu9000_lv;
  loading_speed: param_loading_4D;
  weight: 32;
 }
}
# 105 "src/_private.pnml" 2
# 1 "src/private/Kanto/sotetsu/sotetsu10000.pnml" 1

  spriteset(sotetsu10000_front_base_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu10000/sotetsu10000_1.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(sotetsu10000_car_base_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu10000/sotetsu10000_1.png"){ tmpl_purchase_2c(0, 25) }
  switch(FEAT_TRAINS, SELF, sotetsu10000_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_sotetsu; 1: roof_gray_med_h1_c1; 2: sotetsu10000_front_base_c1; 3: ac_long_toshiba_c1; 4: roof_gray_med_c2; 5: sotetsu10000_car_base_c2; 6: ac_long_toshiba_c2;}

spriteset(sotetsu10000_1_front_base, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu10000/sotetsu10000_1.png"){ tmpl_std(0, 0) }
spriteset(sotetsu10000_1_end_base, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu10000/sotetsu10000_1.png"){ tmpl_std_rev(0, 0) }
spriteset(sotetsu10000_1_car_base, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu10000/sotetsu10000_1.png"){ tmpl_symm(0, 25) }
spriteset(sotetsu10000_lights_rear, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu10000/sotetsu10000_lights.png"){ tmpl_high_skirt(0, 0) }
spriteset(sotetsu10000_lights_back, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu10000/sotetsu10000_lights.png"){ tmpl_end_v2(0, 25) }

switch(FEAT_TRAINS, SELF, sotetsu10000_1_front, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med_h1; 1: sotetsu10000_1_front_base; 2: sotetsu10000_lights_rear; 3: ac_long_toshiba;}
switch(FEAT_TRAINS, SELF, sotetsu10000_1_end, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med_h1_rev; 1: sotetsu10000_1_end_base; 2: sotetsu10000_lights_back; 3: ac_long_toshiba;}
switch(FEAT_TRAINS, SELF, sotetsu10000_1_wag, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu10000_1_car_base; 2: ac_long_toshiba;}
switch(FEAT_TRAINS, SELF, sotetsu10000_1_mot, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu10000_1_car_base; 2: ac_long_toshiba; 3: panto_arm_n_single;}
switch(FEAT_TRAINS, SELF, sotetsu10000_1_mot_rev, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu10000_1_car_base; 2: ac_long_toshiba; 3: panto_arm_n_single_rev;}




   switch(FEAT_TRAINS, SELF, sw_sotetsu10000_1_panto_placer_1,position_in_vehid_chain %6){
    1: sotetsu10000_1_mot_rev;
    3: sotetsu10000_1_mot_rev;
    sotetsu10000_1_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_sotetsu10000_1_panto_placer_1_rev,position_in_vehid_chain_from_end %6 -1){
    1: sotetsu10000_1_mot;
    3: sotetsu10000_1_mot;
    sotetsu10000_1_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_sotetsu10000_1_panto_placer_main_1,vehicle_is_reversed){
    1: sw_sotetsu10000_1_panto_placer_1_rev;
    sw_sotetsu10000_1_panto_placer_1;
   }

   switch(FEAT_TRAINS, SELF, sw_sotetsu10000_1_panto_placer_2,position_in_vehid_chain %8){
    1: sotetsu10000_1_mot_rev;
    5: sotetsu10000_1_mot_rev;
    sotetsu10000_1_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_sotetsu10000_1_panto_placer_2_rev,1-position_in_vehid_chain_from_end %8){
    1: sotetsu10000_1_mot;
    5: sotetsu10000_1_mot;
    sotetsu10000_1_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_sotetsu10000_1_panto_placer_main_2,vehicle_is_reversed){
    1: sw_sotetsu10000_1_panto_placer_2_rev;
    sw_sotetsu10000_1_panto_placer_2;
   }

   switch(FEAT_TRAINS, SELF, sw_sotetsu10000_1_panto_placer_3,position_in_vehid_chain %5){
    0: sotetsu10000_1_mot_rev;
    2: sotetsu10000_1_mot_rev;
    sotetsu10000_1_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_sotetsu10000_1_panto_placer_3_rev,1-position_in_vehid_chain_from_end %5){
    0: sotetsu10000_1_mot;
    2: sotetsu10000_1_mot;
    sotetsu10000_1_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_sotetsu10000_1_panto_placer_main_3,vehicle_is_reversed){
    1: sw_sotetsu10000_1_panto_placer_3_rev;
    sw_sotetsu10000_1_panto_placer_3;
   }

  switch(FEAT_TRAINS, SELF, sw_sotetsu10000_1_panto_placer_main,num_vehs_in_vehid_chain+1){
   0..5:sw_sotetsu10000_1_panto_placer_main_3;
   8..9:sw_sotetsu10000_1_panto_placer_main_2;
   sw_sotetsu10000_1_panto_placer_main_1;
  }

  switch(FEAT_TRAINS, SELF, sw_sotetsu10000_1_end_gfx_main,position_in_vehid_chain_from_end){
   0: sotetsu10000_1_end;
   default: sw_sotetsu10000_1_panto_placer_main;
  }
  switch(FEAT_TRAINS, SELF, sw_sotetsu10000_1_front_gfx_main,position_in_vehid_chain_from_end){
   0: sotetsu10000_1_front;
   default: sw_sotetsu10000_1_panto_placer_main;
  }
  switch(FEAT_TRAINS, SELF, sw_sotetsu10000_lv,vehicle_type_id){
   mu_car_narrow:sw_sotetsu10000_1_end_gfx_main;
   sw_sotetsu10000_1_front_gfx_main;
  }



  switch(FEAT_TRAINS, SELF, sw_sotetsu10000_capacity,position_in_vehid_chain_from_end){
   0: 142;
   default: 160;
  }
  switch(FEAT_TRAINS, SELF, sw_sotetsu10000_capacity_1,position_in_vehid_chain){
   0: 142;
   default: sw_sotetsu10000_capacity;
  }
  switch(FEAT_TRAINS, SELF, sw_sotetsu10000_capacity_main,vehicle_type_id){
   mu_car_narrow:sw_sotetsu10000_capacity;
   sw_sotetsu10000_capacity_1;
  }

  switch(FEAT_TRAINS, SELF, sw_sotetsu10000_power_main,position_in_vehid_chain_from_end%10){
   1..2:return 95;
   5..6:return 95;
   8:return 95;
   return 0;
  }

item(FEAT_TRAINS, sotetsu10000) {
 property {

   cargo_capacity: 1;
   power: 1 kW;
   ai_special_flag: AI_FLAG_PASSENGER;
   sprite_id: SPRITE_ID_NEW_TRAIN;
   misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
   refittable_cargo_classes: bitmask(CC_PASSENGERS);
   non_refittable_cargo_classes: bitmask();
   running_cost_base: RUNNING_COST_ELECTRIC;
   engine_class: ENGINE_CLASS_ELECTRIC;
   visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
   tractive_effort_coefficient: 0.3;
   air_drag_coefficient: 0.07;
   bitmask_vehicle_info: 0;

  name: string(STR_TRAIN_NAME, string(STR_NAME_SOTETSU), "10000", string(STR_NAME_SERIES),);
  climates_available: param_disable_sotetsu == 0 ? ALL_CLIMATES : NO_CLIMATE;
  introduction_date: date(2002, 1, 1);
  model_life: VEHICLE_NEVER_EXPIRES;
  vehicle_life: 35;
  reliability_decay: 10;

  cost_factor: 19;
  running_cost_factor: 50;
  speed: 120 km/h;
  track_type: TR_1067_DC;
  weight: 34 ton;
  loading_speed: param_loading_4D;
 }
 graphics {
  cargo_capacity: sw_sotetsu10000_capacity_main()*param_capacity_mod/3;
  power:sw_sotetsu10000_power_main()*4*1342/1000;
  purchase: sotetsu10000_purchase;
  default: sw_sotetsu10000_lv;


  start_stop: sw_stop_start_3;
  can_attach_wagon: sw_1067_attach_vehid;
  additional_text:
   string(STR_TRAIN_DESC,
   string(STR_NARROWGAUGE),
   string(STR_DENKI, string(STR_DC_N, 1500)),
   string(STR_LOAD_SPEED, string(STR_DOORS, 4),),
   string(STR_FORMATION, string(STR_NUM_CARS_2, 8, 10)),
   string(STR_USAGE, string(STR_COMMUTER)),
   string(STR_OPERATOR, string(STR_SOTETSU)));
 }
 livery_override(mu_car_narrow){
  cargo_capacity: sw_sotetsu10000_capacity_main()*param_capacity_mod/3;
  cargo_subtype_text:sw_empty_desc;
  power: sw_sotetsu10000_power_main()*4*1342/1000;
  default: sw_sotetsu10000_lv;
  loading_speed: param_loading_4D;
  weight: 32;
 }
}
# 106 "src/_private.pnml" 2
# 1 "src/private/Kanto/sotetsu/sotetsu11000.pnml" 1

  spriteset(sotetsu11000_front_base_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu10000/sotetsu11000_1.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(sotetsu11000_car_base_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu10000/sotetsu11000_1.png"){ tmpl_purchase_2c(0, 25) }
  switch(FEAT_TRAINS, SELF, sotetsu11000_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_sotetsu; 1: roof_gray_med_h1_c1; 2: sotetsu11000_front_base_c1; 3: ac_long_toshiba_c1; 4: roof_gray_med_c2; 5: sotetsu11000_car_base_c2; 6: ac_long_toshiba_c2;}

 spriteset(sotetsu11000_1_front_base, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu10000/sotetsu11000_1.png"){ tmpl_std(0, 0) }
 spriteset(sotetsu11000_1_end_base, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu10000/sotetsu11000_1.png"){ tmpl_std_rev(0, 0) }
 spriteset(sotetsu11000_1_car_base, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu10000/sotetsu11000_1.png"){ tmpl_symm(0, 25) }
 spriteset(sotetsu11000_1_lights_rear, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu10000/sotetsu11000_lights.png"){ tmpl_high_skirt(0, 0) }
 spriteset(sotetsu11000_1_lights_back, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu10000/sotetsu11000_lights.png"){ tmpl_end_v2(0, 25) }

 switch(FEAT_TRAINS, SELF, sotetsu11000_1_front, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med_h1; 1: sotetsu11000_1_front_base; 2: sotetsu11000_1_lights_rear; 3: ac_long_toshiba;}
 switch(FEAT_TRAINS, SELF, sotetsu11000_1_end, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med_h1_rev; 1: sotetsu11000_1_end_base; 2: sotetsu11000_1_lights_back; 3: ac_long_toshiba;}
 switch(FEAT_TRAINS, SELF, sotetsu11000_1_wag, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu11000_1_car_base; 2: ac_long_toshiba;}
 switch(FEAT_TRAINS, SELF, sotetsu11000_1_mot_2, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu11000_1_car_base; 2: ac_long_toshiba; 3: panto_arm_n;}
 switch(FEAT_TRAINS, SELF, sotetsu11000_1_mot, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu11000_1_car_base; 2: ac_long_toshiba; 3: panto_arm_n_single;}
 switch(FEAT_TRAINS, SELF, sotetsu11000_1_mot_rev, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu11000_1_car_base; 2: ac_long_toshiba; 3: panto_arm_n_single_rev;}




   switch(FEAT_TRAINS, SELF, sw_sotetsu11000_1_panto_placer_1,position_in_vehid_chain %9){
    0: sotetsu11000_1_mot_2;
    3: sotetsu11000_1_mot;
    7: sotetsu11000_1_mot;
    sotetsu11000_1_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_sotetsu11000_1_panto_placer_1_rev,position_in_vehid_chain_from_end %9 -1){
    0: sotetsu11000_1_mot_2;
    3: sotetsu11000_1_mot_rev;
    7: sotetsu11000_1_mot_rev;
    sotetsu11000_1_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_sotetsu11000_1_panto_placer_main_1,vehicle_is_reversed){
    1: sw_sotetsu11000_1_panto_placer_1_rev;
    sw_sotetsu11000_1_panto_placer_1;
   }

   switch(FEAT_TRAINS, SELF, sw_sotetsu11000_1_panto_placer_2,position_in_vehid_chain %8){
    1: sotetsu11000_1_mot_2;
    5: sotetsu11000_1_mot_2;
    sotetsu11000_1_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_sotetsu11000_1_panto_placer_2_rev,1-position_in_vehid_chain_from_end %8){
    1: sotetsu11000_1_mot_2;
    5: sotetsu11000_1_mot_2;
    sotetsu11000_1_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_sotetsu11000_1_panto_placer_main_2,vehicle_is_reversed){
    1: sw_sotetsu11000_1_panto_placer_2_rev;
    sw_sotetsu11000_1_panto_placer_2;
   }

   switch(FEAT_TRAINS, SELF, sw_sotetsu11000_1_panto_placer_3,position_in_vehid_chain %5){
    0: sotetsu11000_1_mot_rev;
    2: sotetsu11000_1_mot_rev;
    sotetsu11000_1_wag;
   }
   switch(FEAT_TRAINS, SELF, sw_sotetsu11000_1_panto_placer_3_rev,1-position_in_vehid_chain_from_end %5){
    0: sotetsu11000_1_mot;
    2: sotetsu11000_1_mot;
    sotetsu11000_1_wag;
   }
   switch(FEAT_TRAINS, PARENT, sw_sotetsu11000_1_panto_placer_main_3,vehicle_is_reversed){
    1: sw_sotetsu11000_1_panto_placer_3_rev;
    sw_sotetsu11000_1_panto_placer_3;
   }

  switch(FEAT_TRAINS, SELF, sw_sotetsu11000_1_panto_placer_main,num_vehs_in_vehid_chain+1){
   5:sw_sotetsu11000_1_panto_placer_main_3;
   8..9:sw_sotetsu11000_1_panto_placer_main_2;
   sw_sotetsu11000_1_panto_placer_main_1;
  }

  switch(FEAT_TRAINS, SELF, sw_sotetsu11000_1_end_gfx_main,position_in_vehid_chain_from_end){
   0: sotetsu11000_1_end;
   default: sw_sotetsu11000_1_panto_placer_main;
  }
  switch(FEAT_TRAINS, SELF, sw_sotetsu11000_1_front_gfx_main,position_in_vehid_chain_from_end){
   0: sotetsu11000_1_front;
   default: sw_sotetsu11000_1_panto_placer_main;
  }
  switch(FEAT_TRAINS, SELF, sw_sotetsu11000_lv,vehicle_type_id){
   mu_car_narrow:sw_sotetsu11000_1_end_gfx_main;
   sw_sotetsu11000_1_front_gfx_main;
  }



  switch(FEAT_TRAINS, SELF, sw_sotetsu11000_capacity,position_in_vehid_chain_from_end){
   0: 142;
   default: 160;
  }
  switch(FEAT_TRAINS, SELF, sw_sotetsu11000_capacity_1,position_in_vehid_chain){
   0: 142;
   default: sw_sotetsu11000_capacity;
  }
  switch(FEAT_TRAINS, SELF, sw_sotetsu11000_capacity_main,vehicle_type_id){
   mu_car_narrow:sw_sotetsu11000_capacity;
   sw_sotetsu11000_capacity_1;
  }

  switch(FEAT_TRAINS, SELF, sw_sotetsu11000_power_main,position_in_vehid_chain_from_end%10){
   1..2:return 140;
   5..8:return 140;
   return 0;
  }

item(FEAT_TRAINS, sotetsu11000) {
 property {

   cargo_capacity: 1;
   power: 1 kW;
   ai_special_flag: AI_FLAG_PASSENGER;
   sprite_id: SPRITE_ID_NEW_TRAIN;
   misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
   refittable_cargo_classes: bitmask(CC_PASSENGERS);
   non_refittable_cargo_classes: bitmask();
   running_cost_base: RUNNING_COST_ELECTRIC;
   engine_class: ENGINE_CLASS_ELECTRIC;
   visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
   tractive_effort_coefficient: 0.3;
   air_drag_coefficient: 0.07;
   bitmask_vehicle_info: 0;

  name: string(STR_TRAIN_NAME, string(STR_NAME_SOTETSU), "11000", string(STR_NAME_SERIES),);
  climates_available: param_disable_sotetsu == 0 ? ALL_CLIMATES : NO_CLIMATE;
  introduction_date: date(2008, 1, 1);
  model_life: VEHICLE_NEVER_EXPIRES;
  vehicle_life: 35;
  reliability_decay: 10;

  cost_factor: 20;
  running_cost_factor: 50;
  speed: 120 km/h;
  track_type: TR_1067_DC;
  weight: 34 ton;
  loading_speed: param_loading_4D;
 }
 graphics {
  cargo_capacity: sw_sotetsu11000_capacity_main()*param_capacity_mod/3;
  power:sw_sotetsu11000_power_main()*4*1342/1000;
  purchase: sotetsu11000_purchase;
  default: sw_sotetsu11000_lv;


  start_stop: sw_stop_start_3;
  can_attach_wagon: sw_1067_attach_vehid;
  additional_text:
   string(STR_TRAIN_DESC,
   string(STR_NARROWGAUGE),
   string(STR_DENKI, string(STR_DC_N, 1500)),
   string(STR_LOAD_SPEED, string(STR_DOORS, 4),),
   string(STR_FORMATION, string(STR_NUM_CARS_1, 10)),
   string(STR_USAGE, string(STR_COMMUTER)),
   string(STR_OPERATOR, string(STR_SOTETSU)));
 }
 livery_override(mu_car_narrow){
  cargo_capacity: sw_sotetsu11000_capacity_main()*param_capacity_mod/3;
  cargo_subtype_text:sw_empty_desc;
  power: sw_sotetsu11000_power_main()*4*1342/1000;
  default: sw_sotetsu11000_lv;
  loading_speed: param_loading_4D;
  weight: 32;
 }
}
# 107 "src/_private.pnml" 2
# 1 "src/private/Kanto/sotetsu/sotetsu12000.pnml" 1

spriteset(sotetsu12000_front_base, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu12000/sotetsu12000.png"){ tmpl_std(0, 0) }
spriteset(sotetsu12000_end_base, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu12000/sotetsu12000.png"){ tmpl_std_rev(0, 0) }
spriteset(sotetsu12000_car_base, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu12000/sotetsu12000.png"){ tmpl_symm(0, 25) }
spriteset(sotetsu12000_lights_rear, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu12000/sotetsu12000_lights.png"){ tmpl_high_skirt(0, 0) }
spriteset(sotetsu12000_lights_back, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu12000/sotetsu12000_lights.png"){ tmpl_end_v2(0, 25) }

switch(FEAT_TRAINS, SELF, sotetsu12000_front, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med_h1; 1: sotetsu12000_front_base; 2: sotetsu12000_lights_rear; 3: ac_long_toshiba;}
switch(FEAT_TRAINS, SELF, sotetsu12000_end, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med_h1_rev; 1: sotetsu12000_end_base; 2: sotetsu12000_lights_back; 3: ac_long_toshiba;}
switch(FEAT_TRAINS, SELF, sotetsu12000_wag, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu12000_car_base; 2: ac_long_toshiba;}
switch(FEAT_TRAINS, SELF, sotetsu12000_mot_2, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu12000_car_base; 2: ac_long_toshiba; 3: panto_arm_n;}
switch(FEAT_TRAINS, SELF, sotetsu12000_mot, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu12000_car_base; 2: ac_long_toshiba; 3: panto_arm_n_single;}
switch(FEAT_TRAINS, SELF, sotetsu12000_mot_rev, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu12000_car_base; 2: ac_long_toshiba; 3: panto_arm_n_single_rev;}


  spriteset(sotetsu12000_front_base_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu12000/sotetsu12000.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(sotetsu12000_car_base_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu12000/sotetsu12000.png"){ tmpl_purchase_2c(0, 25) }
  switch(FEAT_TRAINS, SELF, sotetsu12000_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_sotetsu; 1: roof_gray_med_h1_c1; 2: sotetsu12000_front_base_c1; 3: ac_long_toshiba_c1; 4: roof_gray_med_c2; 5: sotetsu12000_car_base_c2; 6: ac_long_toshiba_c2;}




 switch(FEAT_TRAINS, SELF, sw_sotetsu12000_panto_placer_1,position_in_vehid_chain %6){
  1: sotetsu12000_mot_rev;
  3: sotetsu12000_mot_2;
  sotetsu12000_wag;
 }
 switch(FEAT_TRAINS, SELF, sw_sotetsu12000_panto_placer_1_rev,position_in_vehid_chain_from_end %6 -1){
  1: sotetsu12000_mot;
  3: sotetsu12000_mot_2;
  sotetsu12000_wag;
 }
 switch(FEAT_TRAINS, PARENT, sw_sotetsu12000_panto_placer_main_1,vehicle_is_reversed){
  1: sw_sotetsu12000_panto_placer_1_rev;
  sw_sotetsu12000_panto_placer_1;
 }

 switch(FEAT_TRAINS, SELF, sw_sotetsu12000_panto_placer_2,position_in_vehid_chain %5){
  0: sotetsu12000_mot_rev;
  2: sotetsu12000_mot_2;
  sotetsu12000_wag;
 }
 switch(FEAT_TRAINS, SELF, sw_sotetsu12000_panto_placer_2_rev,1-position_in_vehid_chain_from_end %5){
  0: sotetsu12000_mot;
  2: sotetsu12000_mot_2;
  sotetsu12000_wag;
 }
 switch(FEAT_TRAINS, PARENT, sw_sotetsu12000_panto_placer_main_2,vehicle_is_reversed){
  1: sw_sotetsu12000_panto_placer_2_rev;
  sw_sotetsu12000_panto_placer_2;
 }

 switch(FEAT_TRAINS, SELF, sw_sotetsu12000_panto_placer_3,position_in_vehid_chain %5){
  0: sotetsu12000_mot_2;
  2: sotetsu12000_mot_rev;
  sotetsu12000_wag;
 }
 switch(FEAT_TRAINS, SELF, sw_sotetsu12000_panto_placer_3_rev,1-position_in_vehid_chain_from_end %5){
  0: sotetsu12000_mot_2;
  2: sotetsu12000_mot;
  sotetsu12000_wag;
 }
 switch(FEAT_TRAINS, PARENT, sw_sotetsu12000_panto_placer_main_3,vehicle_is_reversed){
  1: sw_sotetsu12000_panto_placer_3_rev;
  sw_sotetsu12000_panto_placer_3;
 }

  switch(FEAT_TRAINS, SELF, sw_sotetsu12000_panto_placer_main,num_vehs_in_vehid_chain+1){
   3..5:sw_sotetsu12000_panto_placer_main_3;
   8..9:sw_sotetsu12000_panto_placer_main_2;
   sw_sotetsu12000_panto_placer_main_1;
  }

 switch(FEAT_TRAINS, SELF, sw_sotetsu12000_end_gfx_main,position_in_vehid_chain_from_end){
  0: sotetsu12000_end;
  default: sw_sotetsu12000_panto_placer_main;
 }
 switch(FEAT_TRAINS, SELF, sw_sotetsu12000_front_gfx_main,position_in_vehid_chain_from_end){
  0: sotetsu12000_front;
  default: sw_sotetsu12000_panto_placer_main;
 }
 switch(FEAT_TRAINS, SELF, sw_sotetsu12000_lv,vehicle_type_id){
  mu_car_narrow:sw_sotetsu12000_end_gfx_main;
  sw_sotetsu12000_front_gfx_main;
 }



 switch(FEAT_TRAINS, SELF, sw_sotetsu12000_capacity,position_in_vehid_chain_from_end){
    0: 140;
    default: 159;
 }
 switch(FEAT_TRAINS, SELF, sw_sotetsu12000_capacity_1,position_in_vehid_chain){
    0: 140;
    default: sw_sotetsu12000_capacity;
 }
 switch(FEAT_TRAINS, SELF, sw_sotetsu12000_capacity_main,vehicle_type_id){
    mu_car_narrow:sw_sotetsu12000_capacity;
    sw_sotetsu12000_capacity_1;
 }

 switch(FEAT_TRAINS, SELF, sw_sotetsu12000_power_main,position_in_vehid_chain_from_end%10){
    1..2:return 140;
    5..8:return 140;
    return 0;
 }

item(FEAT_TRAINS, sotetsu12000) {
    property {
        cargo_capacity: 130;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        climates_available: param_disable_sotetsu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        name: string(STR_TRAIN_NAME, string(STR_NAME_SOTETSU), "12000", string(STR_NAME_SERIES),);
        introduction_date: date(2019, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 35;
        reliability_decay: 10;

        cost_factor: 21;
        running_cost_factor: 51;
        speed: 120 km/h;
        track_type: TR_1067_DC;
        power: 1 kW;
        weight: 34 ton;
        loading_speed: param_loading_4D;
    }
 graphics {
        default: sw_sotetsu12000_lv;
        power:sw_sotetsu12000_power_main()*4*1342/1000;
        start_stop: sw_stop_start_3;
        purchase: sotetsu12000_purchase;
        can_attach_wagon: sw_1067_attach_vehid;

        cargo_capacity: sw_sotetsu12000_capacity_main()*param_capacity_mod/3;
        additional_text:string(STR_TRAIN_DESC,
                        string(STR_NARROWGAUGE),
                        string(STR_DENKI, string(STR_DC_N, 1500)),
                        string(STR_LOAD_SPEED, string(STR_DOORS, 4),),
                        string(STR_FORMATION, string(STR_NUM_CARS_1, 10)),
                        string(STR_USAGE, string(STR_COMMUTER)),
                        string(STR_OPERATOR, string(STR_SOTETSU)));
    }
    livery_override(mu_car_narrow){
   cargo_subtype_text:sw_empty_desc;
        default: sw_sotetsu12000_lv;
        loading_speed: param_loading_4D;
        power: sw_sotetsu12000_power_main()*4*1342/1000;
        cargo_capacity: sw_sotetsu12000_capacity_main()*param_capacity_mod/3;
        weight: 32;
      }
}
# 108 "src/_private.pnml" 2
# 1 "src/private/Kanto/sotetsu/sotetsu20000.pnml" 1

spriteset(sotetsu20000_front_base, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu20000/sotetsu20000.png"){ tmpl_std(0, 0) }
spriteset(sotetsu20000_end_base, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu20000/sotetsu20000.png"){ tmpl_std_rev(0, 0) }
spriteset(sotetsu20000_car_base, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu12000/sotetsu12000.png"){ tmpl_symm(0, 25) }
spriteset(sotetsu20000_lights_rear, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu20000/sotetsu20000_lights.png"){ tmpl_high_skirt(0, 0) }
spriteset(sotetsu20000_lights_back, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu20000/sotetsu20000_lights.png"){ tmpl_end_v2(0, 25) }

switch(FEAT_TRAINS, SELF, sotetsu20000_front, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med_h1; 1: sotetsu20000_front_base; 2: sotetsu20000_lights_rear; 3: ac_long_toshiba;}
switch(FEAT_TRAINS, SELF, sotetsu20000_end, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med_h1_rev; 1: sotetsu20000_end_base; 2: sotetsu20000_lights_back; 3: ac_long_toshiba;}
switch(FEAT_TRAINS, SELF, sotetsu20000_wag, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu20000_car_base; 2: ac_long_toshiba;}
switch(FEAT_TRAINS, SELF, sotetsu20000_mot, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu20000_car_base; 2: ac_long_toshiba; 3: panto_arm_n_single;}
switch(FEAT_TRAINS, SELF, sotetsu20000_mot_rev, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: roof_gray_med; 1: sotetsu20000_car_base; 2: ac_long_toshiba; 3: panto_arm_n_single_rev;}


  spriteset(sotetsu20000_front_base_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu20000/sotetsu20000.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(sotetsu20000_car_base_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/sotetsu/sotetsu12000/sotetsu12000.png"){ tmpl_purchase_2c(0, 25) }
  switch(FEAT_TRAINS, SELF, sotetsu20000_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8,) ]) { 0: logo_sotetsu; 1: roof_gray_med_h1_c1; 2: sotetsu20000_front_base_c1; 3: ac_long_toshiba_c1; 4: roof_gray_med_c2; 5: sotetsu20000_car_base_c2; 6: ac_long_toshiba_c2;}




 switch(FEAT_TRAINS, SELF, sw_sotetsu20000_panto_placer_1,position_in_vehid_chain %5){
  0: sotetsu20000_mot;
  2: sotetsu20000_mot;
  3: sotetsu20000_mot;
  sotetsu20000_wag;
 }
 switch(FEAT_TRAINS, SELF, sw_sotetsu20000_panto_placer_1_rev,position_in_vehid_chain_from_end %5 -1){
  0: sotetsu20000_mot_rev;
  2: sotetsu20000_mot_rev;
  3: sotetsu20000_mot_rev;
  sotetsu20000_wag;
 }
 switch(FEAT_TRAINS, PARENT, sw_sotetsu20000_panto_placer_main,vehicle_is_reversed){
  1: sw_sotetsu20000_panto_placer_1_rev;
  sw_sotetsu20000_panto_placer_1;
 }

 switch(FEAT_TRAINS, SELF, sw_sotetsu20000_end_gfx_main,position_in_vehid_chain_from_end){
  0: sotetsu20000_end;
  default: sw_sotetsu20000_panto_placer_main;
 }
 switch(FEAT_TRAINS, SELF, sw_sotetsu20000_front_gfx_main,position_in_vehid_chain_from_end){
  0: sotetsu20000_front;
  default: sw_sotetsu20000_panto_placer_main;
 }
 switch(FEAT_TRAINS, SELF, sw_sotetsu20000_lv,vehicle_type_id){
  mu_car_narrow:sw_sotetsu20000_end_gfx_main;
  sw_sotetsu20000_front_gfx_main;
 }



 switch(FEAT_TRAINS, SELF, sw_sotetsu20000_capacity,position_in_vehid_chain_from_end){
    0: 133;
    default: 144;
 }
 switch(FEAT_TRAINS, SELF, sw_sotetsu20000_capacity_1,position_in_vehid_chain){
    0: 133;
    default: sw_sotetsu20000_capacity;
 }
 switch(FEAT_TRAINS, SELF, sw_sotetsu20000_capacity_main,vehicle_type_id){
    mu_car_narrow:sw_sotetsu20000_capacity;
    sw_sotetsu20000_capacity_1;
 }

 switch(FEAT_TRAINS, SELF, sw_sotetsu20000_power_main,position_in_vehid_chain_from_end%10){
    1:return 190;
    3..4:return 190;
    6:return 190;
    8:return 190;
    return 0;
 }

item(FEAT_TRAINS, sotetsu20000) {
    property {
        cargo_capacity: 130;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        climates_available: param_disable_sotetsu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        name: string(STR_TRAIN_NAME, string(STR_NAME_SOTETSU), "20000/21000", string(STR_NAME_SERIES),);
        introduction_date: date(2018, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 35;
        reliability_decay: 10;

        cost_factor: 20;
        running_cost_factor: 50;
        speed: 120 km/h;
        track_type: TR_1067_DC;
        power: 1 kW;
        weight: 34 ton;
        loading_speed: param_loading_4D;
    }
 graphics {
        default: sw_sotetsu20000_lv;
        power:sw_sotetsu20000_power_main()*4*1342/1000;
        start_stop: sw_stop_start_3;
        purchase: sotetsu20000_purchase;
        can_attach_wagon: sw_1067_attach_vehid;

        cargo_capacity: sw_sotetsu20000_capacity_main()*param_capacity_mod/3;
        additional_text:string(STR_TRAIN_DESC,
                        string(STR_NARROWGAUGE),
                        string(STR_DENKI, string(STR_DC_N, 1500)),
                        string(STR_LOAD_SPEED, string(STR_DOORS, 4),),
                        string(STR_FORMATION, string(STR_NUM_CARS_2, 8,10)),
                        string(STR_USAGE, string(STR_METRO_ACCESS)),
                        string(STR_OPERATOR, string(STR_SOTETSU)));
    }
    livery_override(mu_car_narrow){
        cargo_subtype_text:sw_empty_desc;
        default: sw_sotetsu20000_lv;
        loading_speed: param_loading_4D;
        power: sw_sotetsu20000_power_main()*4*1342/1000;
        cargo_capacity: sw_sotetsu20000_capacity_main()*param_capacity_mod/3;
        weight: 32;
      }
}
# 109 "src/_private.pnml" 2






# 1 "src/private/Kanto/TWR/70_000series.pnml" 1

  spriteset(twr_70_000series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/TWR/70_000series/70_000series.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(twr_70_000series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/TWR/70_000series/70_000series.png"){ tmpl_purchase_2c(0, 75) }
  switch(FEAT_TRAINS, SELF, twr_70_000series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_twr; 1: twr_70_000series_purchase_c1; 2: twr_70_000series_purchase_c2;}

spriteset(twr_70_000series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/TWR/70_000series/70_000series.png"){ tmpl_std(0, 0) }
spriteset(twr_70_000series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/TWR/70_000series/70_000series.png"){ tmpl_std_rev(0, 25) }
spriteset(twr_70_000series_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/TWR/70_000series/70_000series.png"){ tmpl_std(0, 50) }
spriteset(twr_70_000series_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/TWR/70_000series/70_000series.png"){ tmpl_std_rev(0, 50) }
spriteset(twr_70_000series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/TWR/70_000series/70_000series.png"){ tmpl_symm(0, 75) }
spriteset(twr_70_000series_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/TWR/70_000series/70_000series.png"){ tmpl_std(0, 100) }
spriteset(twr_70_000series_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/TWR/70_000series/70_000series.png"){ tmpl_std_rev(0, 100) }





switch(FEAT_TRAINS, SELF, sw_twr_70_000series_panto_placer,position_in_vehid_chain %3){
    1: twr_70_000series_mot;
    twr_70_000series_wag;
}
switch(FEAT_TRAINS, SELF, sw_twr_70_000series_panto_placer_rev,position_in_vehid_chain_from_end %3){
    2: twr_70_000series_mot_rev;
    twr_70_000series_wag;
}
switch(FEAT_TRAINS, PARENT, sw_twr_70_000series_panto_placer_main_1,vehicle_is_reversed){
    1: sw_twr_70_000series_panto_placer_rev;
    sw_twr_70_000series_panto_placer;
}

switch(FEAT_TRAINS, SELF, sw_twr_70_000series_1_panto_placer,position_in_vehid_chain %3){
    0: twr_70_000series_mot;
    twr_70_000series_wag;
}
switch(FEAT_TRAINS, SELF, sw_twr_70_000series_1_panto_placer_rev,position_in_vehid_chain_from_end %3){
    1: twr_70_000series_mot_rev;
    twr_70_000series_wag;
}
switch(FEAT_TRAINS, PARENT, sw_twr_70_000series_panto_placer_main_2,vehicle_is_reversed){
    1: sw_twr_70_000series_1_panto_placer_rev;
    sw_twr_70_000series_1_panto_placer;
}

switch(FEAT_TRAINS, SELF, sw_twr_70_000series_panto_placer_main,num_vehs_in_vehid_chain+1){
0..3:sw_twr_70_000series_panto_placer_main_2;
6:sw_twr_70_000series_panto_placer_main_2;
sw_twr_70_000series_panto_placer_main_1;
}



switch(FEAT_TRAINS, SELF, sw_twr_70_000series_fake_placer,1+position_in_vehid_chain){
    6: twr_70_000series_end_f;
    7: twr_70_000series_front_f;
sw_twr_70_000series_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_twr_70_000series_fake_placer_rev,position_in_vehid_chain_from_end){
    6: twr_70_000series_front_f;
    7: twr_70_000series_end_f;
sw_twr_70_000series_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_twr_70_000series_fake_placer_gfx,vehicle_is_reversed){
    1: sw_twr_70_000series_fake_placer_rev;
    sw_twr_70_000series_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_twr_70_000series_fake_placer_main,num_vehs_in_vehid_chain>11){
    1: sw_twr_70_000series_fake_placer_gfx;
sw_twr_70_000series_panto_placer_main;
}



switch(FEAT_TRAINS, SELF, sw_twr_70_000series_livery_1,position_in_vehid_chain_from_end){
    0: twr_70_000series_end;
    default: sw_twr_70_000series_fake_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_twr_70_000series_main_capacity,position_in_vehid_chain){
    0: 146*param_capacity_mod/3;
    default: 156*param_capacity_mod/3;
}

switch(FEAT_TRAINS, SELF, twr_70_000series_attach_vehid, vehicle_type_id) {
  mu_car: return string(STR_ATTACH_1067_ERROR);
  mu_car_metro: return string(STR_ATTACH_1067_ERROR);
  return CB_RESULT_ATTACH_ALLOW;
}

item(FEAT_TRAINS, twr_70_000series,2290) {
    property {
        cargo_capacity: 130;
        climates_available: param_disable_semiPrivate == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        name: string(STR_TRAIN_NAME, string(STR_NAME_TWR), "70-000", string(STR_NAME_TYPE));
        introduction_date: date(1995, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cost_factor: 18;
        running_cost_factor: 48;
        speed: 110 km/h;
        track_type: TR_1067_DC;
        power: 380 kW;
        weight: 34 ton;
        loading_speed: param_loading_4D;
    }
 graphics {
        default: twr_70_000series_front;
        purchase: twr_70_000series_purchase;
        can_attach_wagon: twr_70_000series_attach_vehid;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_3, 4, 6, 10)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_TWR)));

  start_stop: sw_stop_start_3;
        cargo_capacity: 146*param_capacity_mod/3;
    }
    livery_override(mu_car_narrow){
        cargo_subtype_text:sw_empty_desc;
        loading_speed: param_loading_4D;
        cargo_capacity: sw_twr_70_000series_main_capacity;
        default: sw_twr_70_000series_livery_1;
        power: 509*5/9;
        weight: 34;
        length: 8;
      }
}
# 116 "src/_private.pnml" 2


# 1 "src/private/Kanto/tsukuba/1000series.pnml" 1

  spriteset(tsukuba_1000series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tsukuba/1000series/1000series.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(tsukuba_1000series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tsukuba/1000series/1000series.png"){ tmpl_purchase_2c(0, 50) }
  switch(FEAT_TRAINS, SELF, tsukuba_1000series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_tsukuba; 1: tsukuba_1000series_purchase_c1; 2: tsukuba_1000series_purchase_c2;}

spriteset(tsukuba_1000series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tsukuba/1000series/1000series.png"){ tmpl_std(0, 0) }
spriteset(tsukuba_1000series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tsukuba/1000series/1000series.png"){ tmpl_std_rev(0, 25) }
spriteset(tsukuba_1000series_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tsukuba/1000series/1000series.png"){ tmpl_std(0, 50) }
spriteset(tsukuba_1000series_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tsukuba/1000series/1000series.png"){ tmpl_std_rev(0, 50) }
spriteset(tsukuba_1000series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tsukuba/1000series/1000series.png"){ tmpl_symm(0, 75) }
spriteset(tsukuba_1000series_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tsukuba/1000series/1000series.png"){ tmpl_std(0, 100) }
spriteset(tsukuba_1000series_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tsukuba/1000series/1000series.png"){ tmpl_std_rev(0, 100) }





switch(FEAT_TRAINS, SELF, sw_tsukuba_1000series_panto_placer,1+position_in_vehid_chain %5){
    1: tsukuba_1000series_mot;
    3: tsukuba_1000series_mot;
    tsukuba_1000series_wag;
}
switch(FEAT_TRAINS, SELF, sw_tsukuba_1000series_panto_placer_rev,position_in_vehid_chain_from_end %5){
    1: tsukuba_1000series_mot_rev;
    3: tsukuba_1000series_mot_rev;
    tsukuba_1000series_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tsukuba_1000series_panto_placer_main_1,vehicle_is_reversed){
    1: sw_tsukuba_1000series_panto_placer_rev;
    sw_tsukuba_1000series_panto_placer;
}

switch(FEAT_TRAINS, SELF, sw_tsukuba_1000series_1_panto_placer,1+position_in_vehid_chain %3){
    1: tsukuba_1000series_mot;
    tsukuba_1000series_wag;
}
switch(FEAT_TRAINS, SELF, sw_tsukuba_1000series_1_panto_placer_rev,position_in_vehid_chain_from_end %3){
    1: tsukuba_1000series_mot_rev;
    tsukuba_1000series_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tsukuba_1000series_panto_placer_main_2,vehicle_is_reversed){
    1: sw_tsukuba_1000series_1_panto_placer_rev;
    sw_tsukuba_1000series_1_panto_placer;
}

switch(FEAT_TRAINS, SELF, sw_tsukuba_1000series_panto_placer_main,num_vehs_in_vehid_chain+1){
4..5:sw_tsukuba_1000series_panto_placer_main_2;
7:sw_tsukuba_1000series_panto_placer_main_2;
sw_tsukuba_1000series_panto_placer_main_1;
}



switch(FEAT_TRAINS, SELF, sw_tsukuba_1000series_fake_placer,1+position_in_vehid_chain){
    4: tsukuba_1000series_end_f;
    5: tsukuba_1000series_front_f;
sw_tsukuba_1000series_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tsukuba_1000series_fake_placer_rev,position_in_vehid_chain_from_end){
    4: tsukuba_1000series_front_f;
    5: tsukuba_1000series_end_f;
sw_tsukuba_1000series_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tsukuba_1000series_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tsukuba_1000series_fake_placer_rev;
    sw_tsukuba_1000series_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tsukuba_1000series_fake_placer_main,num_vehs_in_vehid_chain>8){
    1: sw_tsukuba_1000series_fake_placer_gfx;
sw_tsukuba_1000series_panto_placer_main;
}



switch(FEAT_TRAINS, SELF, sw_tsukuba_1000series_livery_1,position_in_vehid_chain_from_end){
    0: tsukuba_1000series_end;
    default: sw_tsukuba_1000series_fake_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tsukuba_1000series_main_capacity,position_in_vehid_chain){
    0: 147*param_capacity_mod/3;
    default: 158*param_capacity_mod/3;
}

switch(FEAT_TRAINS, SELF, tsukuba_1000series_attach_vehid, vehicle_type_id) {
  mu_car: return string(STR_ATTACH_1067_ERROR);
  mu_car_metro: return string(STR_ATTACH_1067_ERROR);
  return CB_RESULT_ATTACH_ALLOW;
}

item(FEAT_TRAINS, tsukuba_1000series,2295) {
    property {
        cargo_capacity: 130;
        climates_available: param_disable_semiPrivate == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        name: string(STR_TRAIN_NAME_SHORT, "TX-1000", string(STR_NAME_SERIES));
        introduction_date: date(2003, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cost_factor: 21;
        running_cost_factor: 51;
        speed: 130 km/h;
        track_type: TR_1067_ACDC;
        power: 760 kW;
        weight: 32 ton;
        loading_speed: param_loading_4D;
    }
 graphics {
        default: tsukuba_1000series_front;
        purchase: tsukuba_1000series_purchase;
        can_attach_wagon: tsukuba_1000series_attach_vehid;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_AC_DC, 20, 50, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 6)),
  string(STR_USAGE, string(STR_EXPRESS)),
  string(STR_OPERATOR, string(STR_TSUKUBA)));

  start_stop: sw_stop_start_3;
        cargo_capacity: 147*param_capacity_mod/3;
    }
    livery_override(mu_car_narrow){
        cargo_subtype_text:sw_empty_desc;
        loading_speed: param_loading_4D;
        cargo_capacity: sw_tsukuba_1000series_main_capacity;
        default: sw_tsukuba_1000series_livery_1;
        power: 1019*2/5;
        weight: 31;
        length: 8;
      }
}
# 119 "src/_private.pnml" 2
# 1 "src/private/Kanto/tsukuba/2000series.pnml" 1

  spriteset(tsukuba_2000series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tsukuba/2000series/2000series.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(tsukuba_2000series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tsukuba/2000series/2000series.png"){ tmpl_purchase_2c(0, 50) }
  switch(FEAT_TRAINS, SELF, tsukuba_2000series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_tsukuba; 1: tsukuba_2000series_purchase_c1; 2: tsukuba_2000series_purchase_c2;}

spriteset(tsukuba_2000series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tsukuba/2000series/2000series.png"){ tmpl_std(0, 0) }
spriteset(tsukuba_2000series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tsukuba/2000series/2000series.png"){ tmpl_std_rev(0, 25) }
spriteset(tsukuba_2000series_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tsukuba/2000series/2000series.png"){ tmpl_std(0, 50) }
spriteset(tsukuba_2000series_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tsukuba/2000series/2000series.png"){ tmpl_std_rev(0, 50) }
spriteset(tsukuba_2000series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tsukuba/2000series/2000series.png"){ tmpl_symm(0, 75) }
spriteset(tsukuba_2000series_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tsukuba/2000series/2000series.png"){ tmpl_std(0, 100) }
spriteset(tsukuba_2000series_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tsukuba/2000series/2000series.png"){ tmpl_std_rev(0, 100) }





switch(FEAT_TRAINS, SELF, sw_tsukuba_2000series_panto_placer,1+position_in_vehid_chain %5){
    1: tsukuba_2000series_mot;
    3: tsukuba_2000series_mot;
    tsukuba_2000series_wag;
}
switch(FEAT_TRAINS, SELF, sw_tsukuba_2000series_panto_placer_rev,position_in_vehid_chain_from_end %5){
    1: tsukuba_2000series_mot_rev;
    3: tsukuba_2000series_mot_rev;
    tsukuba_2000series_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tsukuba_2000series_panto_placer_main_1,vehicle_is_reversed){
    1: sw_tsukuba_2000series_panto_placer_rev;
    sw_tsukuba_2000series_panto_placer;
}

switch(FEAT_TRAINS, SELF, sw_tsukuba_2000series_1_panto_placer,1+position_in_vehid_chain %3){
    1: tsukuba_2000series_mot;
    tsukuba_2000series_wag;
}
switch(FEAT_TRAINS, SELF, sw_tsukuba_2000series_1_panto_placer_rev,position_in_vehid_chain_from_end %3){
    1: tsukuba_2000series_mot_rev;
    tsukuba_2000series_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tsukuba_2000series_panto_placer_main_2,vehicle_is_reversed){
    1: sw_tsukuba_2000series_1_panto_placer_rev;
    sw_tsukuba_2000series_1_panto_placer;
}

switch(FEAT_TRAINS, SELF, sw_tsukuba_2000series_panto_placer_main,num_vehs_in_vehid_chain+1){
4..5:sw_tsukuba_2000series_panto_placer_main_2;
7:sw_tsukuba_2000series_panto_placer_main_2;
sw_tsukuba_2000series_panto_placer_main_1;
}



switch(FEAT_TRAINS, SELF, sw_tsukuba_2000series_fake_placer,1+position_in_vehid_chain){
    4: tsukuba_2000series_end_f;
    5: tsukuba_2000series_front_f;
sw_tsukuba_2000series_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tsukuba_2000series_fake_placer_rev,position_in_vehid_chain_from_end){
    4: tsukuba_2000series_front_f;
    5: tsukuba_2000series_end_f;
sw_tsukuba_2000series_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tsukuba_2000series_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tsukuba_2000series_fake_placer_rev;
    sw_tsukuba_2000series_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tsukuba_2000series_fake_placer_main,num_vehs_in_vehid_chain>8){
    1: sw_tsukuba_2000series_fake_placer_gfx;
sw_tsukuba_2000series_panto_placer_main;
}



switch(FEAT_TRAINS, SELF, sw_tsukuba_2000series_livery_1,position_in_vehid_chain_from_end){
    0: tsukuba_2000series_end;
    default: sw_tsukuba_2000series_fake_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tsukuba_2000series_main_capacity,position_in_vehid_chain){
    0: 147*param_capacity_mod/3;
    default: 158*param_capacity_mod/3;
}

switch(FEAT_TRAINS, SELF, tsukuba_2000series_attach_vehid, vehicle_type_id) {
  mu_car: return string(STR_ATTACH_1067_ERROR);
  mu_car_metro: return string(STR_ATTACH_1067_ERROR);
  return CB_RESULT_ATTACH_ALLOW;
}

item(FEAT_TRAINS, tsukuba_2000series,2296) {
    property {
        cargo_capacity: 130;
        climates_available: param_disable_semiPrivate == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        name: string(STR_TRAIN_NAME_SHORT, "TX-2000", string(STR_NAME_SERIES));
        introduction_date: date(2005, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cost_factor: 22;
        running_cost_factor: 52;
        speed: 130 km/h;
        track_type: TR_1067_ACDC;
        power: 760 kW;
        weight: 36 ton;
        loading_speed: param_loading_4D;
    }
 graphics {
        default: tsukuba_2000series_front;
        purchase: tsukuba_2000series_purchase;
        can_attach_wagon: tsukuba_2000series_attach_vehid;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_AC_DC, 20, 50, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 6)),
  string(STR_USAGE, string(STR_EXPRESS)),
  string(STR_OPERATOR, string(STR_TSUKUBA)));

  start_stop: sw_stop_start_3;
        cargo_capacity: 147*param_capacity_mod/3;
    }
    livery_override(mu_car_narrow){
        cargo_subtype_text:sw_empty_desc;
        loading_speed: param_loading_4D;
        cargo_capacity: sw_tsukuba_2000series_main_capacity;
        default: sw_tsukuba_2000series_livery_1;
        power: 1019*3/5;
        weight: 34;
        length: 8;
      }
}
# 120 "src/_private.pnml" 2
# 1 "src/private/Kanto/tsukuba/3000series.pnml" 1

  spriteset(tsukuba_3000series_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tsukuba/3000series/3000series.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(tsukuba_3000series_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tsukuba/3000series/3000series.png"){ tmpl_purchase_2c(0, 50) }
  switch(FEAT_TRAINS, SELF, tsukuba_3000series_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_tsukuba; 1: tsukuba_3000series_purchase_c1; 2: tsukuba_3000series_purchase_c2;}

spriteset(tsukuba_3000series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tsukuba/3000series/3000series.png"){ tmpl_std(0, 0) }
spriteset(tsukuba_3000series_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tsukuba/3000series/3000series.png"){ tmpl_std_rev(0, 25) }
spriteset(tsukuba_3000series_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tsukuba/3000series/3000series.png"){ tmpl_std(0, 50) }
spriteset(tsukuba_3000series_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tsukuba/3000series/3000series.png"){ tmpl_std_rev(0, 50) }
spriteset(tsukuba_3000series_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tsukuba/3000series/3000series.png"){ tmpl_symm(0, 75) }
spriteset(tsukuba_3000series_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tsukuba/3000series/3000series.png"){ tmpl_std(0, 100) }
spriteset(tsukuba_3000series_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/tsukuba/3000series/3000series.png"){ tmpl_std_rev(0, 100) }





switch(FEAT_TRAINS, SELF, sw_tsukuba_3000series_panto_placer,1+position_in_vehid_chain %5){
    1: tsukuba_3000series_mot;
    3: tsukuba_3000series_mot;
    tsukuba_3000series_wag;
}
switch(FEAT_TRAINS, SELF, sw_tsukuba_3000series_panto_placer_rev,position_in_vehid_chain_from_end %5){
    1: tsukuba_3000series_mot_rev;
    3: tsukuba_3000series_mot_rev;
    tsukuba_3000series_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tsukuba_3000series_panto_placer_main_1,vehicle_is_reversed){
    1: sw_tsukuba_3000series_panto_placer_rev;
    sw_tsukuba_3000series_panto_placer;
}

switch(FEAT_TRAINS, SELF, sw_tsukuba_3000series_1_panto_placer,1+position_in_vehid_chain %3){
    1: tsukuba_3000series_mot;
    tsukuba_3000series_wag;
}
switch(FEAT_TRAINS, SELF, sw_tsukuba_3000series_1_panto_placer_rev,position_in_vehid_chain_from_end %3){
    1: tsukuba_3000series_mot_rev;
    tsukuba_3000series_wag;
}
switch(FEAT_TRAINS, PARENT, sw_tsukuba_3000series_panto_placer_main_2,vehicle_is_reversed){
    1: sw_tsukuba_3000series_1_panto_placer_rev;
    sw_tsukuba_3000series_1_panto_placer;
}

switch(FEAT_TRAINS, SELF, sw_tsukuba_3000series_panto_placer_main,num_vehs_in_vehid_chain+1){
4..5:sw_tsukuba_3000series_panto_placer_main_2;
7:sw_tsukuba_3000series_panto_placer_main_2;
sw_tsukuba_3000series_panto_placer_main_1;
}



switch(FEAT_TRAINS, SELF, sw_tsukuba_3000series_fake_placer,1+position_in_vehid_chain){
    4: tsukuba_3000series_end_f;
    5: tsukuba_3000series_front_f;
sw_tsukuba_3000series_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_tsukuba_3000series_fake_placer_rev,position_in_vehid_chain_from_end){
    4: tsukuba_3000series_front_f;
    5: tsukuba_3000series_end_f;
sw_tsukuba_3000series_panto_placer_main;
}
switch(FEAT_TRAINS, PARENT, sw_tsukuba_3000series_fake_placer_gfx,vehicle_is_reversed){
    1: sw_tsukuba_3000series_fake_placer_rev;
    sw_tsukuba_3000series_fake_placer;
}
switch(FEAT_TRAINS, SELF, sw_tsukuba_3000series_fake_placer_main,num_vehs_in_vehid_chain>8){
    1: sw_tsukuba_3000series_fake_placer_gfx;
sw_tsukuba_3000series_panto_placer_main;
}



switch(FEAT_TRAINS, SELF, sw_tsukuba_3000series_livery_1,position_in_vehid_chain_from_end){
    0: tsukuba_3000series_end;
    default: sw_tsukuba_3000series_fake_placer_main;
}


switch(FEAT_TRAINS, SELF, sw_tsukuba_3000series_main_capacity,position_in_vehid_chain){
    0: 140*param_capacity_mod/3;
    default: 151*param_capacity_mod/3;
}

switch(FEAT_TRAINS, SELF, tsukuba_3000series_attach_vehid, vehicle_type_id) {
  mu_car: return string(STR_ATTACH_1067_ERROR);
  mu_car_metro: return string(STR_ATTACH_1067_ERROR);
  return CB_RESULT_ATTACH_ALLOW;
}

item(FEAT_TRAINS, tsukuba_3000series,2297) {
    property {
        cargo_capacity: 130;
        climates_available: param_disable_semiPrivate == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        name: string(STR_TRAIN_NAME_SHORT, "TX-3000", string(STR_NAME_SERIES));
        introduction_date: date(2019, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cost_factor: 22;
        running_cost_factor: 52;
        speed: 130 km/h;
        track_type: TR_1067_ACDC;
        power: 760 kW;
        weight: 37 ton;
        loading_speed: param_loading_4D;
    }
 graphics {
        default: tsukuba_3000series_front;
        purchase: tsukuba_3000series_purchase;
        can_attach_wagon: tsukuba_3000series_attach_vehid;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_NARROWGAUGE),
  string(STR_DENKI, string(STR_AC_DC, 20, 50, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 6)),
  string(STR_USAGE, string(STR_EXPRESS)),
  string(STR_OPERATOR, string(STR_TSUKUBA)));

  start_stop: sw_stop_start_3;
        cargo_capacity: 140*param_capacity_mod/3;
    }
    livery_override(mu_car_narrow){
        cargo_subtype_text:sw_empty_desc;
        loading_speed: param_loading_4D;
        cargo_capacity: sw_tsukuba_3000series_main_capacity;
        default: sw_tsukuba_3000series_livery_1;
        power: 1019*3/5;
        weight: 34;
        length: 8;
      }
}
# 121 "src/_private.pnml" 2
# 131 "src/_private.pnml"
item(FEAT_TRAINS, keikyu1, 2400) {}
item(FEAT_TRAINS, keikyu26, 2401) {}
item(FEAT_TRAINS, keikyu29, 2402) {}
item(FEAT_TRAINS, keikyu51, 2403) {}
item(FEAT_TRAINS, keikyu_de1, 2404) {}
item(FEAT_TRAINS, keikyu300, 2405) {}
item(FEAT_TRAINS, keikyu500, 2406) {}
item(FEAT_TRAINS, keikyu600, 2407) {}
item(FEAT_TRAINS, keikyu1000, 2408) {}
item(FEAT_TRAINS, keikyu700, 2409) {}
item(FEAT_TRAINS, keikyu800, 2410) {}
item(FEAT_TRAINS, keikyu2000, 2411) {}
item(FEAT_TRAINS, keikyu1500, 2412) {}
item(FEAT_TRAINS, keikyu600n, 2413) {}
item(FEAT_TRAINS, keikyu2100, 2414) {}
item(FEAT_TRAINS, keikyu1000n, 2415) {}

# 1 "src/private/Kanto/keikyu/keikyu1.pnml" 1

  spriteset(keikyu1_purchase_c1, "gfx/private/Kanto/keikyu/keikyu1/keikyu1.png"){ tmpl_purchase_1c(-88, 0) }
  switch(FEAT_TRAINS, SELF, keikyu1_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_keikyu; 1: keikyu1_purchase_c1;}

spriteset (sw_keikyu1_lv, "gfx/private/Kanto/keikyu/keikyu1/keikyu1.png") { tmpl_std_rev(0, 0) }

item(FEAT_TRAINS, keikyu1) {
    property {
        cargo_capacity: 130;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        climates_available: param_disable_keikyu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        name: string(STR_TRAIN_NAME, string(STR_NAME_KEIHIN), "1", string(STR_NAME_TYPE));
        introduction_date: date(1904, 1, 1);
        model_life: 29;
        vehicle_life: 46;
        reliability_decay: 10;

        cost_factor: 12;
        running_cost_factor: 42;
        speed: 60 km/h;
        track_type: TR_1435_DC;
        power: 148 kW;
        weight: 25 ton;
        loading_speed: param_loading_2D;
    }
 graphics {
        default: sw_keikyu1_lv;
        purchase: keikyu1_purchase;
        can_attach_wagon: sw_1435_attach_vehid;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 2)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 1)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_KEIKYU)));
        cargo_capacity: 80*param_capacity_mod/3;
        length: 6;
        sound_effect: sw_KQ1_start_sound;
    }
  livery_override(mu_car){
        loading_speed: param_loading_2D;
        cargo_capacity: 80*param_capacity_mod/3;
        default: sw_keikyu1_lv;

        weight: 28;
        length: 6;
      }
}
# 149 "src/_private.pnml" 2
# 1 "src/private/Kanto/keikyu/keikyu26.pnml" 1

  spriteset(keikyu26_purchase_c1, "gfx/private/Kanto/keikyu/keikyu26/keikyu26.png"){ tmpl_purchase_1c(-88, 0) }
  switch(FEAT_TRAINS, SELF, keikyu26_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_keikyu; 1: keikyu26_purchase_c1;}

spriteset (sw_keikyu26_lv, "gfx/private/Kanto/keikyu/keikyu26/keikyu26.png") { tmpl_std_rev(0, 0) }




item(FEAT_TRAINS, keikyu26) {
    property {
        cargo_capacity: 130;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        climates_available: param_disable_keikyu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        name: string(STR_TRAIN_NAME, string(STR_NAME_KEIHIN), "26", string(STR_NAME_TYPE));
        introduction_date: date(1911, 1, 1);
        model_life: 29;
        vehicle_life: 46;
        reliability_decay: 10;

        cost_factor: 12;
        running_cost_factor: 42;
        speed: 70 km/h;
        track_type: TR_1435_DC;
        power: 148 kW;
        weight: 25 ton;
        loading_speed: param_loading_2D;
    }
 graphics {
        default: sw_keikyu26_lv;
        purchase: keikyu26_purchase;
        can_attach_wagon: sw_1435_attach_vehid;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 2)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 1)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_KEIKYU)));
        cargo_capacity: 100*param_capacity_mod/3;
        length: 7;
        sound_effect: sw_KQ26_start_sound;
    }
    livery_override(mu_car){
        loading_speed: param_loading_2D;
        cargo_capacity: 100*param_capacity_mod/3;
        default: sw_keikyu26_lv;

        weight: 28;
        length: 7;
      }
}
# 150 "src/_private.pnml" 2
# 1 "src/private/Kanto/keikyu/keikyu29.pnml" 1

  spriteset(keikyu29_purchase_c1, "gfx/private/Kanto/keikyu/keikyu29/keikyu29.png"){ tmpl_purchase_1c(-88, 0) }
  switch(FEAT_TRAINS, SELF, keikyu29_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_keikyu; 1: keikyu29_purchase_c1;}

spriteset (sw_keikyu29_lv, "gfx/private/Kanto/keikyu/keikyu29/keikyu29.png") { tmpl_std_rev(0, 0) }




item(FEAT_TRAINS, keikyu29) {
    property {
        cargo_capacity: 130;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        climates_available: param_disable_keikyu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        name: string(STR_TRAIN_NAME, string(STR_NAME_KEIHIN), "29", string(STR_NAME_TYPE));
        introduction_date: date(1913, 1, 1);
        model_life: 29;
        vehicle_life: 46;
        reliability_decay: 10;

        cost_factor: 12;
        running_cost_factor: 42;
        speed: 70 km/h;
        track_type: TR_1435_DC;
        power: 148 kW;
        weight: 25 ton;
        loading_speed: param_loading_2D;
    }
 graphics {
        default: sw_keikyu29_lv;
        purchase: keikyu29_purchase;
        can_attach_wagon: sw_1435_attach_vehid;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 2)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 1)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_KEIKYU)));
        cargo_capacity: 100*param_capacity_mod/3;
        length: 7;
        sound_effect: sw_KQ29_start_sound;
    }
    livery_override(mu_car){
        loading_speed: param_loading_2D;
        cargo_capacity: 100*param_capacity_mod/3;
        default: sw_keikyu29_lv;

        weight: 28;
        length: 7;
      }
}
# 151 "src/_private.pnml" 2
# 1 "src/private/Kanto/keikyu/keikyu51.pnml" 1

  spriteset(keikyu51_purchase_c1, "gfx/private/Kanto/keikyu/keikyu51/keikyu51_1.png"){ tmpl_purchase_1c(-88, 0) }
  switch(FEAT_TRAINS, SELF, keikyu51_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_keikyu; 1: keikyu51_purchase_c1;}

spriteset (sw_keikyu51_livery_1, "gfx/private/Kanto/keikyu/keikyu51/keikyu51_1.png") { tmpl_std_rev(0, 0) }

spriteset (keikyu51_2_front_mot_rev, "gfx/private/Kanto/keikyu/keikyu51/keikyu51_2.png") { tmpl_std_rev(0, 0) }
spriteset (keikyu51_2_front_mot, "gfx/private/Kanto/keikyu/keikyu51/keikyu51_2.png") { tmpl_std(0, 25) }
spriteset (keikyu51_2_end_mot, "gfx/private/Kanto/keikyu/keikyu51/keikyu51_2.png") { tmpl_std_rev(0, 50) }
spriteset (keikyu51_2_end_mot_rev, "gfx/private/Kanto/keikyu/keikyu51/keikyu51_2.png") { tmpl_std(0, 50) }
spriteset (keikyu51_2_front, "gfx/private/Kanto/keikyu/keikyu51/keikyu51_2.png") { tmpl_std(0, 75) }
spriteset (keikyu51_2_end, "gfx/private/Kanto/keikyu/keikyu51/keikyu51_2.png") { tmpl_symm(0, 100) }

spriteset (keikyu51_3_front_mot_rev, "gfx/private/Kanto/keikyu/keikyu51/keikyu51_3.png") { tmpl_std_rev(0, 0) }
spriteset (keikyu51_3_front_mot, "gfx/private/Kanto/keikyu/keikyu51/keikyu51_3.png") { tmpl_std(0, 25) }
spriteset (keikyu51_3_end_mot, "gfx/private/Kanto/keikyu/keikyu51/keikyu51_3.png") { tmpl_std_rev(0, 50) }
spriteset (keikyu51_3_end_mot_rev, "gfx/private/Kanto/keikyu/keikyu51/keikyu51_3.png") { tmpl_std(0, 50) }
spriteset (keikyu51_3_front, "gfx/private/Kanto/keikyu/keikyu51/keikyu51_3.png") { tmpl_std(0, 75) }
spriteset (keikyu51_3_end, "gfx/private/Kanto/keikyu/keikyu51/keikyu51_3.png") { tmpl_symm(0, 100) }



  switch(FEAT_TRAINS, PARENT, sw_keikyu51_2_front_gfx_0, vehicle_is_reversed){
    1:keikyu51_2_front;
    keikyu51_2_front_mot;
  }
  switch(FEAT_TRAINS, PARENT, sw_keikyu51_2_end_gfx_0, vehicle_is_reversed){
    1:keikyu51_2_end_mot;
    keikyu51_2_end;
  }

 switch(FEAT_TRAINS, PARENT, sw_keikyu51_2_front_gfx, vehicle_is_reversed==1&&num_vehs_in_consist==1){
   1:keikyu51_2_front_mot_rev;
   sw_keikyu51_2_front_gfx_0;
 }
 switch(FEAT_TRAINS, PARENT, sw_keikyu51_2_end_gfx, vehicle_is_reversed==0&&num_vehs_in_consist==1){
   1:keikyu51_2_end_mot_rev;
   sw_keikyu51_2_end_gfx_0;
 }

    switch(FEAT_TRAINS, SELF, sw_keikyu51_2_panto_placer_1,position_in_vehid_chain %2){
      0: keikyu51_2_end;
      keikyu51_2_end_mot_rev;
    }
    switch(FEAT_TRAINS, SELF, sw_keikyu51_2_panto_placer_1_rev,position_in_vehid_chain_from_end %2){
      1: keikyu51_2_end;
      keikyu51_2_end_mot;
    }
    switch(FEAT_TRAINS, PARENT, sw_keikyu51_2_panto_placer_main_1,vehicle_is_reversed){
      1: sw_keikyu51_2_panto_placer_1_rev;
      sw_keikyu51_2_panto_placer_1;
    }

 switch(FEAT_TRAINS, SELF, sw_keikyu51_2_end_fix, position_in_consist_from_end){
   0:sw_keikyu51_2_end_gfx;
   sw_keikyu51_2_panto_placer_main_1;
 }
 switch(FEAT_TRAINS, SELF, sw_keikyu51_livery_2,vehicle_type_id){
   mu_car:sw_keikyu51_2_end_fix;
   sw_keikyu51_2_front_gfx;
 }



  switch(FEAT_TRAINS, PARENT, sw_keikyu51_3_front_gfx_0, vehicle_is_reversed){
    1:keikyu51_3_front;
    keikyu51_3_front_mot;
  }
  switch(FEAT_TRAINS, PARENT, sw_keikyu51_3_end_gfx_0, vehicle_is_reversed){
    1:keikyu51_3_end_mot;
    keikyu51_3_end;
  }

 switch(FEAT_TRAINS, PARENT, sw_keikyu51_3_front_gfx, vehicle_is_reversed==1&&num_vehs_in_consist==1){
   1:keikyu51_3_front_mot_rev;
   sw_keikyu51_3_front_gfx_0;
 }
 switch(FEAT_TRAINS, PARENT, sw_keikyu51_3_end_gfx, vehicle_is_reversed==0&&num_vehs_in_consist==1){
   1:keikyu51_3_end_mot_rev;
   sw_keikyu51_3_end_gfx_0;
 }

    switch(FEAT_TRAINS, SELF, sw_keikyu51_3_panto_placer_1,position_in_vehid_chain %2){
      0: keikyu51_3_end;
      keikyu51_3_end_mot_rev;
    }
    switch(FEAT_TRAINS, SELF, sw_keikyu51_3_panto_placer_1_rev,position_in_vehid_chain_from_end %2){
      1: keikyu51_3_end;
      keikyu51_3_end_mot;
    }
    switch(FEAT_TRAINS, PARENT, sw_keikyu51_3_panto_placer_main_1,vehicle_is_reversed){
      1: sw_keikyu51_3_panto_placer_1_rev;
      sw_keikyu51_3_panto_placer_1;
    }

 switch(FEAT_TRAINS, SELF, sw_keikyu51_3_end_fix, position_in_consist_from_end){
   0:sw_keikyu51_3_end_gfx;
   sw_keikyu51_3_panto_placer_main_1;
 }
 switch(FEAT_TRAINS, SELF, sw_keikyu51_livery_3,vehicle_type_id){
   mu_car:sw_keikyu51_3_end_fix;
   sw_keikyu51_3_front_gfx;
 }

  switch(FEAT_TRAINS, PARENT, sw_keikyu51_livery_0,current_year){
    1948..1961:sw_keikyu51_livery_2;
   sw_keikyu51_livery_3;
  }
  switch(FEAT_TRAINS, PARENT, sw_keikyu51_livery_0_1,build_year){
    0..1948:sw_keikyu51_livery_1;
    sw_keikyu51_livery_0;
  }
  switch(FEAT_TRAINS, SELF, sw_keikyu51_lv,cargo_subtype){
    0:sw_keikyu51_livery_0_1;
    1:sw_keikyu51_livery_1;
    2:sw_keikyu51_livery_2;
    3:sw_keikyu51_livery_3;
  }
  switch(FEAT_TRAINS, SELF, sw_keikyu51_lv_desc,cargo_subtype){
    0:string(LV_RANDOM);
    1:string(LV_keikyu_red);
    2:string(LV_keikyu_old);
    3:string(LV_keikyu_new);
  }
item(FEAT_TRAINS, keikyu51) {
    property {
        cargo_capacity: 130;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        climates_available: param_disable_keikyu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        name: string(STR_TRAIN_NAME, string(STR_NAME_KEIHIN), "51", string(STR_NAME_TYPE));
        introduction_date: date(1922, 1, 1);
        model_life: 29;
        vehicle_life: 46;
        reliability_decay: 10;

        cost_factor: 12;
        running_cost_factor: 42;
        speed: 75 km/h;
        track_type: TR_1435_DC;
        power: 148 kW;
        weight: 25 ton;
        loading_speed: param_loading_3D;
    }
 graphics {
        default: sw_keikyu51_lv;
        purchase: keikyu51_purchase;
        can_attach_wagon: sw_1435_attach_vehid;
    cargo_subtype_text:sw_keikyu51_lv_desc;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 1)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_KEIKYU)));
        cargo_capacity: 90*param_capacity_mod/3;
        length: 7;
        sound_effect: sw_KQ51_start_sound;
    }
  livery_override(mu_car){
    cargo_subtype_text:sw_keikyu51_lv_desc;
        loading_speed: param_loading_3D;
        cargo_capacity: 90*param_capacity_mod/3;
        default: sw_keikyu51_lv;

        weight: 28;
        length: 7;
      }
}
# 152 "src/_private.pnml" 2
# 1 "src/private/Kanto/keikyu/keikyu_de1.pnml" 1

  spriteset(keikyu_de1_purchase_c1_1, "gfx/private/Kanto/keikyu/keikyu_de1/keikyu_de1_1.png"){ tmpl_purchase_1c(0, 25) }
  switch(FEAT_TRAINS, SELF, keikyu_de1_purchase_1, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_keikyu; 1: keikyu_de1_purchase_c1_1;}
  spriteset(keikyu_de1_purchase_c1_2, "gfx/private/Kanto/keikyu/keikyu_de1/keikyu_de1_2.png"){ tmpl_purchase_1c(0, 25) }
  spriteset(keikyu_de1_purchase_c2_2, "gfx/private/Kanto/keikyu/keikyu_de1/keikyu_de1_2.png"){ tmpl_purchase_2c(0, 50) }
  switch(FEAT_TRAINS, SELF, keikyu_de1_purchase_2, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_keikyu; 1: keikyu_de1_purchase_c1_2; 2: keikyu_de1_purchase_c2_2;}
  spriteset(keikyu_de1_purchase_c1_3, "gfx/private/Kanto/keikyu/keikyu_de1/keikyu_de1_3.png"){ tmpl_purchase_1c(0, 25) }
  spriteset(keikyu_de1_purchase_c2_3, "gfx/private/Kanto/keikyu/keikyu_de1/keikyu_de1_3.png"){ tmpl_purchase_2c(0, 50) }
  switch(FEAT_TRAINS, SELF, keikyu_de1_purchase_3, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_keikyu; 1: keikyu_de1_purchase_c1_3; 2: keikyu_de1_purchase_c2_3;}

  switch(FEAT_TRAINS, SELF, keikyu_de1_purchase, current_year){
    0..1947: keikyu_de1_purchase_1;
    1948..1961: keikyu_de1_purchase_2;
    keikyu_de1_purchase_3;
  }

spriteset (keikyu_de1_1_front_rev, "gfx/private/Kanto/keikyu/keikyu_de1/keikyu_de1_1.png") { tmpl_std_rev(0, 0) }
spriteset (keikyu_de1_1_front, "gfx/private/Kanto/keikyu/keikyu_de1/keikyu_de1_1.png") { tmpl_std(0, 25) }
spriteset (keikyu_de1_1_end, "gfx/private/Kanto/keikyu/keikyu_de1/keikyu_de1_1.png") { tmpl_std_rev(0, 50) }
spriteset (keikyu_de1_1_end_rev, "gfx/private/Kanto/keikyu/keikyu_de1/keikyu_de1_1.png") { tmpl_std(0, 50) }

spriteset (keikyu_de1_2_front_rev, "gfx/private/Kanto/keikyu/keikyu_de1/keikyu_de1_2.png") { tmpl_std_rev(0, 0) }
spriteset (keikyu_de1_2_front, "gfx/private/Kanto/keikyu/keikyu_de1/keikyu_de1_2.png") { tmpl_std(0, 25) }
spriteset (keikyu_de1_2_end, "gfx/private/Kanto/keikyu/keikyu_de1/keikyu_de1_2.png") { tmpl_std_rev(0, 50) }
spriteset (keikyu_de1_2_end_rev, "gfx/private/Kanto/keikyu/keikyu_de1/keikyu_de1_2.png") { tmpl_std(0, 50) }

spriteset (keikyu_de1_3_front_rev, "gfx/private/Kanto/keikyu/keikyu_de1/keikyu_de1_3.png") { tmpl_std_rev(0, 0) }
spriteset (keikyu_de1_3_front, "gfx/private/Kanto/keikyu/keikyu_de1/keikyu_de1_3.png") { tmpl_std(0, 25) }
spriteset (keikyu_de1_3_end, "gfx/private/Kanto/keikyu/keikyu_de1/keikyu_de1_3.png") { tmpl_std_rev(0, 50) }
spriteset (keikyu_de1_3_end_rev, "gfx/private/Kanto/keikyu/keikyu_de1/keikyu_de1_3.png") { tmpl_std(0, 50) }


 switch(FEAT_TRAINS, PARENT, sw_keikyu_de1_1_front_gfx, vehicle_is_reversed==1&&num_vehs_in_consist==1){
   1:keikyu_de1_1_front_rev;
   keikyu_de1_1_front;
 }
 switch(FEAT_TRAINS, PARENT, sw_keikyu_de1_1_end_gfx, vehicle_is_reversed==0&&num_vehs_in_consist==1){
   1:keikyu_de1_1_end_rev;
   keikyu_de1_1_end;
 }

    switch(FEAT_TRAINS, SELF, sw_keikyu_de1_1_panto_placer_1,position_in_vehid_chain %2){
      0: keikyu_de1_1_end;
      keikyu_de1_1_end_rev;
    }
    switch(FEAT_TRAINS, SELF, sw_keikyu_de1_1_panto_placer_1_rev,position_in_vehid_chain_from_end %2){
      1: keikyu_de1_1_end_rev;
      keikyu_de1_1_end;
    }
    switch(FEAT_TRAINS, PARENT, sw_keikyu_de1_1_panto_placer_main_1,vehicle_is_reversed){
      1: sw_keikyu_de1_1_panto_placer_1_rev;
      sw_keikyu_de1_1_panto_placer_1;
    }

 switch(FEAT_TRAINS, SELF, sw_keikyu_de1_1_end_fix, position_in_consist_from_end){
   0:sw_keikyu_de1_1_end_gfx;
   sw_keikyu_de1_1_panto_placer_main_1;
 }
 switch(FEAT_TRAINS, SELF, sw_keikyu_de1_livery_1,vehicle_type_id){
   mu_car:sw_keikyu_de1_1_end_fix;
   sw_keikyu_de1_1_front_gfx;
 }


 switch(FEAT_TRAINS, PARENT, sw_keikyu_de1_2_front_gfx, vehicle_is_reversed==1&&num_vehs_in_consist==1){
   1:keikyu_de1_2_front_rev;
   keikyu_de1_2_front;
 }
 switch(FEAT_TRAINS, PARENT, sw_keikyu_de1_2_end_gfx, vehicle_is_reversed==0&&num_vehs_in_consist==1){
   1:keikyu_de1_2_end_rev;
   keikyu_de1_2_end;
 }

    switch(FEAT_TRAINS, SELF, sw_keikyu_de1_2_panto_placer_1,position_in_vehid_chain %2){
      0: keikyu_de1_2_end;
      keikyu_de1_2_end_rev;
    }
    switch(FEAT_TRAINS, SELF, sw_keikyu_de1_2_panto_placer_1_rev,position_in_vehid_chain_from_end %2){
      1: keikyu_de1_2_end_rev;
      keikyu_de1_2_end;
    }
    switch(FEAT_TRAINS, PARENT, sw_keikyu_de1_2_panto_placer_main_1,vehicle_is_reversed){
      1: sw_keikyu_de1_2_panto_placer_1_rev;
      sw_keikyu_de1_2_panto_placer_1;
    }

 switch(FEAT_TRAINS, SELF, sw_keikyu_de1_2_end_fix, position_in_consist_from_end){
   0:sw_keikyu_de1_2_end_gfx;
   sw_keikyu_de1_2_panto_placer_main_1;
 }
 switch(FEAT_TRAINS, SELF, sw_keikyu_de1_livery_2,vehicle_type_id){
   mu_car:sw_keikyu_de1_2_end_fix;
   sw_keikyu_de1_2_front_gfx;
 }


 switch(FEAT_TRAINS, PARENT, sw_keikyu_de1_3_front_gfx, vehicle_is_reversed==1&&num_vehs_in_consist==1){
   1:keikyu_de1_3_front_rev;
   keikyu_de1_3_front;
 }
 switch(FEAT_TRAINS, PARENT, sw_keikyu_de1_3_end_gfx, vehicle_is_reversed==0&&num_vehs_in_consist==1){
   1:keikyu_de1_3_end_rev;
   keikyu_de1_3_end;
 }

    switch(FEAT_TRAINS, SELF, sw_keikyu_de1_3_panto_placer_1,position_in_vehid_chain %2){
      0: keikyu_de1_3_end;
      keikyu_de1_3_end_rev;
    }
    switch(FEAT_TRAINS, SELF, sw_keikyu_de1_3_panto_placer_1_rev,position_in_vehid_chain_from_end %2){
      1: keikyu_de1_3_end_rev;
      keikyu_de1_3_end;
    }
    switch(FEAT_TRAINS, PARENT, sw_keikyu_de1_3_panto_placer_main_1,vehicle_is_reversed){
      1: sw_keikyu_de1_3_panto_placer_1_rev;
      sw_keikyu_de1_3_panto_placer_1;
    }

 switch(FEAT_TRAINS, SELF, sw_keikyu_de1_3_end_fix, position_in_consist_from_end){
   0:sw_keikyu_de1_3_end_gfx;
   sw_keikyu_de1_3_panto_placer_main_1;
 }
 switch(FEAT_TRAINS, SELF, sw_keikyu_de1_livery_3,vehicle_type_id){
   mu_car:sw_keikyu_de1_3_end_fix;
   sw_keikyu_de1_3_front_gfx;
 }

  switch(FEAT_TRAINS, PARENT, sw_keikyu_de1_livery_0,current_year){
    0..1947:sw_keikyu_de1_livery_1;
    1948..1962:sw_keikyu_de1_livery_2;
    sw_keikyu_de1_livery_3;
  }
  switch(FEAT_TRAINS, SELF, sw_keikyu_de1_lv,cargo_subtype){
    0:sw_keikyu_de1_livery_0;
    1:sw_keikyu_de1_livery_1;
    2:sw_keikyu_de1_livery_2;
    3:sw_keikyu_de1_livery_3;
  }
  switch(FEAT_TRAINS, SELF, sw_keikyu_de1_lv_desc,cargo_subtype){
    0:string(LV_RANDOM);
    1:string(LV_keikyu_red);
    2:string(LV_keikyu_old);
    3:string(LV_keikyu_new);
  }


item(FEAT_TRAINS, keikyu_de1) {
    property {
        cargo_capacity: 130;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        climates_available: param_disable_keikyu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        name: string(STR_TRAIN_NAME, string(STR_NAME_KEIHIN), string(STR_NAME_DE,"1/230"), string(STR_NAME_TYPE));
        introduction_date: date(1930, 1, 1);
        model_life: 29;
        vehicle_life: 46;
        reliability_decay: 10;

        cost_factor: 12;
        running_cost_factor: 42;
        speed: 85 km/h;
        track_type: TR_1435_DC;
        power: 148 kW;
        weight: 25 ton;
        loading_speed: param_loading_2D;
    }
 graphics {
        default: sw_keikyu_de1_lv;
        purchase: keikyu_de1_purchase;
        can_attach_wagon: sw_1435_attach_vehid;
        cargo_subtype_text:sw_keikyu_de1_lv_desc;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 2)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 1)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_KEIKYU)));
        cargo_capacity: 110*param_capacity_mod/3;
        length: 8;
        sound_effect: sw_KQDE1_start_sound;
    }
    livery_override(mu_car){
      cargo_subtype_text:sw_keikyu_de1_lv_desc;
        loading_speed: param_loading_2D;
        cargo_capacity: 110*param_capacity_mod/3;
        default: sw_keikyu_de1_lv;

        weight: 28;
        length: 8;
      }
}
# 153 "src/_private.pnml" 2
# 1 "src/private/Kanto/keikyu/keikyu300.pnml" 1

  spriteset(keikyu300_purchase_c1_1, "gfx/private/Kanto/keikyu/keikyu300/keikyu300_1.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(keikyu300_purchase_c2_1, "gfx/private/Kanto/keikyu/keikyu300/keikyu300_1.png"){ tmpl_purchase_2c(0, 175) }
  switch(FEAT_TRAINS, SELF, keikyu300_purchase_1, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_keikyu; 1: keikyu300_purchase_c1_1;}
  spriteset(keikyu300_purchase_c1_2, "gfx/private/Kanto/keikyu/keikyu300/keikyu300_2.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(keikyu300_purchase_c2_2, "gfx/private/Kanto/keikyu/keikyu300/keikyu300_2.png"){ tmpl_purchase_2c(0, 175) }
  switch(FEAT_TRAINS, SELF, keikyu300_purchase_2, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_keikyu; 1: keikyu300_purchase_c1_2; 2: keikyu300_purchase_c2_2;}
  spriteset(keikyu400_purchase_c1_1, "gfx/private/Kanto/keikyu/keikyu300/keikyu400_1.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(keikyu400_purchase_c2_1, "gfx/private/Kanto/keikyu/keikyu300/keikyu400_1.png"){ tmpl_purchase_2c(0, 175) }
  switch(FEAT_TRAINS, SELF, keikyu400_purchase_1, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_keikyu; 1: keikyu400_purchase_c1_1; 2: keikyu400_purchase_c2_1;}

  switch(FEAT_TRAINS, SELF, keikyu300_purchase, current_year){
    0..1956: keikyu300_purchase_1;
    0..1964: keikyu300_purchase_2;
    keikyu400_purchase_1;
  }

spriteset (keikyu300_1_front_mot_2, "gfx/private/Kanto/keikyu/keikyu300/keikyu300_1.png") { tmpl_std(0, 50) }
spriteset (keikyu300_1_end_mot_2, "gfx/private/Kanto/keikyu/keikyu300/keikyu300_1.png") { tmpl_std_rev(0, 75) }
spriteset (keikyu300_1_end_mot_2_rev, "gfx/private/Kanto/keikyu/keikyu300/keikyu300_1.png") { tmpl_std(0, 75) }
spriteset (keikyu300_1_front, "gfx/private/Kanto/keikyu/keikyu300/keikyu300_1.png") { tmpl_std(0, 100) }
spriteset (keikyu300_1_end, "gfx/private/Kanto/keikyu/keikyu300/keikyu300_1.png") { tmpl_std_rev(0, 125) }
spriteset (keikyu300_1_end_rev, "gfx/private/Kanto/keikyu/keikyu300/keikyu300_1.png") { tmpl_std(0, 125) }
spriteset (keikyu300_1_wag, "gfx/private/Kanto/keikyu/keikyu300/keikyu300_1.png") { tmpl_symm(0, 175) }

spriteset (keikyu300_2_front_mot_2, "gfx/private/Kanto/keikyu/keikyu300/keikyu300_2.png") { tmpl_std(0, 50) }
spriteset (keikyu300_2_end_mot_2, "gfx/private/Kanto/keikyu/keikyu300/keikyu300_2.png") { tmpl_std_rev(0, 75) }
spriteset (keikyu300_2_end_mot_2_rev, "gfx/private/Kanto/keikyu/keikyu300/keikyu300_2.png") { tmpl_std(0, 75) }
spriteset (keikyu300_2_front, "gfx/private/Kanto/keikyu/keikyu300/keikyu300_2.png") { tmpl_std(0, 100) }
spriteset (keikyu300_2_end, "gfx/private/Kanto/keikyu/keikyu300/keikyu300_2.png") { tmpl_std_rev(0, 125) }
spriteset (keikyu300_2_end_rev, "gfx/private/Kanto/keikyu/keikyu300/keikyu300_2.png") { tmpl_std(0, 125) }
spriteset (keikyu300_2_wag, "gfx/private/Kanto/keikyu/keikyu300/keikyu300_2.png") { tmpl_symm(0, 175) }

spriteset (keikyu300_3_front_mot_2, "gfx/private/Kanto/keikyu/keikyu300/keikyu300_3.png") { tmpl_std(0, 50) }
spriteset (keikyu300_3_end_mot_2, "gfx/private/Kanto/keikyu/keikyu300/keikyu300_3.png") { tmpl_std_rev(0, 75) }
spriteset (keikyu300_3_end_mot_2_rev, "gfx/private/Kanto/keikyu/keikyu300/keikyu300_3.png") { tmpl_std(0, 75) }
spriteset (keikyu300_3_front, "gfx/private/Kanto/keikyu/keikyu300/keikyu300_3.png") { tmpl_std(0, 100) }
spriteset (keikyu300_3_end, "gfx/private/Kanto/keikyu/keikyu300/keikyu300_3.png") { tmpl_std_rev(0, 125) }
spriteset (keikyu300_3_end_rev, "gfx/private/Kanto/keikyu/keikyu300/keikyu300_3.png") { tmpl_std(0, 125) }
spriteset (keikyu300_3_wag, "gfx/private/Kanto/keikyu/keikyu300/keikyu300_3.png") { tmpl_symm(0, 175) }

spriteset (keikyu400_1_front_mot_1, "gfx/private/Kanto/keikyu/keikyu300/keikyu400_1.png") { tmpl_std(0, 0) }
spriteset (keikyu400_1_end_mot_1, "gfx/private/Kanto/keikyu/keikyu300/keikyu400_1.png") { tmpl_std_rev(0, 25) }
spriteset (keikyu400_1_end_mot_1_rev, "gfx/private/Kanto/keikyu/keikyu300/keikyu400_1.png") { tmpl_std(0, 25) }
spriteset (keikyu400_1_front, "gfx/private/Kanto/keikyu/keikyu300/keikyu400_1.png") { tmpl_std(0, 100) }
spriteset (keikyu400_1_end, "gfx/private/Kanto/keikyu/keikyu300/keikyu400_1.png") { tmpl_std_rev(0, 125) }
spriteset (keikyu400_1_end_rev, "gfx/private/Kanto/keikyu/keikyu300/keikyu400_1.png") { tmpl_std(0, 125) }
spriteset (keikyu400_1_wag, "gfx/private/Kanto/keikyu/keikyu300/keikyu400_1.png") { tmpl_symm(0, 175) }





      switch(FEAT_TRAINS, SELF, sw_keikyu300_1_panto_placer_1,position_in_vehid_chain %2){
        0: keikyu300_1_end;
        1: keikyu300_1_end_mot_2_rev;
        default: keikyu300_1_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keikyu300_1_panto_placer_1_rev,position_in_vehid_chain_from_end %2){
        1: keikyu300_1_end_rev;
        0: keikyu300_1_end_mot_2;
        default: keikyu300_1_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keikyu300_1_panto_placer_main_1,vehicle_is_reversed){
        1: sw_keikyu300_1_panto_placer_1_rev;
        sw_keikyu300_1_panto_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_keikyu300_1_panto_placer_main,num_vehs_in_vehid_chain+1){
        0..3: keikyu300_1_wag;
        sw_keikyu300_1_panto_placer_main_1;
      }

    switch(FEAT_TRAINS, SELF, sw_keikyu300_1_gfx_main,position_in_vehid_chain_from_end){
        0: keikyu300_1_end_mot_2;
        sw_keikyu300_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_keikyu300_livery_1,vehicle_type_id){
        mu_car: sw_keikyu300_1_gfx_main;
        keikyu300_1_front_mot_2;
    }



      switch(FEAT_TRAINS, SELF, sw_keikyu300_2_panto_placer_1,position_in_vehid_chain %2){
        0: keikyu300_2_end;
        1: keikyu300_2_end_mot_2_rev;
        default: keikyu300_2_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keikyu300_2_panto_placer_1_rev,position_in_vehid_chain_from_end %2){
        1: keikyu300_2_end_rev;
        0: keikyu300_2_end_mot_2;
        default: keikyu300_2_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keikyu300_2_panto_placer_main_1,vehicle_is_reversed){
        1: sw_keikyu300_2_panto_placer_1_rev;
        sw_keikyu300_2_panto_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_keikyu300_2_panto_placer_main,num_vehs_in_vehid_chain+1){
        0..3: keikyu300_2_wag;
        sw_keikyu300_2_panto_placer_main_1;
      }

    switch(FEAT_TRAINS, SELF, sw_keikyu300_2_gfx_main,position_in_vehid_chain_from_end){
        0: keikyu300_2_end_mot_2;
        sw_keikyu300_2_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_keikyu300_livery_2,vehicle_type_id){
        mu_car: sw_keikyu300_2_gfx_main;
        keikyu300_2_front_mot_2;
    }



      switch(FEAT_TRAINS, SELF, sw_keikyu300_3_panto_placer_1,position_in_vehid_chain %2){
        0: keikyu300_3_end;
        1: keikyu300_3_end_mot_2_rev;
        default: keikyu300_3_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keikyu300_3_panto_placer_1_rev,position_in_vehid_chain_from_end %2){
        1: keikyu300_3_end_rev;
        0: keikyu300_3_end_mot_2;
        default: keikyu300_3_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keikyu300_3_panto_placer_main_1,vehicle_is_reversed){
        1: sw_keikyu300_3_panto_placer_1_rev;
        sw_keikyu300_3_panto_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_keikyu300_3_panto_placer_main,num_vehs_in_vehid_chain+1){
        0..3: keikyu300_3_wag;
        sw_keikyu300_3_panto_placer_main_1;
      }

    switch(FEAT_TRAINS, SELF, sw_keikyu300_3_gfx_main,position_in_vehid_chain_from_end){
        0: keikyu300_3_end_mot_2;
        sw_keikyu300_3_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_keikyu300_livery_3,vehicle_type_id){
        mu_car: sw_keikyu300_3_gfx_main;
        keikyu300_3_front_mot_2;
    }



      switch(FEAT_TRAINS, PARENT, sw_keikyu400_1_front,vehicle_is_reversed){
        1: keikyu400_1_front;
        keikyu400_1_front_mot_1;
      }
      switch(FEAT_TRAINS, PARENT, sw_keikyu400_1_end,vehicle_is_reversed){
        1: keikyu400_1_end_mot_1;
        keikyu400_1_end;
      }


      switch(FEAT_TRAINS, SELF, sw_keikyu400_1_panto_placer_1,position_in_vehid_chain %2){
        0: keikyu400_1_end;
        1: keikyu400_1_end_mot_1_rev;
        default: keikyu400_1_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keikyu400_1_panto_placer_1_rev,position_in_vehid_chain_from_end %2){
        1: keikyu400_1_end_rev;
        0: keikyu400_1_end_mot_1;
        default: keikyu400_1_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keikyu400_1_panto_placer_main_1,vehicle_is_reversed){
        1: sw_keikyu400_1_panto_placer_1_rev;
        sw_keikyu400_1_panto_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_keikyu400_1_panto_placer_main,num_vehs_in_vehid_chain+1){
        0..3: keikyu400_1_wag;
        sw_keikyu400_1_panto_placer_main_1;
      }

    switch(FEAT_TRAINS, SELF, sw_keikyu400_1_gfx_main,position_in_vehid_chain_from_end){
        0: sw_keikyu400_1_end;
        sw_keikyu400_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_keikyu400_livery_1,vehicle_type_id){
        mu_car: sw_keikyu400_1_gfx_main;
        sw_keikyu400_1_front;
    }

  switch(FEAT_TRAINS, PARENT, sw_keikyu300_livery_0,current_year){
    0..1957:sw_keikyu300_livery_1;
    1958..1964:sw_keikyu300_livery_3;
  }
  switch(FEAT_TRAINS, PARENT, sw_keikyu300_livery_0_1,build_year){
    0..1964:sw_keikyu300_livery_0;
    sw_keikyu400_livery_1;
  }
  switch(FEAT_TRAINS, SELF, sw_keikyu300_lv,cargo_subtype){
    0:sw_keikyu300_livery_0_1;
    1:sw_keikyu300_livery_1;
    2:sw_keikyu300_livery_2;
    3:sw_keikyu300_livery_3;
    4:sw_keikyu400_livery_1;
  }
  switch(FEAT_TRAINS, SELF, sw_keikyu300_lv_desc,cargo_subtype){
    0:string(LV_RANDOM);
    1:string(LV_keikyu_old);
    2:string(LV_keikyu_red);
    3:string(LV_keikyu_new);
    4:string(LV_keikyu400_1);
  }


    switch(FEAT_TRAINS, SELF, sw_keikyu300_capacity,position_in_vehid_chain_from_end){
      0: 135;
      default: 140;
    }
    switch(FEAT_TRAINS, SELF, sw_keikyu300_capacity_1,position_in_vehid_chain){
      0: 135;
      default: sw_keikyu300_capacity;
    }
    switch(FEAT_TRAINS, SELF, sw_keikyu300_capacity_main,vehicle_type_id){
      mu_car: sw_keikyu300_capacity;
      sw_keikyu300_capacity_1;
    }

    switch(FEAT_TRAINS, SELF, sw_keikyu300_power_main,position_in_vehid_chain_from_end%4){
      0:return 150;
      3:return 150;
      return 0;
    }


item(FEAT_TRAINS, keikyu300) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_KEIKYU), "300/400", string(STR_NAME_TYPE));
        introduction_date: date(1942, 1, 1);
        model_life: 1979-1942-5;
        vehicle_life: 30;
        reliability_decay: 10;

        cargo_capacity: 1;
        loading_speed: param_loading_3D;
        cost_factor: 20;
        running_cost_factor: 50;

        speed: 100 km/h;
        track_type: TR_1435_DC;
        power: 620 kW;
        weight: 29 ton;

        climates_available: param_disable_keikyu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        power: sw_keikyu300_power_main()*4*1342/1000;
        cargo_subtype_text:sw_keikyu300_lv_desc;
        default: sw_keikyu300_lv;
        purchase: keikyu300_purchase;
        can_attach_wagon: sw_1435_attach_vehid;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_3, 2,3,4)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_KEIKYU)));

  start_stop: sw_stop_start_2;
        cargo_capacity: sw_keikyu300_capacity_main()*param_capacity_mod/3;
        loading_speed: param_loading_3D;
        sound_effect: sw_KQ300_start_sound;
    }
    livery_override(mu_car){
        cargo_subtype_text:sw_keikyu300_lv_desc;
        loading_speed: param_loading_3D;
        cargo_capacity: sw_keikyu300_capacity_main()*param_capacity_mod/3;
        default: sw_keikyu300_lv;
        power: sw_keikyu300_power_main()*4*1342/1000;
        weight: 28;
        length: 8;
      }
}
# 154 "src/_private.pnml" 2
# 1 "src/private/Kanto/keikyu/keikyu500.pnml" 1

  spriteset(keikyu500_purchase_c1_1, "gfx/private/Kanto/keikyu/keikyu500/keikyu500_1.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(keikyu500_purchase_c2_1, "gfx/private/Kanto/keikyu/keikyu500/keikyu500_1.png"){ tmpl_purchase_2c(0, 125) }
  switch(FEAT_TRAINS, SELF, keikyu500_purchase_1, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_keikyu; 1: keikyu500_purchase_c1_1;}
  spriteset(keikyu500_purchase_c1_2, "gfx/private/Kanto/keikyu/keikyu500/keikyu500_2.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(keikyu500_purchase_c2_2, "gfx/private/Kanto/keikyu/keikyu500/keikyu500_2.png"){ tmpl_purchase_2c(0, 125) }
  switch(FEAT_TRAINS, SELF, keikyu500_purchase_2, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_keikyu; 1: keikyu500_purchase_c1_2; 2: keikyu500_purchase_c2_2;}
  spriteset(keikyu500_purchase_c1_3, "gfx/private/Kanto/keikyu/keikyu500/keikyu500_3.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(keikyu500_purchase_c2_3, "gfx/private/Kanto/keikyu/keikyu500/keikyu500_3.png"){ tmpl_purchase_2c(0, 125) }
  switch(FEAT_TRAINS, SELF, keikyu500_purchase_3, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_keikyu; 1: keikyu500_purchase_c1_3; 2: keikyu500_purchase_c2_3;}

  switch(FEAT_TRAINS, SELF, keikyu500_purchase, current_year){
    0..1964: keikyu500_purchase_1;
    1965..1968: keikyu500_purchase_2;
    keikyu500_purchase_3;
  }

spriteset (keikyu500_1_front_mot, "gfx/private/Kanto/keikyu/keikyu500/keikyu500_1.png") { tmpl_std(0, 0) }
spriteset (keikyu500_1_end_mot, "gfx/private/Kanto/keikyu/keikyu500/keikyu500_1.png") { tmpl_std_rev(0, 25) }
spriteset (keikyu500_1_end_mot_rev, "gfx/private/Kanto/keikyu/keikyu500/keikyu500_1.png") { tmpl_std(0, 25) }
spriteset (keikyu500_1_wag, "gfx/private/Kanto/keikyu/keikyu500/keikyu500_1.png") { tmpl_symm(0, 125) }

spriteset (keikyu500_2_front_mot, "gfx/private/Kanto/keikyu/keikyu500/keikyu500_2.png") { tmpl_std(0, 0) }
spriteset (keikyu500_2_end_mot, "gfx/private/Kanto/keikyu/keikyu500/keikyu500_2.png") { tmpl_std_rev(0, 25) }
spriteset (keikyu500_2_end_mot_rev, "gfx/private/Kanto/keikyu/keikyu500/keikyu500_2.png") { tmpl_std(0, 25) }
spriteset (keikyu500_2_wag, "gfx/private/Kanto/keikyu/keikyu500/keikyu500_2.png") { tmpl_symm(0, 125) }

spriteset (keikyu500_3_front_mot, "gfx/private/Kanto/keikyu/keikyu500/keikyu500_3.png") { tmpl_std(0, 0) }
spriteset (keikyu500_3_end_mot, "gfx/private/Kanto/keikyu/keikyu500/keikyu500_3.png") { tmpl_std_rev(0, 25) }
spriteset (keikyu500_3_end_mot_rev, "gfx/private/Kanto/keikyu/keikyu500/keikyu500_3.png") { tmpl_std(0, 25) }
spriteset (keikyu500_3_wag, "gfx/private/Kanto/keikyu/keikyu500/keikyu500_3.png") { tmpl_symm(0, 125) }




      switch(FEAT_TRAINS, SELF, sw_keikyu500_1_panto_placer_1,position_in_vehid_chain %4){
        2: keikyu500_1_end_mot;
        3: keikyu500_1_end_mot_rev;
        default: keikyu500_1_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keikyu500_1_panto_placer_1_rev,position_in_vehid_chain_from_end %4){
        3: keikyu500_1_end_mot_rev;
        0: keikyu500_1_end_mot;
        default: keikyu500_1_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keikyu500_1_panto_placer_main_1,vehicle_is_reversed){
        1: sw_keikyu500_1_panto_placer_1_rev;
        sw_keikyu500_1_panto_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_keikyu500_1_panto_placer_2,position_in_vehid_chain %3){
        1: keikyu500_1_end_mot;
        2: keikyu500_1_end_mot_rev;
        default: keikyu500_1_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keikyu500_1_panto_placer_2_rev,position_in_vehid_chain_from_end %3){
        2: keikyu500_1_end_mot_rev;
        0: keikyu500_1_end_mot;
        default: keikyu500_1_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keikyu500_1_panto_placer_main_2,vehicle_is_reversed){
        1: sw_keikyu500_1_panto_placer_2_rev;
        sw_keikyu500_1_panto_placer_2;
      }

      switch(FEAT_TRAINS, SELF, sw_keikyu500_1_panto_placer_main,num_vehs_in_vehid_chain+1){
        0..4: keikyu500_1_wag;
        5..6: sw_keikyu500_1_panto_placer_main_2;
        9: sw_keikyu500_1_panto_placer_main_2;
        sw_keikyu500_1_panto_placer_main_1;
      }

    switch(FEAT_TRAINS, SELF, sw_keikyu500_1_gfx_main,position_in_vehid_chain_from_end){
        0: keikyu500_1_end_mot;
        sw_keikyu500_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_keikyu500_livery_1,vehicle_type_id){
        mu_car: sw_keikyu500_1_gfx_main;
        keikyu500_1_front_mot;
    }



      switch(FEAT_TRAINS, SELF, sw_keikyu500_2_panto_placer_1,position_in_vehid_chain %4){
        2: keikyu500_2_end_mot;
        3: keikyu500_2_end_mot_rev;
        default: keikyu500_2_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keikyu500_2_panto_placer_1_rev,position_in_vehid_chain_from_end %4){
        3: keikyu500_2_end_mot_rev;
        0: keikyu500_2_end_mot;
        default: keikyu500_2_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keikyu500_2_panto_placer_main_1,vehicle_is_reversed){
        1: sw_keikyu500_2_panto_placer_1_rev;
        sw_keikyu500_2_panto_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_keikyu500_2_panto_placer_2,position_in_vehid_chain %3){
        1: keikyu500_2_end_mot;
        2: keikyu500_2_end_mot_rev;
        default: keikyu500_2_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keikyu500_2_panto_placer_2_rev,position_in_vehid_chain_from_end %3){
        2: keikyu500_2_end_mot_rev;
        0: keikyu500_2_end_mot;
        default: keikyu500_2_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keikyu500_2_panto_placer_main_2,vehicle_is_reversed){
        1: sw_keikyu500_2_panto_placer_2_rev;
        sw_keikyu500_2_panto_placer_2;
      }

      switch(FEAT_TRAINS, SELF, sw_keikyu500_2_panto_placer_main,num_vehs_in_vehid_chain+1){
        0..4: keikyu500_2_wag;
        5..6: sw_keikyu500_2_panto_placer_main_2;
        9: sw_keikyu500_2_panto_placer_main_2;
        sw_keikyu500_2_panto_placer_main_1;
      }

    switch(FEAT_TRAINS, SELF, sw_keikyu500_2_gfx_main,position_in_vehid_chain_from_end){
        0: keikyu500_2_end_mot;
        sw_keikyu500_2_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_keikyu500_livery_2,vehicle_type_id){
        mu_car: sw_keikyu500_2_gfx_main;
        keikyu500_2_front_mot;
    }




      switch(FEAT_TRAINS, SELF, sw_keikyu500_3_panto_placer_1,position_in_vehid_chain %4){
        2: keikyu500_3_end_mot;
        3: keikyu500_3_end_mot_rev;
        default: keikyu500_3_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keikyu500_3_panto_placer_1_rev,position_in_vehid_chain_from_end %4){
        3: keikyu500_3_end_mot_rev;
        0: keikyu500_3_end_mot;
        default: keikyu500_3_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keikyu500_3_panto_placer_main_1,vehicle_is_reversed){
        1: sw_keikyu500_3_panto_placer_1_rev;
        sw_keikyu500_3_panto_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_keikyu500_3_panto_placer_2,position_in_vehid_chain %3){
        1: keikyu500_3_end_mot;
        2: keikyu500_3_end_mot_rev;
        default: keikyu500_3_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keikyu500_3_panto_placer_2_rev,position_in_vehid_chain_from_end %3){
        2: keikyu500_3_end_mot_rev;
        0: keikyu500_3_end_mot;
        default: keikyu500_3_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keikyu500_3_panto_placer_main_2,vehicle_is_reversed){
        1: sw_keikyu500_3_panto_placer_2_rev;
        sw_keikyu500_3_panto_placer_2;
      }

      switch(FEAT_TRAINS, SELF, sw_keikyu500_3_panto_placer_main,num_vehs_in_vehid_chain+1){
        0..4: keikyu500_3_wag;
        5..6: sw_keikyu500_3_panto_placer_main_2;
        9: sw_keikyu500_3_panto_placer_main_2;
        sw_keikyu500_3_panto_placer_main_1;
      }

    switch(FEAT_TRAINS, SELF, sw_keikyu500_3_gfx_main,position_in_vehid_chain_from_end){
        0: keikyu500_3_end_mot;
        sw_keikyu500_3_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_keikyu500_livery_3,vehicle_type_id){
        mu_car: sw_keikyu500_3_gfx_main;
        keikyu500_3_front_mot;
    }

  switch(FEAT_TRAINS, PARENT, sw_keikyu500_livery_0,current_year){
    0..1964:sw_keikyu500_livery_1;
    sw_keikyu500_livery_2;
  }
  switch(FEAT_TRAINS, PARENT, sw_keikyu500_livery_0_1,build_year){
    1965..1968:sw_keikyu500_livery_0;
    sw_keikyu500_livery_3;
  }
  switch(FEAT_TRAINS, SELF, sw_keikyu500_lv,cargo_subtype){
    0:sw_keikyu500_livery_0_1;
    1:sw_keikyu500_livery_1;
    2:sw_keikyu500_livery_2;
    3:sw_keikyu500_livery_3;
  }
  switch(FEAT_TRAINS, SELF, sw_keikyu500_lv_desc,cargo_subtype){
    0:string(LV_RANDOM);
    1:string(LV_keikyu_old);
    2:string(LV_keikyu_new);
    3:string(LV_keikyu500_3);
  }


    switch(FEAT_TRAINS, SELF, sw_keikyu500_capacity,position_in_vehid_chain_from_end){
      0: 135;
      default: 140;
    }
    switch(FEAT_TRAINS, SELF, sw_keikyu500_capacity_1,position_in_vehid_chain){
      0: 135;
      default: sw_keikyu500_capacity;
    }
    switch(FEAT_TRAINS, SELF, sw_keikyu500_capacity_main,vehicle_type_id){
      mu_car: sw_keikyu500_capacity;
      sw_keikyu500_capacity_1;
    }

    switch(FEAT_TRAINS, SELF, sw_keikyu500_load_0,build_year){
    0..1968:param_loading_2D;
    param_loading_4D;
  }
  switch(FEAT_TRAINS, SELF, sw_keikyu500_load,cargo_subtype){
    0:sw_keikyu500_load_0;
    1..2:param_loading_2D;
    param_loading_4D;
  }

    switch(FEAT_TRAINS, SELF, sw_keikyu500_power_main,position_in_vehid_chain_from_end%4){
      0:return 150;
      3:return 150;
      return 0;
    }


item(FEAT_TRAINS, keikyu500) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_KEIKYU), "500", string(STR_NAME_TYPE));
        introduction_date: date(1951, 1, 1);
        model_life: 1986-1951-5;
        vehicle_life: 30;
        reliability_decay: 10;

        cargo_capacity: 1;
        loading_speed: param_loading_2D;
        cost_factor: 20;
        running_cost_factor: 50;

        speed: 110 km/h;
        track_type: TR_1435_DC;
        power: 620 kW;
        weight: 29 ton;

        climates_available: param_disable_keikyu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        power: sw_keikyu500_power_main()*4*1342/1000;
        cargo_subtype_text:sw_keikyu500_lv_desc;
        default: sw_keikyu500_lv;
        purchase: keikyu500_purchase;
        can_attach_wagon: sw_1435_attach_vehid;
        additional_text:
  string(STR_TRAIN_DESC,
                            string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
                            string(STR_LOAD_SPEED,
                            string(STR_DOORS_REFIT, 2, 4),),
                            string(STR_FORMATION, string(STR_NUM_CARS_3, 3,4,8)),


                            string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_KEIKYU)));

  start_stop: sw_stop_start_2;
        cargo_capacity: sw_keikyu500_capacity_main()*param_capacity_mod/3;
        loading_speed: sw_keikyu500_load;
        sound_effect: sw_KQ5002_start_sound;
    }
    livery_override(mu_car){
        cargo_subtype_text:sw_keikyu500_lv_desc;
        loading_speed: sw_keikyu500_load;
        cargo_capacity: sw_keikyu500_capacity_main()*param_capacity_mod/3;
        default: sw_keikyu500_lv;
        power: sw_keikyu500_power_main()*4*1342/1000;
        weight: 28;
        length: 8;
      }
}
# 155 "src/_private.pnml" 2
# 1 "src/private/Kanto/keikyu/keikyu600.pnml" 1

  spriteset(keikyu600_purchase_c1, "gfx/private/Kanto/keikyu/keikyu600/keikyu600_1.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(keikyu600_purchase_c2, "gfx/private/Kanto/keikyu/keikyu600/keikyu600_1.png"){ tmpl_purchase_2c(0, 125) }
  switch(FEAT_TRAINS, SELF, keikyu600_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_keikyu; 1: keikyu600_purchase_c1; 2: keikyu600_purchase_c2;}

spriteset (keikyu600_1_front_mot, "gfx/private/Kanto/keikyu/keikyu600/keikyu600_1.png") { tmpl_std(0, 0) }
spriteset (keikyu600_1_end_mot, "gfx/private/Kanto/keikyu/keikyu600/keikyu600_1.png") { tmpl_std_rev(0, 25) }
spriteset (keikyu600_1_end_mot_rev, "gfx/private/Kanto/keikyu/keikyu600/keikyu600_1.png") { tmpl_std(0, 25) }
spriteset (keikyu600_1_front, "gfx/private/Kanto/keikyu/keikyu600/keikyu600_1.png") { tmpl_std(0, 50) }
spriteset (keikyu600_1_end, "gfx/private/Kanto/keikyu/keikyu600/keikyu600_1.png") { tmpl_std_rev(0, 75) }
spriteset (keikyu600_1_end_rev, "gfx/private/Kanto/keikyu/keikyu600/keikyu600_1.png") { tmpl_std(0, 75) }
spriteset (keikyu600_1_mot, "gfx/private/Kanto/keikyu/keikyu600/keikyu600_1.png") { tmpl_std(0, 100) }
spriteset (keikyu600_1_mot_rev, "gfx/private/Kanto/keikyu/keikyu600/keikyu600_1.png") { tmpl_std_rev(0, 100) }
spriteset (keikyu600_1_wag, "gfx/private/Kanto/keikyu/keikyu600/keikyu600_1.png") { tmpl_symm(0, 125) }

spriteset (keikyu600_2_front_mot, "gfx/private/Kanto/keikyu/keikyu600/keikyu600_2.png") { tmpl_std(0, 0) }
spriteset (keikyu600_2_end_mot, "gfx/private/Kanto/keikyu/keikyu600/keikyu600_2.png") { tmpl_std_rev(0, 25) }
spriteset (keikyu600_2_end_mot_rev, "gfx/private/Kanto/keikyu/keikyu600/keikyu600_2.png") { tmpl_std(0, 25) }
spriteset (keikyu600_2_front, "gfx/private/Kanto/keikyu/keikyu600/keikyu600_2.png") { tmpl_std(0, 50) }
spriteset (keikyu600_2_end, "gfx/private/Kanto/keikyu/keikyu600/keikyu600_2.png") { tmpl_std_rev(0, 75) }
spriteset (keikyu600_2_end_rev, "gfx/private/Kanto/keikyu/keikyu600/keikyu600_2.png") { tmpl_std(0, 75) }
spriteset (keikyu600_2_mot, "gfx/private/Kanto/keikyu/keikyu600/keikyu600_2.png") { tmpl_std(0, 100) }
spriteset (keikyu600_2_mot_rev, "gfx/private/Kanto/keikyu/keikyu600/keikyu600_2.png") { tmpl_std_rev(0, 100) }
spriteset (keikyu600_2_wag, "gfx/private/Kanto/keikyu/keikyu600/keikyu600_2.png") { tmpl_symm(0, 125) }



    switch(FEAT_TRAINS, SELF, sw_keikyu600_1_front_mot_gfx, current_year>1980){
      1:keikyu600_2_front_mot;
      keikyu600_1_front_mot;
    }
    switch(FEAT_TRAINS, SELF, sw_keikyu600_1_end_mot_gfx, current_year>1980){
      1:keikyu600_2_end_mot;
      keikyu600_1_end_mot;
    }
    switch(FEAT_TRAINS, SELF, sw_keikyu600_1_end_mot_rev_gfx, current_year>1980){
      1:keikyu600_2_end_mot_rev;
      keikyu600_1_end_mot_rev;
    }
    switch(FEAT_TRAINS, SELF, sw_keikyu600_1_front_gfx, current_year>1980){
      1:keikyu600_2_front;
      keikyu600_1_front;
    }
    switch(FEAT_TRAINS, SELF, sw_keikyu600_1_end_gfx, current_year>1980){
      1:keikyu600_2_end;
      keikyu600_1_end;
    }
    switch(FEAT_TRAINS, SELF, sw_keikyu600_1_end_rev_gfx, current_year>1980){
      1:keikyu600_2_end_rev;
      keikyu600_1_end_rev;
    }
    switch(FEAT_TRAINS, SELF, sw_keikyu600_1_mot_gfx, current_year>1980){
      1:keikyu600_2_mot;
      keikyu600_1_mot;
    }
    switch(FEAT_TRAINS, SELF, sw_keikyu600_1_mot_rev_gfx, current_year>1980){
      1:keikyu600_2_mot_rev;
      keikyu600_1_mot_rev;
    }
    switch(FEAT_TRAINS, SELF, sw_keikyu600_1_wag_gfx, current_year>1980){
      1:keikyu600_2_wag;
      keikyu600_1_wag;
    }

    switch(FEAT_TRAINS, PARENT, sw_keikyu600_1_front, vehicle_is_reversed){
      1:sw_keikyu600_1_front_gfx;
      sw_keikyu600_1_front_mot_gfx;
    }
    switch(FEAT_TRAINS, PARENT, sw_keikyu600_1_end, vehicle_is_reversed){
      1:sw_keikyu600_1_end_mot_gfx;
      sw_keikyu600_1_end_gfx;
    }


      switch(FEAT_TRAINS, SELF, sw_keikyu600_1_panto_placer_1,position_in_vehid_chain %2){
        1: sw_keikyu600_1_mot_gfx;
        default: sw_keikyu600_1_wag_gfx;
      }
      switch(FEAT_TRAINS, SELF, sw_keikyu600_1_panto_placer_1_rev,position_in_vehid_chain_from_end %2){
        0: sw_keikyu600_1_mot_rev_gfx;
        default: sw_keikyu600_1_wag_gfx;
      }
      switch(FEAT_TRAINS, PARENT, sw_keikyu600_1_panto_placer_main,vehicle_is_reversed){
        1: sw_keikyu600_1_panto_placer_1_rev;
        sw_keikyu600_1_panto_placer_1;
      }


      switch(FEAT_TRAINS, SELF, sw_keikyu600_1_fake_head_placer_1,position_in_vehid_chain){
        2: sw_keikyu600_1_end_gfx;
        3: sw_keikyu600_1_end_mot_rev_gfx;
        default: sw_keikyu600_1_panto_placer_main;
      }
      switch(FEAT_TRAINS, SELF, sw_keikyu600_1_fake_head_placer_1_rev,position_in_vehid_chain_from_end-1){
        2: sw_keikyu600_1_end_rev_gfx;
        3: sw_keikyu600_1_end_mot_gfx;
        default: sw_keikyu600_1_panto_placer_main;
      }
      switch(FEAT_TRAINS, PARENT, sw_keikyu600_1_fake_head_placer_main_1,vehicle_is_reversed){
        1: sw_keikyu600_1_fake_head_placer_1_rev;
        sw_keikyu600_1_fake_head_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_keikyu600_1_fake_head_placer_2,position_in_vehid_chain){
        4: sw_keikyu600_1_end_gfx;
        5: sw_keikyu600_1_end_mot_rev_gfx;
        default: sw_keikyu600_1_panto_placer_main;
      }
      switch(FEAT_TRAINS, SELF, sw_keikyu600_1_fake_head_placer_2_rev,position_in_vehid_chain_from_end-1){
        4: sw_keikyu600_1_end_rev_gfx;
        5: sw_keikyu600_1_end_mot_gfx;
        default: sw_keikyu600_1_panto_placer_main;
      }
      switch(FEAT_TRAINS, PARENT, sw_keikyu600_1_fake_head_placer_main_2,vehicle_is_reversed){
        1: sw_keikyu600_1_fake_head_placer_2_rev;
        sw_keikyu600_1_fake_head_placer_2;
      }


      switch(FEAT_TRAINS, SELF, sw_keikyu600_1_fake_head_placer_main,num_vehs_in_vehid_chain+1){
        0..7: sw_keikyu600_1_panto_placer_main;
        8..11:sw_keikyu600_1_fake_head_placer_main_1;
        sw_keikyu600_1_fake_head_placer_main_2;
      }

    switch(FEAT_TRAINS, SELF, sw_keikyu600_1_gfx_main,position_in_vehid_chain_from_end){
        0: sw_keikyu600_1_end;
        sw_keikyu600_1_fake_head_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_keikyu600_lv,vehicle_type_id){
        mu_car: sw_keikyu600_1_gfx_main;
        sw_keikyu600_1_front;
    }



    switch(FEAT_TRAINS, SELF, sw_keikyu600_capacity,position_in_vehid_chain_from_end){
      0: 120;
      default: 130;
    }
    switch(FEAT_TRAINS, SELF, sw_keikyu600_capacity_1,position_in_vehid_chain){
      0: 120;
      default: sw_keikyu600_capacity;
    }
    switch(FEAT_TRAINS, SELF, sw_keikyu600_capacity_main,vehicle_type_id){
      mu_car: sw_keikyu600_capacity;
      sw_keikyu600_capacity_1;
    }

    switch(FEAT_TRAINS, SELF, sw_keikyu600_power_main,position_in_vehid_chain_from_end%8){
      0..5:return 75;
      return 0;
    }


item(FEAT_TRAINS, keikyu600) {
    property {
        name: string(STR_TRAIN_NAME_LONG, string(STR_NAME_KEIKYU), "600/700", string(STR_NAME_TYPE), string(STR_NAME_1_GEN));
        introduction_date: date(1956, 1, 1);
        model_life: 1984-1956-5;
        vehicle_life: 30;
        reliability_decay: 10;

        cargo_capacity: 1;
        loading_speed: param_loading_2D;
        cost_factor: 20;
        running_cost_factor: 50;

        speed: 110 km/h;
        track_type: TR_1435_DC;
        power: 620 kW;
        weight: 29 ton;

        climates_available: param_disable_keikyu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        power: sw_keikyu600_power_main()*4*1342/1000;

        default: sw_keikyu600_lv;
        purchase: keikyu600_purchase;
        can_attach_wagon: sw_1435_attach_vehid;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 2)),
  string(STR_FORMATION, string(STR_NUM_CARS_5, 2,4,6,8,12)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_KEIKYU)));

  start_stop: sw_stop_start_2;
        cargo_capacity: sw_keikyu600_capacity_main()*param_capacity_mod/3;
        loading_speed: param_loading_2D;
        sound_effect: sw_KQ600_start_sound;
    }
    livery_override(mu_car){
        loading_speed: param_loading_2D;
        cargo_capacity: sw_keikyu600_capacity_main()*param_capacity_mod/3;
        default: sw_keikyu600_lv;
        power: sw_keikyu600_power_main()*4*1342/1000;
        weight: 28;
        length: 8;
      }
}
# 156 "src/_private.pnml" 2
# 1 "src/private/Kanto/keikyu/keikyu700.pnml" 1

  spriteset(keikyu700_purchase_c1, "gfx/private/Kanto/keikyu/keikyu700/keikyu700_1.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(keikyu700_purchase_c2, "gfx/private/Kanto/keikyu/keikyu700/keikyu700_1.png"){ tmpl_purchase_2c(0, 50) }
  switch(FEAT_TRAINS, SELF, keikyu700_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_keikyu; 1: keikyu700_purchase_c1; 2: keikyu700_purchase_c2;}

spriteset (keikyu700_1_front, "gfx/private/Kanto/keikyu/keikyu700/keikyu700_1.png") { tmpl_std(0, 0) }
spriteset (keikyu700_1_end, "gfx/private/Kanto/keikyu/keikyu700/keikyu700_1.png") { tmpl_std_rev(0, 25) }
spriteset (keikyu700_1_end_rev, "gfx/private/Kanto/keikyu/keikyu700/keikyu700_1.png") { tmpl_std(0, 25) }
spriteset (keikyu700_1_wag, "gfx/private/Kanto/keikyu/keikyu700/keikyu700_1.png") { tmpl_symm(0, 50) }

spriteset (keikyu700_2_front, "gfx/private/Kanto/keikyu/keikyu700/keikyu700_2.png") { tmpl_std(0, 0) }
spriteset (keikyu700_2_end, "gfx/private/Kanto/keikyu/keikyu700/keikyu700_2.png") { tmpl_std_rev(0, 25) }
spriteset (keikyu700_2_end_rev, "gfx/private/Kanto/keikyu/keikyu700/keikyu700_2.png") { tmpl_std(0, 25) }
spriteset (keikyu700_2_wag, "gfx/private/Kanto/keikyu/keikyu700/keikyu700_2.png") { tmpl_symm(0, 50) }



    switch(FEAT_TRAINS, SELF, sw_keikyu700_1_front_gfx, current_year>1980){
      1:keikyu700_2_front;
      keikyu700_1_front;
    }
    switch(FEAT_TRAINS, SELF, sw_keikyu700_1_end_gfx, current_year>1980){
      1:keikyu700_2_end;
      keikyu700_1_end;
    }
    switch(FEAT_TRAINS, SELF, sw_keikyu700_1_end_rev_gfx, current_year>1980){
      1:keikyu700_2_end_rev;
      keikyu700_1_end_rev;
    }
    switch(FEAT_TRAINS, SELF, sw_keikyu700_1_wag_gfx, current_year>1980){
      1:keikyu700_2_wag;
      keikyu700_1_wag;
    }


      switch(FEAT_TRAINS, SELF, sw_keikyu700_1_panto_placer_1,position_in_vehid_chain %4){
        2: sw_keikyu700_1_end_gfx;
        3: sw_keikyu700_1_end_rev_gfx;
        default: sw_keikyu700_1_wag_gfx;
      }
      switch(FEAT_TRAINS, SELF, sw_keikyu700_1_panto_placer_1_rev,position_in_vehid_chain_from_end %4){
        3: sw_keikyu700_1_end_rev_gfx;
        0: sw_keikyu700_1_end_gfx;
        default: sw_keikyu700_1_wag_gfx;
      }
      switch(FEAT_TRAINS, PARENT, sw_keikyu700_1_panto_placer_main_1,vehicle_is_reversed){
        1: sw_keikyu700_1_panto_placer_1_rev;
        sw_keikyu700_1_panto_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_keikyu700_1_panto_placer_2,position_in_vehid_chain %3){
        1: sw_keikyu700_1_end_gfx;
        2: sw_keikyu700_1_end_rev_gfx;
        default: sw_keikyu700_1_wag_gfx;
      }
      switch(FEAT_TRAINS, SELF, sw_keikyu700_1_panto_placer_2_rev,position_in_vehid_chain_from_end %3){
        2: sw_keikyu700_1_end_rev_gfx;
        0: sw_keikyu700_1_end_gfx;
        default: sw_keikyu700_1_wag_gfx;
      }
      switch(FEAT_TRAINS, PARENT, sw_keikyu700_1_panto_placer_main_2,vehicle_is_reversed){
        1: sw_keikyu700_1_panto_placer_2_rev;
        sw_keikyu700_1_panto_placer_2;
      }


      switch(FEAT_TRAINS, SELF, sw_keikyu700_1_panto_placer_main,num_vehs_in_vehid_chain+1){
        0..4: sw_keikyu700_1_wag_gfx;
        5..6: sw_keikyu700_1_panto_placer_main_2;
        9: sw_keikyu700_1_panto_placer_main_2;
        sw_keikyu700_1_panto_placer_main_1;
      }

    switch(FEAT_TRAINS, SELF, sw_keikyu700_1_gfx_main,position_in_vehid_chain_from_end){
        0: sw_keikyu700_1_end_gfx;
        sw_keikyu700_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_keikyu700_lv,vehicle_type_id){
        mu_car: sw_keikyu700_1_gfx_main;
        sw_keikyu700_1_front_gfx;
    }



    switch(FEAT_TRAINS, SELF, sw_keikyu700_capacity,position_in_vehid_chain_from_end){
      0: 135;
      default: 140;
    }
    switch(FEAT_TRAINS, SELF, sw_keikyu700_capacity_1,position_in_vehid_chain){
      0: 135;
      default: sw_keikyu700_capacity;
    }
    switch(FEAT_TRAINS, SELF, sw_keikyu700_capacity_main,vehicle_type_id){
      mu_car: sw_keikyu700_capacity;
      sw_keikyu700_capacity_1;
    }

    switch(FEAT_TRAINS, SELF, sw_keikyu700_power_main,position_in_vehid_chain_from_end%4){
      0:return 150;
      3:return 150;
      return 0;
    }


item(FEAT_TRAINS, keikyu700) {
    property {
        name: string(STR_TRAIN_NAME_LONG, string(STR_NAME_KEIKYU), "700", string(STR_NAME_TYPE), string(STR_NAME_2_GEN));
        introduction_date: date(1967, 1, 1);
        model_life: 2005-1967-5;
        vehicle_life: 30;
        reliability_decay: 10;

        cargo_capacity: 1;
        loading_speed: param_loading_2D;
        cost_factor: 20;
        running_cost_factor: 50;

        speed: 110 km/h;
        track_type: TR_1435_DC;
        power: 620 kW;
        weight: 29 ton;

        climates_available: param_disable_keikyu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        power: sw_keikyu700_power_main()*4*1342/1000;

        default: sw_keikyu700_lv;
        purchase: keikyu700_purchase;
        can_attach_wagon: sw_1435_attach_vehid;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_2, 2,4)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_KEIKYU)));

  start_stop: sw_stop_start_2;
        cargo_capacity: sw_keikyu700_capacity_main()*param_capacity_mod/3;
        loading_speed: param_loading_4D;
        sound_effect: sw_KQ700_start_sound;
    }
    livery_override(mu_car){
        loading_speed: param_loading_4D;
        cargo_capacity: sw_keikyu700_capacity_main()*param_capacity_mod/3;
        default: sw_keikyu700_lv;
        power: sw_keikyu700_power_main()*4*1342/1000;
        weight: 28;
        length: 8;
      }
}
# 157 "src/_private.pnml" 2
# 1 "src/private/Kanto/keikyu/keikyu1000.pnml" 1

  spriteset(keikyu1000_purchase_c1, "gfx/private/Kanto/keikyu/keikyu1000/keikyu1000_1.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(keikyu1000_purchase_c2, "gfx/private/Kanto/keikyu/keikyu1000/keikyu1000_1.png"){ tmpl_purchase_2c(0, 125) }
  switch(FEAT_TRAINS, SELF, keikyu1000_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_keikyu; 1: keikyu1000_purchase_c1; 2: keikyu1000_purchase_c2;}

spriteset (keikyu1000_1_front_mot, "gfx/private/Kanto/keikyu/keikyu1000/keikyu1000_1.png") { tmpl_std(0, 0) }
spriteset (keikyu1000_1_end_mot, "gfx/private/Kanto/keikyu/keikyu1000/keikyu1000_1.png") { tmpl_std_rev(0, 25) }
spriteset (keikyu1000_1_front, "gfx/private/Kanto/keikyu/keikyu1000/keikyu1000_1.png") { tmpl_std(0, 50) }
spriteset (keikyu1000_1_end, "gfx/private/Kanto/keikyu/keikyu1000/keikyu1000_1.png") { tmpl_std_rev(0, 75) }
spriteset (keikyu1000_1_mot, "gfx/private/Kanto/keikyu/keikyu1000/keikyu1000_1.png") { tmpl_std(0, 100) }
spriteset (keikyu1000_1_mot_rev, "gfx/private/Kanto/keikyu/keikyu1000/keikyu1000_1.png") { tmpl_std_rev(0, 100) }
spriteset (keikyu1000_1_wag, "gfx/private/Kanto/keikyu/keikyu1000/keikyu1000_1.png") { tmpl_symm(0, 125) }

spriteset (keikyu1000_2_front_mot, "gfx/private/Kanto/keikyu/keikyu1000/keikyu1000_2.png") { tmpl_std(0, 0) }
spriteset (keikyu1000_2_end_mot, "gfx/private/Kanto/keikyu/keikyu1000/keikyu1000_2.png") { tmpl_std_rev(0, 25) }
spriteset (keikyu1000_2_front, "gfx/private/Kanto/keikyu/keikyu1000/keikyu1000_2.png") { tmpl_std(0, 50) }
spriteset (keikyu1000_2_end, "gfx/private/Kanto/keikyu/keikyu1000/keikyu1000_2.png") { tmpl_std_rev(0, 75) }

spriteset (keikyu1000_3_front_mot, "gfx/private/Kanto/keikyu/keikyu1000/keikyu1000_3.png") { tmpl_std(0, 0) }
spriteset (keikyu1000_3_end_mot, "gfx/private/Kanto/keikyu/keikyu1000/keikyu1000_3.png") { tmpl_std_rev(0, 25) }
spriteset (keikyu1000_3_front, "gfx/private/Kanto/keikyu/keikyu1000/keikyu1000_3.png") { tmpl_std(0, 50) }
spriteset (keikyu1000_3_end, "gfx/private/Kanto/keikyu/keikyu1000/keikyu1000_3.png") { tmpl_std_rev(0, 75) }
spriteset (keikyu1000_3_mot, "gfx/private/Kanto/keikyu/keikyu1000/keikyu1000_3.png") { tmpl_std(0, 100) }
spriteset (keikyu1000_3_mot_rev, "gfx/private/Kanto/keikyu/keikyu1000/keikyu1000_3.png") { tmpl_std_rev(0, 100) }
spriteset (keikyu1000_3_wag, "gfx/private/Kanto/keikyu/keikyu1000/keikyu1000_3.png") { tmpl_symm(0, 125) }

spriteset (keikyu1000_4_front_mot, "gfx/private/Kanto/keikyu/keikyu1000/keikyu1000_4.png") { tmpl_std(0, 0) }
spriteset (keikyu1000_4_end_mot, "gfx/private/Kanto/keikyu/keikyu1000/keikyu1000_4.png") { tmpl_std_rev(0, 25) }
spriteset (keikyu1000_4_front, "gfx/private/Kanto/keikyu/keikyu1000/keikyu1000_4.png") { tmpl_std(0, 50) }
spriteset (keikyu1000_4_end, "gfx/private/Kanto/keikyu/keikyu1000/keikyu1000_4.png") { tmpl_std_rev(0, 75) }
spriteset (keikyu1000_4_mot, "gfx/private/Kanto/keikyu/keikyu1000/keikyu1000_4.png") { tmpl_std(0, 100) }
spriteset (keikyu1000_4_mot_rev, "gfx/private/Kanto/keikyu/keikyu1000/keikyu1000_4.png") { tmpl_std_rev(0, 100) }
spriteset (keikyu1000_4_wag, "gfx/private/Kanto/keikyu/keikyu1000/keikyu1000_4.png") { tmpl_symm(0, 125) }





    switch(FEAT_TRAINS, PARENT, sw_keikyu1000_1_front_mot,current_year){
      0..1973: keikyu1000_1_front_mot;
      1973..1982: keikyu1000_2_front_mot;
      keikyu1000_3_front_mot;
    }
    switch(FEAT_TRAINS, PARENT, sw_keikyu1000_1_end_mot,current_year){
      0..1973: keikyu1000_1_end_mot;
      1973..1982: keikyu1000_2_end_mot;
      keikyu1000_3_end_mot;
    }
    switch(FEAT_TRAINS, PARENT, sw_keikyu1000_1_front,current_year){
      0..1973: keikyu1000_1_front;
      1973..1982: keikyu1000_2_front;
      keikyu1000_3_front;
    }
    switch(FEAT_TRAINS, PARENT, sw_keikyu1000_1_end,current_year){
      0..1973: keikyu1000_1_end;
      1973..1982: keikyu1000_2_end;
      keikyu1000_3_end;
    }
    switch(FEAT_TRAINS, PARENT, sw_keikyu1000_1_mot,current_year){
      0..1982: keikyu1000_1_mot;
      keikyu1000_3_mot;
    }
    switch(FEAT_TRAINS, PARENT, sw_keikyu1000_1_mot_rev,current_year){
      0..1982: keikyu1000_1_mot_rev;
      keikyu1000_3_mot_rev;
    }
    switch(FEAT_TRAINS, PARENT, sw_keikyu1000_1_wag,current_year){
      0..1982: keikyu1000_1_wag;
      keikyu1000_3_wag;
    }


    switch(FEAT_TRAINS, PARENT, sw_keikyu1000_1_front_gfx,vehicle_is_reversed==0){
      1: sw_keikyu1000_1_front_mot;
      sw_keikyu1000_1_front;
    }
    switch(FEAT_TRAINS, PARENT, sw_keikyu1000_1_end_gfx,vehicle_is_reversed==1){
      1: sw_keikyu1000_1_end_mot;
      sw_keikyu1000_1_end;
    }


      switch(FEAT_TRAINS, SELF, sw_keikyu1000_1_panto_placer_1,position_in_vehid_chain %2){
        1: sw_keikyu1000_1_mot;
        sw_keikyu1000_1_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keikyu1000_1_panto_placer_1_rev,position_in_vehid_chain_from_end %2){
        0: sw_keikyu1000_1_mot_rev;
        sw_keikyu1000_1_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keikyu1000_1_panto_placer_main,vehicle_is_reversed){
        1: sw_keikyu1000_1_panto_placer_1_rev;
        sw_keikyu1000_1_panto_placer_1;
      }
    switch(FEAT_TRAINS, SELF, sw_keikyu1000_1_gfx_main,position_in_vehid_chain_from_end){
      0: sw_keikyu1000_1_end_gfx;
      sw_keikyu1000_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_keikyu1000_livery_1,vehicle_type_id){
      mu_car: sw_keikyu1000_1_gfx_main;
      sw_keikyu1000_1_front_gfx;
    }


    switch(FEAT_TRAINS, PARENT, sw_keikyu1000_2_front_gfx,vehicle_is_reversed==0){
      1: keikyu1000_4_front_mot;
      keikyu1000_4_front;
    }
    switch(FEAT_TRAINS, PARENT, sw_keikyu1000_2_end_gfx,vehicle_is_reversed==1){
      1: keikyu1000_4_end_mot;
      keikyu1000_4_end;
    }


      switch(FEAT_TRAINS, SELF, sw_keikyu1000_2_panto_placer_1,position_in_vehid_chain %2){
        1: keikyu1000_4_mot;
        keikyu1000_4_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keikyu1000_2_panto_placer_1_rev,position_in_vehid_chain_from_end %2){
        0: keikyu1000_4_mot_rev;
        keikyu1000_4_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keikyu1000_2_panto_placer_main,vehicle_is_reversed){
        1: sw_keikyu1000_2_panto_placer_1_rev;
        sw_keikyu1000_2_panto_placer_1;
      }
    switch(FEAT_TRAINS, SELF, sw_keikyu1000_2_gfx_main,position_in_vehid_chain_from_end){
      0: sw_keikyu1000_2_end_gfx;
      sw_keikyu1000_2_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_keikyu1000_livery_2,vehicle_type_id){
      mu_car: sw_keikyu1000_2_gfx_main;
      sw_keikyu1000_2_front_gfx;
    }
random_switch(FEAT_TRAINS, PARENT, sw_keikyu1000_livery_0){
  2:sw_keikyu1000_livery_1;
  1:sw_keikyu1000_livery_2;
}
switch(FEAT_TRAINS, PARENT, sw_keikyu1000_lv,current_year){
  0..1982: sw_keikyu1000_livery_1;
  sw_keikyu1000_livery_0;
}



    switch(FEAT_TRAINS, SELF, sw_keikyu1000_capacity,position_in_vehid_chain_from_end){
      0: 145;
      default: 135;
    }
    switch(FEAT_TRAINS, SELF, sw_keikyu1000_capacity_1,position_in_vehid_chain){
      0: 145;
      default: sw_keikyu1000_capacity;
    }
    switch(FEAT_TRAINS, SELF, sw_keikyu1000_capacity_main,vehicle_type_id){
      mu_car: sw_keikyu1000_capacity;
      sw_keikyu1000_capacity_1;
    }


    switch(FEAT_TRAINS, SELF, sw_keikyu1000_power_main,position_in_vehid_chain_from_end%8){
      0..5:return 75;
      return 0;
    }


item(FEAT_TRAINS, keikyu1000) {
    property {
        name: string(STR_TRAIN_NAME_LONG, string(STR_NAME_KEIKYU), "800/1000", string(STR_NAME_TYPE), string(STR_NAME_1_GEN));
        introduction_date: date(1959, 1, 1);
        model_life: 2011-1959-5;
        vehicle_life: 30;
        reliability_decay: 10;

        cargo_capacity: 1;
        loading_speed: param_loading_3D;
        cost_factor: 20;
        running_cost_factor: 50;

        speed: 110 km/h;
        track_type: TR_1435_DC;
        power: 620 kW;
        weight: 29 ton;

        climates_available: param_disable_keikyu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        power: sw_keikyu1000_power_main()*4*1342/1000;

        default: sw_keikyu1000_lv;
        purchase: keikyu1000_purchase;
        can_attach_wagon: sw_1435_attach_vehid;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_3, 4,6,8)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_KEIKYU)));

  start_stop: sw_stop_start_2;
        cargo_capacity: sw_keikyu1000_capacity_main()*param_capacity_mod/3;
        sound_effect: sw_KQ1000_1b_start_sound;
    }
    livery_override(mu_car){
        loading_speed: param_loading_3D;
        cargo_capacity: sw_keikyu1000_capacity_main()*param_capacity_mod/3;
        default: sw_keikyu1000_lv;
        power: sw_keikyu1000_power_main()*4*1342/1000;
        weight: 28;
        length: 8;
      }
}
# 158 "src/_private.pnml" 2
# 1 "src/private/Kanto/keikyu/keikyu800.pnml" 1

  spriteset(keikyu800_purchase_c1, "gfx/private/Kanto/keikyu/keikyu800/keikyu800_1.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(keikyu800_purchase_c2, "gfx/private/Kanto/keikyu/keikyu800/keikyu800_1.png"){ tmpl_purchase_2c(0, 50) }
  switch(FEAT_TRAINS, SELF, keikyu800_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_keikyu; 1: keikyu800_purchase_c1; 2: keikyu800_purchase_c2;}

spriteset (keikyu800_1_front, "gfx/private/Kanto/keikyu/keikyu800/keikyu800_1.png") { tmpl_std(0, 0) }
spriteset (keikyu800_1_end, "gfx/private/Kanto/keikyu/keikyu800/keikyu800_1.png") { tmpl_std_rev(0, 25) }
spriteset (keikyu800_1_end_rev, "gfx/private/Kanto/keikyu/keikyu800/keikyu800_1.png") { tmpl_std(0, 25) }
spriteset (keikyu800_1_mot, "gfx/private/Kanto/keikyu/keikyu800/keikyu800_1.png") { tmpl_symm(0, 50) }
spriteset (keikyu800_1_wag, "gfx/private/Kanto/keikyu/keikyu800/keikyu800_1.png") { tmpl_symm(0, 75) }

spriteset (keikyu800_2_front, "gfx/private/Kanto/keikyu/keikyu800/keikyu800_2.png") { tmpl_std(0, 0) }
spriteset (keikyu800_2_end, "gfx/private/Kanto/keikyu/keikyu800/keikyu800_2.png") { tmpl_std_rev(0, 25) }
spriteset (keikyu800_2_end_rev, "gfx/private/Kanto/keikyu/keikyu800/keikyu800_2.png") { tmpl_std(0, 25) }
spriteset (keikyu800_2_mot, "gfx/private/Kanto/keikyu/keikyu800/keikyu800_2.png") { tmpl_symm(0, 50) }
spriteset (keikyu800_2_wag, "gfx/private/Kanto/keikyu/keikyu800/keikyu800_2.png") { tmpl_symm(0, 75) }




      switch(FEAT_TRAINS, SELF, sw_keikyu800_1_panto_placer_1,position_in_vehid_chain %3){
        0: keikyu800_1_mot;
        default: keikyu800_1_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keikyu800_1_panto_placer_1_rev,position_in_vehid_chain_from_end %3-1){
        0: keikyu800_1_mot;
        default: keikyu800_1_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keikyu800_1_panto_placer_main_1,vehicle_is_reversed){
        1: sw_keikyu800_1_panto_placer_1_rev;
        sw_keikyu800_1_panto_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_keikyu800_1_panto_placer_2,position_in_vehid_chain %3){
        1: keikyu800_1_mot;
        default: keikyu800_1_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keikyu800_1_panto_placer_2_rev,position_in_vehid_chain_from_end %3-1){
        1: keikyu800_1_mot;
        default: keikyu800_1_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keikyu800_1_panto_placer_main_2,vehicle_is_reversed){
        1: sw_keikyu800_1_panto_placer_2_rev;
        sw_keikyu800_1_panto_placer_2;
      }

      switch(FEAT_TRAINS, SELF, sw_keikyu800_1_panto_placer_main,num_vehs_in_vehid_chain+1){
        5: sw_keikyu800_1_panto_placer_main_2;
        8..9: sw_keikyu800_1_panto_placer_main_2;
        sw_keikyu800_1_panto_placer_main_1;
      }

    switch(FEAT_TRAINS, SELF, sw_keikyu800_1_gfx_main,position_in_vehid_chain_from_end){
        0: keikyu800_1_end;
        sw_keikyu800_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_keikyu800_livery_1,vehicle_type_id){
        mu_car: sw_keikyu800_1_gfx_main;
        keikyu800_1_front;
    }



      switch(FEAT_TRAINS, SELF, sw_keikyu800_2_panto_placer_1,position_in_vehid_chain %3){
        0: keikyu800_2_mot;
        default: keikyu800_2_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keikyu800_2_panto_placer_1_rev,position_in_vehid_chain_from_end %3-1){
        0: keikyu800_2_mot;
        default: keikyu800_2_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keikyu800_2_panto_placer_main_1,vehicle_is_reversed){
        1: sw_keikyu800_2_panto_placer_1_rev;
        sw_keikyu800_2_panto_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_keikyu800_2_panto_placer_2,position_in_vehid_chain %3){
        1: keikyu800_2_mot;
        default: keikyu800_2_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keikyu800_2_panto_placer_2_rev,position_in_vehid_chain_from_end %3-1){
        1: keikyu800_2_mot;
        default: keikyu800_2_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keikyu800_2_panto_placer_main_2,vehicle_is_reversed){
        1: sw_keikyu800_2_panto_placer_2_rev;
        sw_keikyu800_2_panto_placer_2;
      }

      switch(FEAT_TRAINS, SELF, sw_keikyu800_2_panto_placer_main,num_vehs_in_vehid_chain+1){
        5: sw_keikyu800_2_panto_placer_main_2;
        8..9: sw_keikyu800_2_panto_placer_main_2;
        sw_keikyu800_2_panto_placer_main_1;
      }

    switch(FEAT_TRAINS, SELF, sw_keikyu800_2_gfx_main,position_in_vehid_chain_from_end){
        0: keikyu800_2_end;
        sw_keikyu800_2_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_keikyu800_livery_2,vehicle_type_id){
        mu_car: sw_keikyu800_2_gfx_main;
        keikyu800_2_front;
    }

  switch(FEAT_TRAINS, PARENT, sw_keikyu800_livery_0,current_year){
    0..2000:sw_keikyu800_livery_1;
    sw_keikyu800_livery_2;
  }
  switch(FEAT_TRAINS, SELF, sw_keikyu800_lv,cargo_subtype){
    0:sw_keikyu800_livery_0;
    1:sw_keikyu800_livery_1;
    2:sw_keikyu800_livery_2;
  }
  switch(FEAT_TRAINS, SELF, sw_keikyu800_lv_desc,cargo_subtype){
    0:string(LV_RANDOM);
    1:string(LV_DEFAULT);
    2:string(LV_RENEW);
  }



    switch(FEAT_TRAINS, SELF, sw_keikyu800_capacity,position_in_vehid_chain_from_end){
      0: 138;
      default: 144;
    }
    switch(FEAT_TRAINS, SELF, sw_keikyu800_capacity_1,position_in_vehid_chain){
      0: 138;
      default: sw_keikyu800_capacity;
    }
    switch(FEAT_TRAINS, SELF, sw_keikyu800_capacity_main,vehicle_type_id){
      mu_car: sw_keikyu800_capacity;
      sw_keikyu800_capacity_1;
    }

    switch(FEAT_TRAINS, SELF, sw_keikyu800_power_main,position_in_vehid_chain_from_end%8){
      0..5:return 100;
      return 0;
    }


item(FEAT_TRAINS, keikyu800) {
    property {
        name: string(STR_TRAIN_NAME_LONG, string(STR_NAME_KEIKYU), "800", string(STR_NAME_TYPE), string(STR_NAME_2_GEN));
        introduction_date: date(1978, 1, 1);
        model_life: 2019-1978-5;
        vehicle_life: 30;
        reliability_decay: 10;

        cargo_capacity: 1;
        loading_speed: param_loading_4D;
        cost_factor: 20;
        running_cost_factor: 50;

        speed: 110 km/h;
        track_type: TR_1435_DC;
        power: 620 kW;
        weight: 29 ton;

        climates_available: param_disable_keikyu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        power: sw_keikyu800_power_main()*4*1342/1000;
        cargo_subtype_text:sw_keikyu800_lv_desc;
        default: sw_keikyu800_lv;
        purchase: keikyu800_purchase;
        can_attach_wagon: sw_1435_attach_vehid;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 4)),
  string(STR_FORMATION, string(STR_NUM_CARS_2, 3,6)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_KEIKYU)));

  start_stop: sw_stop_start_3;
        cargo_capacity: sw_keikyu800_capacity_main()*param_capacity_mod/3;
        loading_speed: param_loading_4D;
        sound_effect: sw_KQ800_start_sound;
    }
    livery_override(mu_car){
        cargo_subtype_text:sw_keikyu800_lv_desc;
        loading_speed: param_loading_4D;
        cargo_capacity: sw_keikyu800_capacity_main()*param_capacity_mod/3;
        default: sw_keikyu800_lv;
        power: sw_keikyu800_power_main()*4*1342/1000;
        weight: 28;
        length: 8;
      }
}
# 159 "src/_private.pnml" 2
# 1 "src/private/Kanto/keikyu/keikyu2000.pnml" 1

  spriteset(keikyu2000_purchase_c1, "gfx/private/Kanto/keikyu/keikyu2000/keikyu2000_1.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(keikyu2000_purchase_c2, "gfx/private/Kanto/keikyu/keikyu2000/keikyu2000_1.png"){ tmpl_purchase_2c(0, 50) }
  switch(FEAT_TRAINS, SELF, keikyu2000_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_keikyu; 1: keikyu2000_purchase_c1; 2: keikyu2000_purchase_c2;}

spriteset (keikyu2000_1_front, "gfx/private/Kanto/keikyu/keikyu2000/keikyu2000_1.png") { tmpl_std(0, 0) }
spriteset (keikyu2000_1_end, "gfx/private/Kanto/keikyu/keikyu2000/keikyu2000_1.png") { tmpl_std_rev(0, 25) }
spriteset (keikyu2000_1_end_rev, "gfx/private/Kanto/keikyu/keikyu2000/keikyu2000_1.png") { tmpl_std(0, 25) }
spriteset (keikyu2000_1_mot, "gfx/private/Kanto/keikyu/keikyu2000/keikyu2000_1.png") { tmpl_symm(0, 50) }
spriteset (keikyu2000_1_wag, "gfx/private/Kanto/keikyu/keikyu2000/keikyu2000_1.png") { tmpl_symm(0, 75) }

spriteset (keikyu2000_2_front, "gfx/private/Kanto/keikyu/keikyu2000/keikyu2000_2.png") { tmpl_std(0, 0) }
spriteset (keikyu2000_2_end, "gfx/private/Kanto/keikyu/keikyu2000/keikyu2000_2.png") { tmpl_std_rev(0, 25) }
spriteset (keikyu2000_2_end_rev, "gfx/private/Kanto/keikyu/keikyu2000/keikyu2000_2.png") { tmpl_std(0, 25) }
spriteset (keikyu2000_2_mot, "gfx/private/Kanto/keikyu/keikyu2000/keikyu2000_2.png") { tmpl_symm(0, 50) }
spriteset (keikyu2000_2_wag, "gfx/private/Kanto/keikyu/keikyu2000/keikyu2000_2.png") { tmpl_symm(0, 75) }




      switch(FEAT_TRAINS, SELF, sw_keikyu2000_1_panto_placer_1,position_in_vehid_chain %5){
        0: keikyu2000_1_mot;
        default: keikyu2000_1_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keikyu2000_1_panto_placer_1_rev,position_in_vehid_chain_from_end %5-1){
        0: keikyu2000_1_mot;
        default: keikyu2000_1_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keikyu2000_1_panto_placer_main_1,vehicle_is_reversed){
        1: sw_keikyu2000_1_panto_placer_1_rev;
        sw_keikyu2000_1_panto_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_keikyu2000_1_panto_placer_2,position_in_vehid_chain %3){
        0: keikyu2000_1_mot;
        default: keikyu2000_1_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keikyu2000_1_panto_placer_2_rev,position_in_vehid_chain_from_end %3-1){
        0: keikyu2000_1_mot;
        default: keikyu2000_1_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keikyu2000_1_panto_placer_main_2,vehicle_is_reversed){
        1: sw_keikyu2000_1_panto_placer_2_rev;
        sw_keikyu2000_1_panto_placer_2;
      }

      switch(FEAT_TRAINS, SELF, sw_keikyu2000_1_panto_placer_3,position_in_vehid_chain %3){
        1: keikyu2000_1_mot;
        default: keikyu2000_1_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keikyu2000_1_panto_placer_3_rev,position_in_vehid_chain_from_end %3-1){
        1: keikyu2000_1_mot;
        default: keikyu2000_1_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keikyu2000_1_panto_placer_main_3,vehicle_is_reversed){
        1: sw_keikyu2000_1_panto_placer_3_rev;
        sw_keikyu2000_1_panto_placer_3;
      }

      switch(FEAT_TRAINS, SELF, sw_keikyu2000_1_panto_placer_4,position_in_vehid_chain %4){
        1: keikyu2000_1_mot;
        default: keikyu2000_1_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keikyu2000_1_panto_placer_4_rev,position_in_vehid_chain_from_end %4-1){
        1: keikyu2000_1_mot;
        default: keikyu2000_1_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keikyu2000_1_panto_placer_main_4,vehicle_is_reversed){
        1: sw_keikyu2000_1_panto_placer_4_rev;
        sw_keikyu2000_1_panto_placer_4;
      }

      switch(FEAT_TRAINS, SELF, sw_keikyu2000_1_panto_placer_main,num_vehs_in_vehid_chain+1){
        5: sw_keikyu2000_1_panto_placer_main_3;
        8..9: sw_keikyu2000_1_panto_placer_main_1;
        sw_keikyu2000_1_panto_placer_main_2;
      }


      switch(FEAT_TRAINS, SELF, sw_keikyu2000_1_panto_placer_main_4_0,num_vehs_in_vehid_chain+1){
      8: sw_keikyu2000_1_panto_placer_main_4;
      sw_keikyu2000_1_panto_placer_main;
      }

      switch(FEAT_TRAINS, SELF, sw_keikyu2000_1_fake_head_placer_1,position_in_vehid_chain){
        2: keikyu2000_1_end;
        3: keikyu2000_1_end_rev;
        sw_keikyu2000_1_panto_placer_main_4_0;
      }
      switch(FEAT_TRAINS, SELF, sw_keikyu2000_1_fake_head_placer_1_rev,position_in_vehid_chain_from_end-1){
        2: keikyu2000_1_end_rev;
        3: keikyu2000_1_end;
        sw_keikyu2000_1_panto_placer_main_4_0;
      }
      switch(FEAT_TRAINS, PARENT, sw_keikyu2000_1_fake_head_placer_main,vehicle_is_reversed){
        1: sw_keikyu2000_1_fake_head_placer_1_rev;
        sw_keikyu2000_1_fake_head_placer_1;
      }
      switch(FEAT_TRAINS, SELF, sw_keikyu2000_1_fake_head_placer_main_0_1,num_vehs_in_vehid_chain+1>7){
        1: sw_keikyu2000_1_fake_head_placer_main;
        sw_keikyu2000_1_panto_placer_main;
      }
      random_switch(FEAT_TRAINS, PARENT, sw_keikyu2000_1_fake_head_placer_main_0){
        3:sw_keikyu2000_1_panto_placer_main;
        1:sw_keikyu2000_1_fake_head_placer_main_0_1;
      }

    switch(FEAT_TRAINS, SELF, sw_keikyu2000_1_gfx_main,position_in_vehid_chain_from_end){
        0: keikyu2000_1_end;
        sw_keikyu2000_1_fake_head_placer_main_0;
    }
    switch(FEAT_TRAINS, SELF, sw_keikyu2000_livery_1,vehicle_type_id){
        mu_car: sw_keikyu2000_1_gfx_main;
        keikyu2000_1_front;
    }



      switch(FEAT_TRAINS, SELF, sw_keikyu2000_2_panto_placer_1,position_in_vehid_chain %5){
        0: keikyu2000_2_mot;
        default: keikyu2000_2_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keikyu2000_2_panto_placer_1_rev,position_in_vehid_chain_from_end %5-1){
        0: keikyu2000_2_mot;
        default: keikyu2000_2_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keikyu2000_2_panto_placer_main_1,vehicle_is_reversed){
        1: sw_keikyu2000_2_panto_placer_1_rev;
        sw_keikyu2000_2_panto_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_keikyu2000_2_panto_placer_2,position_in_vehid_chain %3){
        0: keikyu2000_2_mot;
        default: keikyu2000_2_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keikyu2000_2_panto_placer_2_rev,position_in_vehid_chain_from_end %3-1){
        0: keikyu2000_2_mot;
        default: keikyu2000_2_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keikyu2000_2_panto_placer_main_2,vehicle_is_reversed){
        1: sw_keikyu2000_2_panto_placer_2_rev;
        sw_keikyu2000_2_panto_placer_2;
      }

      switch(FEAT_TRAINS, SELF, sw_keikyu2000_2_panto_placer_3,position_in_vehid_chain %3){
        1: keikyu2000_2_mot;
        default: keikyu2000_2_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keikyu2000_2_panto_placer_3_rev,position_in_vehid_chain_from_end %3-1){
        1: keikyu2000_2_mot;
        default: keikyu2000_2_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keikyu2000_2_panto_placer_main_3,vehicle_is_reversed){
        1: sw_keikyu2000_2_panto_placer_3_rev;
        sw_keikyu2000_2_panto_placer_3;
      }

      switch(FEAT_TRAINS, SELF, sw_keikyu2000_2_panto_placer_main,num_vehs_in_vehid_chain+1){
        5: sw_keikyu2000_2_panto_placer_main_3;
        8..9: sw_keikyu2000_2_panto_placer_main_1;
        sw_keikyu2000_2_panto_placer_main_2;
      }

    switch(FEAT_TRAINS, SELF, sw_keikyu2000_2_gfx_main,position_in_vehid_chain_from_end){
        0: keikyu2000_2_end;
        sw_keikyu2000_2_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_keikyu2000_livery_2,vehicle_type_id){
        mu_car: sw_keikyu2000_2_gfx_main;
        keikyu2000_2_front;
    }

  switch(FEAT_TRAINS, PARENT, sw_keikyu2000_livery_0,current_year){
    0..1999:sw_keikyu2000_livery_1;
    sw_keikyu2000_livery_2;
  }
  switch(FEAT_TRAINS, SELF, sw_keikyu2000_lv,cargo_subtype){
    0:sw_keikyu2000_livery_0;
    1..2:sw_keikyu2000_livery_1;
    3:sw_keikyu2000_livery_2;
  }
  switch(FEAT_TRAINS, SELF, sw_keikyu2000_lv_desc,cargo_subtype){
    0:string(LV_RANDOM);
    1..2:string(LV_DEFAULT);
    3:string(LV_KEIKYU2000_3);
  }



    switch(FEAT_TRAINS, SELF, sw_keikyu2000_capacity,position_in_vehid_chain_from_end){
      0: 111;
      default: 120;
    }
    switch(FEAT_TRAINS, SELF, sw_keikyu2000_capacity_1,position_in_vehid_chain){
      0: 111;
      default: sw_keikyu2000_capacity;
    }
    switch(FEAT_TRAINS, SELF, sw_keikyu2000_capacity_main,vehicle_type_id){
      mu_car: sw_keikyu2000_capacity;
      sw_keikyu2000_capacity_1;
    }

    switch(FEAT_TRAINS, SELF, sw_keikyu2000_load_0,build_year){
    0..1999:param_loading_2D;
    param_loading_3D;
  }
  switch(FEAT_TRAINS, SELF, sw_keikyu2000_load,cargo_subtype){
    0:sw_keikyu2000_load_0;
    1..2:param_loading_2D;
    param_loading_3D;
  }

    switch(FEAT_TRAINS, SELF, sw_keikyu2000_power_main,position_in_vehid_chain_from_end%8){
      0..2:return 120;
      5..7:return 120;
      return 0;
    }

    switch(FEAT_TRAINS, SELF, sw_KQ2000_sound,build_year){
      0..1999:sw_KQ20002_start_sound;
      sw_KQ20003_start_sound;
    }


item(FEAT_TRAINS, keikyu2000) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_KEIKYU), "2000", string(STR_NAME_TYPE));
        introduction_date: date(1982, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cargo_capacity: 1;
        loading_speed: param_loading_2D;
        cost_factor: 20;
        running_cost_factor: 50;

        speed: 130 km/h;
        track_type: TR_1435_DC;
        power: 620 kW;
        weight: 29 ton;

        climates_available: param_disable_keikyu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        power: sw_keikyu2000_power_main()*4*1342/1000;
        cargo_subtype_text:sw_keikyu2000_lv_desc;
        default: sw_keikyu2000_lv;
        purchase: keikyu2000_purchase;
        can_attach_wagon: sw_1435_attach_vehid;
        additional_text:
  string(STR_TRAIN_DESC,
                            string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
                            string(STR_LOAD_SPEED,
                            string(STR_DOORS_REFIT, 2, 3),),
                            string(STR_FORMATION, string(STR_NUM_CARS_1, 8)),


                            string(STR_USAGE, string(STR_EXPRESS)),
  string(STR_OPERATOR, string(STR_KEIKYU)));

  start_stop: sw_stop_start_3;
        cargo_capacity: sw_keikyu2000_capacity_main()*param_capacity_mod/3;
        loading_speed: sw_keikyu2000_load;
        sound_effect: sw_KQ2000_sound;
    }
    livery_override(mu_car){
        cargo_subtype_text:sw_keikyu2000_lv_desc;
        loading_speed: sw_keikyu2000_load;
        cargo_capacity: sw_keikyu2000_capacity_main()*param_capacity_mod/3;
        default: sw_keikyu2000_lv;
        power: sw_keikyu2000_power_main()*4*1342/1000;
        weight: 28;
        length: 8;
      }
}
# 160 "src/_private.pnml" 2
# 1 "src/private/Kanto/keikyu/keikyu1500.pnml" 1

  spriteset(keikyu1500_purchase_c1, "gfx/private/Kanto/keikyu/keikyu1500/keikyu1500_1.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(keikyu1500_purchase_c2, "gfx/private/Kanto/keikyu/keikyu1500/keikyu1500_1.png"){ tmpl_purchase_2c(0, 150) }
  switch(FEAT_TRAINS, SELF, keikyu1500_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_keikyu; 1: keikyu1500_purchase_c1; 2: keikyu1500_purchase_c2;}

spriteset (keikyu1500_1_front_mot, "gfx/private/Kanto/keikyu/keikyu1500/keikyu1500_1.png") { tmpl_std(0, 0) }
spriteset (keikyu1500_1_end_mot, "gfx/private/Kanto/keikyu/keikyu1500/keikyu1500_1.png") { tmpl_std_rev(0, 25) }
spriteset (keikyu1500_1_front, "gfx/private/Kanto/keikyu/keikyu1500/keikyu1500_1.png") { tmpl_std(0, 50) }
spriteset (keikyu1500_1_end, "gfx/private/Kanto/keikyu/keikyu1500/keikyu1500_1.png") { tmpl_std_rev(0, 75) }
spriteset (keikyu1500_1_mot, "gfx/private/Kanto/keikyu/keikyu1500/keikyu1500_1.png") { tmpl_std(0, 100) }
spriteset (keikyu1500_1_mot_rev, "gfx/private/Kanto/keikyu/keikyu1500/keikyu1500_1.png") { tmpl_std_rev(0, 100) }
spriteset (keikyu1500_1_mot_2, "gfx/private/Kanto/keikyu/keikyu1500/keikyu1500_1.png") { tmpl_symm(0, 125) }
spriteset (keikyu1500_1_wag, "gfx/private/Kanto/keikyu/keikyu1500/keikyu1500_1.png") { tmpl_symm(0, 150) }

spriteset (keikyu1500_2_front, "gfx/private/Kanto/keikyu/keikyu1500/keikyu1500_2.png") { tmpl_std(0, 0) }
spriteset (keikyu1500_2_end, "gfx/private/Kanto/keikyu/keikyu1500/keikyu1500_2.png") { tmpl_std_rev(0, 25) }
spriteset (keikyu1500_2_front_mot, "gfx/private/Kanto/keikyu/keikyu1500/keikyu1500_2.png") { tmpl_std(0, 50) }
spriteset (keikyu1500_2_end_mot, "gfx/private/Kanto/keikyu/keikyu1500/keikyu1500_2.png") { tmpl_std_rev(0, 75) }




    switch(FEAT_TRAINS, PARENT, sw_keikyu1500_1_front_mot,build_year>1989||current_year>2007){
      1: keikyu1500_2_front_mot;
      keikyu1500_1_front_mot;
    }
    switch(FEAT_TRAINS, PARENT, sw_keikyu1500_1_end_mot,build_year>1989||current_year>2007){
      1: keikyu1500_2_end_mot;
      keikyu1500_1_end_mot;
    }
    switch(FEAT_TRAINS, PARENT, sw_keikyu1500_1_front,build_year>1989||current_year>2007){
      1: keikyu1500_2_front;
      keikyu1500_1_front;
    }
    switch(FEAT_TRAINS, PARENT, sw_keikyu1500_1_end,build_year>1989||current_year>2007){
      1: keikyu1500_2_end;
      keikyu1500_1_end;
    }

    switch(FEAT_TRAINS, PARENT, sw_keikyu1500_1_front_gfx,vehicle_is_reversed){
      1: sw_keikyu1500_1_front;
      sw_keikyu1500_1_front_mot;
    }
    switch(FEAT_TRAINS, PARENT, sw_keikyu1500_1_end_gfx,vehicle_is_reversed){
      1: sw_keikyu1500_1_end_mot;
      sw_keikyu1500_1_end;
    }


      switch(FEAT_TRAINS, SELF, sw_keikyu1500_1_panto_placer_1,position_in_vehid_chain %2){
        1: keikyu1500_1_mot;
        keikyu1500_1_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keikyu1500_1_panto_placer_1_rev,position_in_vehid_chain_from_end %2){
        0: keikyu1500_1_mot_rev;
        keikyu1500_1_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keikyu1500_1_panto_placer_main_1,vehicle_is_reversed){
        1: sw_keikyu1500_1_panto_placer_1_rev;
        sw_keikyu1500_1_panto_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_keikyu1500_1_panto_placer_2,position_in_vehid_chain %7){
        1: keikyu1500_1_mot_2;
        3: keikyu1500_1_mot_2;
        5: keikyu1500_1_mot;
        keikyu1500_1_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keikyu1500_1_panto_placer_2_rev,position_in_vehid_chain_from_end %7-1){
        1: keikyu1500_1_mot_2;
        3: keikyu1500_1_mot_2;
        5: keikyu1500_1_mot_rev;
        keikyu1500_1_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keikyu1500_1_panto_placer_main_2,vehicle_is_reversed){
        1: sw_keikyu1500_1_panto_placer_2_rev;
        sw_keikyu1500_1_panto_placer_2;
      }

      switch(FEAT_TRAINS, SELF, sw_keikyu1500_1_panto_placer_3,position_in_vehid_chain %7){
        3: keikyu1500_1_mot_2;
        5: keikyu1500_1_mot;
        keikyu1500_1_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keikyu1500_1_panto_placer_3_rev,position_in_vehid_chain_from_end %7-1){
        3: keikyu1500_1_mot_2;
        5: keikyu1500_1_mot_rev;
        keikyu1500_1_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keikyu1500_1_panto_placer_main_3,vehicle_is_reversed){
        1: sw_keikyu1500_1_panto_placer_3_rev;
        sw_keikyu1500_1_panto_placer_3;
      }

    switch(FEAT_TRAINS, PARENT, sw_keikyu1500_1_panto_placer_main_0,build_year){
      0..1987: sw_keikyu1500_1_panto_placer_main_1;
      1988:sw_keikyu1500_1_panto_placer_main_2;
      sw_keikyu1500_1_panto_placer_main_3;
      }
    switch(FEAT_TRAINS, SELF, sw_keikyu1500_1_panto_placer_main,num_vehs_in_vehid_chain+1){
      0..6:sw_keikyu1500_1_panto_placer_main_1;
      sw_keikyu1500_1_panto_placer_main_0;
    }
    switch(FEAT_TRAINS, SELF, sw_keikyu1500_1_gfx_main,position_in_vehid_chain_from_end){
      0: sw_keikyu1500_1_end_gfx;
      sw_keikyu1500_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_keikyu1500_lv,vehicle_type_id){
      mu_car: sw_keikyu1500_1_gfx_main;
      sw_keikyu1500_1_front_gfx;
    }


    switch(FEAT_TRAINS, SELF, sw_keikyu1500_capacity,position_in_vehid_chain_from_end){
      0: 123;
      default: 132;
    }
    switch(FEAT_TRAINS, SELF, sw_keikyu1500_capacity_1,position_in_vehid_chain){
      0: 123;
      default: sw_keikyu1500_capacity;
    }
    switch(FEAT_TRAINS, SELF, sw_keikyu1500_capacity_main,vehicle_type_id){
      mu_car: sw_keikyu1500_capacity;
      sw_keikyu1500_capacity_1;
    }


    switch(FEAT_TRAINS, SELF, sw_keikyu1500_power_main,position_in_vehid_chain_from_end%8){
      0..4:return 100;
      return 0;
    }


item(FEAT_TRAINS, keikyu1500) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_KEIKYU), "1500", string(STR_NAME_TYPE));
        introduction_date: date(1985, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cargo_capacity: 1;
        loading_speed: param_loading_3D;
        cost_factor: 20;
        running_cost_factor: 50;

        speed: 130 km/h;
        track_type: TR_1435_DC;
        power: 620 kW;
        weight: 29 ton;

        climates_available: param_disable_keikyu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        power: sw_keikyu1500_power_main()*4*1342/1000;

        default: sw_keikyu1500_lv;
        purchase: keikyu1500_purchase;
        can_attach_wagon: sw_1435_attach_vehid;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_3, 4,6,8)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_KEIKYU)));

  start_stop: sw_stop_start_2;
        cargo_capacity: sw_keikyu1500_capacity_main()*param_capacity_mod/3;
        sound_effect: sw_KQ1500_start_sound;
    }
    livery_override(mu_car){
        loading_speed: param_loading_3D;
        cargo_capacity: sw_keikyu1500_capacity_main()*param_capacity_mod/3;
        default: sw_keikyu1500_lv;
        power: sw_keikyu1500_power_main()*4*1342/1000;
        weight: 28;
        length: 8;
      }
}
# 161 "src/_private.pnml" 2
# 1 "src/private/Kanto/keikyu/keikyu600n.pnml" 1

  spriteset(keikyu600n_purchase_c1, "gfx/private/Kanto/keikyu/keikyu600n/keikyu600n_1.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(keikyu600n_purchase_c2, "gfx/private/Kanto/keikyu/keikyu600n/keikyu600n_1.png"){ tmpl_purchase_2c(0, 150) }
  switch(FEAT_TRAINS, SELF, keikyu600n_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_keikyu; 1: keikyu600n_purchase_c1; 2: keikyu600n_purchase_c2;}

spriteset (keikyu600n_1_front_mot, "gfx/private/Kanto/keikyu/keikyu600n/keikyu600n_1.png") { tmpl_std(0, 0) }
spriteset (keikyu600n_1_end_mot, "gfx/private/Kanto/keikyu/keikyu600n/keikyu600n_1.png") { tmpl_std_rev(0, 25) }
spriteset (keikyu600n_1_front, "gfx/private/Kanto/keikyu/keikyu600n/keikyu600n_1.png") { tmpl_std(0, 50) }
spriteset (keikyu600n_1_end, "gfx/private/Kanto/keikyu/keikyu600n/keikyu600n_1.png") { tmpl_std_rev(0, 75) }
spriteset (keikyu600n_1_mot, "gfx/private/Kanto/keikyu/keikyu600n/keikyu600n_1.png") { tmpl_std(0, 100) }
spriteset (keikyu600n_1_mot_rev, "gfx/private/Kanto/keikyu/keikyu600n/keikyu600n_1.png") { tmpl_std_rev(0, 100) }
spriteset (keikyu600n_1_mot_2, "gfx/private/Kanto/keikyu/keikyu600n/keikyu600n_1.png") { tmpl_symm(0, 125) }
spriteset (keikyu600n_1_wag, "gfx/private/Kanto/keikyu/keikyu600n/keikyu600n_1.png") { tmpl_symm(0, 150) }

spriteset (keikyu600n_2_front_mot, "gfx/private/Kanto/keikyu/keikyu600n/keikyu600n_2.png") { tmpl_std(0, 0) }
spriteset (keikyu600n_2_end_mot, "gfx/private/Kanto/keikyu/keikyu600n/keikyu600n_2.png") { tmpl_std_rev(0, 25) }
spriteset (keikyu600n_2_front, "gfx/private/Kanto/keikyu/keikyu600n/keikyu600n_2.png") { tmpl_std(0, 50) }
spriteset (keikyu600n_2_end, "gfx/private/Kanto/keikyu/keikyu600n/keikyu600n_2.png") { tmpl_std_rev(0, 75) }

spriteset (keikyu600n_3_front_mot, "gfx/private/Kanto/keikyu/keikyu600n/keikyu600n_3.png") { tmpl_std(0, 0) }
spriteset (keikyu600n_3_end_mot, "gfx/private/Kanto/keikyu/keikyu600n/keikyu600n_3.png") { tmpl_std_rev(0, 25) }
spriteset (keikyu600n_3_front, "gfx/private/Kanto/keikyu/keikyu600n/keikyu600n_3.png") { tmpl_std(0, 50) }
spriteset (keikyu600n_3_end, "gfx/private/Kanto/keikyu/keikyu600n/keikyu600n_3.png") { tmpl_std_rev(0, 75) }
spriteset (keikyu600n_3_mot, "gfx/private/Kanto/keikyu/keikyu600n/keikyu600n_3.png") { tmpl_std(0, 100) }
spriteset (keikyu600n_3_mot_rev, "gfx/private/Kanto/keikyu/keikyu600n/keikyu600n_3.png") { tmpl_std_rev(0, 100) }
spriteset (keikyu600n_3_mot_2, "gfx/private/Kanto/keikyu/keikyu600n/keikyu600n_3.png") { tmpl_symm(0, 125) }
spriteset (keikyu600n_3_wag, "gfx/private/Kanto/keikyu/keikyu600n/keikyu600n_3.png") { tmpl_symm(0, 150) }



    switch(FEAT_TRAINS, PARENT, sw_keikyu600n_1_front_gfx,vehicle_is_reversed==0&&num_vehs_in_consist!=4){
      1: keikyu600n_1_front_mot;
      keikyu600n_1_front;
    }
    switch(FEAT_TRAINS, PARENT, sw_keikyu600n_1_end_gfx,vehicle_is_reversed==1&&num_vehs_in_consist!=4){
      1: keikyu600n_1_end_mot;
      keikyu600n_1_end;
    }


      switch(FEAT_TRAINS, SELF, sw_keikyu600n_1_panto_placer_1,position_in_vehid_chain %8){
        3: keikyu600n_1_mot_2;
        5: keikyu600n_1_mot;
        keikyu600n_1_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keikyu600n_1_panto_placer_1_rev,position_in_vehid_chain_from_end %8-1){
        3: keikyu600n_1_mot_2;
        5: keikyu600n_1_mot_rev;
        keikyu600n_1_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keikyu600n_1_panto_placer_main_1,vehicle_is_reversed){
        1: sw_keikyu600n_1_panto_placer_1_rev;
        sw_keikyu600n_1_panto_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_keikyu600n_1_panto_placer_2,position_in_vehid_chain %4){
        1: keikyu600n_1_mot_2;
        keikyu600n_1_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keikyu600n_1_panto_placer_2_rev,position_in_vehid_chain_from_end %4-1){
        1: keikyu600n_1_mot_2;
        keikyu600n_1_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keikyu600n_1_panto_placer_main_2,vehicle_is_reversed){
        1: sw_keikyu600n_1_panto_placer_2_rev;
        sw_keikyu600n_1_panto_placer_2;
      }

      switch(FEAT_TRAINS, SELF, sw_keikyu600n_1_panto_placer_3,position_in_vehid_chain %3){
        1: keikyu600n_1_mot_2;
        keikyu600n_1_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keikyu600n_1_panto_placer_3_rev,position_in_vehid_chain_from_end %3-1){
        1: keikyu600n_1_mot_2;
        keikyu600n_1_wag;
      }
    switch(FEAT_TRAINS, PARENT, sw_keikyu600n_1_panto_placer_main_3,vehicle_is_reversed){
      1: sw_keikyu600n_1_panto_placer_3_rev;
      sw_keikyu600n_1_panto_placer_3;
    }

    switch(FEAT_TRAINS, SELF, sw_keikyu600n_1_panto_placer_main,num_vehs_in_vehid_chain+1){
      8:sw_keikyu600n_1_panto_placer_main_1;
      5:sw_keikyu600n_1_panto_placer_main_2;
      10..11:sw_keikyu600n_1_panto_placer_main_2;
      sw_keikyu600n_1_panto_placer_main_3;
    }
    switch(FEAT_TRAINS, SELF, sw_keikyu600n_1_gfx_main,position_in_vehid_chain_from_end){
      0: sw_keikyu600n_1_end_gfx;
      sw_keikyu600n_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_keikyu600n_livery_1,vehicle_type_id){
      mu_car: sw_keikyu600n_1_gfx_main;
      sw_keikyu600n_1_front_gfx;
    }


    switch(FEAT_TRAINS, PARENT, sw_keikyu600n_2_front_gfx,vehicle_is_reversed==0&&num_vehs_in_consist!=4){
      1: keikyu600n_2_front_mot;
      keikyu600n_2_front;
    }
    switch(FEAT_TRAINS, PARENT, sw_keikyu600n_2_end_gfx,vehicle_is_reversed==1&&num_vehs_in_consist!=4){
      1: keikyu600n_2_end_mot;
      keikyu600n_2_end;
    }
    switch(FEAT_TRAINS, SELF, sw_keikyu600n_2_gfx_main,position_in_vehid_chain_from_end){
      0: sw_keikyu600n_2_end_gfx;
      sw_keikyu600n_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_keikyu600n_livery_2,vehicle_type_id){
      mu_car: sw_keikyu600n_2_gfx_main;
      sw_keikyu600n_2_front_gfx;
    }


    switch(FEAT_TRAINS, PARENT, sw_keikyu600n_3_front_gfx,vehicle_is_reversed==0&&num_vehs_in_consist!=4){
      1: keikyu600n_3_front_mot;
      keikyu600n_3_front;
    }
    switch(FEAT_TRAINS, PARENT, sw_keikyu600n_3_end_gfx,vehicle_is_reversed==1&&num_vehs_in_consist!=4){
      1: keikyu600n_3_end_mot;
      keikyu600n_3_end;
    }


      switch(FEAT_TRAINS, SELF, sw_keikyu600n_3_panto_placer_1,position_in_vehid_chain %8){
        3: keikyu600n_3_mot_2;
        5: keikyu600n_3_mot;
        keikyu600n_3_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keikyu600n_3_panto_placer_1_rev,position_in_vehid_chain_from_end %8-1){
        3: keikyu600n_3_mot_2;
        5: keikyu600n_3_mot_rev;
        keikyu600n_3_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keikyu600n_3_panto_placer_main_1,vehicle_is_reversed){
        1: sw_keikyu600n_3_panto_placer_1_rev;
        sw_keikyu600n_3_panto_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_keikyu600n_3_panto_placer_2,position_in_vehid_chain %4){
        1: keikyu600n_3_mot_2;
        keikyu600n_3_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keikyu600n_3_panto_placer_2_rev,position_in_vehid_chain_from_end %4-1){
        1: keikyu600n_3_mot_2;
        keikyu600n_3_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keikyu600n_3_panto_placer_main_2,vehicle_is_reversed){
        1: sw_keikyu600n_3_panto_placer_2_rev;
        sw_keikyu600n_3_panto_placer_2;
      }

      switch(FEAT_TRAINS, SELF, sw_keikyu600n_3_panto_placer_3,position_in_vehid_chain %3){
        1: keikyu600n_3_mot_2;
        keikyu600n_3_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keikyu600n_3_panto_placer_3_rev,position_in_vehid_chain_from_end %3-1){
        1: keikyu600n_3_mot_2;
        keikyu600n_3_wag;
      }
    switch(FEAT_TRAINS, PARENT, sw_keikyu600n_3_panto_placer_main_3,vehicle_is_reversed){
      1: sw_keikyu600n_3_panto_placer_3_rev;
      sw_keikyu600n_3_panto_placer_3;
    }

    switch(FEAT_TRAINS, SELF, sw_keikyu600n_3_panto_placer_main,num_vehs_in_vehid_chain+1){
      8:sw_keikyu600n_3_panto_placer_main_1;
      5:sw_keikyu600n_3_panto_placer_main_2;
      10..11:sw_keikyu600n_3_panto_placer_main_2;
      sw_keikyu600n_3_panto_placer_main_3;
    }
    switch(FEAT_TRAINS, SELF, sw_keikyu600n_3_gfx_main,position_in_vehid_chain_from_end){
      0: sw_keikyu600n_3_end_gfx;
      sw_keikyu600n_3_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_keikyu600n_livery_3,vehicle_type_id){
      mu_car: sw_keikyu600n_3_gfx_main;
      sw_keikyu600n_3_front_gfx;
    }

  random_switch(FEAT_TRAINS, PARENT, sw_keikyu600n_livery_0_1){
    3: sw_keikyu600n_livery_1;
    1: sw_keikyu600n_livery_3;
  }
  switch(FEAT_TRAINS, PARENT, sw_keikyu600n_livery_0, current_year){
    0..1994: sw_keikyu600n_livery_1;
    1995..2004: sw_keikyu600n_livery_2;
    sw_keikyu600n_livery_0_1;
  }
  switch(FEAT_TRAINS, SELF, sw_keikyu600n_lv,cargo_subtype){
    0:sw_keikyu600n_livery_0;
    1:sw_keikyu600n_livery_1;
    2:sw_keikyu600n_livery_2;
    3:sw_keikyu600n_livery_3;
  }
  switch(FEAT_TRAINS, SELF, sw_keikyu600n_lv_desc,cargo_subtype){
    0:string(LV_RANDOM);
    1:string(LV_DEFAULT);
    2:string(LV_MODERN);
    3:string(LV_keikyu_blue);
  }



    switch(FEAT_TRAINS, SELF, sw_keikyu600n_capacity,position_in_vehid_chain_from_end){
      0: 123;
      default: 132;
    }
    switch(FEAT_TRAINS, SELF, sw_keikyu600n_capacity_1,position_in_vehid_chain){
      0: 123;
      default: sw_keikyu600n_capacity;
    }
    switch(FEAT_TRAINS, SELF, sw_keikyu600n_capacity_main,vehicle_type_id){
      mu_car: sw_keikyu600n_capacity;
      sw_keikyu600n_capacity_1;
    }


    switch(FEAT_TRAINS, SELF, sw_keikyu600n_power_main_1,position_in_vehid_chain_from_end%8){
      0..3:return 120;
      6..7:return 120;
      return 0;
    }
    switch(FEAT_TRAINS, SELF, sw_keikyu600n_power_main_2,position_in_vehid_chain_from_end%8){
      0:return 180;
      3..4:return 180;
      7:return 180;
      return 0;
    }
    switch(FEAT_TRAINS, SELF, sw_keikyu600n_power_main,build_year){
      0..1995: sw_keikyu600n_power_main_1;
      sw_keikyu600n_power_main_2;
    }


item(FEAT_TRAINS, keikyu600n) {
    property {
        name: string(STR_TRAIN_NAME_LONG, string(STR_NAME_KEIKYU), "600", string(STR_NAME_TYPE), string(STR_NAME_3_GEN));
        introduction_date: date(1994, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cargo_capacity: 1;
        loading_speed: param_loading_3D;
        cost_factor: 20;
        running_cost_factor: 50;

        speed: 130 km/h;
        track_type: TR_1435_DC;
        power: 620 kW;
        weight: 29 ton;

        climates_available: param_disable_keikyu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        power: sw_keikyu600n_power_main()*4*1342/1000;
        cargo_subtype_text:sw_keikyu600n_lv_desc;
        default: sw_keikyu600n_lv;
        purchase: keikyu600n_purchase;
        can_attach_wagon: sw_1435_attach_vehid;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 8)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_KEIKYU)));

  start_stop: sw_stop_start_2;
        cargo_capacity: sw_keikyu600n_capacity_main()*param_capacity_mod/3;
        sound_effect: sw_KQ600_3_start_sound;
    }
    livery_override(mu_car){
        cargo_subtype_text:sw_keikyu600n_lv_desc;
        loading_speed: param_loading_3D;
        cargo_capacity: sw_keikyu600n_capacity_main()*param_capacity_mod/3;
        default: sw_keikyu600n_lv;
        power: sw_keikyu600n_power_main()*4*1342/1000;
        weight: 28;
        length: 8;
      }
}
# 162 "src/_private.pnml" 2
# 1 "src/private/Kanto/keikyu/keikyu2100.pnml" 1

  spriteset(keikyu2100_purchase_c1, "gfx/private/Kanto/keikyu/keikyu2100/keikyu2100_1.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(keikyu2100_purchase_c2, "gfx/private/Kanto/keikyu/keikyu2100/keikyu2100_1.png"){ tmpl_purchase_2c(0, 75) }
  switch(FEAT_TRAINS, SELF, keikyu2100_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_keikyu; 1: keikyu2100_purchase_c1; 2: keikyu2100_purchase_c2;}

spriteset (keikyu2100_1_front, "gfx/private/Kanto/keikyu/keikyu2100/keikyu2100_1.png") { tmpl_std(0, 0) }
spriteset (keikyu2100_1_end, "gfx/private/Kanto/keikyu/keikyu2100/keikyu2100_1.png") { tmpl_std_rev(0, 25) }
spriteset (keikyu2100_1_mot, "gfx/private/Kanto/keikyu/keikyu2100/keikyu2100_1.png") { tmpl_symm(0, 50) }
spriteset (keikyu2100_1_wag, "gfx/private/Kanto/keikyu/keikyu2100/keikyu2100_1.png") { tmpl_symm(0, 75) }

spriteset (keikyu2100_2_front, "gfx/private/Kanto/keikyu/keikyu2100/keikyu2100_2.png") { tmpl_std(0, 0) }
spriteset (keikyu2100_2_end, "gfx/private/Kanto/keikyu/keikyu2100/keikyu2100_2.png") { tmpl_std_rev(0, 25) }
spriteset (keikyu2100_2_mot, "gfx/private/Kanto/keikyu/keikyu2100/keikyu2100_2.png") { tmpl_symm(0, 50) }
spriteset (keikyu2100_2_wag, "gfx/private/Kanto/keikyu/keikyu2100/keikyu2100_2.png") { tmpl_symm(0, 75) }




      switch(FEAT_TRAINS, SELF, sw_keikyu2100_1_panto_placer_1,position_in_vehid_chain %4){
        1: keikyu2100_1_mot;
        default: keikyu2100_1_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keikyu2100_1_panto_placer_1_rev,position_in_vehid_chain_from_end %4-1){
        1: keikyu2100_1_mot;
        default: keikyu2100_1_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keikyu2100_1_panto_placer_main_1,vehicle_is_reversed){
        1: sw_keikyu2100_1_panto_placer_1_rev;
        sw_keikyu2100_1_panto_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_keikyu2100_1_panto_placer_2,position_in_vehid_chain %3){
        0: keikyu2100_1_mot;
        default: keikyu2100_1_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keikyu2100_1_panto_placer_2_rev,position_in_vehid_chain_from_end %3-1){
        0: keikyu2100_1_mot;
        default: keikyu2100_1_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keikyu2100_1_panto_placer_main_2,vehicle_is_reversed){
        1: sw_keikyu2100_1_panto_placer_2_rev;
        sw_keikyu2100_1_panto_placer_2;
      }

      switch(FEAT_TRAINS, SELF, sw_keikyu2100_1_panto_placer_main,num_vehs_in_vehid_chain+1){
        3: sw_keikyu2100_1_panto_placer_main_2;
        6..7: sw_keikyu2100_1_panto_placer_main_2;
        10..11: sw_keikyu2100_1_panto_placer_main_2;
        sw_keikyu2100_1_panto_placer_main_1;
      }

    switch(FEAT_TRAINS, SELF, sw_keikyu2100_1_gfx_main,position_in_vehid_chain_from_end){
        0: keikyu2100_1_end;
        sw_keikyu2100_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_keikyu2100_livery_1,vehicle_type_id){
        mu_car: sw_keikyu2100_1_gfx_main;
        keikyu2100_1_front;
    }



      switch(FEAT_TRAINS, SELF, sw_keikyu2100_2_panto_placer_1,position_in_vehid_chain %4){
        1: keikyu2100_2_mot;
        default: keikyu2100_2_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keikyu2100_2_panto_placer_1_rev,position_in_vehid_chain_from_end %4-1){
        1: keikyu2100_2_mot;
        default: keikyu2100_2_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keikyu2100_2_panto_placer_main_1,vehicle_is_reversed){
        1: sw_keikyu2100_2_panto_placer_1_rev;
        sw_keikyu2100_2_panto_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_keikyu2100_2_panto_placer_2,position_in_vehid_chain %3){
        0: keikyu2100_2_mot;
        default: keikyu2100_2_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keikyu2100_2_panto_placer_2_rev,position_in_vehid_chain_from_end %3-1){
        0: keikyu2100_2_mot;
        default: keikyu2100_2_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keikyu2100_2_panto_placer_main_2,vehicle_is_reversed){
        1: sw_keikyu2100_2_panto_placer_2_rev;
        sw_keikyu2100_2_panto_placer_2;
      }

      switch(FEAT_TRAINS, SELF, sw_keikyu2100_2_panto_placer_main,num_vehs_in_vehid_chain+1){
        3: sw_keikyu2100_2_panto_placer_main_2;
        6..7: sw_keikyu2100_2_panto_placer_main_2;
        10..11: sw_keikyu2100_2_panto_placer_main_2;
        sw_keikyu2100_2_panto_placer_main_1;
      }

    switch(FEAT_TRAINS, SELF, sw_keikyu2100_2_gfx_main,position_in_vehid_chain_from_end){
        0: keikyu2100_2_end;
        sw_keikyu2100_2_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_keikyu2100_livery_2,vehicle_type_id){
        mu_car: sw_keikyu2100_2_gfx_main;
        keikyu2100_2_front;
    }

  random_switch(FEAT_TRAINS, PARENT, sw_keikyu2100_livery_0_1){
    3: sw_keikyu2100_livery_1;
    1: sw_keikyu2100_livery_2;
  }
  switch(FEAT_TRAINS, PARENT, sw_keikyu2100_livery_0,current_year){
    0..2004:sw_keikyu2100_livery_1;
    sw_keikyu2100_livery_0_1;
  }
  switch(FEAT_TRAINS, SELF, sw_keikyu2100_lv,cargo_subtype){
    0:sw_keikyu2100_livery_0;
    1:sw_keikyu2100_livery_1;
    2:sw_keikyu2100_livery_2;
  }
  switch(FEAT_TRAINS, SELF, sw_keikyu2100_lv_desc,cargo_subtype){
    0:string(LV_RANDOM);
    1:string(LV_DEFAULT);
    2:string(LV_keikyu_blue);
  }



    switch(FEAT_TRAINS, SELF, sw_keikyu2100_capacity,position_in_vehid_chain_from_end){
      0: 111;
      default: 120;
    }
    switch(FEAT_TRAINS, SELF, sw_keikyu2100_capacity_1,position_in_vehid_chain){
      0: 111;
      default: sw_keikyu2100_capacity;
    }
    switch(FEAT_TRAINS, SELF, sw_keikyu2100_capacity_main,vehicle_type_id){
      mu_car: sw_keikyu2100_capacity;
      sw_keikyu2100_capacity_1;
    }


    switch(FEAT_TRAINS, SELF, sw_keikyu2100_power_main,position_in_vehid_chain_from_end%8){
      0:return 190;
      3..4:return 190;
      7:return 190;
      return 0;
    }


item(FEAT_TRAINS, keikyu2100) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_KEIKYU), "2100", string(STR_NAME_TYPE));
        introduction_date: date(1998, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cargo_capacity: 1;
        loading_speed: param_loading_2D;
        cost_factor: 20;
        running_cost_factor: 50;

        speed: 130 km/h;
        track_type: TR_1435_DC;
        power: 620 kW;
        weight: 29 ton;

        climates_available: param_disable_keikyu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        power: sw_keikyu2100_power_main()*4*1342/1000;
        cargo_subtype_text:sw_keikyu2100_lv_desc;
        default: sw_keikyu2100_lv;
        purchase: keikyu2100_purchase;
        can_attach_wagon: sw_1435_attach_vehid;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 2)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 8)),
  string(STR_USAGE, string(STR_EXPRESS)),
  string(STR_OPERATOR, string(STR_KEIKYU)));

  start_stop: sw_stop_start_3;
        cargo_capacity: sw_keikyu2100_capacity_main()*param_capacity_mod/3;
        sound_effect: sw_KQ2100_start_sound;
    }
    livery_override(mu_car){
        cargo_subtype_text:sw_keikyu2100_lv_desc;
        loading_speed: param_loading_2D;
        cargo_capacity: sw_keikyu2100_capacity_main()*param_capacity_mod/3;
        default: sw_keikyu2100_lv;
        power: sw_keikyu2100_power_main()*4*1342/1000;
        weight: 28;
        length: 8;
      }
}
# 163 "src/_private.pnml" 2
# 1 "src/private/Kanto/keikyu/keikyu1000n.pnml" 1

  spriteset(keikyu1000n_purchase_c1, "gfx/private/Kanto/keikyu/keikyu1000n/keikyu1000n_1.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(keikyu1000n_purchase_c2, "gfx/private/Kanto/keikyu/keikyu1000n/keikyu1000n_1.png"){ tmpl_purchase_2c(0, 50) }
  switch(FEAT_TRAINS, SELF, keikyu1000n_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_keikyu; 1: keikyu1000n_purchase_c1; 2: keikyu1000n_purchase_c2;}

spriteset (keikyu1000n_1_front, "gfx/private/Kanto/keikyu/keikyu1000n/keikyu1000n_1.png") { tmpl_std(0, 0) }
spriteset (keikyu1000n_1_end, "gfx/private/Kanto/keikyu/keikyu1000n/keikyu1000n_1.png") { tmpl_std_rev(0, 25) }
spriteset (keikyu1000n_1_end_rev, "gfx/private/Kanto/keikyu/keikyu1000n/keikyu1000n_1.png") { tmpl_std(0, 25) }
spriteset (keikyu1000n_1_mot, "gfx/private/Kanto/keikyu/keikyu1000n/keikyu1000n_1.png") { tmpl_std(0, 50) }
spriteset (keikyu1000n_1_mot_rev, "gfx/private/Kanto/keikyu/keikyu1000n/keikyu1000n_1.png") { tmpl_std_rev(0, 50) }
spriteset (keikyu1000n_1_mot_2, "gfx/private/Kanto/keikyu/keikyu1000n/keikyu1000n_1.png") { tmpl_symm(0, 75) }
spriteset (keikyu1000n_1_wag, "gfx/private/Kanto/keikyu/keikyu1000n/keikyu1000n_1.png") { tmpl_symm(0, 100) }

spriteset (keikyu1000n_2_front, "gfx/private/Kanto/keikyu/keikyu1000n/keikyu1000n_2.png") { tmpl_std(0, 0) }
spriteset (keikyu1000n_2_end, "gfx/private/Kanto/keikyu/keikyu1000n/keikyu1000n_2.png") { tmpl_std_rev(0, 25) }
spriteset (keikyu1000n_2_end_rev, "gfx/private/Kanto/keikyu/keikyu1000n/keikyu1000n_2.png") { tmpl_std(0, 25) }
spriteset (keikyu1000n_2_mot, "gfx/private/Kanto/keikyu/keikyu1000n/keikyu1000n_2.png") { tmpl_std(0, 50) }
spriteset (keikyu1000n_2_mot_rev, "gfx/private/Kanto/keikyu/keikyu1000n/keikyu1000n_2.png") { tmpl_std_rev(0, 50) }
spriteset (keikyu1000n_2_mot_2, "gfx/private/Kanto/keikyu/keikyu1000n/keikyu1000n_2.png") { tmpl_symm(0, 75) }
spriteset (keikyu1000n_2_wag, "gfx/private/Kanto/keikyu/keikyu1000n/keikyu1000n_2.png") { tmpl_symm(0, 100) }




      switch(FEAT_TRAINS, SELF, sw_keikyu1000n_1_panto_placer_1,position_in_vehid_chain %11){
        0: keikyu1000n_1_mot_2;
        5: keikyu1000n_1_mot_2;
        9: keikyu1000n_1_mot_2;
        default: keikyu1000n_1_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keikyu1000n_1_panto_placer_1_rev,position_in_vehid_chain_from_end %11-1){
        0: keikyu1000n_1_mot_2;
        5: keikyu1000n_1_mot_2;
        9: keikyu1000n_1_mot_2;
        default: keikyu1000n_1_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keikyu1000n_1_panto_placer_main_1,vehicle_is_reversed){
        1: sw_keikyu1000n_1_panto_placer_1_rev;
        sw_keikyu1000n_1_panto_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_keikyu1000n_1_panto_placer_2,position_in_vehid_chain %11){
        0: keikyu1000n_1_mot_2;
        2: keikyu1000n_1_mot;
        5: keikyu1000n_1_mot_2;
        9: keikyu1000n_1_mot_2;
        default: keikyu1000n_1_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keikyu1000n_1_panto_placer_2_rev,position_in_vehid_chain_from_end %11-1){
        0: keikyu1000n_1_mot_2;
        2: keikyu1000n_1_mot_rev;
        5: keikyu1000n_1_mot_2;
        9: keikyu1000n_1_mot_2;
        default: keikyu1000n_1_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keikyu1000n_1_panto_placer_main_2,vehicle_is_reversed){
        1: sw_keikyu1000n_1_panto_placer_2_rev;
        sw_keikyu1000n_1_panto_placer_2;
      }

      switch(FEAT_TRAINS, SELF, sw_keikyu1000n_1_panto_placer_3,position_in_vehid_chain %3){
        0: keikyu1000n_1_mot_2;
        default: keikyu1000n_1_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keikyu1000n_1_panto_placer_3_rev,position_in_vehid_chain_from_end %3-1){
        0: keikyu1000n_1_mot_2;
        default: keikyu1000n_1_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keikyu1000n_1_panto_placer_main_3,vehicle_is_reversed){
        1: sw_keikyu1000n_1_panto_placer_3_rev;
        sw_keikyu1000n_1_panto_placer_3;
      }

      switch(FEAT_TRAINS, SELF, sw_keikyu1000n_1_panto_placer_4,position_in_vehid_chain %3){
        0: keikyu1000n_1_mot;
        1: keikyu1000n_1_mot;
        default: keikyu1000n_1_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keikyu1000n_1_panto_placer_4_rev,position_in_vehid_chain_from_end %3-1){
        0: keikyu1000n_1_mot_rev;
        1: keikyu1000n_1_mot_rev;
        default: keikyu1000n_1_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keikyu1000n_1_panto_placer_main_4,vehicle_is_reversed){
        1: sw_keikyu1000n_1_panto_placer_4_rev;
        sw_keikyu1000n_1_panto_placer_4;
      }

      switch(FEAT_TRAINS, SELF, sw_keikyu1000n_1_panto_placer_5,position_in_vehid_chain %3){
        0: keikyu1000n_1_mot_rev;
        1: keikyu1000n_1_mot_rev;
        default: keikyu1000n_1_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keikyu1000n_1_panto_placer_5_rev,position_in_vehid_chain_from_end %3-1){
        0: keikyu1000n_1_mot;
        1: keikyu1000n_1_mot;
        default: keikyu1000n_1_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keikyu1000n_1_panto_placer_main_5,vehicle_is_reversed){
        1: sw_keikyu1000n_1_panto_placer_5_rev;
        sw_keikyu1000n_1_panto_placer_5;
      }

      switch(FEAT_TRAINS, SELF, sw_keikyu1000n_1_panto_placer_6,position_in_vehid_chain %6){
        0: keikyu1000n_1_mot_rev;
        3: keikyu1000n_1_mot_2;
        default: keikyu1000n_1_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keikyu1000n_1_panto_placer_6_rev,position_in_vehid_chain_from_end %6-1){
        0: keikyu1000n_1_mot;
        3: keikyu1000n_1_mot_2;
        default: keikyu1000n_1_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keikyu1000n_1_panto_placer_main_6,vehicle_is_reversed){
        1: sw_keikyu1000n_1_panto_placer_6_rev;
        sw_keikyu1000n_1_panto_placer_6;
      }

      switch(FEAT_TRAINS, SELF, sw_keikyu1000n_1_panto_placer_7,position_in_vehid_chain %6){
        1: keikyu1000n_1_mot_2;
        default: keikyu1000n_1_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keikyu1000n_1_panto_placer_7_rev,position_in_vehid_chain_from_end %6-1){
        1: keikyu1000n_1_mot_2;
        default: keikyu1000n_1_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keikyu1000n_1_panto_placer_main_7,vehicle_is_reversed){
        1: sw_keikyu1000n_1_panto_placer_7_rev;
        sw_keikyu1000n_1_panto_placer_7;
      }

      switch(FEAT_TRAINS, PARENT, sw_keikyu1000n_1_panto_placer_main_0_8,build_year){
        0..2006: sw_keikyu1000n_1_panto_placer_main_1;
        sw_keikyu1000n_1_panto_placer_main_2;
      }
      switch(FEAT_TRAINS, PARENT, sw_keikyu1000n_1_panto_placer_main_0_6,build_year){
        0..2012: sw_keikyu1000n_1_panto_placer_main_6;
        sw_keikyu1000n_1_panto_placer_main_3;
      }
      switch(FEAT_TRAINS, PARENT, sw_keikyu1000n_1_panto_placer_main_0_4,build_year){
        0..2002: sw_keikyu1000n_1_panto_placer_main_4;
        2003..2007:sw_keikyu1000n_1_panto_placer_main_7;
        2008..2022:sw_keikyu1000n_1_panto_placer_main_5;
        sw_keikyu1000n_1_panto_placer_main_7;
      }

      switch(FEAT_TRAINS, SELF, sw_keikyu1000n_1_panto_placer_main,num_vehs_in_vehid_chain+1){
        4:sw_keikyu1000n_1_panto_placer_main_0_4;
        6..7: sw_keikyu1000n_1_panto_placer_main_0_6;
        10: sw_keikyu1000n_1_panto_placer_main_3;
        sw_keikyu1000n_1_panto_placer_main_0_8;
      }


      switch(FEAT_TRAINS, SELF, sw_keikyu1000n_1_fake_head_placer_1,position_in_vehid_chain){
        6: keikyu1000n_1_end;
        7: keikyu1000n_1_end_rev;
        sw_keikyu1000n_1_panto_placer_main;
      }
      switch(FEAT_TRAINS, SELF, sw_keikyu1000n_1_fake_head_placer_1_rev,position_in_vehid_chain_from_end-1){
        6: keikyu1000n_1_end_rev;
        7: keikyu1000n_1_end;
        sw_keikyu1000n_1_panto_placer_main;
      }
      switch(FEAT_TRAINS, PARENT, sw_keikyu1000n_1_fake_head_placer_main,vehicle_is_reversed){
        1: sw_keikyu1000n_1_fake_head_placer_1_rev;
        sw_keikyu1000n_1_fake_head_placer_1;
      }
      switch(FEAT_TRAINS, SELF, sw_keikyu1000n_1_fake_head_placer_main_0,num_vehs_in_vehid_chain+1>11){
        1: sw_keikyu1000n_1_fake_head_placer_main;
        sw_keikyu1000n_1_panto_placer_main;
      }


    switch(FEAT_TRAINS, SELF, sw_keikyu1000n_1_gfx_main,position_in_vehid_chain_from_end){
        0: keikyu1000n_1_end;
        sw_keikyu1000n_1_fake_head_placer_main_0;
    }
    switch(FEAT_TRAINS, SELF, sw_keikyu1000n_livery_1,vehicle_type_id){
        mu_car: sw_keikyu1000n_1_gfx_main;
        keikyu1000n_1_front;
    }



      switch(FEAT_TRAINS, SELF, sw_keikyu1000n_2_panto_placer_1,position_in_vehid_chain %11){
        0: keikyu1000n_2_mot_2;
        5: keikyu1000n_2_mot_2;
        9: keikyu1000n_2_mot_2;
        default: keikyu1000n_2_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keikyu1000n_2_panto_placer_1_rev,position_in_vehid_chain_from_end %11-1){
        0: keikyu1000n_2_mot_2;
        5: keikyu1000n_2_mot_2;
        9: keikyu1000n_2_mot_2;
        default: keikyu1000n_2_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keikyu1000n_2_panto_placer_main_1,vehicle_is_reversed){
        1: sw_keikyu1000n_2_panto_placer_1_rev;
        sw_keikyu1000n_2_panto_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_keikyu1000n_2_panto_placer_2,position_in_vehid_chain %11){
        0: keikyu1000n_2_mot_2;
        2: keikyu1000n_2_mot;
        5: keikyu1000n_2_mot_2;
        9: keikyu1000n_2_mot_2;
        default: keikyu1000n_2_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keikyu1000n_2_panto_placer_2_rev,position_in_vehid_chain_from_end %11-1){
        0: keikyu1000n_2_mot_2;
        2: keikyu1000n_2_mot_rev;
        5: keikyu1000n_2_mot_2;
        9: keikyu1000n_2_mot_2;
        default: keikyu1000n_2_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keikyu1000n_2_panto_placer_main_2,vehicle_is_reversed){
        1: sw_keikyu1000n_2_panto_placer_2_rev;
        sw_keikyu1000n_2_panto_placer_2;
      }

      switch(FEAT_TRAINS, SELF, sw_keikyu1000n_2_panto_placer_3,position_in_vehid_chain %3){
        0: keikyu1000n_2_mot_2;
        default: keikyu1000n_2_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keikyu1000n_2_panto_placer_3_rev,position_in_vehid_chain_from_end %3-1){
        0: keikyu1000n_2_mot_2;
        default: keikyu1000n_2_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keikyu1000n_2_panto_placer_main_3,vehicle_is_reversed){
        1: sw_keikyu1000n_2_panto_placer_3_rev;
        sw_keikyu1000n_2_panto_placer_3;
      }

      switch(FEAT_TRAINS, SELF, sw_keikyu1000n_2_panto_placer_4,position_in_vehid_chain %3){
        0: keikyu1000n_2_mot;
        1: keikyu1000n_2_mot;
        default: keikyu1000n_2_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keikyu1000n_2_panto_placer_4_rev,position_in_vehid_chain_from_end %3-1){
        0: keikyu1000n_2_mot_rev;
        1: keikyu1000n_2_mot_rev;
        default: keikyu1000n_2_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keikyu1000n_2_panto_placer_main_4,vehicle_is_reversed){
        1: sw_keikyu1000n_2_panto_placer_4_rev;
        sw_keikyu1000n_2_panto_placer_4;
      }

      switch(FEAT_TRAINS, SELF, sw_keikyu1000n_2_panto_placer_5,position_in_vehid_chain %3){
        0: keikyu1000n_2_mot_rev;
        1: keikyu1000n_2_mot_rev;
        default: keikyu1000n_2_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keikyu1000n_2_panto_placer_5_rev,position_in_vehid_chain_from_end %3-1){
        0: keikyu1000n_2_mot;
        1: keikyu1000n_2_mot;
        default: keikyu1000n_2_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keikyu1000n_2_panto_placer_main_5,vehicle_is_reversed){
        1: sw_keikyu1000n_2_panto_placer_5_rev;
        sw_keikyu1000n_2_panto_placer_5;
      }

      switch(FEAT_TRAINS, SELF, sw_keikyu1000n_2_panto_placer_6,position_in_vehid_chain %6){
        0: keikyu1000n_2_mot_rev;
        3: keikyu1000n_2_mot_2;
        default: keikyu1000n_2_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keikyu1000n_2_panto_placer_6_rev,position_in_vehid_chain_from_end %6-1){
        0: keikyu1000n_2_mot;
        3: keikyu1000n_2_mot_2;
        default: keikyu1000n_2_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keikyu1000n_2_panto_placer_main_6,vehicle_is_reversed){
        1: sw_keikyu1000n_2_panto_placer_6_rev;
        sw_keikyu1000n_2_panto_placer_6;
      }

      switch(FEAT_TRAINS, SELF, sw_keikyu1000n_2_panto_placer_7,position_in_vehid_chain %6){
        1: keikyu1000n_2_mot_2;
        default: keikyu1000n_2_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keikyu1000n_2_panto_placer_7_rev,position_in_vehid_chain_from_end %6-1){
        1: keikyu1000n_2_mot_2;
        default: keikyu1000n_2_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keikyu1000n_2_panto_placer_main_7,vehicle_is_reversed){
        1: sw_keikyu1000n_2_panto_placer_7_rev;
        sw_keikyu1000n_2_panto_placer_7;
      }

      switch(FEAT_TRAINS, PARENT, sw_keikyu1000n_2_panto_placer_main_0_8,build_year){
        0..2006: sw_keikyu1000n_2_panto_placer_main_1;
        sw_keikyu1000n_2_panto_placer_main_2;
      }
      switch(FEAT_TRAINS, PARENT, sw_keikyu1000n_2_panto_placer_main_0_6,build_year){
        0..2012: sw_keikyu1000n_2_panto_placer_main_6;
        sw_keikyu1000n_2_panto_placer_main_3;
      }
      switch(FEAT_TRAINS, PARENT, sw_keikyu1000n_2_panto_placer_main_0_4,build_year){
        0..2002: sw_keikyu1000n_2_panto_placer_main_4;
        2003..2007:sw_keikyu1000n_2_panto_placer_main_7;
        2008..2022:sw_keikyu1000n_2_panto_placer_main_5;
        sw_keikyu1000n_2_panto_placer_main_7;
      }

      switch(FEAT_TRAINS, SELF, sw_keikyu1000n_2_panto_placer_main,num_vehs_in_vehid_chain+1){
        4:sw_keikyu1000n_2_panto_placer_main_0_4;
        6..7: sw_keikyu1000n_2_panto_placer_main_0_6;
        10: sw_keikyu1000n_2_panto_placer_main_3;
        sw_keikyu1000n_2_panto_placer_main_0_8;
      }


      switch(FEAT_TRAINS, SELF, sw_keikyu1000n_2_fake_head_placer_1,position_in_vehid_chain){
        6: keikyu1000n_2_end;
        7: keikyu1000n_2_end_rev;
        sw_keikyu1000n_2_panto_placer_main;
      }
      switch(FEAT_TRAINS, SELF, sw_keikyu1000n_2_fake_head_placer_1_rev,position_in_vehid_chain_from_end-1){
        6: keikyu1000n_2_end_rev;
        7: keikyu1000n_2_end;
        sw_keikyu1000n_2_panto_placer_main;
      }
      switch(FEAT_TRAINS, PARENT, sw_keikyu1000n_2_fake_head_placer_main,vehicle_is_reversed){
        1: sw_keikyu1000n_2_fake_head_placer_1_rev;
        sw_keikyu1000n_2_fake_head_placer_1;
      }
      switch(FEAT_TRAINS, SELF, sw_keikyu1000n_2_fake_head_placer_main_0,num_vehs_in_vehid_chain+1>11){
        1: sw_keikyu1000n_2_fake_head_placer_main;
        sw_keikyu1000n_2_panto_placer_main;
      }


    switch(FEAT_TRAINS, SELF, sw_keikyu1000n_2_gfx_main,position_in_vehid_chain_from_end){
        0: keikyu1000n_2_end;
        sw_keikyu1000n_2_fake_head_placer_main_0;
    }
    switch(FEAT_TRAINS, SELF, sw_keikyu1000n_livery_2,vehicle_type_id){
        mu_car: sw_keikyu1000n_2_gfx_main;
        keikyu1000n_2_front;
    }

  switch(FEAT_TRAINS, PARENT, sw_keikyu1000n_livery_0,build_year){
    0..2006:sw_keikyu1000n_livery_1;
    sw_keikyu1000n_livery_2;
  }
  switch(FEAT_TRAINS, SELF, sw_keikyu1000n_lv,cargo_subtype){
    0:sw_keikyu1000n_livery_0;
    1:sw_keikyu1000n_livery_1;
    2:sw_keikyu1000n_livery_2;
  }
  switch(FEAT_TRAINS, SELF, sw_keikyu1000n_lv_desc,cargo_subtype){
    0:string(LV_RANDOM);
    1:string(LV_DEFAULT);
    2:string(LV_SUTEN);
  }




      switch(FEAT_TRAINS, SELF, sw_keikyu1000n_capacity_1_0,position_in_vehid_chain_from_end){
        0: 122;
        default: 130;
      }
      switch(FEAT_TRAINS, SELF, sw_keikyu1000n_capacity_1,position_in_vehid_chain){
        0: 122;
        default: sw_keikyu1000n_capacity_1_0;
      }
      switch(FEAT_TRAINS, SELF, sw_keikyu1000n_capacity_main_1,vehicle_type_id){
        mu_car: sw_keikyu1000n_capacity_1_0;
        sw_keikyu1000n_capacity_1;
      }

      switch(FEAT_TRAINS, SELF, sw_keikyu1000n_capacity_2_0,position_in_vehid_chain_from_end){
          0: 119;
          default: 130;
      }
      switch(FEAT_TRAINS, SELF, sw_keikyu1000n_capacity_2,position_in_vehid_chain){
          0: 119;
          default: sw_keikyu1000n_capacity_2_0;
      }
      switch(FEAT_TRAINS, SELF, sw_keikyu1000n_capacity_main_2,vehicle_type_id){
        mu_car: sw_keikyu1000n_capacity_2_0;
        sw_keikyu1000n_capacity_2;
      }

      switch(FEAT_TRAINS, SELF, sw_keikyu1000n_capacity_3_0,position_in_vehid_chain_from_end){
          0: 118;
          default: 129;
      }
      switch(FEAT_TRAINS, SELF, sw_keikyu1000n_capacity_3,position_in_vehid_chain){
          0: 118;
          default: sw_keikyu1000n_capacity_3_0;
      }
      switch(FEAT_TRAINS, SELF, sw_keikyu1000n_capacity_main_3,vehicle_type_id){
        mu_car: sw_keikyu1000n_capacity_3_0;
        sw_keikyu1000n_capacity_3;
      }

      switch(FEAT_TRAINS, SELF, sw_keikyu1000n_capacity_4_0,position_in_vehid_chain_from_end){
          0: 116;
          default: 126;
      }
      switch(FEAT_TRAINS, SELF, sw_keikyu1000n_capacity_4,position_in_vehid_chain){
          0: 116;
          default: sw_keikyu1000n_capacity_4_0;
      }
      switch(FEAT_TRAINS, SELF, sw_keikyu1000n_capacity_main_4,vehicle_type_id){
        mu_car: sw_keikyu1000n_capacity_4_0;
        sw_keikyu1000n_capacity_4;
      }
    switch(FEAT_TRAINS, SELF, sw_keikyu1000n_capacity_main, build_year){
      0..2006:sw_keikyu1000n_capacity_main_1;
      2007..2009:sw_keikyu1000n_capacity_main_2;
      2010..2015:sw_keikyu1000n_capacity_main_3;
      sw_keikyu1000n_capacity_main_4;
    }



    switch(FEAT_TRAINS, SELF, sw_keikyu1000n_power_main_1,position_in_vehid_chain_from_end%8){
      0:return 190;
      3..4:return 190;
      7:return 190;
      return 0;
    }

    switch(FEAT_TRAINS, SELF, sw_keikyu1000n_power_main_2,position_in_vehid_chain_from_end%8){
      0..2:return 155;
      5..7:return 155;
      return 0;
    }
    switch(FEAT_TRAINS, SELF, sw_keikyu1000n_power_main,build_year){
      0..2006: sw_keikyu1000n_power_main_1;
      sw_keikyu1000n_power_main_2;
    }


item(FEAT_TRAINS, keikyu1000n) {
    property {
        name: string(STR_TRAIN_NAME_LONG, string(STR_NAME_KEIKYU), "1000", string(STR_NAME_TYPE), string(STR_NAME_2_GEN));
        introduction_date: date(2002, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cargo_capacity: 1;
        loading_speed: param_loading_3D;
        cost_factor: 20;
        running_cost_factor: 50;

        speed: 130 km/h;
        track_type: TR_1435_DC;
        power: 620 kW;
        weight: 25 ton;

        climates_available: param_disable_keikyu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        power: sw_keikyu1000n_power_main()*4*1342/1000;
        cargo_subtype_text:sw_keikyu1000n_lv_desc;
        default: sw_keikyu1000n_lv;
        purchase: keikyu1000n_purchase;
        can_attach_wagon: sw_1435_attach_vehid;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_3, 4,6,8)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_KEIKYU)));

  start_stop: sw_stop_start_3;
        cargo_capacity: sw_keikyu1000n_capacity_main()*param_capacity_mod/3;
        sound_effect: sw_KQ1000_2_start_sound;
    }
    livery_override(mu_car){
        cargo_subtype_text:sw_keikyu1000n_lv_desc;
        loading_speed: param_loading_3D;
        cargo_capacity: sw_keikyu1000n_capacity_main()*param_capacity_mod/3;
        default: sw_keikyu1000n_lv;
        power: sw_keikyu1000n_power_main()*4*1342/1000;
        weight: 23;
        length: 8;
      }
}
# 164 "src/_private.pnml" 2


item(FEAT_TRAINS, keisei1500, 2450) {}
item(FEAT_TRAINS, keisei1600, 2451) {}
item(FEAT_TRAINS, keisei_AE1, 2452) {}
item(FEAT_TRAINS, keisei_AE100, 2453) {}
item(FEAT_TRAINS, keisei_AE2, 2454) {}

item(FEAT_TRAINS, keisei1, 2456) {}
item(FEAT_TRAINS, keisei20, 2457) {}
item(FEAT_TRAINS, keisei33, 2458) {}
item(FEAT_TRAINS, keisei200, 2459) {}
item(FEAT_TRAINS, keisei200_2000, 2460) {}
item(FEAT_TRAINS, keisei300, 2461) {}
item(FEAT_TRAINS, keisei600, 2462) {}
item(FEAT_TRAINS, keisei700, 2463) {}
item(FEAT_TRAINS, keisei3000_1, 2464) {}
item(FEAT_TRAINS, keisei3100, 2465) {}
item(FEAT_TRAINS, keisei3200, 2466) {}
item(FEAT_TRAINS, keisei3300, 2467) {}
item(FEAT_TRAINS, keisei3500, 2468) {}
item(FEAT_TRAINS, keisei3600, 2469) {}
item(FEAT_TRAINS, keisei3700, 2470) {}
item(FEAT_TRAINS, keisei3400, 2471) {}
item(FEAT_TRAINS, keisei3000_2, 2472) {}
item(FEAT_TRAINS, keisei3100_2, 2473) {}


# 1 "src/private/Kanto/keisei/keisei1500.pnml" 1

  spriteset(keisei1500_purchase_c1_1, "gfx/private/Kanto/keisei/keisei1500/keisei1500_1.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(keisei1500_purchase_c2_1, "gfx/private/Kanto/keisei/keisei1500/keisei1500_1.png"){ tmpl_purchase_2c_7(0, 75) }
  switch(FEAT_TRAINS, SELF, keisei1500_purchase_1, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_keisei; 1: keisei1500_purchase_c1_1; 2: keisei1500_purchase_c2_1;}
  spriteset(keisei1500_purchase_c1_2, "gfx/private/Kanto/keisei/keisei1500/keisei1500_2.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(keisei1500_purchase_c2_2, "gfx/private/Kanto/keisei/keisei1500/keisei1500_2.png"){ tmpl_purchase_2c_7(0, 75) }
  switch(FEAT_TRAINS, SELF, keisei1500_purchase_2, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_keisei; 1: keisei1500_purchase_c1_2; 2: keisei1500_purchase_c2_2;}

  switch(FEAT_TRAINS, SELF, keisei1500_purchase,current_year){
    0..1954:keisei1500_purchase_1;
    keisei1500_purchase_2;
  }

spriteset (keisei1500_1_front_mot, "gfx/private/Kanto/keisei/keisei1500/keisei1500_1.png") { tmpl_std(0, 0) }
spriteset (keisei1500_1_end_mot, "gfx/private/Kanto/keisei/keisei1500/keisei1500_1.png") { tmpl_std_rev(0, 25) }
spriteset (keisei1500_1_end_mot_rev, "gfx/private/Kanto/keisei/keisei1500/keisei1500_1.png") { tmpl_std(0, 25) }
spriteset (keisei1500_1_front, "gfx/private/Kanto/keisei/keisei1500/keisei1500_1.png") { tmpl_std(0, 50) }
spriteset (keisei1500_1_end, "gfx/private/Kanto/keisei/keisei1500/keisei1500_1.png") { tmpl_std_rev(0, 75) }
spriteset (keisei1500_1_end_rev, "gfx/private/Kanto/keisei/keisei1500/keisei1500_1.png") { tmpl_std(0, 75) }

spriteset (keisei1500_2_front_mot, "gfx/private/Kanto/keisei/keisei1500/keisei1500_2.png") { tmpl_std(0, 0) }
spriteset (keisei1500_2_end_mot, "gfx/private/Kanto/keisei/keisei1500/keisei1500_2.png") { tmpl_std_rev(0, 25) }
spriteset (keisei1500_2_end_mot_rev, "gfx/private/Kanto/keisei/keisei1500/keisei1500_2.png") { tmpl_std(0, 25) }
spriteset (keisei1500_2_front, "gfx/private/Kanto/keisei/keisei1500/keisei1500_2.png") { tmpl_std(0, 50) }
spriteset (keisei1500_2_end, "gfx/private/Kanto/keisei/keisei1500/keisei1500_2.png") { tmpl_std_rev(0, 75) }
spriteset (keisei1500_2_end_rev, "gfx/private/Kanto/keisei/keisei1500/keisei1500_2.png") { tmpl_std(0, 75) }



    switch(FEAT_TRAINS, PARENT, sw_keisei1500_1_front_gfx_1,vehicle_is_reversed){
      1: keisei1500_1_front;
      keisei1500_1_front_mot;
    }
    switch(FEAT_TRAINS, PARENT, sw_keisei1500_1_end_gfx_1,vehicle_is_reversed){
      1: keisei1500_1_end_mot;
      keisei1500_1_end;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei1500_1_front_gfx,num_vehs_in_consist<3){
      1: sw_keisei1500_1_front_gfx_1;
      keisei1500_1_front_mot;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei1500_1_end_gfx,num_vehs_in_consist<3){
      1: sw_keisei1500_1_end_gfx_1;
      keisei1500_1_end_mot;
    }

   switch(FEAT_TRAINS, SELF, sw_keisei1500_1_panto_placer_1,position_in_vehid_chain %4){
      0: keisei1500_1_end;
      2: keisei1500_1_end_mot_rev;
      3: keisei1500_1_end;
      keisei1500_1_end_rev;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei1500_1_panto_placer_1_rev,position_in_vehid_chain_from_end %4){
      0: keisei1500_1_end;
      2: keisei1500_1_end;
      3: keisei1500_1_end_mot;
      keisei1500_1_end_rev;
    }
    switch(FEAT_TRAINS, PARENT, sw_keisei1500_1_panto_placer_main,vehicle_is_reversed){
      1: sw_keisei1500_1_panto_placer_1_rev;
      sw_keisei1500_1_panto_placer_1;
    }

    switch(FEAT_TRAINS, SELF, sw_keisei1500_1_gfx_main,position_in_vehid_chain_from_end){
      0: sw_keisei1500_1_end_gfx;
      sw_keisei1500_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei1500_livery_1,vehicle_type_id){
      mu_car: sw_keisei1500_1_gfx_main;
      sw_keisei1500_1_front_gfx;
    }



    switch(FEAT_TRAINS, PARENT, sw_keisei1500_2_front_gfx_1,vehicle_is_reversed){
      1: keisei1500_2_front;
      keisei1500_2_front_mot;
    }
    switch(FEAT_TRAINS, PARENT, sw_keisei1500_2_end_gfx_1,vehicle_is_reversed){
      1: keisei1500_2_end_mot;
      keisei1500_2_end;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei1500_2_front_gfx,num_vehs_in_consist<3){
      1: sw_keisei1500_2_front_gfx_1;
      keisei1500_2_front_mot;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei1500_2_end_gfx,num_vehs_in_consist<3){
      1: sw_keisei1500_2_end_gfx_1;
      keisei1500_2_end_mot;
    }

   switch(FEAT_TRAINS, SELF, sw_keisei1500_2_panto_placer_1,position_in_vehid_chain %4){
      0: keisei1500_2_end;
      2: keisei1500_2_end_mot_rev;
      3: keisei1500_2_end;
      keisei1500_2_end_rev;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei1500_2_panto_placer_1_rev,position_in_vehid_chain_from_end %4){
      0: keisei1500_2_end;
      2: keisei1500_2_end;
      3: keisei1500_2_end_mot;
      keisei1500_2_end_rev;
    }
    switch(FEAT_TRAINS, PARENT, sw_keisei1500_2_panto_placer_main,vehicle_is_reversed){
      1: sw_keisei1500_2_panto_placer_1_rev;
      sw_keisei1500_2_panto_placer_1;
    }

    switch(FEAT_TRAINS, SELF, sw_keisei1500_2_gfx_main,position_in_vehid_chain_from_end){
      0: sw_keisei1500_2_end_gfx;
      sw_keisei1500_2_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei1500_livery_2,vehicle_type_id){
      mu_car: sw_keisei1500_2_gfx_main;
      sw_keisei1500_2_front_gfx;
    }


  switch(FEAT_TRAINS, PARENT, sw_keisei1500_livery_0,current_year){
    0..1954:sw_keisei1500_livery_1;
    sw_keisei1500_livery_2;
  }
  switch(FEAT_TRAINS, SELF, sw_keisei1500_lv,cargo_subtype){
    0:sw_keisei1500_livery_0;
    1:sw_keisei1500_livery_1;
    2:sw_keisei1500_livery_2;
  }
  switch(FEAT_TRAINS, SELF, sw_keisei1500_lv_desc,cargo_subtype){
    0:string(LV_RANDOM);
    1:string(LV_DEFAULT);
    2:string(LV_keisei1500_2);
  }



    switch(FEAT_TRAINS, SELF, sw_keisei1500_power_main,position_in_consist_from_end%2){
      0:return 55;
      return 0;
    }

item(FEAT_TRAINS, keisei1500) {
    property {
        cargo_capacity: 130;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        climates_available: param_disable_keisei == 0 ? ALL_CLIMATES : NO_CLIMATE;
        name: string(STR_TRAIN_NAME, string(STR_NAME_KEISEI), "1500", string(STR_NAME_TYPE));
        introduction_date: date(1951, 1, 1);
        model_life: 14;
        vehicle_life: 20;
        reliability_decay: 10;

        cost_factor: 18;
        running_cost_factor: 48;
        speed: 100 km/h;
        track_type: TR_1435_DC;
        power: 148 kW;
        weight: 32 ton;
        loading_speed: param_loading_2D;
    }
 graphics {
    power: sw_keisei1500_power_main()*4*1342/1000;
    start_stop: sw_stop_start_2;
    default: sw_keisei1500_lv;
    purchase: keisei1500_purchase;
    can_attach_wagon: sw_1435_attach_vehid;
    cargo_subtype_text:sw_keisei1500_lv_desc;
    additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 2)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 2)),
  string(STR_USAGE, string(STR_LIMITED)),
  string(STR_OPERATOR, string(STR_KEISEI)));
        cargo_capacity: 80*param_capacity_mod/3;
        sound_effect: sw_KS1500_start_sound;
        length: 7;
    }
  livery_override(mu_car){
      cargo_subtype_text:sw_keisei1500_lv_desc;
      loading_speed: param_loading_2D;
      cargo_capacity: 80*param_capacity_mod/3;
      default: sw_keisei1500_lv;
      power: sw_keisei1500_power_main()*4*1342/1000;
      weight: 32;
      length: 7;
      }
}
# 193 "src/_private.pnml" 2
# 1 "src/private/Kanto/keisei/keisei1600.pnml" 1

  spriteset(keisei1600_purchase_c1, "gfx/private/Kanto/keisei/keisei1600/keisei1600.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(keisei1600_purchase_c2, "gfx/private/Kanto/keisei/keisei1600/keisei1600.png"){ tmpl_purchase_2c(0, 100) }
  switch(FEAT_TRAINS, SELF, keisei1600_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_keisei; 1: keisei1600_purchase_c1; 2: keisei1600_purchase_c2;}

spriteset (keisei1600_1_front_mot, "gfx/private/Kanto/keisei/keisei1600/keisei1600.png") { tmpl_std(0, 0) }
spriteset (keisei1600_1_end_mot, "gfx/private/Kanto/keisei/keisei1600/keisei1600.png") { tmpl_std_rev(0, 25) }
spriteset (keisei1600_1_end_mot_rev, "gfx/private/Kanto/keisei/keisei1600/keisei1600.png") { tmpl_std(0, 25) }
spriteset (keisei1600_1_front, "gfx/private/Kanto/keisei/keisei1600/keisei1600.png") { tmpl_std(0, 50) }
spriteset (keisei1600_1_end, "gfx/private/Kanto/keisei/keisei1600/keisei1600.png") { tmpl_std_rev(0, 75) }
spriteset (keisei1600_1_end_rev, "gfx/private/Kanto/keisei/keisei1600/keisei1600.png") { tmpl_std(0, 75) }
spriteset (keisei1600_1_wag, "gfx/private/Kanto/keisei/keisei1600/keisei1600.png") { tmpl_std(0, 100) }
spriteset (keisei1600_1_wag_rev, "gfx/private/Kanto/keisei/keisei1600/keisei1600.png") { tmpl_std_rev(0, 100) }



    switch(FEAT_TRAINS, PARENT, sw_keisei1600_1_front_gfx_1,vehicle_is_reversed){
      1: keisei1600_1_front;
      keisei1600_1_front_mot;
    }
    switch(FEAT_TRAINS, PARENT, sw_keisei1600_1_end_gfx_1,vehicle_is_reversed){
      1: keisei1600_1_end_mot;
      keisei1600_1_end;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei1600_1_front_gfx,[num_vehs_in_consist<3||num_vehs_in_consist==4]){
      1: sw_keisei1600_1_front_gfx_1;
      keisei1600_1_front_mot;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei1600_1_end_gfx,[num_vehs_in_consist<3||num_vehs_in_consist==4]){
      1: sw_keisei1600_1_end_gfx_1;
      keisei1600_1_end_mot;
    }


      switch(FEAT_TRAINS, SELF, sw_keisei1600_1_panto_placer_1,position_in_vehid_chain %3){
        0: keisei1600_1_end;
        1: keisei1600_1_end_mot_rev;
        keisei1600_1_wag_rev;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei1600_1_panto_placer_1_rev,position_in_vehid_chain_from_end %3-1){
        0: keisei1600_1_end_rev;
        1: keisei1600_1_end_mot;
        keisei1600_1_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei1600_1_panto_placer_main_1,vehicle_is_reversed){
        1: sw_keisei1600_1_panto_placer_1_rev;
        sw_keisei1600_1_panto_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_keisei1600_1_panto_placer_2,position_in_vehid_chain %3){
        1: keisei1600_1_end_mot;
        2: keisei1600_1_end_mot_rev;
        keisei1600_1_wag_rev;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei1600_1_panto_placer_2_rev,position_in_vehid_chain_from_end %3){
        2: keisei1600_1_end_mot_rev;
        0: keisei1600_1_end_mot;
        keisei1600_1_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei1600_1_panto_placer_main_2,vehicle_is_reversed){
        1: sw_keisei1600_1_panto_placer_2_rev;
        sw_keisei1600_1_panto_placer_2;
      }
    switch(FEAT_TRAINS, SELF, sw_keisei1600_1_panto_placer_main,num_vehs_in_vehid_chain+1){
        4:sw_keisei1600_1_panto_placer_main_1;
        sw_keisei1600_1_panto_placer_main_2;
      }

    switch(FEAT_TRAINS, SELF, sw_keisei1600_1_gfx_main,position_in_vehid_chain_from_end){
      0: sw_keisei1600_1_end_gfx;
      sw_keisei1600_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei1600_lv,vehicle_type_id){
      mu_car: sw_keisei1600_1_gfx_main;
      sw_keisei1600_1_front_gfx;
    }



    switch(FEAT_TRAINS, SELF, sw_keisei1600_power_main,position_in_consist_from_end%2){
      0:return 112;
      return 0;
    }

item(FEAT_TRAINS, keisei1600) {
    property {
        cargo_capacity: 130;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        climates_available: param_disable_keisei == 0 ? ALL_CLIMATES : NO_CLIMATE;
        name: string(STR_TRAIN_NAME_LONG, string(STR_NAME_KEISEI), "1600", string(STR_NAME_TYPE), string(STR_NAME_KEISEI_KAIUN));
        introduction_date: date(1954, 1, 1);
        model_life: 14;
        vehicle_life: 20;
        reliability_decay: 10;

        cost_factor: 19;
        running_cost_factor: 49;
        speed: 100 km/h;
        track_type: TR_1435_DC;
        power: 148 kW;
        weight: 33 ton;
        loading_speed: param_loading_1D;
    }
 graphics {
    power: sw_keisei1600_power_main()*4*1342/1000;
    start_stop: sw_stop_start_2;
    default: sw_keisei1600_lv;
    purchase: keisei1600_purchase;
    can_attach_wagon: sw_1435_attach_vehid;

    additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 1)),
  string(STR_FORMATION, string(STR_NUM_CARS_2, 2,3)),
  string(STR_USAGE, string(STR_LIMITED)),
  string(STR_OPERATOR, string(STR_KEISEI)));
        cargo_capacity: 80*param_capacity_mod/3;
        sound_effect: sw_KS1600_start_sound;
    }
  livery_override(mu_car){
      cargo_subtype_text:sw_empty_desc;
      loading_speed: param_loading_1D;
      cargo_capacity: 80*param_capacity_mod/3;
      default: sw_keisei1600_lv;
      power: sw_keisei1600_power_main()*4*1342/1000;
      weight: 33;
      }
}
# 194 "src/_private.pnml" 2
# 1 "src/private/Kanto/keisei/keisei_AE1.pnml" 1

  spriteset(keisei_AE1_purchase_c1_1, "gfx/private/Kanto/keisei/keisei_AE1/keisei_AE1_1.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(keisei_AE1_purchase_c2_1, "gfx/private/Kanto/keisei/keisei_AE1/keisei_AE1_1.png"){ tmpl_purchase_2c(0, 50) }
  switch(FEAT_TRAINS, SELF, keisei_AE1_purchase_1, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_keisei; 1: keisei_AE1_purchase_c1_1; 2: keisei_AE1_purchase_c2_1;}
  spriteset(keisei_AE1_purchase_c1_2, "gfx/private/Kanto/keisei/keisei_AE1/keisei_AE1_2.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(keisei_AE1_purchase_c2_2, "gfx/private/Kanto/keisei/keisei_AE1/keisei_AE1_2.png"){ tmpl_purchase_2c(0, 50) }
  switch(FEAT_TRAINS, SELF, keisei_AE1_purchase_2, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_keisei; 1: keisei_AE1_purchase_c1_2; 2: keisei_AE1_purchase_c2_2;}

  switch(FEAT_TRAINS, SELF, keisei_AE1_purchase, current_year){
    0..1982: keisei_AE1_purchase_1;
    keisei_AE1_purchase_2;
  }

spriteset (keisei_AE1_1_front, "gfx/private/Kanto/keisei/keisei_AE1/keisei_AE1_1.png") { tmpl_std(0, 0) }
spriteset (keisei_AE1_1_end, "gfx/private/Kanto/keisei/keisei_AE1/keisei_AE1_1.png") { tmpl_std_rev(0, 25) }
spriteset (keisei_AE1_1_mot, "gfx/private/Kanto/keisei/keisei_AE1/keisei_AE1_1.png") { tmpl_std(0, 50) }
spriteset (keisei_AE1_1_mot_rev, "gfx/private/Kanto/keisei/keisei_AE1/keisei_AE1_1.png") { tmpl_std_rev(0, 50) }
spriteset (keisei_AE1_1_wag, "gfx/private/Kanto/keisei/keisei_AE1/keisei_AE1_1.png") { tmpl_std(0, 75) }
spriteset (keisei_AE1_1_wag_rev, "gfx/private/Kanto/keisei/keisei_AE1/keisei_AE1_1.png") { tmpl_std_rev(0, 75) }

spriteset (keisei_AE1_2_front, "gfx/private/Kanto/keisei/keisei_AE1/keisei_AE1_2.png") { tmpl_std(0, 0) }
spriteset (keisei_AE1_2_end, "gfx/private/Kanto/keisei/keisei_AE1/keisei_AE1_2.png") { tmpl_std_rev(0, 25) }
spriteset (keisei_AE1_2_mot, "gfx/private/Kanto/keisei/keisei_AE1/keisei_AE1_2.png") { tmpl_std(0, 50) }
spriteset (keisei_AE1_2_mot_rev, "gfx/private/Kanto/keisei/keisei_AE1/keisei_AE1_2.png") { tmpl_std_rev(0, 50) }
spriteset (keisei_AE1_2_wag, "gfx/private/Kanto/keisei/keisei_AE1/keisei_AE1_2.png") { tmpl_std(0, 75) }
spriteset (keisei_AE1_2_wag_rev, "gfx/private/Kanto/keisei/keisei_AE1/keisei_AE1_2.png") { tmpl_std_rev(0, 75) }




      switch(FEAT_TRAINS, SELF, sw_keisei_AE1_1_panto_placer_1,position_in_vehid_chain %4){
        0: keisei_AE1_1_mot;
        2: keisei_AE1_1_mot;
        keisei_AE1_1_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei_AE1_1_panto_placer_1_rev,position_in_vehid_chain_from_end %4-1){
        0: keisei_AE1_1_mot_rev;
        2: keisei_AE1_1_mot_rev;
        keisei_AE1_1_wag_rev;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei_AE1_1_panto_placer_main_1,vehicle_is_reversed){
        1: sw_keisei_AE1_1_panto_placer_1_rev;
        sw_keisei_AE1_1_panto_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_keisei_AE1_1_panto_placer_2,position_in_vehid_chain %4){
        0: keisei_AE1_1_mot;
        keisei_AE1_1_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei_AE1_1_panto_placer_2_rev,position_in_vehid_chain_from_end %4-1){
        0: keisei_AE1_1_mot_rev;
        keisei_AE1_1_wag_rev;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei_AE1_1_panto_placer_main_2,vehicle_is_reversed){
        1: sw_keisei_AE1_1_panto_placer_2_rev;
        sw_keisei_AE1_1_panto_placer_2;
      }

      switch(FEAT_TRAINS, SELF, sw_keisei_AE1_1_panto_placer_main,num_vehs_in_vehid_chain+1){
        5..6:sw_keisei_AE1_1_panto_placer_main_1;
        sw_keisei_AE1_1_panto_placer_main_2;
      }

    switch(FEAT_TRAINS, SELF, sw_keisei_AE1_1_gfx_main,position_in_vehid_chain_from_end){
        0: keisei_AE1_1_end;
        sw_keisei_AE1_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei_AE1_livery_1,vehicle_type_id){
        mu_car: sw_keisei_AE1_1_gfx_main;
        keisei_AE1_1_front;
    }



      switch(FEAT_TRAINS, SELF, sw_keisei_AE1_2_panto_placer_1,position_in_vehid_chain %4){
        0: keisei_AE1_2_mot;
        2: keisei_AE1_2_mot;
        keisei_AE1_2_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei_AE1_2_panto_placer_1_rev,position_in_vehid_chain_from_end %4-1){
        0: keisei_AE1_2_mot_rev;
        2: keisei_AE1_2_mot_rev;
        keisei_AE1_2_wag_rev;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei_AE1_2_panto_placer_main_1,vehicle_is_reversed){
        1: sw_keisei_AE1_2_panto_placer_1_rev;
        sw_keisei_AE1_2_panto_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_keisei_AE1_2_panto_placer_2,position_in_vehid_chain %4){
        0: keisei_AE1_2_mot;
        keisei_AE1_2_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei_AE1_2_panto_placer_2_rev,position_in_vehid_chain_from_end %4-1){
        0: keisei_AE1_2_mot_rev;
        keisei_AE1_2_wag_rev;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei_AE1_2_panto_placer_main_2,vehicle_is_reversed){
        1: sw_keisei_AE1_2_panto_placer_2_rev;
        sw_keisei_AE1_2_panto_placer_2;
      }

      switch(FEAT_TRAINS, SELF, sw_keisei_AE1_2_panto_placer_main,num_vehs_in_vehid_chain+1){
        5..6:sw_keisei_AE1_2_panto_placer_main_1;
        sw_keisei_AE1_2_panto_placer_main_2;
      }

    switch(FEAT_TRAINS, SELF, sw_keisei_AE1_2_gfx_main,position_in_vehid_chain_from_end){
        0: keisei_AE1_2_end;
        sw_keisei_AE1_2_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei_AE1_livery_2,vehicle_type_id){
        mu_car: sw_keisei_AE1_2_gfx_main;
        keisei_AE1_2_front;
    }

  switch(FEAT_TRAINS, PARENT, sw_keisei_AE1_livery_0,current_year){
    0..1982:sw_keisei_AE1_livery_1;
    sw_keisei_AE1_livery_2;
  }
  switch(FEAT_TRAINS, SELF, sw_keisei_AE1_lv,cargo_subtype){
    0:sw_keisei_AE1_livery_0;
    1:sw_keisei_AE1_livery_1;
    2:sw_keisei_AE1_livery_2;
  }
  switch(FEAT_TRAINS, SELF, sw_keisei_AE1_lv_desc,cargo_subtype){
    0:string(LV_RANDOM);
    1:string(LV_DEFAULT);
    2:string(LV_keisei_AE1_2);
  }



    switch(FEAT_TRAINS, SELF, sw_keisei_AE1_capacity,position_in_vehid_chain_from_end){
      0: 48;
      60;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei_AE1_capacity_1,position_in_vehid_chain){
      0: 48;
      default: sw_keisei_AE1_capacity;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei_AE1_capacity_main,vehicle_type_id){
      mu_car: sw_keisei_AE1_capacity;
      sw_keisei_AE1_capacity_1;
    }


    switch(FEAT_TRAINS, SELF, sw_keisei_AE1_power_main,position_in_vehid_chain_from_end%8){
      1..4:return 140;
      return 0;
    }


item(FEAT_TRAINS, keisei_AE1) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_KEISEI), "AE I", string(STR_NAME_TYPE));
        introduction_date: date(1972, 1, 1);
        model_life: 1993-1972-5;
        vehicle_life: 30;
        reliability_decay: 10;

        cargo_capacity: 1;
        loading_speed: param_loading_1D;
        cost_factor: 23;
        running_cost_factor: 53;

        speed: 120 km/h;
        track_type: TR_1435_DC;
        power: 620 kW;
        weight: 35 ton;

        climates_available: param_disable_keisei == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        cargo_age_period:ltd_express_cargo_age;
        power: sw_keisei_AE1_power_main()*4*1342/1000;
        cargo_subtype_text:sw_keisei_AE1_lv_desc;
        default: sw_keisei_AE1_lv;
        purchase: keisei_AE1_purchase;
        can_attach_wagon: sw_1435_attach_vehid;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 1)),
  string(STR_FORMATION, string(STR_NUM_CARS_2, 6,8)),
  string(STR_USAGE, string(STR_LIMITED)),
  string(STR_OPERATOR, string(STR_KEISEI)));

  start_stop: sw_stop_start_3;
        cargo_capacity: sw_keisei_AE1_capacity_main()*param_capacity_mod/3;
        sound_effect: sw_KSAE1_start_sound;
    }
    livery_override(mu_car){
      cargo_age_period:ltd_express_cargo_age;
        cargo_subtype_text:sw_keisei_AE1_lv_desc;
        loading_speed: param_loading_1D;
        cargo_capacity: sw_keisei_AE1_capacity_main()*param_capacity_mod/3;
        default: sw_keisei_AE1_lv;
        power: sw_keisei_AE1_power_main()*4*1342/1000;
        weight: 35;
        length: 8;
      }
}
# 195 "src/_private.pnml" 2
# 1 "src/private/Kanto/keisei/keisei_AE100.pnml" 1

  spriteset(keisei_AE100_purchase_c1, "gfx/private/Kanto/keisei/keisei_AE100/keisei_AE100.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(keisei_AE100_purchase_c2, "gfx/private/Kanto/keisei/keisei_AE100/keisei_AE100.png"){ tmpl_purchase_2c(88, 100) }
  switch(FEAT_TRAINS, SELF, keisei_AE100_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_keisei; 1: keisei_AE100_purchase_c1; 2: keisei_AE100_purchase_c2;}

spriteset (keisei_AE100_1_front_1, "gfx/private/Kanto/keisei/keisei_AE100/keisei_AE100.png") { tmpl_std(0, 0) }
spriteset (keisei_AE100_1_end_1, "gfx/private/Kanto/keisei/keisei_AE100/keisei_AE100.png") { tmpl_std_rev(0, 25) }
spriteset (keisei_AE100_1_front_2, "gfx/private/Kanto/keisei/keisei_AE100/keisei_AE100.png") { tmpl_std(0, 50) }
spriteset (keisei_AE100_1_end_2, "gfx/private/Kanto/keisei/keisei_AE100/keisei_AE100.png") { tmpl_std_rev(0, 75) }
spriteset (keisei_AE100_1_mot, "gfx/private/Kanto/keisei/keisei_AE100/keisei_AE100.png") { tmpl_std(0, 100) }
spriteset (keisei_AE100_1_mot_rev, "gfx/private/Kanto/keisei/keisei_AE100/keisei_AE100.png") { tmpl_std_rev(0, 100) }
spriteset (keisei_AE100_1_wag_1, "gfx/private/Kanto/keisei/keisei_AE100/keisei_AE100.png") { tmpl_std(0, 125) }
spriteset (keisei_AE100_1_wag_1_rev, "gfx/private/Kanto/keisei/keisei_AE100/keisei_AE100.png") { tmpl_std_rev(0, 125) }
spriteset (keisei_AE100_1_wag_2, "gfx/private/Kanto/keisei/keisei_AE100/keisei_AE100.png") { tmpl_std(0, 150) }
spriteset (keisei_AE100_1_wag_2_rev, "gfx/private/Kanto/keisei/keisei_AE100/keisei_AE100.png") { tmpl_std_rev(0, 150) }
spriteset (keisei_AE100_1_wag_3, "gfx/private/Kanto/keisei/keisei_AE100/keisei_AE100.png") { tmpl_std(0, 175) }
spriteset (keisei_AE100_1_wag_3_rev, "gfx/private/Kanto/keisei/keisei_AE100/keisei_AE100.png") { tmpl_std_rev(0, 175) }



  switch(FEAT_TRAINS, PARENT, sw_keisei_AE100_1_front,vehicle_is_reversed){
      1: keisei_AE100_1_front_2;
      keisei_AE100_1_front_1;
    }
  switch(FEAT_TRAINS, PARENT, sw_keisei_AE100_1_end,vehicle_is_reversed){
      1: keisei_AE100_1_end_1;
      keisei_AE100_1_end_2;
    }


      switch(FEAT_TRAINS, SELF, sw_keisei_AE100_1_panto_placer_1,position_in_vehid_chain %4){
        0: keisei_AE100_1_mot;
        2: keisei_AE100_1_mot;
        3: keisei_AE100_1_wag_2;
        keisei_AE100_1_wag_1;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei_AE100_1_panto_placer_1_rev,position_in_vehid_chain_from_end %4){
        0: keisei_AE100_1_wag_2_rev;
        1: keisei_AE100_1_mot_rev;
        3: keisei_AE100_1_mot_rev;
        keisei_AE100_1_wag_1_rev;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei_AE100_1_panto_placer_main_1,vehicle_is_reversed){
        1: sw_keisei_AE100_1_panto_placer_1_rev;
        sw_keisei_AE100_1_panto_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_keisei_AE100_1_panto_placer_2,position_in_vehid_chain %7){
        0: keisei_AE100_1_mot;
        2: keisei_AE100_1_wag_3;
        3: keisei_AE100_1_wag_2;
        5: keisei_AE100_1_mot;
        keisei_AE100_1_wag_1;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei_AE100_1_panto_placer_2_rev,position_in_vehid_chain_from_end %7-1){
        0: keisei_AE100_1_mot_rev;
        2: keisei_AE100_1_wag_3_rev;
        3: keisei_AE100_1_wag_2_rev;
        5: keisei_AE100_1_mot_rev;
        keisei_AE100_1_wag_1_rev;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei_AE100_1_panto_placer_main_2,vehicle_is_reversed){
        1: sw_keisei_AE100_1_panto_placer_2_rev;
        sw_keisei_AE100_1_panto_placer_2;
      }

      switch(FEAT_TRAINS, SELF, sw_keisei_AE100_1_panto_placer_main,num_vehs_in_vehid_chain+1){
        5..6:sw_keisei_AE100_1_panto_placer_main_1;
        sw_keisei_AE100_1_panto_placer_main_2;
      }

    switch(FEAT_TRAINS, SELF, sw_keisei_AE100_1_gfx_main,position_in_vehid_chain_from_end){
        0: sw_keisei_AE100_1_end;
        sw_keisei_AE100_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei_AE100_lv,vehicle_type_id){
        mu_car: sw_keisei_AE100_1_gfx_main;
        sw_keisei_AE100_1_front;
    }



    switch(FEAT_TRAINS, SELF, sw_keisei_AE100_capacity,position_in_vehid_chain_from_end){
      0: 48;
      3: 48;
      4: 46;
      60;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei_AE100_capacity_1,position_in_vehid_chain){
      0: 48;
      default: sw_keisei_AE100_capacity;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei_AE100_capacity_main,vehicle_type_id){
      mu_car: sw_keisei_AE100_capacity;
      sw_keisei_AE100_capacity_1;
    }


    switch(FEAT_TRAINS, SELF, sw_keisei_AE100_power_main,position_in_vehid_chain_from_end%8){
      0..1:return 130;
      3..4:return 130;
      6..7:return 130;
      return 0;
    }


item(FEAT_TRAINS, keisei_AE100) {
  property {
    name: string(STR_TRAIN_NAME, string(STR_NAME_KEISEI), "AE100", string(STR_NAME_TYPE));
    introduction_date: date(1990, 1, 1);
    model_life: 2016-1990-5;
    vehicle_life: 30;
    reliability_decay: 10;

    cargo_capacity: 1;
    loading_speed: param_loading_1D;
    cost_factor: 24;
    running_cost_factor: 53;

    speed: 130 km/h;
    track_type: TR_1435_DC;
    power: 620 kW;
    weight: 35 ton;

    climates_available: param_disable_keisei == 0 ? ALL_CLIMATES : NO_CLIMATE;
    ai_special_flag: AI_FLAG_PASSENGER;
    sprite_id: SPRITE_ID_NEW_TRAIN;
    misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
    refittable_cargo_classes: bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    refit_cost: 0;
    dual_headed: 0;
    ai_engine_rank: 0;

    running_cost_base: RUNNING_COST_ELECTRIC;
    engine_class: ENGINE_CLASS_ELECTRIC;
    visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

    tractive_effort_coefficient: 0.3;
    air_drag_coefficient: 0.07;
    bitmask_vehicle_info: 0;
  }
 graphics {
    cargo_age_period:ltd_express_cargo_age;
    power: sw_keisei_AE100_power_main()*4*1342/1000;

    default: sw_keisei_AE100_lv;
    purchase: keisei_AE100_purchase;
    can_attach_wagon: sw_1435_attach_vehid;
    additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 1)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 8)),
  string(STR_USAGE, string(STR_LIMITED)),
  string(STR_OPERATOR, string(STR_KEISEI)));

  start_stop: sw_stop_start_3;
    cargo_capacity: sw_keisei_AE100_capacity_main()*param_capacity_mod/3;
    sound_effect: sw_KSAE100_start_sound;
  }
  livery_override(mu_car){
    cargo_age_period:ltd_express_cargo_age;

    loading_speed: param_loading_1D;
    cargo_capacity: sw_keisei_AE100_capacity_main()*param_capacity_mod/3;
    default: sw_keisei_AE100_lv;
    power: sw_keisei_AE100_power_main()*4*1342/1000;
    weight: 35;
    length: 8;
  }
}
# 196 "src/_private.pnml" 2
# 1 "src/private/Kanto/keisei/keisei_AE2.pnml" 1

  spriteset(keisei_AE2_purchase_c1, "gfx/private/Kanto/keisei/keisei_AE2/keisei_AE2.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(keisei_AE2_purchase_c2, "gfx/private/Kanto/keisei/keisei_AE2/keisei_AE2.png"){ tmpl_purchase_2c(88, 125) }
  switch(FEAT_TRAINS, SELF, keisei_AE2_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_keisei; 1: keisei_AE2_purchase_c1; 2: keisei_AE2_purchase_c2;}

spriteset (keisei_AE2_1_front_1, "gfx/private/Kanto/keisei/keisei_AE2/keisei_AE2.png") { tmpl_std(0, 0) }
spriteset (keisei_AE2_1_end_1, "gfx/private/Kanto/keisei/keisei_AE2/keisei_AE2.png") { tmpl_std_rev(0, 25) }
spriteset (keisei_AE2_1_front_2, "gfx/private/Kanto/keisei/keisei_AE2/keisei_AE2.png") { tmpl_std(0, 50) }
spriteset (keisei_AE2_1_end_2, "gfx/private/Kanto/keisei/keisei_AE2/keisei_AE2.png") { tmpl_std_rev(0, 75) }
spriteset (keisei_AE2_1_mot, "gfx/private/Kanto/keisei/keisei_AE2/keisei_AE2.png") { tmpl_std(0, 100) }
spriteset (keisei_AE2_1_mot_rev, "gfx/private/Kanto/keisei/keisei_AE2/keisei_AE2.png") { tmpl_std_rev(0, 100) }
spriteset (keisei_AE2_1_wag_1, "gfx/private/Kanto/keisei/keisei_AE2/keisei_AE2.png") { tmpl_std(0, 125) }
spriteset (keisei_AE2_1_wag_1_rev, "gfx/private/Kanto/keisei/keisei_AE2/keisei_AE2.png") { tmpl_std_rev(0, 125) }
spriteset (keisei_AE2_1_wag_2, "gfx/private/Kanto/keisei/keisei_AE2/keisei_AE2.png") { tmpl_std(0, 150) }
spriteset (keisei_AE2_1_wag_2_rev, "gfx/private/Kanto/keisei/keisei_AE2/keisei_AE2.png") { tmpl_std_rev(0, 150) }



  switch(FEAT_TRAINS, PARENT, sw_keisei_AE2_1_front,vehicle_is_reversed){
      1: keisei_AE2_1_front_2;
      keisei_AE2_1_front_1;
    }
  switch(FEAT_TRAINS, PARENT, sw_keisei_AE2_1_end,vehicle_is_reversed){
      1: keisei_AE2_1_end_1;
      keisei_AE2_1_end_2;
    }


      switch(FEAT_TRAINS, SELF, sw_keisei_AE2_1_panto_placer_1,position_in_vehid_chain %3){
        1: keisei_AE2_1_mot;
        2: keisei_AE2_1_mot;
        keisei_AE2_1_wag_1;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei_AE2_1_panto_placer_1_rev,position_in_vehid_chain_from_end %3){
        0: keisei_AE2_1_mot_rev;
        1: keisei_AE2_1_mot_rev;
        keisei_AE2_1_wag_1_rev;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei_AE2_1_panto_placer_main_1,vehicle_is_reversed){
        1: sw_keisei_AE2_1_panto_placer_1_rev;
        sw_keisei_AE2_1_panto_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_keisei_AE2_1_panto_placer_2,position_in_vehid_chain %7){
        1: keisei_AE2_1_mot;
        2: keisei_AE2_1_wag_2;
        3: keisei_AE2_1_mot;
        keisei_AE2_1_wag_1;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei_AE2_1_panto_placer_2_rev,position_in_vehid_chain_from_end %7-1){
        1: keisei_AE2_1_mot_rev;
        2: keisei_AE2_1_wag_2_rev;
        3: keisei_AE2_1_mot_rev;
        keisei_AE2_1_wag_1_rev;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei_AE2_1_panto_placer_main_2,vehicle_is_reversed){
        1: sw_keisei_AE2_1_panto_placer_2_rev;
        sw_keisei_AE2_1_panto_placer_2;
      }

      switch(FEAT_TRAINS, SELF, sw_keisei_AE2_1_panto_placer_main,num_vehs_in_vehid_chain+1){
        5..6:sw_keisei_AE2_1_panto_placer_main_1;
        sw_keisei_AE2_1_panto_placer_main_2;
      }

    switch(FEAT_TRAINS, SELF, sw_keisei_AE2_1_gfx_main,position_in_vehid_chain_from_end){
        0: sw_keisei_AE2_1_end;
        sw_keisei_AE2_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei_AE2_lv,vehicle_type_id){
        mu_car: sw_keisei_AE2_1_gfx_main;
        sw_keisei_AE2_1_front;
    }



    switch(FEAT_TRAINS, SELF, sw_keisei_AE2_capacity,position_in_vehid_chain_from_end){
      0: 40;
      3: 42;
      4: 52;
      56;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei_AE2_capacity_1,position_in_vehid_chain){
      0: 40;
      default: sw_keisei_AE2_capacity;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei_AE2_capacity_main,vehicle_type_id){
      mu_car: sw_keisei_AE2_capacity;
      sw_keisei_AE2_capacity_1;
    }


    switch(FEAT_TRAINS, SELF, sw_keisei_AE2_power_main,position_in_vehid_chain_from_end%10){
      0..1:return 175;
      4..7:return 175;
      return 0;
    }


item(FEAT_TRAINS, keisei_AE2) {
  property {
    name: string(STR_TRAIN_NAME, string(STR_NAME_KEISEI), "AE II", string(STR_NAME_TYPE));
    introduction_date: date(2009, 1, 1);
    model_life: VEHICLE_NEVER_EXPIRES;
    vehicle_life: 30;
    reliability_decay: 10;

    cargo_capacity: 1;
    loading_speed: param_loading_1D;
    cost_factor: 25;
    running_cost_factor: 55;

    speed: 170 km/h;
    track_type: TR_1435_DC;
    power: 620 kW;
    weight: 41 ton;

    climates_available: param_disable_keisei == 0 ? ALL_CLIMATES : NO_CLIMATE;
    ai_special_flag: AI_FLAG_PASSENGER;
    sprite_id: SPRITE_ID_NEW_TRAIN;
    misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
    refittable_cargo_classes: bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    refit_cost: 0;
    dual_headed: 0;
    ai_engine_rank: 0;

    running_cost_base: RUNNING_COST_ELECTRIC;
    engine_class: ENGINE_CLASS_ELECTRIC;
    visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

    tractive_effort_coefficient: 0.3;
    air_drag_coefficient: 0.07;
    bitmask_vehicle_info: 0;
  }
 graphics {
    cargo_age_period:ltd_express_cargo_age;
    power: sw_keisei_AE2_power_main()*4*1342/1000;

    default: sw_keisei_AE2_lv;
    purchase: keisei_AE2_purchase;
    can_attach_wagon: sw_1435_attach_vehid;
    additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 1)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 8)),
  string(STR_USAGE, string(STR_LIMITED)),
  string(STR_OPERATOR, string(STR_KEISEI)));

  start_stop: sw_stop_start_2;
    cargo_capacity: sw_keisei_AE2_capacity_main()*param_capacity_mod/3;
    sound_effect: sw_KSAE2_start_sound;
  }
  livery_override(mu_car){
    cargo_age_period:ltd_express_cargo_age;

    loading_speed: param_loading_1D;
    cargo_capacity: sw_keisei_AE2_capacity_main()*param_capacity_mod/3;
    default: sw_keisei_AE2_lv;
    power: sw_keisei_AE2_power_main()*4*1342/1000;
    weight: 37;
    length: 8;
  }
}
# 197 "src/_private.pnml" 2

# 1 "src/private/Kanto/keisei/keisei1.pnml" 1

  spriteset(keisei1_purchase_c1, "gfx/private/Kanto/keisei/keisei1/keisei1.png"){ tmpl_purchase_1c(-88, 0) }
  switch(FEAT_TRAINS, SELF, keisei1_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_keisei; 1: keisei1_purchase_c1;}

spriteset (keisei1_front, "gfx/private/Kanto/keisei/keisei1/keisei1.png") { tmpl_std_rev(0, 0) }
spriteset (keisei1_front_rev, "gfx/private/Kanto/keisei/keisei1/keisei1.png") { tmpl_std(0, 0) }
spriteset (keisei1_wag, "gfx/private/Kanto/keisei/keisei1/keisei1.png") { tmpl_symm(0, 25) }


 switch(FEAT_TRAINS, PARENT, sw_keisei1_front_gfx,vehicle_is_reversed==1&&num_vehs_in_consist>1){
  1: keisei1_wag;
  keisei1_front;
 }
 switch(FEAT_TRAINS, PARENT, sw_keisei1_end_gfx,vehicle_is_reversed){
  1: keisei1_front;
  keisei1_wag;
 }

 switch(FEAT_TRAINS, SELF, sw_keisei1_panto_placer_1,position_in_vehid_chain %2){
        1: keisei1_front;
        keisei1_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei1_panto_placer_1_rev,position_in_vehid_chain_from_end %2-1){
        0: keisei1_front_rev;
        keisei1_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei1_panto_placer_main,vehicle_is_reversed){
        1: sw_keisei1_panto_placer_1_rev;
        sw_keisei1_panto_placer_1;
      }

 switch(FEAT_TRAINS, SELF, sw_keisei1_gfx_main,position_in_vehid_chain_from_end){
  0: sw_keisei1_end_gfx;
  sw_keisei1_panto_placer_main;
 }
 switch(FEAT_TRAINS, SELF, sw_keisei1_lv,vehicle_type_id){
  mu_car: sw_keisei1_gfx_main;
  sw_keisei1_front_gfx;
 }

item(FEAT_TRAINS, keisei1) {
    property {
        cargo_capacity: 130;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        climates_available: param_disable_keisei == 0 ? ALL_CLIMATES : NO_CLIMATE;
        name: string(STR_TRAIN_NAME, string(STR_NAME_KEISEI), "1", string(STR_NAME_TYPE));
        introduction_date: date(1912, 1, 1);
        model_life: 29;
        vehicle_life: 20;
        reliability_decay: 10;

        cost_factor: 12;
        running_cost_factor: 42;
        speed: 70 km/h;
        track_type: TR_1435_DC;
        power: 100 kW;
        weight: 31 ton;
        loading_speed: param_loading_2D;
    }
 graphics {
        default: sw_keisei1_lv;
        purchase: keisei1_purchase;
        can_attach_wagon: sw_1435_attach_vehid;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 2)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 1)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_KEISEI)));
        cargo_capacity: 80*param_capacity_mod/3;
        length: 7;
        sound_effect: sw_KS1_start_sound;
    }
  livery_override(mu_car){
        loading_speed: param_loading_2D;
        cargo_capacity: 80*param_capacity_mod/3;
        default: sw_keisei1_lv;
        power: 100*1342/1000;
        weight: 31;
        length: 7;
      }
}
# 199 "src/_private.pnml" 2
# 1 "src/private/Kanto/keisei/keisei20.pnml" 1

  spriteset(keisei20_purchase_c1_1, "gfx/private/Kanto/keisei/keisei20/keisei20_1.png"){ tmpl_purchase_1c(0, 0) }
  switch(FEAT_TRAINS, SELF, keisei20_purchase_1, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_keisei; 1: keisei20_purchase_c1_1;}
  spriteset(keisei20_purchase_c1_2, "gfx/private/Kanto/keisei/keisei20/keisei20_2.png"){ tmpl_purchase_1c(0, 0) }
  switch(FEAT_TRAINS, SELF, keisei20_purchase_2, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_keisei; 1: keisei20_purchase_c1_2;}
  spriteset(keisei20_purchase_c1_3, "gfx/private/Kanto/keisei/keisei20/keisei20_3.png"){ tmpl_purchase_1c(0, 0) }
  switch(FEAT_TRAINS, SELF, keisei20_purchase_3, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_keisei; 1: keisei20_purchase_c1_3;}
  spriteset(keisei20_purchase_c1_4, "gfx/private/Kanto/keisei/keisei20/keisei20_4.png"){ tmpl_purchase_1c(0, 0) }
  switch(FEAT_TRAINS, SELF, keisei20_purchase_4, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_keisei; 1: keisei20_purchase_c1_4;}

  switch(FEAT_TRAINS, SELF, keisei20_purchase,current_year){
    0..1924:keisei20_purchase_1;
    1925..1940:keisei20_purchase_2;
    1941..1949:keisei20_purchase_3;
    keisei20_purchase_4;
  }

spriteset (sw_keisei20_livery_1, "gfx/private/Kanto/keisei/keisei20/keisei20_1.png") { tmpl_std(0, 0) }

spriteset (keisei20_2_front_rev, "gfx/private/Kanto/keisei/keisei20/keisei20_2.png") { tmpl_std_rev(0, 0) }
spriteset (keisei20_2_front, "gfx/private/Kanto/keisei/keisei20/keisei20_2.png") { tmpl_std(0, 25) }
spriteset (keisei20_2_end, "gfx/private/Kanto/keisei/keisei20/keisei20_2.png") { tmpl_std_rev(0, 50) }
spriteset (keisei20_2_end_rev, "gfx/private/Kanto/keisei/keisei20/keisei20_2.png") { tmpl_std(0, 50) }

spriteset (keisei20_3_front_rev, "gfx/private/Kanto/keisei/keisei20/keisei20_3.png") { tmpl_std_rev(0, 0) }
spriteset (keisei20_3_front, "gfx/private/Kanto/keisei/keisei20/keisei20_3.png") { tmpl_std(0, 25) }
spriteset (keisei20_3_end, "gfx/private/Kanto/keisei/keisei20/keisei20_3.png") { tmpl_std_rev(0, 50) }
spriteset (keisei20_3_end_rev, "gfx/private/Kanto/keisei/keisei20/keisei20_3.png") { tmpl_std(0, 50) }

spriteset (keisei20_4_front_rev, "gfx/private/Kanto/keisei/keisei20/keisei20_4.png") { tmpl_std_rev(0, 0) }
spriteset (keisei20_4_front, "gfx/private/Kanto/keisei/keisei20/keisei20_4.png") { tmpl_std(0, 25) }
spriteset (keisei20_4_end, "gfx/private/Kanto/keisei/keisei20/keisei20_4.png") { tmpl_std_rev(0, 50) }
spriteset (keisei20_4_end_rev, "gfx/private/Kanto/keisei/keisei20/keisei20_4.png") { tmpl_std(0, 50) }



    switch(FEAT_TRAINS, PARENT, sw_keisei20_2_front_gfx_1,vehicle_is_reversed){
      1: keisei20_2_front_rev;
      keisei20_2_front;
    }
    switch(FEAT_TRAINS, PARENT, sw_keisei20_2_front_gfx,vehicle_is_reversed==1&&num_vehs_in_consist>1){
      1: keisei20_2_front;
      sw_keisei20_2_front_gfx_1;
    }

   switch(FEAT_TRAINS, SELF, sw_keisei20_2_panto_placer_1,position_in_vehid_chain %2){
      0: keisei20_2_end;
      keisei20_2_end_rev;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei20_2_panto_placer_1_rev,position_in_vehid_chain_from_end %2){
      0: keisei20_2_end;
      keisei20_2_end_rev;
    }
    switch(FEAT_TRAINS, PARENT, sw_keisei20_2_panto_placer_main,vehicle_is_reversed){
      1: sw_keisei20_2_panto_placer_1_rev;
      sw_keisei20_2_panto_placer_1;
    }

    switch(FEAT_TRAINS, SELF, sw_keisei20_2_gfx_main,position_in_vehid_chain_from_end){
      0: keisei20_2_end;
      sw_keisei20_2_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei20_livery_2,vehicle_type_id){
      mu_car: sw_keisei20_2_gfx_main;
      sw_keisei20_2_front_gfx;
    }



    switch(FEAT_TRAINS, PARENT, sw_keisei20_3_front_gfx_1,vehicle_is_reversed){
      1: keisei20_3_front_rev;
      keisei20_3_front;
    }
    switch(FEAT_TRAINS, PARENT, sw_keisei20_3_front_gfx,vehicle_is_reversed==1&&num_vehs_in_consist>1){
      1: keisei20_3_front;
      sw_keisei20_3_front_gfx_1;
    }

   switch(FEAT_TRAINS, SELF, sw_keisei20_3_panto_placer_1,position_in_vehid_chain %2){
      0: keisei20_3_end;
      keisei20_3_end_rev;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei20_3_panto_placer_1_rev,position_in_vehid_chain_from_end %2){
      0: keisei20_3_end;
      keisei20_3_end_rev;
    }
    switch(FEAT_TRAINS, PARENT, sw_keisei20_3_panto_placer_main,vehicle_is_reversed){
      1: sw_keisei20_3_panto_placer_1_rev;
      sw_keisei20_3_panto_placer_1;
    }

    switch(FEAT_TRAINS, SELF, sw_keisei20_3_gfx_main,position_in_vehid_chain_from_end){
      0: keisei20_3_end;
      sw_keisei20_3_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei20_livery_3,vehicle_type_id){
      mu_car: sw_keisei20_3_gfx_main;
      sw_keisei20_3_front_gfx;
    }



    switch(FEAT_TRAINS, PARENT, sw_keisei20_4_front_gfx_1,vehicle_is_reversed){
      1: keisei20_4_front_rev;
      keisei20_4_front;
    }
    switch(FEAT_TRAINS, PARENT, sw_keisei20_4_front_gfx,vehicle_is_reversed==1&&num_vehs_in_consist>1){
      1: keisei20_4_front;
      sw_keisei20_4_front_gfx_1;
    }

   switch(FEAT_TRAINS, SELF, sw_keisei20_4_panto_placer_1,position_in_vehid_chain %2){
      0: keisei20_4_end;
      keisei20_4_end_rev;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei20_4_panto_placer_1_rev,position_in_vehid_chain_from_end %2){
      0: keisei20_4_end;
      keisei20_4_end_rev;
    }
    switch(FEAT_TRAINS, PARENT, sw_keisei20_4_panto_placer_main,vehicle_is_reversed){
      1: sw_keisei20_4_panto_placer_1_rev;
      sw_keisei20_4_panto_placer_1;
    }

    switch(FEAT_TRAINS, SELF, sw_keisei20_4_gfx_main,position_in_vehid_chain_from_end){
      0: keisei20_4_end;
      sw_keisei20_4_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei20_livery_4,vehicle_type_id){
      mu_car: sw_keisei20_4_gfx_main;
      sw_keisei20_4_front_gfx;
    }


  switch(FEAT_TRAINS, PARENT, sw_keisei20_livery_0_1,current_year){
    0..1924:sw_keisei20_livery_1;
    1925..1940:sw_keisei20_livery_2;
    1941..1949:sw_keisei20_livery_3;
    sw_keisei20_livery_4;
  }
  switch(FEAT_TRAINS, PARENT, sw_keisei20_livery_0,build_year){
    0..1924:sw_keisei20_livery_1;
    sw_keisei20_livery_0_1;
  }
  switch(FEAT_TRAINS, SELF, sw_keisei20_lv,cargo_subtype){
    0:sw_keisei20_livery_0;
    1:sw_keisei20_livery_1;
    2:sw_keisei20_livery_2;
    3:sw_keisei20_livery_3;
    4:sw_keisei20_livery_4;
  }
  switch(FEAT_TRAINS, SELF, sw_keisei20_lv_desc,cargo_subtype){
    0:string(LV_RANDOM);
    1:string(LV_DEFAULT);
    2:string(LV_KEISEI_GREEN);
    3:string(LV_KEISEI_WAR);
    4:string(LV_KEISEI_AODEN);
  }


item(FEAT_TRAINS, keisei20) {
    property {
        cargo_capacity: 130;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        climates_available: param_disable_keisei == 0 ? ALL_CLIMATES : NO_CLIMATE;
        name: string(STR_TRAIN_NAME, string(STR_NAME_KEISEI), "20/100", string(STR_NAME_TYPE));
        introduction_date: date(1921, 1, 1);
        model_life: 41;
        vehicle_life: 22;
        reliability_decay: 10;

        cost_factor: 13;
        running_cost_factor: 42;
        speed: 70 km/h;
        track_type: TR_1435_DC;
        power: 120 kW;
        weight: 29 ton;
        loading_speed: param_loading_3D;
    }
 graphics {
    default: sw_keisei20_lv;
    purchase: keisei20_purchase;
    can_attach_wagon: sw_1435_attach_vehid;
    cargo_subtype_text:sw_keisei20_lv_desc;
    additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 1)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_KEISEI)));
        cargo_capacity: 100*param_capacity_mod/3;
        sound_effect: sw_KS20_start_sound;
    }
  livery_override(mu_car){
      cargo_subtype_text:sw_keisei20_lv_desc;
      loading_speed: param_loading_3D;
      cargo_capacity: 100*param_capacity_mod/3;
      default: sw_keisei20_lv;
      power: 120*1342/1000;
      weight: 29;
      }
}
# 200 "src/_private.pnml" 2
# 1 "src/private/Kanto/keisei/keisei33.pnml" 1

  spriteset(keisei33_purchase_c1_1, "gfx/private/Kanto/keisei/keisei33/keisei33_1.png"){ tmpl_purchase_1c(-88, 0) }
  switch(FEAT_TRAINS, SELF, keisei33_purchase_1, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_keisei; 1: keisei33_purchase_c1_1;}
  spriteset(keisei33_purchase_c1_2, "gfx/private/Kanto/keisei/keisei33/keisei33_2.png"){ tmpl_purchase_1c(-88, 0) }
  switch(FEAT_TRAINS, SELF, keisei33_purchase_2, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_keisei; 1: keisei33_purchase_c1_2;}
  spriteset(keisei33_purchase_c1_3, "gfx/private/Kanto/keisei/keisei33/keisei33_3.png"){ tmpl_purchase_1c(-88, 0) }
  switch(FEAT_TRAINS, SELF, keisei33_purchase_3, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_keisei; 1: keisei33_purchase_c1_3;}

  switch(FEAT_TRAINS, SELF, keisei33_purchase,current_year){
    0..1924:keisei33_purchase_1;
    1925..1942:keisei33_purchase_2;
    keisei33_purchase_3;
  }

spriteset (sw_keisei33_livery_1, "gfx/private/Kanto/keisei/keisei33/keisei33_1.png") { tmpl_std_rev(0, 0) }

spriteset (keisei33_2_front, "gfx/private/Kanto/keisei/keisei33/keisei33_2.png") { tmpl_std_rev(0, 0) }
spriteset (keisei33_2_front_rev, "gfx/private/Kanto/keisei/keisei33/keisei33_2.png") { tmpl_std(0, 25) }
spriteset (keisei33_2_end, "gfx/private/Kanto/keisei/keisei33/keisei33_2.png") { tmpl_std(0, 50) }
spriteset (keisei33_2_end_rev, "gfx/private/Kanto/keisei/keisei33/keisei33_2.png") { tmpl_std_rev(0, 50) }

spriteset (keisei33_3_front, "gfx/private/Kanto/keisei/keisei33/keisei33_3.png") { tmpl_std_rev(0, 0) }
spriteset (keisei33_3_front_rev, "gfx/private/Kanto/keisei/keisei33/keisei33_3.png") { tmpl_std(0, 25) }
spriteset (keisei33_3_end, "gfx/private/Kanto/keisei/keisei33/keisei33_3.png") { tmpl_std(0, 50) }
spriteset (keisei33_3_end_rev, "gfx/private/Kanto/keisei/keisei33/keisei33_3.png") { tmpl_std_rev(0, 50) }



    switch(FEAT_TRAINS, PARENT, sw_keisei33_2_front_gfx_1,vehicle_is_reversed){
      1: keisei33_2_front_rev;
      keisei33_2_front;
    }
    switch(FEAT_TRAINS, PARENT, sw_keisei33_2_front_gfx,vehicle_is_reversed==1&&num_vehs_in_consist>1){
      1: keisei33_2_front;
      sw_keisei33_2_front_gfx_1;
    }

   switch(FEAT_TRAINS, SELF, sw_keisei33_2_panto_placer_1,position_in_vehid_chain %2){
      0: keisei33_2_end;
      keisei33_2_end_rev;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei33_2_panto_placer_1_rev,position_in_vehid_chain_from_end %2){
      0: keisei33_2_end;
      keisei33_2_end_rev;
    }
    switch(FEAT_TRAINS, PARENT, sw_keisei33_2_panto_placer_main,vehicle_is_reversed){
      1: sw_keisei33_2_panto_placer_1_rev;
      sw_keisei33_2_panto_placer_1;
    }

    switch(FEAT_TRAINS, SELF, sw_keisei33_2_gfx_main,position_in_vehid_chain_from_end){
      0: keisei33_2_end;
      sw_keisei33_2_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei33_livery_2,vehicle_type_id){
      mu_car: sw_keisei33_2_gfx_main;
      sw_keisei33_2_front_gfx;
    }



    switch(FEAT_TRAINS, PARENT, sw_keisei33_3_front_gfx_1,vehicle_is_reversed){
      1: keisei33_3_front_rev;
      keisei33_3_front;
    }
    switch(FEAT_TRAINS, PARENT, sw_keisei33_3_front_gfx,vehicle_is_reversed==1&&num_vehs_in_consist>1){
      1: keisei33_3_front;
      sw_keisei33_3_front_gfx_1;
    }

   switch(FEAT_TRAINS, SELF, sw_keisei33_3_panto_placer_1,position_in_vehid_chain %2){
      0: keisei33_3_end;
      keisei33_3_end_rev;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei33_3_panto_placer_1_rev,position_in_vehid_chain_from_end %2){
      0: keisei33_3_end;
      keisei33_3_end_rev;
    }
    switch(FEAT_TRAINS, PARENT, sw_keisei33_3_panto_placer_main,vehicle_is_reversed){
      1: sw_keisei33_3_panto_placer_1_rev;
      sw_keisei33_3_panto_placer_1;
    }

    switch(FEAT_TRAINS, SELF, sw_keisei33_3_gfx_main,position_in_vehid_chain_from_end){
      0: keisei33_3_end;
      sw_keisei33_3_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei33_livery_3,vehicle_type_id){
      mu_car: sw_keisei33_3_gfx_main;
      sw_keisei33_3_front_gfx;
    }


  switch(FEAT_TRAINS, PARENT, sw_keisei33_livery_0_1,current_year){
    0..1924:sw_keisei33_livery_1;
    1925..1940:sw_keisei33_livery_2;
    sw_keisei33_livery_3;
  }
  switch(FEAT_TRAINS, PARENT, sw_keisei33_livery_0,build_year){
    0..1924:sw_keisei33_livery_1;
    sw_keisei33_livery_0_1;
  }
  switch(FEAT_TRAINS, SELF, sw_keisei33_lv,cargo_subtype){
    0:sw_keisei33_livery_0;
    1:sw_keisei33_livery_1;
    2:sw_keisei33_livery_2;
    3:sw_keisei33_livery_3;
  }
  switch(FEAT_TRAINS, SELF, sw_keisei33_lv_desc,cargo_subtype){
    0:string(LV_RANDOM);
    1:string(LV_DEFAULT);
    2:string(LV_KEISEI_GREEN);
    3:string(LV_KEISEI_WAR);
  }


item(FEAT_TRAINS, keisei33) {
    property {
        cargo_capacity: 130;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        climates_available: param_disable_keisei == 0 ? ALL_CLIMATES : NO_CLIMATE;
        name: string(STR_TRAIN_NAME, string(STR_NAME_KEISEI), "33/39/45", string(STR_NAME_TYPE));
        introduction_date: date(1922, 1, 1);
        model_life: 30;
        vehicle_life: 14;
        reliability_decay: 10;

        cost_factor: 14;
        running_cost_factor: 44;
        speed: 80 km/h;
        track_type: TR_1435_DC;
        power: 195 kW;
        weight: 37 ton;
        loading_speed: param_loading_3D;
    }
 graphics {
    default: sw_keisei33_lv;
    purchase: keisei33_purchase;
    can_attach_wagon: sw_1435_attach_vehid;
    cargo_subtype_text:sw_keisei33_lv_desc;
    additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 1)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_KEISEI)));
        cargo_capacity: 90*param_capacity_mod/3;
        sound_effect: sw_KS33_start_sound;
        length: 7;
    }
  livery_override(mu_car){
      cargo_subtype_text:sw_keisei33_lv_desc;
      loading_speed: param_loading_3D;
      cargo_capacity: 90*param_capacity_mod/3;
      default: sw_keisei33_lv;
      power: 195*1342/1000;
      weight: 34;
      length: 7;
      }
}
# 201 "src/_private.pnml" 2
# 1 "src/private/Kanto/keisei/keisei200.pnml" 1

  spriteset(keisei200_purchase_c1_1, "gfx/private/Kanto/keisei/keisei200/keisei200_1.png"){ tmpl_purchase_1c(-88, 0) }
  switch(FEAT_TRAINS, SELF, keisei200_purchase_1, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_keisei; 1: keisei200_purchase_c1_1;}
  spriteset(keisei200_purchase_c1_2, "gfx/private/Kanto/keisei/keisei200/keisei200_2.png"){ tmpl_purchase_1c(-88, 0) }
  switch(FEAT_TRAINS, SELF, keisei200_purchase_2, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_keisei; 1: keisei200_purchase_c1_2;}
  spriteset(keisei200_purchase_c1_3, "gfx/private/Kanto/keisei/keisei200/keisei200_3.png"){ tmpl_purchase_1c(-88, 0) }
  switch(FEAT_TRAINS, SELF, keisei200_purchase_3, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_keisei; 1: keisei200_purchase_c1_3;}
  spriteset(keisei200_purchase_c1_4, "gfx/private/Kanto/keisei/keisei200/keisei200_4.png"){ tmpl_purchase_1c(-88, 0) }
  switch(FEAT_TRAINS, SELF, keisei200_purchase_4, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_keisei; 1: keisei200_purchase_c1_4;}

  switch(FEAT_TRAINS, SELF, keisei200_purchase,current_year){
    0..1940:keisei200_purchase_1;
    1941..1945:keisei200_purchase_2;
    1946..1949:keisei200_purchase_3;
    keisei200_purchase_4;
  }

spriteset (keisei200_1_front, "gfx/private/Kanto/keisei/keisei200/keisei200_1.png") { tmpl_std_rev(0, 0) }
spriteset (keisei200_1_front_rev, "gfx/private/Kanto/keisei/keisei200/keisei200_1.png") { tmpl_std(0, 25) }
spriteset (keisei200_1_end_rev, "gfx/private/Kanto/keisei/keisei200/keisei200_1.png") { tmpl_std_rev(0, 50) }
spriteset (keisei200_1_end, "gfx/private/Kanto/keisei/keisei200/keisei200_1.png") { tmpl_std(0, 50) }

spriteset (keisei200_2_front, "gfx/private/Kanto/keisei/keisei200/keisei200_2.png") { tmpl_std_rev(0, 0) }
spriteset (keisei200_2_front_rev, "gfx/private/Kanto/keisei/keisei200/keisei200_2.png") { tmpl_std(0, 25) }
spriteset (keisei200_2_end_rev, "gfx/private/Kanto/keisei/keisei200/keisei200_2.png") { tmpl_std_rev(0, 50) }
spriteset (keisei200_2_end, "gfx/private/Kanto/keisei/keisei200/keisei200_2.png") { tmpl_std(0, 50) }

spriteset (keisei200_3_front, "gfx/private/Kanto/keisei/keisei200/keisei200_3.png") { tmpl_std_rev(0, 0) }
spriteset (keisei200_3_front_rev, "gfx/private/Kanto/keisei/keisei200/keisei200_3.png") { tmpl_std(0, 25) }
spriteset (keisei200_3_end_rev, "gfx/private/Kanto/keisei/keisei200/keisei200_3.png") { tmpl_std_rev(0, 50) }
spriteset (keisei200_3_end, "gfx/private/Kanto/keisei/keisei200/keisei200_3.png") { tmpl_std(0, 50) }

spriteset (keisei200_4_front, "gfx/private/Kanto/keisei/keisei200/keisei200_4.png") { tmpl_std_rev(0, 0) }
spriteset (keisei200_4_front_rev, "gfx/private/Kanto/keisei/keisei200/keisei200_4.png") { tmpl_std(0, 25) }
spriteset (keisei200_4_end_rev, "gfx/private/Kanto/keisei/keisei200/keisei200_4.png") { tmpl_std_rev(0, 50) }
spriteset (keisei200_4_end, "gfx/private/Kanto/keisei/keisei200/keisei200_4.png") { tmpl_std(0, 50) }



    switch(FEAT_TRAINS, PARENT, sw_keisei200_1_front_gfx_1,vehicle_is_reversed){
      1: keisei200_1_front_rev;
      keisei200_1_front;
    }
    switch(FEAT_TRAINS, PARENT, sw_keisei200_1_front_gfx,vehicle_is_reversed==1&&num_vehs_in_consist>1){
      1: keisei200_1_front;
      sw_keisei200_1_front_gfx_1;
    }

   switch(FEAT_TRAINS, SELF, sw_keisei200_1_panto_placer_1,position_in_vehid_chain %2){
      0: keisei200_1_end;
      keisei200_1_end_rev;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei200_1_panto_placer_1_rev,position_in_vehid_chain_from_end %2){
      0: keisei200_1_end;
      keisei200_1_end_rev;
    }
    switch(FEAT_TRAINS, PARENT, sw_keisei200_1_panto_placer_main,vehicle_is_reversed){
      1: sw_keisei200_1_panto_placer_1_rev;
      sw_keisei200_1_panto_placer_1;
    }

    switch(FEAT_TRAINS, SELF, sw_keisei200_1_gfx_main,position_in_vehid_chain_from_end){
      0: keisei200_1_end;
      sw_keisei200_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei200_livery_1,vehicle_type_id){
      mu_car: sw_keisei200_1_gfx_main;
      sw_keisei200_1_front_gfx;
    }



    switch(FEAT_TRAINS, PARENT, sw_keisei200_2_front_gfx_1,vehicle_is_reversed){
      1: keisei200_2_front_rev;
      keisei200_2_front;
    }
    switch(FEAT_TRAINS, PARENT, sw_keisei200_2_front_gfx,vehicle_is_reversed==1&&num_vehs_in_consist>1){
      1: keisei200_2_front;
      sw_keisei200_2_front_gfx_1;
    }

   switch(FEAT_TRAINS, SELF, sw_keisei200_2_panto_placer_1,position_in_vehid_chain %2){
      0: keisei200_2_end;
      keisei200_2_end_rev;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei200_2_panto_placer_1_rev,position_in_vehid_chain_from_end %2){
      0: keisei200_2_end;
      keisei200_2_end_rev;
    }
    switch(FEAT_TRAINS, PARENT, sw_keisei200_2_panto_placer_main,vehicle_is_reversed){
      1: sw_keisei200_2_panto_placer_1_rev;
      sw_keisei200_2_panto_placer_1;
    }

    switch(FEAT_TRAINS, SELF, sw_keisei200_2_gfx_main,position_in_vehid_chain_from_end){
      0: keisei200_2_end;
      sw_keisei200_2_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei200_livery_2,vehicle_type_id){
      mu_car: sw_keisei200_2_gfx_main;
      sw_keisei200_2_front_gfx;
    }



    switch(FEAT_TRAINS, PARENT, sw_keisei200_3_front_gfx_1,vehicle_is_reversed){
      1: keisei200_3_front_rev;
      keisei200_3_front;
    }
    switch(FEAT_TRAINS, PARENT, sw_keisei200_3_front_gfx,vehicle_is_reversed==1&&num_vehs_in_consist>1){
      1: keisei200_3_front;
      sw_keisei200_3_front_gfx_1;
    }

   switch(FEAT_TRAINS, SELF, sw_keisei200_3_panto_placer_1,position_in_vehid_chain %2){
      0: keisei200_3_end;
      keisei200_3_end_rev;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei200_3_panto_placer_1_rev,position_in_vehid_chain_from_end %2){
      0: keisei200_3_end;
      keisei200_3_end_rev;
    }
    switch(FEAT_TRAINS, PARENT, sw_keisei200_3_panto_placer_main,vehicle_is_reversed){
      1: sw_keisei200_3_panto_placer_1_rev;
      sw_keisei200_3_panto_placer_1;
    }

    switch(FEAT_TRAINS, SELF, sw_keisei200_3_gfx_main,position_in_vehid_chain_from_end){
      0: keisei200_3_end;
      sw_keisei200_3_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei200_livery_3,vehicle_type_id){
      mu_car: sw_keisei200_3_gfx_main;
      sw_keisei200_3_front_gfx;
    }



    switch(FEAT_TRAINS, PARENT, sw_keisei200_4_front_gfx_1,vehicle_is_reversed){
      1: keisei200_4_front_rev;
      keisei200_4_front;
    }
    switch(FEAT_TRAINS, PARENT, sw_keisei200_4_front_gfx,vehicle_is_reversed==1&&num_vehs_in_consist>1){
      1: keisei200_4_front;
      sw_keisei200_4_front_gfx_1;
    }

   switch(FEAT_TRAINS, SELF, sw_keisei200_4_panto_placer_1,position_in_vehid_chain %2){
      0: keisei200_4_end;
      keisei200_4_end_rev;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei200_4_panto_placer_1_rev,position_in_vehid_chain_from_end %2){
      0: keisei200_4_end;
      keisei200_4_end_rev;
    }
    switch(FEAT_TRAINS, PARENT, sw_keisei200_4_panto_placer_main,vehicle_is_reversed){
      1: sw_keisei200_4_panto_placer_1_rev;
      sw_keisei200_4_panto_placer_1;
    }

    switch(FEAT_TRAINS, SELF, sw_keisei200_4_gfx_main,position_in_vehid_chain_from_end){
      0: keisei200_4_end;
      sw_keisei200_4_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei200_livery_4,vehicle_type_id){
      mu_car: sw_keisei200_4_gfx_main;
      sw_keisei200_4_front_gfx;
    }


  switch(FEAT_TRAINS, PARENT, sw_keisei200_livery_0,current_year){
    0..1940:sw_keisei200_livery_1;
    1941..1945:sw_keisei200_livery_2;
    1946..1949:sw_keisei200_livery_3;
    sw_keisei200_livery_4;
  }
  switch(FEAT_TRAINS, SELF, sw_keisei200_lv,cargo_subtype){
    0:sw_keisei200_livery_0;
    1:sw_keisei200_livery_1;
    2:sw_keisei200_livery_2;
    3:sw_keisei200_livery_3;
    4:sw_keisei200_livery_4;
  }
  switch(FEAT_TRAINS, SELF, sw_keisei200_lv_desc,cargo_subtype){
    0:string(LV_RANDOM);
    1:string(LV_KEISEI_GREEN);
    2:string(LV_KEISEI_WAR);
    3:string(LV_KEISEI_BLUE);
    4:string(LV_KEISEI_AODEN);
  }


item(FEAT_TRAINS, keisei200) {
    property {
        cargo_capacity: 130;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        climates_available: param_disable_keisei == 0 ? ALL_CLIMATES : NO_CLIMATE;
        name: string(STR_TRAIN_NAME, string(STR_NAME_KEISEI), "200/1100", string(STR_NAME_TYPE));
        introduction_date: date(1931, 1, 1);
        model_life: 36;
        vehicle_life: 20;
        reliability_decay: 10;

        cost_factor: 15;
        running_cost_factor: 45;
        speed: 100 km/h;
        track_type: TR_1435_DC;
        power: 224 kW;
        weight: 33 ton;
        loading_speed: param_loading_3D;
    }
 graphics {
    default: sw_keisei200_lv;
    purchase: keisei200_purchase;
    can_attach_wagon: sw_1435_attach_vehid;
    cargo_subtype_text:sw_keisei200_lv_desc;
    additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 1)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_KEISEI)));
        cargo_capacity: 100*param_capacity_mod/3;
        sound_effect: sw_KS200_start_sound;
    }
  livery_override(mu_car){
      cargo_subtype_text:sw_keisei200_lv_desc;
      loading_speed: param_loading_3D;
      cargo_capacity: 100*param_capacity_mod/3;
      default: sw_keisei200_lv;
      power: 224*1342/1000;
      weight: 33;
      }
}
# 202 "src/_private.pnml" 2
# 1 "src/private/Kanto/keisei/keisei200_2000.pnml" 1

  spriteset(keisei200_2000_purchase_c1_1, "gfx/private/Kanto/keisei/keisei200_2000/keisei200_2000_1.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(keisei200_2000_purchase_c2_1, "gfx/private/Kanto/keisei/keisei200_2000/keisei200_2000_1.png"){ tmpl_purchase_2c(0, 50) }
  switch(FEAT_TRAINS, SELF, keisei200_2000_purchase_1, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_keisei; 1: keisei200_2000_purchase_c1_1; 2: keisei200_2000_purchase_c2_1;}
  spriteset(keisei200_2000_purchase_c1_2, "gfx/private/Kanto/keisei/keisei200_2000/keisei200_2000_2.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(keisei200_2000_purchase_c2_2, "gfx/private/Kanto/keisei/keisei200_2000/keisei200_2000_2.png"){ tmpl_purchase_2c(0, 50) }
  switch(FEAT_TRAINS, SELF, keisei200_2000_purchase_2, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_keisei; 1: keisei200_2000_purchase_c1_2; 2: keisei200_2000_purchase_c2_2;}

  switch(FEAT_TRAINS, SELF, keisei200_2000_purchase, current_year){
    0..1979:keisei200_2000_purchase_1;
    keisei200_2000_purchase_2;
  }

spriteset (keisei200_2000_1_front, "gfx/private/Kanto/keisei/keisei200_2000/keisei200_2000_1.png") { tmpl_std(0, 0) }
spriteset (keisei200_2000_1_end, "gfx/private/Kanto/keisei/keisei200_2000/keisei200_2000_1.png") { tmpl_std_rev(0, 25) }
spriteset (keisei200_2000_1_end_rev, "gfx/private/Kanto/keisei/keisei200_2000/keisei200_2000_1.png") { tmpl_std(0, 25) }
spriteset (keisei200_2000_1_mot, "gfx/private/Kanto/keisei/keisei200_2000/keisei200_2000_1.png") { tmpl_std(0, 50) }
spriteset (keisei200_2000_1_mot_rev, "gfx/private/Kanto/keisei/keisei200_2000/keisei200_2000_1.png") { tmpl_std_rev(0, 50) }

spriteset (keisei200_2000_2_front, "gfx/private/Kanto/keisei/keisei200_2000/keisei200_2000_2.png") { tmpl_std(0, 0) }
spriteset (keisei200_2000_2_end, "gfx/private/Kanto/keisei/keisei200_2000/keisei200_2000_2.png") { tmpl_std_rev(0, 25) }
spriteset (keisei200_2000_2_end_rev, "gfx/private/Kanto/keisei/keisei200_2000/keisei200_2000_2.png") { tmpl_std(0, 25) }
spriteset (keisei200_2000_2_mot, "gfx/private/Kanto/keisei/keisei200_2000/keisei200_2000_2.png") { tmpl_std(0, 50) }
spriteset (keisei200_2000_2_mot_rev, "gfx/private/Kanto/keisei/keisei200_2000/keisei200_2000_2.png") { tmpl_std_rev(0, 50) }




      switch(FEAT_TRAINS, SELF, sw_keisei200_2000_1_panto_placer_1,position_in_vehid_chain %4){
        0: keisei200_2000_1_mot_rev;
        1: keisei200_2000_1_mot;
        2: keisei200_2000_1_end;
        keisei200_2000_1_end_rev;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei200_2000_1_panto_placer_1_rev,position_in_vehid_chain_from_end %4){
        0: keisei200_2000_1_end;
        1: keisei200_2000_1_mot;
        2: keisei200_2000_1_mot_rev;
        3: keisei200_2000_1_end_rev;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei200_2000_1_panto_placer_main,vehicle_is_reversed){
        1: sw_keisei200_2000_1_panto_placer_1_rev;
        sw_keisei200_2000_1_panto_placer_1;
      }
  switch(FEAT_TRAINS, SELF, sw_keisei200_2000_1_gfx_main,position_in_vehid_chain_from_end){
    0: keisei200_2000_1_end;
    sw_keisei200_2000_1_panto_placer_main;
  }
  switch(FEAT_TRAINS, SELF, sw_keisei200_2000_livery_1,vehicle_type_id){
    mu_car: sw_keisei200_2000_1_gfx_main;
    keisei200_2000_1_front;
  }




      switch(FEAT_TRAINS, SELF, sw_keisei200_2000_2_panto_placer_1,position_in_vehid_chain %4){
        0: keisei200_2000_2_mot_rev;
        1: keisei200_2000_2_mot;
        2: keisei200_2000_2_end;
        keisei200_2000_2_end_rev;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei200_2000_2_panto_placer_1_rev,position_in_vehid_chain_from_end %4){
        0: keisei200_2000_2_end;
        1: keisei200_2000_2_mot;
        2: keisei200_2000_2_mot_rev;
        3: keisei200_2000_2_end_rev;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei200_2000_2_panto_placer_main,vehicle_is_reversed){
        1: sw_keisei200_2000_2_panto_placer_1_rev;
        sw_keisei200_2000_2_panto_placer_1;
      }
  switch(FEAT_TRAINS, SELF, sw_keisei200_2000_2_gfx_main,position_in_vehid_chain_from_end){
    0: keisei200_2000_2_end;
    sw_keisei200_2000_2_panto_placer_main;
  }
  switch(FEAT_TRAINS, SELF, sw_keisei200_2000_livery_2,vehicle_type_id){
    mu_car: sw_keisei200_2000_2_gfx_main;
    keisei200_2000_2_front;
  }



  switch(FEAT_TRAINS, PARENT, sw_keisei200_2000_livery_0,current_year){
      0..1979:sw_keisei200_2000_livery_1;
      sw_keisei200_2000_livery_2;
    }
  switch(FEAT_TRAINS, SELF, sw_keisei200_2000_lv,cargo_subtype){
    0:sw_keisei200_2000_livery_0;
    1:sw_keisei200_2000_livery_1;
    2:sw_keisei200_2000_livery_2;
  }
  switch(FEAT_TRAINS, SELF, sw_keisei200_2000_lv_desc,cargo_subtype){
    0:string(LV_RANDOM);
    1:string(LV_KEISEI_ORANGE);
    2:string(LV_KEISEI_AODEN);
  }
# 114 "src/private/Kanto/keisei/keisei200_2000.pnml"
    switch(FEAT_TRAINS, SELF, sw_keisei200_2000_power_main,position_in_consist_from_end%2){
      0:return 55;
      return 0;
    }


item(FEAT_TRAINS, keisei200_2000) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_KEISEI), "200/2000", string(STR_NAME_TYPE));
        introduction_date: date(1964, 1, 1);
        model_life: 36;
        vehicle_life: 20;
        reliability_decay: 10;

        cargo_capacity: 1;
        loading_speed: param_loading_3D;
        cost_factor: 14;
        running_cost_factor: 44;

        speed: 100 km/h;
        track_type: TR_1435_DC;
        power: 620 kW;
        weight: 33 ton;

        climates_available: param_disable_keisei == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        power: sw_keisei200_2000_power_main()*4*1342/1000;
        cargo_subtype_text:sw_keisei200_2000_lv_desc;
        default: sw_keisei200_2000_lv;
        purchase: keisei200_2000_purchase;
        can_attach_wagon: sw_1435_attach_vehid;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 4)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_KEISEI)));

  start_stop: sw_stop_start_3;
        cargo_capacity: 140*param_capacity_mod/3;
        sound_effect: sw_KS200_2000_start_sound;
    }
    livery_override(mu_car){
        cargo_subtype_text:sw_keisei200_2000_lv_desc;
        loading_speed: param_loading_3D;
        cargo_capacity: 140*param_capacity_mod/3;
        default: sw_keisei200_2000_lv;
        power: sw_keisei200_2000_power_main()*4*1342/1000;
        weight: 33;
        length: 8;
      }
}
# 203 "src/_private.pnml" 2
# 1 "src/private/Kanto/keisei/keisei300.pnml" 1

  spriteset(keisei300_purchase_c1_1, "gfx/private/Kanto/keisei/keisei300/keisei300_1.png"){ tmpl_purchase_1c(0, 0) }
  switch(FEAT_TRAINS, SELF, keisei300_purchase_1, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_keisei; 1: keisei300_purchase_c1_1;}
  spriteset(keisei300_purchase_c1_2, "gfx/private/Kanto/keisei/keisei300/keisei300_2.png"){ tmpl_purchase_1c(0, 0) }
  switch(FEAT_TRAINS, SELF, keisei300_purchase_2, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_keisei; 1: keisei300_purchase_c1_2;}
  spriteset(keisei300_purchase_c1_3, "gfx/private/Kanto/keisei/keisei300/keisei300_3.png"){ tmpl_purchase_1c(0, 0) }
  switch(FEAT_TRAINS, SELF, keisei300_purchase_3, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_keisei; 1: keisei300_purchase_c1_3;}

  switch(FEAT_TRAINS, SELF, keisei300_purchase,current_year){
    0..1940:keisei300_purchase_1;
    1941..1949:keisei300_purchase_2;
    keisei300_purchase_3;
  }

spriteset (keisei300_1_front, "gfx/private/Kanto/keisei/keisei300/keisei300_1.png") { tmpl_std_rev(0, 0) }
spriteset (keisei300_1_front_rev, "gfx/private/Kanto/keisei/keisei300/keisei300_1.png") { tmpl_std(0, 25) }
spriteset (keisei300_1_end_rev, "gfx/private/Kanto/keisei/keisei300/keisei300_1.png") { tmpl_std_rev(0, 50) }
spriteset (keisei300_1_end, "gfx/private/Kanto/keisei/keisei300/keisei300_1.png") { tmpl_std(0, 50) }

spriteset (keisei300_2_front, "gfx/private/Kanto/keisei/keisei300/keisei300_2.png") { tmpl_std_rev(0, 0) }
spriteset (keisei300_2_front_rev, "gfx/private/Kanto/keisei/keisei300/keisei300_2.png") { tmpl_std(0, 25) }
spriteset (keisei300_2_end_rev, "gfx/private/Kanto/keisei/keisei300/keisei300_2.png") { tmpl_std_rev(0, 50) }
spriteset (keisei300_2_end, "gfx/private/Kanto/keisei/keisei300/keisei300_2.png") { tmpl_std(0, 50) }

spriteset (keisei300_3_front, "gfx/private/Kanto/keisei/keisei300/keisei300_3.png") { tmpl_std_rev(0, 0) }
spriteset (keisei300_3_front_rev, "gfx/private/Kanto/keisei/keisei300/keisei300_3.png") { tmpl_std(0, 25) }
spriteset (keisei300_3_end_rev, "gfx/private/Kanto/keisei/keisei300/keisei300_3.png") { tmpl_std_rev(0, 50) }
spriteset (keisei300_3_end, "gfx/private/Kanto/keisei/keisei300/keisei300_3.png") { tmpl_std(0, 50) }



    switch(FEAT_TRAINS, PARENT, sw_keisei300_1_front_gfx_1,vehicle_is_reversed){
      1: keisei300_1_front_rev;
      keisei300_1_front;
    }
    switch(FEAT_TRAINS, PARENT, sw_keisei300_1_front_gfx,vehicle_is_reversed==1&&num_vehs_in_consist>1){
      1: keisei300_1_front;
      sw_keisei300_1_front_gfx_1;
    }

   switch(FEAT_TRAINS, SELF, sw_keisei300_1_panto_placer_1,position_in_vehid_chain %2){
      0: keisei300_1_end;
      keisei300_1_end_rev;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei300_1_panto_placer_1_rev,position_in_vehid_chain_from_end %2){
      0: keisei300_1_end;
      keisei300_1_end_rev;
    }
    switch(FEAT_TRAINS, PARENT, sw_keisei300_1_panto_placer_main,vehicle_is_reversed){
      1: sw_keisei300_1_panto_placer_1_rev;
      sw_keisei300_1_panto_placer_1;
    }

    switch(FEAT_TRAINS, SELF, sw_keisei300_1_gfx_main,position_in_vehid_chain_from_end){
      0: keisei300_1_end;
      sw_keisei300_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei300_livery_1,vehicle_type_id){
      mu_car: sw_keisei300_1_gfx_main;
      sw_keisei300_1_front_gfx;
    }



    switch(FEAT_TRAINS, PARENT, sw_keisei300_2_front_gfx_1,vehicle_is_reversed){
      1: keisei300_2_front_rev;
      keisei300_2_front;
    }
    switch(FEAT_TRAINS, PARENT, sw_keisei300_2_front_gfx,vehicle_is_reversed==1&&num_vehs_in_consist>1){
      1: keisei300_2_front;
      sw_keisei300_2_front_gfx_1;
    }

   switch(FEAT_TRAINS, SELF, sw_keisei300_2_panto_placer_1,position_in_vehid_chain %2){
      0: keisei300_2_end;
      keisei300_2_end_rev;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei300_2_panto_placer_1_rev,position_in_vehid_chain_from_end %2){
      0: keisei300_2_end;
      keisei300_2_end_rev;
    }
    switch(FEAT_TRAINS, PARENT, sw_keisei300_2_panto_placer_main,vehicle_is_reversed){
      1: sw_keisei300_2_panto_placer_1_rev;
      sw_keisei300_2_panto_placer_1;
    }

    switch(FEAT_TRAINS, SELF, sw_keisei300_2_gfx_main,position_in_vehid_chain_from_end){
      0: keisei300_2_end;
      sw_keisei300_2_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei300_livery_2,vehicle_type_id){
      mu_car: sw_keisei300_2_gfx_main;
      sw_keisei300_2_front_gfx;
    }



    switch(FEAT_TRAINS, PARENT, sw_keisei300_3_front_gfx_1,vehicle_is_reversed){
      1: keisei300_3_front_rev;
      keisei300_3_front;
    }
    switch(FEAT_TRAINS, PARENT, sw_keisei300_3_front_gfx,vehicle_is_reversed==1&&num_vehs_in_consist>1){
      1: keisei300_3_front;
      sw_keisei300_3_front_gfx_1;
    }

   switch(FEAT_TRAINS, SELF, sw_keisei300_3_panto_placer_1,position_in_vehid_chain %2){
      0: keisei300_3_end;
      keisei300_3_end_rev;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei300_3_panto_placer_1_rev,position_in_vehid_chain_from_end %2){
      0: keisei300_3_end;
      keisei300_3_end_rev;
    }
    switch(FEAT_TRAINS, PARENT, sw_keisei300_3_panto_placer_main,vehicle_is_reversed){
      1: sw_keisei300_3_panto_placer_1_rev;
      sw_keisei300_3_panto_placer_1;
    }

    switch(FEAT_TRAINS, SELF, sw_keisei300_3_gfx_main,position_in_vehid_chain_from_end){
      0: keisei300_3_end;
      sw_keisei300_3_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei300_livery_3,vehicle_type_id){
      mu_car: sw_keisei300_3_gfx_main;
      sw_keisei300_3_front_gfx;
    }


  switch(FEAT_TRAINS, PARENT, sw_keisei300_livery_0,current_year){
    0..1940:sw_keisei300_livery_1;
    1941..1949:sw_keisei300_livery_2;
    sw_keisei300_livery_3;
  }
  switch(FEAT_TRAINS, SELF, sw_keisei300_lv,cargo_subtype){
    0:sw_keisei300_livery_0;
    1:sw_keisei300_livery_1;
    2:sw_keisei300_livery_2;
    3:sw_keisei300_livery_3;
  }
  switch(FEAT_TRAINS, SELF, sw_keisei300_lv_desc,cargo_subtype){
    0:string(LV_RANDOM);
    1:string(LV_KEISEI_GREEN);
    2:string(LV_KEISEI_WAR);
    3:string(LV_KEISEI_AODEN);
  }


item(FEAT_TRAINS, keisei300) {
    property {
        cargo_capacity: 130;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        climates_available: param_disable_keisei == 0 ? ALL_CLIMATES : NO_CLIMATE;
        name: string(STR_TRAIN_NAME, string(STR_NAME_KEISEI), "300", string(STR_NAME_TYPE));
        introduction_date: date(1938, 1, 1);
        model_life: 24;
        vehicle_life: 20;
        reliability_decay: 10;

        cost_factor: 14;
        running_cost_factor: 44;
        speed: 70 km/h;
        track_type: TR_1435_DC;
        power: 196 kW;
        weight: 32 ton;
        loading_speed: param_loading_2D;
    }
 graphics {
    default: sw_keisei300_lv;
    purchase: keisei300_purchase;
    can_attach_wagon: sw_1435_attach_vehid;
    cargo_subtype_text:sw_keisei300_lv_desc;
    additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 2)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 1)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_KEISEI)));
        cargo_capacity: 95*param_capacity_mod/3;
        sound_effect: sw_KS300_start_sound;
        length: 7;
    }
  livery_override(mu_car){
      cargo_subtype_text:sw_keisei300_lv_desc;
      loading_speed: param_loading_2D;
      cargo_capacity: 95*param_capacity_mod/3;
      default: sw_keisei300_lv;
      power: 196*1342/1000;
      weight: 32;
      length: 7;
      }
}
# 204 "src/_private.pnml" 2
# 1 "src/private/Kanto/keisei/keisei600.pnml" 1

  spriteset(keisei600_purchase_c1_1, "gfx/private/Kanto/keisei/keisei600/keisei600_1.png"){ tmpl_purchase_1c(-88, 0) }
  spriteset(keisei600_purchase_c2_1, "gfx/private/Kanto/keisei/keisei600/keisei600_1.png"){ tmpl_purchase_2c(0, 50) }
  switch(FEAT_TRAINS, SELF, keisei600_purchase_1, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_keisei; 1: keisei600_purchase_c1_1; 2: keisei600_purchase_c2_1;}
  spriteset(keisei600_purchase_c1_2, "gfx/private/Kanto/keisei/keisei600/keisei600_2.png"){ tmpl_purchase_1c(-88, 0) }
  spriteset(keisei600_purchase_c2_2, "gfx/private/Kanto/keisei/keisei600/keisei600_2.png"){ tmpl_purchase_2c(0, 50) }
  switch(FEAT_TRAINS, SELF, keisei600_purchase_2, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_keisei; 1: keisei600_purchase_c1_2; 2: keisei600_purchase_c2_2;}
  spriteset(keisei600_purchase_c1_3, "gfx/private/Kanto/keisei/keisei600/keisei600_3.png"){ tmpl_purchase_1c(-88, 0) }
  spriteset(keisei600_purchase_c2_3, "gfx/private/Kanto/keisei/keisei600/keisei600_3.png"){ tmpl_purchase_2c(0, 50) }
  switch(FEAT_TRAINS, SELF, keisei600_purchase_3, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_keisei; 1: keisei600_purchase_c1_3; 2: keisei600_purchase_c2_3;}
  spriteset(keisei600_purchase_c1_4, "gfx/private/Kanto/keisei/keisei600/keisei600_4.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(keisei600_purchase_c2_4, "gfx/private/Kanto/keisei/keisei600/keisei600_4.png"){ tmpl_purchase_2c(0, 25) }
  switch(FEAT_TRAINS, SELF, keisei600_purchase_4, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_keisei; 1: keisei600_purchase_c1_4; 2: keisei600_purchase_c2_4;}

  switch(FEAT_TRAINS, SELF, keisei600_purchase,current_year){
    0..1950:keisei600_purchase_1;
    1951..1953:keisei600_purchase_2;
    1954..1960:keisei600_purchase_3;
    keisei600_purchase_4;
  }

spriteset (keisei600_1_front, "gfx/private/Kanto/keisei/keisei600/keisei600_1.png") { tmpl_std_rev(0, 0) }
spriteset (keisei600_1_front_rev, "gfx/private/Kanto/keisei/keisei600/keisei600_1.png") { tmpl_std(0, 25) }
spriteset (keisei600_1_end, "gfx/private/Kanto/keisei/keisei600/keisei600_1.png") { tmpl_std_rev(0, 50) }
spriteset (keisei600_1_end_rev, "gfx/private/Kanto/keisei/keisei600/keisei600_1.png") { tmpl_std(0, 50) }

spriteset (keisei600_2_front, "gfx/private/Kanto/keisei/keisei600/keisei600_2.png") { tmpl_std_rev(0, 0) }
spriteset (keisei600_2_front_rev, "gfx/private/Kanto/keisei/keisei600/keisei600_2.png") { tmpl_std(0, 25) }
spriteset (keisei600_2_end, "gfx/private/Kanto/keisei/keisei600/keisei600_2.png") { tmpl_std_rev(0, 50) }
spriteset (keisei600_2_end_rev, "gfx/private/Kanto/keisei/keisei600/keisei600_2.png") { tmpl_std(0, 50) }

spriteset (keisei600_3_front, "gfx/private/Kanto/keisei/keisei600/keisei600_3.png") { tmpl_std_rev(0, 0) }
spriteset (keisei600_3_front_rev, "gfx/private/Kanto/keisei/keisei600/keisei600_3.png") { tmpl_std(0, 25) }
spriteset (keisei600_3_end, "gfx/private/Kanto/keisei/keisei600/keisei600_3.png") { tmpl_std_rev(0, 50) }
spriteset (keisei600_3_end_rev, "gfx/private/Kanto/keisei/keisei600/keisei600_3.png") { tmpl_std(0, 50) }

spriteset (keisei600_4_front, "gfx/private/Kanto/keisei/keisei600/keisei600_4.png") { tmpl_std(0, 0) }
spriteset (keisei600_4_end, "gfx/private/Kanto/keisei/keisei600/keisei600_4.png") { tmpl_std_rev(0, 25) }
spriteset (keisei600_4_end_rev, "gfx/private/Kanto/keisei/keisei600/keisei600_4.png") { tmpl_std(0, 25) }



    switch(FEAT_TRAINS, PARENT, sw_keisei600_1_front_gfx,vehicle_is_reversed){
      1: keisei600_1_front_rev;
      keisei600_1_front;
    }
    switch(FEAT_TRAINS, PARENT, sw_keisei600_1_end_gfx,vehicle_is_reversed){
      1: keisei600_1_end_rev;
      keisei600_1_end;
    }

    switch(FEAT_TRAINS, PARENT, sw_keisei600_1_panto_placer_main,vehicle_is_reversed){
      1: keisei600_1_end_rev;
      keisei600_1_end;
    }

    switch(FEAT_TRAINS, SELF, sw_keisei600_1_gfx_main,position_in_vehid_chain_from_end){
      0: sw_keisei600_1_end_gfx;
      sw_keisei600_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei600_livery_1,vehicle_type_id){
      mu_car: sw_keisei600_1_gfx_main;
      sw_keisei600_1_front_gfx;
    }



    switch(FEAT_TRAINS, PARENT, sw_keisei600_2_front_gfx,vehicle_is_reversed){
      1: keisei600_2_front_rev;
      keisei600_2_front;
    }
    switch(FEAT_TRAINS, PARENT, sw_keisei600_2_end_gfx,vehicle_is_reversed){
      1: keisei600_2_end_rev;
      keisei600_2_end;
    }

    switch(FEAT_TRAINS, PARENT, sw_keisei600_2_panto_placer_main,vehicle_is_reversed){
      1: keisei600_2_end_rev;
      keisei600_2_end;
    }

    switch(FEAT_TRAINS, SELF, sw_keisei600_2_gfx_main,position_in_vehid_chain_from_end){
      0: sw_keisei600_2_end_gfx;
      sw_keisei600_2_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei600_livery_2,vehicle_type_id){
      mu_car: sw_keisei600_2_gfx_main;
      sw_keisei600_2_front_gfx;
    }



    switch(FEAT_TRAINS, PARENT, sw_keisei600_3_front_gfx,vehicle_is_reversed){
      1: keisei600_3_front_rev;
      keisei600_3_front;
    }
    switch(FEAT_TRAINS, PARENT, sw_keisei600_3_end_gfx,vehicle_is_reversed){
      1: keisei600_3_end_rev;
      keisei600_3_end;
    }

    switch(FEAT_TRAINS, PARENT, sw_keisei600_3_panto_placer_main,vehicle_is_reversed){
      1: keisei600_3_end_rev;
      keisei600_3_end;
    }

    switch(FEAT_TRAINS, SELF, sw_keisei600_3_gfx_main,position_in_vehid_chain_from_end){
      0: sw_keisei600_3_end_gfx;
      sw_keisei600_3_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei600_livery_3,vehicle_type_id){
      mu_car: sw_keisei600_3_gfx_main;
      sw_keisei600_3_front_gfx;
    }



   switch(FEAT_TRAINS, SELF, sw_keisei600_4_panto_placer_1,position_in_vehid_chain %2){
      0: keisei600_4_end;
      keisei600_4_end_rev;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei600_4_panto_placer_1_rev,position_in_vehid_chain_from_end %2){
      0: keisei600_4_end;
      keisei600_4_end_rev;
    }
    switch(FEAT_TRAINS, PARENT, sw_keisei600_4_panto_placer_main,vehicle_is_reversed){
      1: sw_keisei600_4_panto_placer_1_rev;
      sw_keisei600_4_panto_placer_1;
    }

    switch(FEAT_TRAINS, SELF, sw_keisei600_4_gfx_main,position_in_vehid_chain_from_end){
      0: keisei600_4_end;
      sw_keisei600_4_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei600_livery_4,vehicle_type_id){
      mu_car: sw_keisei600_4_gfx_main;
      keisei600_4_front;
    }



  switch(FEAT_TRAINS, PARENT, sw_keisei600_livery_0,current_year){
    0..1940:sw_keisei600_livery_1;
    1941..1945:sw_keisei600_livery_2;
    1946..1949:sw_keisei600_livery_3;
    sw_keisei600_livery_4;
  }
  switch(FEAT_TRAINS, SELF, sw_keisei600_lv,cargo_subtype){
    0:sw_keisei600_livery_0;
    1:sw_keisei600_livery_1;
    2:sw_keisei600_livery_2;
    3:sw_keisei600_livery_3;
    4:sw_keisei600_livery_4;
  }
  switch(FEAT_TRAINS, SELF, sw_keisei600_lv_desc,cargo_subtype){
    0:string(LV_RANDOM);
    1:string(LV_KEISEI_BLUE);
    2:string(LV_KEISEI_EXPRESS);
    3:string(LV_KEISEI_AODEN);
    4:string(LV_MODERN);
  }




    switch(FEAT_TRAINS, SELF, sw_keisei600_power_main,position_in_consist_from_end%2){
      0:return 56;
      return 0;
    }

item(FEAT_TRAINS, keisei600) {
    property {
        cargo_capacity: 130;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        climates_available: param_disable_keisei == 0 ? ALL_CLIMATES : NO_CLIMATE;
        name: string(STR_TRAIN_NAME, string(STR_NAME_KEISEI), "600", string(STR_NAME_TYPE));
        introduction_date: date(1948, 1, 1);
        model_life: 35;
        vehicle_life: 20;
        reliability_decay: 10;

        cost_factor: 15;
        running_cost_factor: 45;
        speed: 100 km/h;
        track_type: TR_1435_DC;
        power: 148 kW;
        weight: 37 ton;
        loading_speed: param_loading_3D;
    }
 graphics {
    power: sw_keisei600_power_main()*4*1342/1000;
    default: sw_keisei600_lv;
    purchase: keisei600_purchase;
    can_attach_wagon: sw_1435_attach_vehid;
    cargo_subtype_text:sw_keisei600_lv_desc;
    additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 2)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_KEISEI)));

  start_stop: sw_stop_start_2;
        cargo_capacity: 120*param_capacity_mod/3;
        sound_effect: sw_KS600_start_sound;
    }
  livery_override(mu_car){
      cargo_subtype_text:sw_keisei600_lv_desc;
      loading_speed: param_loading_3D;
      cargo_capacity: 120*param_capacity_mod/3;
      default: sw_keisei600_lv;
      power: sw_keisei600_power_main()*4*1342/1000;
      weight: 34;
      }
}
# 205 "src/_private.pnml" 2
# 1 "src/private/Kanto/keisei/keisei700.pnml" 1

  spriteset(keisei700_purchase_c1, "gfx/private/Kanto/keisei/keisei700/keisei700.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(keisei700_purchase_c2, "gfx/private/Kanto/keisei/keisei700/keisei700.png"){ tmpl_purchase_2c(0, 100) }
  switch(FEAT_TRAINS, SELF, keisei700_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_keisei; 1: keisei700_purchase_c1; 2: keisei700_purchase_c2;}

spriteset (keisei700_1_front_mot, "gfx/private/Kanto/keisei/keisei700/keisei700.png") { tmpl_std(0, 0) }
spriteset (keisei700_1_end_mot, "gfx/private/Kanto/keisei/keisei700/keisei700.png") { tmpl_std_rev(0, 25) }
spriteset (keisei700_1_end_mot_rev, "gfx/private/Kanto/keisei/keisei700/keisei700.png") { tmpl_std(0, 25) }
spriteset (keisei700_1_front, "gfx/private/Kanto/keisei/keisei700/keisei700.png") { tmpl_std(0, 50) }
spriteset (keisei700_1_end, "gfx/private/Kanto/keisei/keisei700/keisei700.png") { tmpl_std_rev(0, 75) }
spriteset (keisei700_1_end_rev, "gfx/private/Kanto/keisei/keisei700/keisei700.png") { tmpl_std(0, 75) }
spriteset (keisei700_1_wag, "gfx/private/Kanto/keisei/keisei700/keisei700.png") { tmpl_symm(0, 100) }
spriteset (keisei700_1_mot_2, "gfx/private/Kanto/keisei/keisei700/keisei700.png") { tmpl_std(0, 125) }
spriteset (keisei700_1_mot_2_rev, "gfx/private/Kanto/keisei/keisei700/keisei700.png") { tmpl_std_rev(0, 125) }
spriteset (keisei700_1_wag_2, "gfx/private/Kanto/keisei/keisei700/keisei700.png") { tmpl_symm(0, 150) }



    switch(FEAT_TRAINS, PARENT, sw_keisei700_1_front_gfx,vehicle_is_reversed==0&&num_vehs_in_consist==2){
      1: keisei700_1_front;
      keisei700_1_front_mot;
    }
    switch(FEAT_TRAINS, PARENT, sw_keisei700_1_end_gfx,vehicle_is_reversed==1&&num_vehs_in_consist==2){
      1: keisei700_1_end;
      keisei700_1_end_mot;
    }


      switch(FEAT_TRAINS, SELF, sw_keisei700_1_panto_placer_1,position_in_vehid_chain %4){
        2: keisei700_1_end_mot;
        3: keisei700_1_end_mot_rev;
        keisei700_1_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei700_1_panto_placer_1_rev,position_in_vehid_chain_from_end %4){
        3: keisei700_1_end_mot_rev;
        0: keisei700_1_end_mot;
        keisei700_1_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei700_1_panto_placer_main_1,vehicle_is_reversed){
        1: sw_keisei700_1_panto_placer_1_rev;
        sw_keisei700_1_panto_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_keisei700_1_panto_placer_2,position_in_vehid_chain %3){
        1: keisei700_1_end_mot;
        2: keisei700_1_end_mot_rev;
        keisei700_1_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei700_1_panto_placer_2_rev,position_in_vehid_chain_from_end %3){
        2: keisei700_1_end_mot_rev;
        0: keisei700_1_end_mot;
        keisei700_1_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei700_1_panto_placer_main_2,vehicle_is_reversed){
        1: sw_keisei700_1_panto_placer_2_rev;
        sw_keisei700_1_panto_placer_2;
      }

    switch(FEAT_TRAINS, SELF, sw_keisei700_1_panto_placer_main,num_vehs_in_vehid_chain+1){
      5:sw_keisei700_1_panto_placer_main_2;
      9:sw_keisei700_1_panto_placer_main_2;
      sw_keisei700_1_panto_placer_main_1;
    }


    switch(FEAT_TRAINS, SELF, sw_keisei700_1_gfx_main,position_in_vehid_chain_from_end){
      0: sw_keisei700_1_end_gfx;
      sw_keisei700_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei700_livery_1,vehicle_type_id){
      mu_car: sw_keisei700_1_gfx_main;
      sw_keisei700_1_front_gfx;
    }



    switch(FEAT_TRAINS, PARENT, sw_keisei700_1_front_gfx_2,vehicle_is_reversed){
      1: keisei700_1_front;
      keisei700_1_front_mot;
    }
    switch(FEAT_TRAINS, PARENT, sw_keisei700_1_end_gfx_2,vehicle_is_reversed){
      1: keisei700_1_end_mot;
      keisei700_1_end;
    }


      switch(FEAT_TRAINS, SELF, sw_keisei700_1_panto_placer_3,position_in_vehid_chain %4){
        1: keisei700_1_mot_2;
        2: keisei700_1_end;
        3: keisei700_1_end_mot_rev;
        keisei700_1_wag_2;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei700_1_panto_placer_3_rev,position_in_vehid_chain_from_end %4){
        2: keisei700_1_mot_2_rev;
        3: keisei700_1_end_rev;
        0: keisei700_1_end_mot;
        keisei700_1_wag_2;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei700_1_panto_placer_main_3,vehicle_is_reversed){
        1: sw_keisei700_1_panto_placer_3_rev;
        sw_keisei700_1_panto_placer_3;
      }


    switch(FEAT_TRAINS, SELF, sw_keisei700_2_gfx_main,position_in_vehid_chain_from_end){
      0: sw_keisei700_1_end_gfx_2;
      sw_keisei700_1_panto_placer_main_3;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei700_livery_2,vehicle_type_id){
      mu_car: sw_keisei700_2_gfx_main;
      sw_keisei700_1_front_gfx_2;
    }


  random_switch(FEAT_TRAINS, PARENT, sw_keisei700_livery_0_1){
    1: sw_keisei700_livery_1;
    1: sw_keisei700_livery_2;
  }
  switch(FEAT_TRAINS, PARENT, sw_keisei700_livery_0,build_year){
      0..1967:sw_keisei700_livery_1;
      sw_keisei700_livery_0_1;
    }
  switch(FEAT_TRAINS, SELF, sw_keisei700_lv,cargo_subtype){
    0:sw_keisei700_livery_0;
    1:sw_keisei700_livery_1;
    2:sw_keisei700_livery_2;
  }
  switch(FEAT_TRAINS, SELF, sw_keisei700_lv_desc,cargo_subtype){
    0:string(LV_RANDOM);
    1:string(LV_KEISEI_AODEN);
    2:string(LV_keisei700_2);
  }



    switch(FEAT_TRAINS, SELF, sw_keisei700_power_main,position_in_consist_from_end%2){
      0:return 55;
      return 0;
    }

item(FEAT_TRAINS, keisei700) {
    property {
        cargo_capacity: 130;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        climates_available: param_disable_keisei == 0 ? ALL_CLIMATES : NO_CLIMATE;
        name: string(STR_TRAIN_NAME, string(STR_NAME_KEISEI), "700/2200", string(STR_NAME_TYPE));
        introduction_date: date(1954, 1, 1);
        model_life: 30;
        vehicle_life: 20;
        reliability_decay: 10;

        cost_factor: 15;
        running_cost_factor: 45;
        speed: 100 km/h;
        track_type: TR_1435_DC;
        power: 148 kW;
        weight: 37 ton;
        loading_speed: param_loading_3D;
    }
 graphics {
    power: sw_keisei700_power_main()*4*1342/1000;
    default: sw_keisei700_lv;
    purchase: keisei700_purchase;
    can_attach_wagon: sw_1435_attach_vehid;
    cargo_subtype_text:sw_keisei700_lv_desc;
    additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_2, 2,4)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_KEISEI)));

  start_stop: sw_stop_start_2;
        cargo_capacity: 120*param_capacity_mod/3;
        sound_effect: sw_KS700_start_sound;
    }
  livery_override(mu_car){
      cargo_subtype_text:sw_keisei700_lv_desc;
      loading_speed: param_loading_3D;
      cargo_capacity: 120*param_capacity_mod/3;
      default: sw_keisei700_lv;
      power: sw_keisei700_power_main()*4*1342/1000;
      weight: 34;
      }
}
# 206 "src/_private.pnml" 2
# 1 "src/private/Kanto/keisei/keisei3000_1.pnml" 1

  spriteset(keisei3000_1_purchase_c1_1, "gfx/private/Kanto/keisei/keisei3000_1/keisei3000_1_1.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(keisei3000_1_purchase_c2_1, "gfx/private/Kanto/keisei/keisei3000_1/keisei3000_1_1.png"){ tmpl_purchase_2c(0, 50) }
  switch(FEAT_TRAINS, SELF, keisei3000_1_purchase_1, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_keisei; 1: keisei3000_1_purchase_c1_1; 2: keisei3000_1_purchase_c2_1;}
  spriteset(keisei3000_1_purchase_c1_2, "gfx/private/Kanto/keisei/keisei3000_1/keisei3000_1_2.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(keisei3000_1_purchase_c2_2, "gfx/private/Kanto/keisei/keisei3000_1/keisei3000_1_2.png"){ tmpl_purchase_2c(0, 50) }
  switch(FEAT_TRAINS, SELF, keisei3000_1_purchase_2, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_keisei; 1: keisei3000_1_purchase_c1_2; 2: keisei3000_1_purchase_c2_2;}
  spriteset(keisei3000_1_purchase_c1_3, "gfx/private/Kanto/keisei/keisei3000_1/keisei3000_1_3.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(keisei3000_1_purchase_c2_3, "gfx/private/Kanto/keisei/keisei3000_1/keisei3000_1_3.png"){ tmpl_purchase_2c(0, 50) }
  switch(FEAT_TRAINS, SELF, keisei3000_1_purchase_3, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_keisei; 1: keisei3000_1_purchase_c1_3; 2: keisei3000_1_purchase_c2_3;}

  switch(FEAT_TRAINS, PARENT, keisei3000_1_purchase,current_year){
    0..1958: keisei3000_1_purchase_1;
    1959..1979: keisei3000_1_purchase_2;
    keisei3000_1_purchase_3;
  }

spriteset (keisei3000_1_1_front_mot, "gfx/private/Kanto/keisei/keisei3000_1/keisei3000_1_1.png") { tmpl_std(0, 0) }
spriteset (keisei3000_1_1_end_mot, "gfx/private/Kanto/keisei/keisei3000_1/keisei3000_1_1.png") { tmpl_std_rev(0, 25) }
spriteset (keisei3000_1_1_end_mot_rev, "gfx/private/Kanto/keisei/keisei3000_1/keisei3000_1_1.png") { tmpl_std(0, 25) }
spriteset (keisei3000_1_1_front, "gfx/private/Kanto/keisei/keisei3000_1/keisei3000_1_1.png") { tmpl_std(0, 50) }
spriteset (keisei3000_1_1_end, "gfx/private/Kanto/keisei/keisei3000_1/keisei3000_1_1.png") { tmpl_std_rev(0, 75) }
spriteset (keisei3000_1_1_end_rev, "gfx/private/Kanto/keisei/keisei3000_1/keisei3000_1_1.png") { tmpl_std(0, 75) }

spriteset (keisei3000_1_2_front_mot, "gfx/private/Kanto/keisei/keisei3000_1/keisei3000_1_2.png") { tmpl_std(0, 0) }
spriteset (keisei3000_1_2_end_mot, "gfx/private/Kanto/keisei/keisei3000_1/keisei3000_1_2.png") { tmpl_std_rev(0, 25) }
spriteset (keisei3000_1_2_end_mot_rev, "gfx/private/Kanto/keisei/keisei3000_1/keisei3000_1_2.png") { tmpl_std(0, 25) }
spriteset (keisei3000_1_2_front, "gfx/private/Kanto/keisei/keisei3000_1/keisei3000_1_2.png") { tmpl_std(0, 50) }
spriteset (keisei3000_1_2_end, "gfx/private/Kanto/keisei/keisei3000_1/keisei3000_1_2.png") { tmpl_std_rev(0, 75) }
spriteset (keisei3000_1_2_end_rev, "gfx/private/Kanto/keisei/keisei3000_1/keisei3000_1_2.png") { tmpl_std(0, 75) }
spriteset (keisei3000_1_2_mot, "gfx/private/Kanto/keisei/keisei3000_1/keisei3000_1_2.png") { tmpl_std(0, 100) }
spriteset (keisei3000_1_2_mot_rev, "gfx/private/Kanto/keisei/keisei3000_1/keisei3000_1_2.png") { tmpl_std_rev(0, 100) }
spriteset (keisei3000_1_2_wag, "gfx/private/Kanto/keisei/keisei3000_1/keisei3000_1_2.png") { tmpl_symm(0, 125) }

spriteset (keisei3000_1_2_front_mot_ac, "gfx/private/Kanto/keisei/keisei3000_1/keisei3000_1_2_ac.png") { tmpl_std(0, 0) }
spriteset (keisei3000_1_2_end_mot_ac, "gfx/private/Kanto/keisei/keisei3000_1/keisei3000_1_2_ac.png") { tmpl_std_rev(0, 25) }
spriteset (keisei3000_1_2_end_mot_ac_rev, "gfx/private/Kanto/keisei/keisei3000_1/keisei3000_1_2_ac.png") { tmpl_std(0, 25) }
spriteset (keisei3000_1_2_front_ac, "gfx/private/Kanto/keisei/keisei3000_1/keisei3000_1_2_ac.png") { tmpl_std(0, 50) }
spriteset (keisei3000_1_2_end_ac, "gfx/private/Kanto/keisei/keisei3000_1/keisei3000_1_2_ac.png") { tmpl_std_rev(0, 75) }
spriteset (keisei3000_1_2_end_ac_rev, "gfx/private/Kanto/keisei/keisei3000_1/keisei3000_1_2_ac.png") { tmpl_std(0, 75) }
spriteset (keisei3000_1_2_mot_ac, "gfx/private/Kanto/keisei/keisei3000_1/keisei3000_1_2_ac.png") { tmpl_std(0, 100) }
spriteset (keisei3000_1_2_mot_ac_rev, "gfx/private/Kanto/keisei/keisei3000_1/keisei3000_1_2_ac.png") { tmpl_std_rev(0, 100) }
spriteset (keisei3000_1_2_wag_ac, "gfx/private/Kanto/keisei/keisei3000_1/keisei3000_1_2_ac.png") { tmpl_symm(0, 125) }

spriteset (keisei3000_1_3_front_mot, "gfx/private/Kanto/keisei/keisei3000_1/keisei3000_1_3.png") { tmpl_std(0, 0) }
spriteset (keisei3000_1_3_end_mot, "gfx/private/Kanto/keisei/keisei3000_1/keisei3000_1_3.png") { tmpl_std_rev(0, 25) }
spriteset (keisei3000_1_3_end_mot_rev, "gfx/private/Kanto/keisei/keisei3000_1/keisei3000_1_3.png") { tmpl_std(0, 25) }
spriteset (keisei3000_1_3_front, "gfx/private/Kanto/keisei/keisei3000_1/keisei3000_1_3.png") { tmpl_std(0, 50) }
spriteset (keisei3000_1_3_end, "gfx/private/Kanto/keisei/keisei3000_1/keisei3000_1_3.png") { tmpl_std_rev(0, 75) }
spriteset (keisei3000_1_3_end_rev, "gfx/private/Kanto/keisei/keisei3000_1/keisei3000_1_3.png") { tmpl_std(0, 75) }
spriteset (keisei3000_1_3_mot, "gfx/private/Kanto/keisei/keisei3000_1/keisei3000_1_3.png") { tmpl_std(0, 100) }
spriteset (keisei3000_1_3_mot_rev, "gfx/private/Kanto/keisei/keisei3000_1/keisei3000_1_3.png") { tmpl_std_rev(0, 100) }
spriteset (keisei3000_1_3_wag, "gfx/private/Kanto/keisei/keisei3000_1/keisei3000_1_3.png") { tmpl_symm(0, 125) }

spriteset (keisei3000_1_3_front_mot_ac, "gfx/private/Kanto/keisei/keisei3000_1/keisei3000_1_3_ac.png") { tmpl_std(0, 0) }
spriteset (keisei3000_1_3_end_mot_ac, "gfx/private/Kanto/keisei/keisei3000_1/keisei3000_1_3_ac.png") { tmpl_std_rev(0, 25) }
spriteset (keisei3000_1_3_end_mot_ac_rev, "gfx/private/Kanto/keisei/keisei3000_1/keisei3000_1_3_ac.png") { tmpl_std(0, 25) }
spriteset (keisei3000_1_3_front_ac, "gfx/private/Kanto/keisei/keisei3000_1/keisei3000_1_3_ac.png") { tmpl_std(0, 50) }
spriteset (keisei3000_1_3_end_ac, "gfx/private/Kanto/keisei/keisei3000_1/keisei3000_1_3_ac.png") { tmpl_std_rev(0, 75) }
spriteset (keisei3000_1_3_end_ac_rev, "gfx/private/Kanto/keisei/keisei3000_1/keisei3000_1_3_ac.png") { tmpl_std(0, 75) }
spriteset (keisei3000_1_3_mot_ac, "gfx/private/Kanto/keisei/keisei3000_1/keisei3000_1_3_ac.png") { tmpl_std(0, 100) }
spriteset (keisei3000_1_3_mot_ac_rev, "gfx/private/Kanto/keisei/keisei3000_1/keisei3000_1_3_ac.png") { tmpl_std_rev(0, 100) }
spriteset (keisei3000_1_3_wag_ac, "gfx/private/Kanto/keisei/keisei3000_1/keisei3000_1_3_ac.png") { tmpl_symm(0, 125) }



    switch(FEAT_TRAINS, PARENT, sw_keisei3000_1_1_front_gfx,vehicle_is_reversed){
      1: keisei3000_1_1_front;
      keisei3000_1_1_front_mot;
    }
    switch(FEAT_TRAINS, PARENT, sw_keisei3000_1_1_end_gfx,vehicle_is_reversed){
      1: keisei3000_1_1_end_mot;
      keisei3000_1_1_end;
    }


      switch(FEAT_TRAINS, SELF, sw_keisei3000_1_1_panto_placer_1,position_in_vehid_chain %2){
        1: keisei3000_1_1_end_mot_rev;
        keisei3000_1_1_end;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3000_1_1_panto_placer_1_rev,position_in_vehid_chain_from_end %2){
        0: keisei3000_1_1_end_mot;
        keisei3000_1_1_end_rev;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3000_1_1_panto_placer_main,vehicle_is_reversed){
        1: sw_keisei3000_1_1_panto_placer_1_rev;
        sw_keisei3000_1_1_panto_placer_1;
      }

    switch(FEAT_TRAINS, SELF, sw_keisei3000_1_1_gfx_main,position_in_vehid_chain_from_end){
      0: sw_keisei3000_1_1_end_gfx;
      sw_keisei3000_1_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei3000_1_livery_1,vehicle_type_id){
      mu_car: sw_keisei3000_1_1_gfx_main;
      sw_keisei3000_1_1_front_gfx;
    }



      switch(FEAT_TRAINS, PARENT, sw_keisei3000_1_2_front,current_year>1988){
        1: keisei3000_1_2_front_ac;
        keisei3000_1_2_front;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3000_1_2_end,current_year>1988){
        1: keisei3000_1_2_end_ac;
        keisei3000_1_2_end;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3000_1_2_end_rev,current_year>1988){
        1: keisei3000_1_2_end_ac_rev;
        keisei3000_1_2_end_rev;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3000_1_2_front_mot,current_year>1988){
        1: keisei3000_1_2_front_mot_ac;
        keisei3000_1_2_front_mot;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3000_1_2_end_mot,current_year>1988){
        1: keisei3000_1_2_end_mot_ac;
        keisei3000_1_2_end_mot;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3000_1_2_end_mot_rev,current_year>1988){
        1: keisei3000_1_2_end_mot_ac_rev;
        keisei3000_1_2_end_mot_rev;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3000_1_2_mot,current_year>1988){
        1: keisei3000_1_2_mot_ac;
        keisei3000_1_2_mot;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3000_1_2_mot_rev,current_year>1988){
        1: keisei3000_1_2_mot_ac_rev;
        keisei3000_1_2_mot_rev;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3000_1_2_wag,current_year>1988){
        1: keisei3000_1_2_wag_ac;
        keisei3000_1_2_wag;
      }
    switch(FEAT_TRAINS, PARENT, sw_keisei3000_1_2_front_gfx,vehicle_is_reversed){
      1: sw_keisei3000_1_2_front;
      sw_keisei3000_1_2_front_mot;
    }
    switch(FEAT_TRAINS, PARENT, sw_keisei3000_1_2_end_gfx,vehicle_is_reversed){
      1: sw_keisei3000_1_2_end_mot;
      sw_keisei3000_1_2_end;
    }


      switch(FEAT_TRAINS, SELF, sw_keisei3000_1_2_panto_placer_1,position_in_vehid_chain %2){
        1: sw_keisei3000_1_2_mot;
        sw_keisei3000_1_2_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3000_1_2_panto_placer_1_rev,position_in_vehid_chain_from_end %2){
        0: sw_keisei3000_1_2_mot_rev;
        sw_keisei3000_1_2_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3000_1_2_panto_placer_main,vehicle_is_reversed){
        1: sw_keisei3000_1_2_panto_placer_1_rev;
        sw_keisei3000_1_2_panto_placer_1;
      }


      switch(FEAT_TRAINS, SELF, sw_keisei3000_1_2_fake_head_placer_1,position_in_vehid_chain){
        2: sw_keisei3000_1_2_end;
        3: sw_keisei3000_1_2_end_mot_rev;
        sw_keisei3000_1_2_panto_placer_main;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3000_1_2_fake_head_placer_1_rev,position_in_vehid_chain_from_end-1){
        2: sw_keisei3000_1_2_end_rev;
        3: sw_keisei3000_1_2_end_mot;
        sw_keisei3000_1_2_panto_placer_main;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3000_1_2_fake_head_placer_gfx,vehicle_is_reversed){
        1: sw_keisei3000_1_2_fake_head_placer_1_rev;
        sw_keisei3000_1_2_fake_head_placer_1;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3000_1_2_fake_head_placer_main,[(num_vehs_in_vehid_chain>4&&current_year<1978)||(num_vehs_in_vehid_chain>6&&current_year<1990)||num_vehs_in_vehid_chain>7]){
        1: sw_keisei3000_1_2_fake_head_placer_gfx;
        sw_keisei3000_1_2_panto_placer_main;
      }

    switch(FEAT_TRAINS, SELF, sw_keisei3000_1_2_gfx_main,position_in_vehid_chain_from_end){
      0: sw_keisei3000_1_2_end_gfx;
      sw_keisei3000_1_2_fake_head_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei3000_1_livery_2,vehicle_type_id){
      mu_car: sw_keisei3000_1_2_gfx_main;
      sw_keisei3000_1_2_front_gfx;
    }




      switch(FEAT_TRAINS, PARENT, sw_keisei3000_1_3_front,current_year>1988){
        1: keisei3000_1_3_front_ac;
        keisei3000_1_3_front;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3000_1_3_end,current_year>1988){
        1: keisei3000_1_3_end_ac;
        keisei3000_1_3_end;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3000_1_3_end_rev,current_year>1988){
        1: keisei3000_1_3_end_ac_rev;
        keisei3000_1_3_end_rev;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3000_1_3_front_mot,current_year>1988){
        1: keisei3000_1_3_front_mot_ac;
        keisei3000_1_3_front_mot;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3000_1_3_end_mot,current_year>1988){
        1: keisei3000_1_3_end_mot_ac;
        keisei3000_1_3_end_mot;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3000_1_3_end_mot_rev,current_year>1988){
        1: keisei3000_1_3_end_mot_ac_rev;
        keisei3000_1_3_end_mot_rev;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3000_1_3_mot,current_year>1988){
        1: keisei3000_1_3_mot_ac;
        keisei3000_1_3_mot;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3000_1_3_mot_rev,current_year>1988){
        1: keisei3000_1_3_mot_ac_rev;
        keisei3000_1_3_mot_rev;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3000_1_3_wag,current_year>1988){
        1: keisei3000_1_3_wag_ac;
        keisei3000_1_3_wag;
      }
    switch(FEAT_TRAINS, PARENT, sw_keisei3000_1_3_front_gfx,vehicle_is_reversed){
      1: sw_keisei3000_1_3_front;
      sw_keisei3000_1_3_front_mot;
    }
    switch(FEAT_TRAINS, PARENT, sw_keisei3000_1_3_end_gfx,vehicle_is_reversed){
      1: sw_keisei3000_1_3_end_mot;
      sw_keisei3000_1_3_end;
    }


      switch(FEAT_TRAINS, SELF, sw_keisei3000_1_3_panto_placer_1,position_in_vehid_chain %2){
        1: sw_keisei3000_1_3_mot;
        sw_keisei3000_1_3_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3000_1_3_panto_placer_1_rev,position_in_vehid_chain_from_end %2){
        0: sw_keisei3000_1_3_mot_rev;
        sw_keisei3000_1_3_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3000_1_3_panto_placer_main,vehicle_is_reversed){
        1: sw_keisei3000_1_3_panto_placer_1_rev;
        sw_keisei3000_1_3_panto_placer_1;
      }


      switch(FEAT_TRAINS, SELF, sw_keisei3000_1_3_fake_head_placer_1,position_in_vehid_chain){
        2: sw_keisei3000_1_3_end;
        3: sw_keisei3000_1_3_end_mot_rev;
        sw_keisei3000_1_3_panto_placer_main;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3000_1_3_fake_head_placer_1_rev,position_in_vehid_chain_from_end-1){
        2: sw_keisei3000_1_3_end_rev;
        3: sw_keisei3000_1_3_end_mot;
        sw_keisei3000_1_3_panto_placer_main;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3000_1_3_fake_head_placer_gfx,vehicle_is_reversed){
        1: sw_keisei3000_1_3_fake_head_placer_1_rev;
        sw_keisei3000_1_3_fake_head_placer_1;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3000_1_3_fake_head_placer_main,[(num_vehs_in_vehid_chain>4&&current_year<1978)||(num_vehs_in_vehid_chain>6&&current_year<1990)||num_vehs_in_vehid_chain>7]){
        1: sw_keisei3000_1_3_fake_head_placer_gfx;
        sw_keisei3000_1_3_panto_placer_main;
      }

    switch(FEAT_TRAINS, SELF, sw_keisei3000_1_3_gfx_main,position_in_vehid_chain_from_end){
      0: sw_keisei3000_1_3_end_gfx;
      sw_keisei3000_1_3_fake_head_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei3000_1_livery_3,vehicle_type_id){
      mu_car: sw_keisei3000_1_3_gfx_main;
      sw_keisei3000_1_3_front_gfx;
    }


  switch(FEAT_TRAINS, PARENT, sw_keisei3000_1_livery_0,current_year){
      0..1958:sw_keisei3000_1_livery_1;
      1959..1979:sw_keisei3000_1_livery_2;
      sw_keisei3000_1_livery_3;
    }
  switch(FEAT_TRAINS, SELF, sw_keisei3000_1_lv,cargo_subtype){
    0:sw_keisei3000_1_livery_0;
    1:sw_keisei3000_1_livery_1;
    2:sw_keisei3000_1_livery_2;
    3:sw_keisei3000_1_livery_3;
  }
  switch(FEAT_TRAINS, SELF, sw_keisei3000_1_lv_desc,cargo_subtype){
    0:string(LV_RANDOM);
    1:string(LV_KEISEI_AODEN);
    2:string(LV_KEISEI_AKADEN);
    3:string(LV_KEISEI_ORANGE);
  }



    switch(FEAT_TRAINS, SELF, sw_keisei3000_1_power_main,position_in_consist_from_end%2){
      0:return 112;
      return 0;
    }

item(FEAT_TRAINS, keisei3000_1) {
    property {
        cargo_capacity: 130;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        climates_available: param_disable_keisei == 0 ? ALL_CLIMATES : NO_CLIMATE;
        name: string(STR_TRAIN_NAME_LONG, string(STR_NAME_KEISEI), "3000/3050", string(STR_NAME_TYPE), string(STR_NAME_1_GEN));
        introduction_date: date(1958, 1, 1);
        model_life: 30;
        vehicle_life: 20;
        reliability_decay: 10;

        cost_factor: 18;
        running_cost_factor: 48;
        speed: 100 km/h;
        track_type: TR_1435_DC;
        power: 148 kW;
        weight: 33 ton;
        loading_speed: param_loading_3D;
    }
 graphics {
    default: sw_keisei3000_1_lv;
    purchase: keisei3000_1_purchase;
    can_attach_wagon: sw_1435_attach_vehid;
    cargo_subtype_text:sw_keisei3000_1_lv_desc;
    additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_4, 2,4,6,8)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_KEISEI)));

  start_stop: sw_stop_start_2;
        cargo_capacity: 130*param_capacity_mod/3;
        sound_effect: sw_KS3000_3050_start_sound;
        power: sw_keisei3000_1_power_main()*4*1342/1000;
    }
  livery_override(mu_car){
      cargo_subtype_text:sw_keisei3000_1_lv_desc;
      loading_speed: param_loading_3D;
      cargo_capacity: 130*param_capacity_mod/3;
      default: sw_keisei3000_1_lv;
      power: sw_keisei3000_1_power_main()*4*1342/1000;
      weight: 33;
      }
}
# 207 "src/_private.pnml" 2
# 1 "src/private/Kanto/keisei/keisei3100.pnml" 1

  spriteset(keisei3100_purchase_c1_1, "gfx/private/Kanto/keisei/keisei3100/keisei3100_1.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(keisei3100_purchase_c2_1, "gfx/private/Kanto/keisei/keisei3100/keisei3100_1.png"){ tmpl_purchase_2c(0, 100) }
  switch(FEAT_TRAINS, SELF, keisei3100_purchase_1, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_keisei; 1: keisei3100_purchase_c1_1; 2: keisei3100_purchase_c2_1;}
  spriteset(keisei3100_purchase_c1_2, "gfx/private/Kanto/keisei/keisei3100/keisei3100_2.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(keisei3100_purchase_c2_2, "gfx/private/Kanto/keisei/keisei3100/keisei3100_2.png"){ tmpl_purchase_2c(0, 100) }
  switch(FEAT_TRAINS, SELF, keisei3100_purchase_2, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_keisei; 1: keisei3100_purchase_c1_2; 2: keisei3100_purchase_c2_2;}
  spriteset(keisei3100_purchase_c1_3, "gfx/private/Kanto/keisei/keisei3100/keisei3100_2_ac.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(keisei3100_purchase_c2_3, "gfx/private/Kanto/keisei/keisei3100/keisei3100_2_ac.png"){ tmpl_purchase_2c(0, 100) }
  switch(FEAT_TRAINS, SELF, keisei3100_purchase_3, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_keisei; 1: keisei3100_purchase_c1_3; 2: keisei3100_purchase_c2_3;}
  spriteset(keisei3100_purchase_c1_4, "gfx/private/Kanto/keisei/keisei3100/keisei3100_3.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(keisei3100_purchase_c2_4, "gfx/private/Kanto/keisei/keisei3100/keisei3100_3.png"){ tmpl_purchase_2c(0, 100) }
  switch(FEAT_TRAINS, SELF, keisei3100_purchase_4, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_keisei; 1: keisei3100_purchase_c1_4; 2: keisei3100_purchase_c2_4;}

  switch(FEAT_TRAINS, SELF, keisei3100_purchase, current_year){
    0..1980:keisei3100_purchase_1;
    1981..1985:keisei3100_purchase_2;
    1986..1991:keisei3100_purchase_3;
    keisei3100_purchase_4;
  }

spriteset (keisei3100_1_front_mot, "gfx/private/Kanto/keisei/keisei3100/keisei3100_1.png") { tmpl_std(0, 0) }
spriteset (keisei3100_1_end_mot, "gfx/private/Kanto/keisei/keisei3100/keisei3100_1.png") { tmpl_std_rev(0, 25) }
spriteset (keisei3100_1_end_mot_rev, "gfx/private/Kanto/keisei/keisei3100/keisei3100_1.png") { tmpl_std(0, 25) }
spriteset (keisei3100_1_front, "gfx/private/Kanto/keisei/keisei3100/keisei3100_1.png") { tmpl_std(0, 50) }
spriteset (keisei3100_1_end, "gfx/private/Kanto/keisei/keisei3100/keisei3100_1.png") { tmpl_std_rev(0, 75) }
spriteset (keisei3100_1_end_rev, "gfx/private/Kanto/keisei/keisei3100/keisei3100_1.png") { tmpl_std(0, 75) }
spriteset (keisei3100_1_mot, "gfx/private/Kanto/keisei/keisei3100/keisei3100_1.png") { tmpl_std(0, 100) }
spriteset (keisei3100_1_mot_rev, "gfx/private/Kanto/keisei/keisei3100/keisei3100_1.png") { tmpl_std_rev(0, 100) }
spriteset (keisei3100_1_wag, "gfx/private/Kanto/keisei/keisei3100/keisei3100_1.png") { tmpl_symm(0, 125) }

spriteset (keisei3150_1_front_mot, "gfx/private/Kanto/keisei/keisei3100/keisei3150_1.png") { tmpl_std(0, 0) }
spriteset (keisei3150_1_end_mot, "gfx/private/Kanto/keisei/keisei3100/keisei3150_1.png") { tmpl_std_rev(0, 25) }
spriteset (keisei3150_1_end_mot_rev, "gfx/private/Kanto/keisei/keisei3100/keisei3150_1.png") { tmpl_std(0, 25) }
spriteset (keisei3150_1_front, "gfx/private/Kanto/keisei/keisei3100/keisei3150_1.png") { tmpl_std(0, 50) }
spriteset (keisei3150_1_end, "gfx/private/Kanto/keisei/keisei3100/keisei3150_1.png") { tmpl_std_rev(0, 75) }
spriteset (keisei3150_1_end_rev, "gfx/private/Kanto/keisei/keisei3100/keisei3150_1.png") { tmpl_std(0, 75) }

spriteset (keisei3100_2_front_mot, "gfx/private/Kanto/keisei/keisei3100/keisei3100_2.png") { tmpl_std(0, 0) }
spriteset (keisei3100_2_end_mot, "gfx/private/Kanto/keisei/keisei3100/keisei3100_2.png") { tmpl_std_rev(0, 25) }
spriteset (keisei3100_2_end_mot_rev, "gfx/private/Kanto/keisei/keisei3100/keisei3100_2.png") { tmpl_std(0, 25) }
spriteset (keisei3100_2_front, "gfx/private/Kanto/keisei/keisei3100/keisei3100_2.png") { tmpl_std(0, 50) }
spriteset (keisei3100_2_end, "gfx/private/Kanto/keisei/keisei3100/keisei3100_2.png") { tmpl_std_rev(0, 75) }
spriteset (keisei3100_2_end_rev, "gfx/private/Kanto/keisei/keisei3100/keisei3100_2.png") { tmpl_std(0, 75) }
spriteset (keisei3100_2_mot, "gfx/private/Kanto/keisei/keisei3100/keisei3100_2.png") { tmpl_std(0, 100) }
spriteset (keisei3100_2_mot_rev, "gfx/private/Kanto/keisei/keisei3100/keisei3100_2.png") { tmpl_std_rev(0, 100) }
spriteset (keisei3100_2_wag, "gfx/private/Kanto/keisei/keisei3100/keisei3100_2.png") { tmpl_symm(0, 125) }

spriteset (keisei3150_2_front_mot, "gfx/private/Kanto/keisei/keisei3100/keisei3150_2.png") { tmpl_std(0, 0) }
spriteset (keisei3150_2_end_mot, "gfx/private/Kanto/keisei/keisei3100/keisei3150_2.png") { tmpl_std_rev(0, 25) }
spriteset (keisei3150_2_end_mot_rev, "gfx/private/Kanto/keisei/keisei3100/keisei3150_2.png") { tmpl_std(0, 25) }
spriteset (keisei3150_2_front, "gfx/private/Kanto/keisei/keisei3100/keisei3150_2.png") { tmpl_std(0, 50) }
spriteset (keisei3150_2_end, "gfx/private/Kanto/keisei/keisei3100/keisei3150_2.png") { tmpl_std_rev(0, 75) }
spriteset (keisei3150_2_end_rev, "gfx/private/Kanto/keisei/keisei3100/keisei3150_2.png") { tmpl_std(0, 75) }

spriteset (keisei3100_2_front_mot_ac, "gfx/private/Kanto/keisei/keisei3100/keisei3100_2_ac.png") { tmpl_std(0, 0) }
spriteset (keisei3100_2_end_mot_ac, "gfx/private/Kanto/keisei/keisei3100/keisei3100_2_ac.png") { tmpl_std_rev(0, 25) }
spriteset (keisei3100_2_end_mot_ac_rev, "gfx/private/Kanto/keisei/keisei3100/keisei3100_2_ac.png") { tmpl_std(0, 25) }
spriteset (keisei3100_2_front_ac, "gfx/private/Kanto/keisei/keisei3100/keisei3100_2_ac.png") { tmpl_std(0, 50) }
spriteset (keisei3100_2_end_ac, "gfx/private/Kanto/keisei/keisei3100/keisei3100_2_ac.png") { tmpl_std_rev(0, 75) }
spriteset (keisei3100_2_end_ac_rev, "gfx/private/Kanto/keisei/keisei3100/keisei3100_2_ac.png") { tmpl_std(0, 75) }
spriteset (keisei3100_2_mot_ac, "gfx/private/Kanto/keisei/keisei3100/keisei3100_2_ac.png") { tmpl_std(0, 100) }
spriteset (keisei3100_2_mot_ac_rev, "gfx/private/Kanto/keisei/keisei3100/keisei3100_2_ac.png") { tmpl_std_rev(0, 100) }
spriteset (keisei3100_2_wag_ac, "gfx/private/Kanto/keisei/keisei3100/keisei3100_2_ac.png") { tmpl_symm(0, 125) }

spriteset (keisei3150_2_front_mot_ac, "gfx/private/Kanto/keisei/keisei3100/keisei3150_2_ac.png") { tmpl_std(0, 0) }
spriteset (keisei3150_2_end_mot_ac, "gfx/private/Kanto/keisei/keisei3100/keisei3150_2_ac.png") { tmpl_std_rev(0, 25) }
spriteset (keisei3150_2_end_mot_ac_rev, "gfx/private/Kanto/keisei/keisei3100/keisei3150_2_ac.png") { tmpl_std(0, 25) }
spriteset (keisei3150_2_front_ac, "gfx/private/Kanto/keisei/keisei3100/keisei3150_2_ac.png") { tmpl_std(0, 50) }
spriteset (keisei3150_2_end_ac, "gfx/private/Kanto/keisei/keisei3100/keisei3150_2_ac.png") { tmpl_std_rev(0, 75) }
spriteset (keisei3150_2_end_ac_rev, "gfx/private/Kanto/keisei/keisei3100/keisei3150_2_ac.png") { tmpl_std(0, 75) }

spriteset (keisei3100_3_front_mot, "gfx/private/Kanto/keisei/keisei3100/keisei3100_3.png") { tmpl_std(0, 0) }
spriteset (keisei3100_3_end_mot, "gfx/private/Kanto/keisei/keisei3100/keisei3100_3.png") { tmpl_std_rev(0, 25) }
spriteset (keisei3100_3_end_mot_rev, "gfx/private/Kanto/keisei/keisei3100/keisei3100_3.png") { tmpl_std(0, 25) }
spriteset (keisei3100_3_front, "gfx/private/Kanto/keisei/keisei3100/keisei3100_3.png") { tmpl_std(0, 50) }
spriteset (keisei3100_3_end, "gfx/private/Kanto/keisei/keisei3100/keisei3100_3.png") { tmpl_std_rev(0, 75) }
spriteset (keisei3100_3_end_rev, "gfx/private/Kanto/keisei/keisei3100/keisei3100_3.png") { tmpl_std(0, 75) }
spriteset (keisei3100_3_mot, "gfx/private/Kanto/keisei/keisei3100/keisei3100_3.png") { tmpl_std(0, 100) }
spriteset (keisei3100_3_mot_rev, "gfx/private/Kanto/keisei/keisei3100/keisei3100_3.png") { tmpl_std_rev(0, 100) }
spriteset (keisei3100_3_wag, "gfx/private/Kanto/keisei/keisei3100/keisei3100_3.png") { tmpl_symm(0, 125) }

spriteset (keisei3150_3_front_mot, "gfx/private/Kanto/keisei/keisei3100/keisei3150_3.png") { tmpl_std(0, 0) }
spriteset (keisei3150_3_end_mot, "gfx/private/Kanto/keisei/keisei3100/keisei3150_3.png") { tmpl_std_rev(0, 25) }
spriteset (keisei3150_3_end_mot_rev, "gfx/private/Kanto/keisei/keisei3100/keisei3150_3.png") { tmpl_std(0, 25) }
spriteset (keisei3150_3_front, "gfx/private/Kanto/keisei/keisei3100/keisei3150_3.png") { tmpl_std(0, 50) }
spriteset (keisei3150_3_end, "gfx/private/Kanto/keisei/keisei3100/keisei3150_3.png") { tmpl_std_rev(0, 75) }
spriteset (keisei3150_3_end_rev, "gfx/private/Kanto/keisei/keisei3100/keisei3150_3.png") { tmpl_std(0, 75) }



    switch(FEAT_TRAINS, PARENT, sw_keisei3100_1_front_mot_gfx, build_year>1962){
      1:keisei3150_1_front_mot;
      keisei3100_1_front_mot;
    }
    switch(FEAT_TRAINS, PARENT, sw_keisei3100_1_end_mot_gfx, build_year>1962){
      1:keisei3150_1_end_mot;
      keisei3100_1_end_mot;
    }
    switch(FEAT_TRAINS, PARENT, sw_keisei3100_1_end_mot_rev_gfx, build_year>1962){
      1:keisei3150_1_end_mot_rev;
      keisei3100_1_end_mot_rev;
    }
    switch(FEAT_TRAINS, PARENT, sw_keisei3100_1_front_gfx, build_year>1962){
      1:keisei3150_1_front;
      keisei3100_1_front;
    }
    switch(FEAT_TRAINS, PARENT, sw_keisei3100_1_end_gfx, build_year>1962){
      1:keisei3150_1_end;
      keisei3100_1_end;
    }
    switch(FEAT_TRAINS, PARENT, sw_keisei3100_1_end_rev_gfx, build_year>1962){
      1:keisei3150_1_end_rev;
      keisei3100_1_end_rev;
    }

    switch(FEAT_TRAINS, PARENT, sw_keisei3100_1_front, vehicle_is_reversed){
      1:sw_keisei3100_1_front_gfx;
      sw_keisei3100_1_front_mot_gfx;
    }
    switch(FEAT_TRAINS, PARENT, sw_keisei3100_1_end, vehicle_is_reversed){
      1:sw_keisei3100_1_end_mot_gfx;
      sw_keisei3100_1_end_gfx;
    }


      switch(FEAT_TRAINS, SELF, sw_keisei3100_1_panto_placer_1,position_in_vehid_chain %2){
        1: keisei3100_1_mot;
        keisei3100_1_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3100_1_panto_placer_1_rev,position_in_vehid_chain_from_end %2){
        0: keisei3100_1_mot_rev;
        keisei3100_1_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3100_1_panto_placer_main,vehicle_is_reversed){
        1: sw_keisei3100_1_panto_placer_1_rev;
        sw_keisei3100_1_panto_placer_1;
      }


      switch(FEAT_TRAINS, SELF, sw_keisei3100_1_fake_head_placer_1,position_in_vehid_chain){
        2: sw_keisei3100_1_end_gfx;
        3: sw_keisei3100_1_end_mot_rev_gfx;
        sw_keisei3100_1_panto_placer_main;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3100_1_fake_head_placer_1_rev,position_in_vehid_chain_from_end-1){
        2: sw_keisei3100_1_end_rev_gfx;
        3: sw_keisei3100_1_end_mot_gfx;
        sw_keisei3100_1_panto_placer_main;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3100_1_fake_head_placer_gfx,vehicle_is_reversed){
        1: sw_keisei3100_1_fake_head_placer_1_rev;
        sw_keisei3100_1_fake_head_placer_1;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3100_1_fake_head_placer_main,num_vehs_in_vehid_chain>7 - 1){
        1: sw_keisei3100_1_fake_head_placer_gfx;
        sw_keisei3100_1_panto_placer_main;
      }

    switch(FEAT_TRAINS, SELF, sw_keisei3100_1_gfx_main,position_in_vehid_chain_from_end){
        0: sw_keisei3100_1_end;
        sw_keisei3100_1_fake_head_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei3100_livery_1,vehicle_type_id){
        mu_car: sw_keisei3100_1_gfx_main;
        sw_keisei3100_1_front;
    }




      switch(FEAT_TRAINS, PARENT, sw_keisei3100_2_front_mot, current_year>1986){
        1:keisei3100_2_front_mot_ac;
        keisei3100_2_front_mot;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3100_2_end_mot, current_year>1986){
        1:keisei3100_2_end_mot_ac;
        keisei3100_2_end_mot;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3100_2_end_mot_rev, current_year>1986){
        1:keisei3100_2_end_mot_ac_rev;
        keisei3100_2_end_mot_rev;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3100_2_front, current_year>1986){
        1:keisei3100_2_front_ac;
        keisei3100_2_front;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3100_2_end, current_year>1986){
        1:keisei3100_2_end_ac;
        keisei3100_2_end;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3100_2_end_rev, current_year>1986){
        1:keisei3100_2_end_ac_rev;
        keisei3100_2_end_rev;
      }

      switch(FEAT_TRAINS, PARENT, sw_keisei3150_2_front_mot, current_year>1985){
        1:keisei3150_2_front_mot_ac;
        keisei3150_2_front_mot;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3150_2_end_mot, current_year>1985){
        1:keisei3150_2_end_mot_ac;
        keisei3150_2_end_mot;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3150_2_end_mot_rev, current_year>1985){
        1:keisei3150_2_end_mot_ac_rev;
        keisei3150_2_end_mot_rev;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3150_2_front, current_year>1985){
        1:keisei3150_2_front_ac;
        keisei3150_2_front;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3150_2_end, current_year>1985){
        1:keisei3150_2_end_ac;
        keisei3150_2_end;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3150_2_end_rev, current_year>1985){
        1:keisei3150_2_end_ac_rev;
        keisei3150_2_end_rev;
      }

      switch(FEAT_TRAINS, PARENT, sw_keisei3100_2_front_mot_gfx_0, build_year>1962){
        1:sw_keisei3150_2_front_mot;
        sw_keisei3100_2_front_mot;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3100_2_end_mot_gfx_0, build_year>1962){
        1:sw_keisei3150_2_end_mot;
        sw_keisei3100_2_end_mot;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3100_2_end_mot_rev_gfx, build_year>1962){
        1:sw_keisei3150_2_end_mot_rev;
        sw_keisei3100_2_end_mot_rev;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3100_2_front_gfx_0, build_year>1962){
        1:sw_keisei3150_2_front;
        sw_keisei3100_2_front;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3100_2_end_gfx_0, build_year>1962){
        1:sw_keisei3150_2_end;
        sw_keisei3100_2_end;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3100_2_end_rev_gfx, build_year>1962){
        1:sw_keisei3150_2_end_rev;
        sw_keisei3100_2_end_rev;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3100_2_mot_gfx, [(build_year>1962&&current_year>1985)||(build_year<=1962&&current_year>1986)]){
        1:keisei3100_2_mot_ac;
        keisei3100_2_mot;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3100_2_mot_rev_gfx, [(build_year>1962&&current_year>1985)||(build_year<=1962&&current_year>1986)]){
        1:keisei3100_2_mot_ac_rev;
        keisei3100_2_mot_rev;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3100_2_wag_gfx, [(build_year>1962&&current_year>1985)||(build_year<=1962&&current_year>1986)]){
        1:keisei3100_2_wag_ac;
        keisei3100_2_wag;
      }

      switch(FEAT_TRAINS, PARENT, sw_keisei3100_2_front_gfx, vehicle_is_reversed){
        1:sw_keisei3100_2_front_gfx_0;
        sw_keisei3100_2_front_mot_gfx_0;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3100_2_end_gfx, vehicle_is_reversed){
        1:sw_keisei3100_2_end_mot_gfx_0;
        sw_keisei3100_2_end_gfx_0;
      }


      switch(FEAT_TRAINS, SELF, sw_keisei3100_2_panto_placer_1,position_in_vehid_chain %2){
        1: sw_keisei3100_2_mot_gfx;
        sw_keisei3100_2_wag_gfx;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3100_2_panto_placer_1_rev,position_in_vehid_chain_from_end %2){
        0: sw_keisei3100_2_mot_rev_gfx;
        sw_keisei3100_2_wag_gfx;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3100_2_panto_placer_main,vehicle_is_reversed){
        1: sw_keisei3100_2_panto_placer_1_rev;
        sw_keisei3100_2_panto_placer_1;
      }


      switch(FEAT_TRAINS, SELF, sw_keisei3100_2_fake_head_placer_1,position_in_vehid_chain){
        2: sw_keisei3100_2_end_gfx_0;
        3: sw_keisei3100_2_end_mot_rev_gfx;
        sw_keisei3100_2_panto_placer_main;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3100_2_fake_head_placer_1_rev,position_in_vehid_chain_from_end-1){
        2: sw_keisei3100_2_end_rev_gfx;
        3: sw_keisei3100_2_end_mot_gfx_0;
        sw_keisei3100_2_panto_placer_main;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3100_2_fake_head_placer_gfx,vehicle_is_reversed){
        1: sw_keisei3100_2_fake_head_placer_1_rev;
        sw_keisei3100_2_fake_head_placer_1;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3100_2_fake_head_placer_main,num_vehs_in_vehid_chain>7 - 1){
        1: sw_keisei3100_2_fake_head_placer_gfx;
        sw_keisei3100_2_panto_placer_main;
      }

    switch(FEAT_TRAINS, SELF, sw_keisei3100_2_gfx_main,position_in_vehid_chain_from_end){
        0: sw_keisei3100_2_end_gfx;
        sw_keisei3100_2_fake_head_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei3100_livery_2,vehicle_type_id){
        mu_car: sw_keisei3100_2_gfx_main;
        sw_keisei3100_2_front_gfx;
    }



    switch(FEAT_TRAINS, PARENT, sw_keisei3100_3_front_mot_gfx, build_year>1962){
      1:keisei3150_3_front_mot;
      keisei3100_3_front_mot;
    }
    switch(FEAT_TRAINS, PARENT, sw_keisei3100_3_end_mot_gfx, build_year>1962){
      1:keisei3150_3_end_mot;
      keisei3100_3_end_mot;
    }
    switch(FEAT_TRAINS, PARENT, sw_keisei3100_3_end_mot_rev_gfx, build_year>1962){
      1:keisei3150_3_end_mot_rev;
      keisei3100_3_end_mot_rev;
    }
    switch(FEAT_TRAINS, PARENT, sw_keisei3100_3_front_gfx, build_year>1962){
      1:keisei3150_3_front;
      keisei3100_3_front;
    }
    switch(FEAT_TRAINS, PARENT, sw_keisei3100_3_end_gfx, build_year>1962){
      1:keisei3150_3_end;
      keisei3100_3_end;
    }
    switch(FEAT_TRAINS, PARENT, sw_keisei3100_3_end_rev_gfx, build_year>1962){
      1:keisei3150_3_end_rev;
      keisei3100_3_end_rev;
    }

    switch(FEAT_TRAINS, PARENT, sw_keisei3100_3_front, vehicle_is_reversed){
      1:sw_keisei3100_3_front_gfx;
      sw_keisei3100_3_front_mot_gfx;
    }
    switch(FEAT_TRAINS, PARENT, sw_keisei3100_3_end, vehicle_is_reversed){
      1:sw_keisei3100_3_end_mot_gfx;
      sw_keisei3100_3_end_gfx;
    }


      switch(FEAT_TRAINS, SELF, sw_keisei3100_3_panto_placer_1,position_in_vehid_chain %2){
        1: keisei3100_3_mot;
        keisei3100_3_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3100_3_panto_placer_1_rev,position_in_vehid_chain_from_end %2){
        0: keisei3100_3_mot_rev;
        keisei3100_3_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3100_3_panto_placer_main,vehicle_is_reversed){
        1: sw_keisei3100_3_panto_placer_1_rev;
        sw_keisei3100_3_panto_placer_1;
      }


      switch(FEAT_TRAINS, SELF, sw_keisei3100_3_fake_head_placer_1,position_in_vehid_chain){
        2: sw_keisei3100_3_end_gfx;
        3: sw_keisei3100_3_end_mot_rev_gfx;
        sw_keisei3100_3_panto_placer_main;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3100_3_fake_head_placer_1_rev,position_in_vehid_chain_from_end-1){
        2: sw_keisei3100_3_end_rev_gfx;
        3: sw_keisei3100_3_end_mot_gfx;
        sw_keisei3100_3_panto_placer_main;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3100_3_fake_head_placer_gfx,vehicle_is_reversed){
        1: sw_keisei3100_3_fake_head_placer_1_rev;
        sw_keisei3100_3_fake_head_placer_1;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3100_3_fake_head_placer_main,num_vehs_in_vehid_chain>7 - 1){
        1: sw_keisei3100_3_fake_head_placer_gfx;
        sw_keisei3100_3_panto_placer_main;
      }

    switch(FEAT_TRAINS, SELF, sw_keisei3100_3_gfx_main,position_in_vehid_chain_from_end){
        0: sw_keisei3100_3_end;
        sw_keisei3100_3_fake_head_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei3100_livery_3,vehicle_type_id){
        mu_car: sw_keisei3100_3_gfx_main;
        sw_keisei3100_3_front;
    }


  switch(FEAT_TRAINS, PARENT, sw_keisei3100_livery_0,current_year){
      0..1980:sw_keisei3100_livery_1;
      1981..1991:sw_keisei3100_livery_2;
      sw_keisei3100_livery_3;
    }
  switch(FEAT_TRAINS, SELF, sw_keisei3100_lv,cargo_subtype){
    0:sw_keisei3100_livery_0;
    1:sw_keisei3100_livery_1;
    2:sw_keisei3100_livery_2;
    3:sw_keisei3100_livery_3;
  }
  switch(FEAT_TRAINS, SELF, sw_keisei3100_lv_desc,cargo_subtype){
    0:string(LV_RANDOM);
    1:string(LV_KEISEI_AKADEN);
    2:string(LV_KEISEI_ORANGE);
    3:string(LV_KEISEI_WHITE);
  }

item(FEAT_TRAINS, keisei3100) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_KEISEI), "3100/3150", string(STR_NAME_TYPE));
        introduction_date: date(1960, 1, 1);
        model_life: 26;
        vehicle_life: 20;
        reliability_decay: 10;

        cargo_capacity: 1;
        loading_speed: param_loading_3D;
        cost_factor: 19;
        running_cost_factor: 48;

        speed: 100 km/h;
        track_type: TR_1435_DC;
        power: 620 kW;
        weight: 33 ton;

        climates_available: param_disable_keisei == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        power: sw_keisei3000_1_power_main()*4*1342/1000;
        cargo_subtype_text:sw_keisei3100_lv_desc;
        default: sw_keisei3100_lv;
        purchase: keisei3100_purchase;
        can_attach_wagon: sw_1435_attach_vehid;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_2, 2,4)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_KEISEI)));

  start_stop: sw_stop_start_2;
        cargo_capacity: 130*param_capacity_mod/3;
        sound_effect: sw_KS3100_start_sound;
    }
    livery_override(mu_car){
        cargo_subtype_text:sw_keisei3100_lv_desc;
        loading_speed: param_loading_3D;
        cargo_capacity: 130*param_capacity_mod/3;
        default: sw_keisei3100_lv;
        power: sw_keisei3000_1_power_main()*4*1342/1000;
        weight: 33;
        length: 8;
      }
}
# 208 "src/_private.pnml" 2
# 1 "src/private/Kanto/keisei/keisei3200.pnml" 1

  spriteset(keisei3200_purchase_c1_1, "gfx/private/Kanto/keisei/keisei3200/keisei3200_1.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(keisei3200_purchase_c2_1, "gfx/private/Kanto/keisei/keisei3200/keisei3200_1.png"){ tmpl_purchase_2c(0, 50) }
  switch(FEAT_TRAINS, SELF, keisei3200_purchase_1, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_keisei; 1: keisei3200_purchase_c1_1; 2: keisei3200_purchase_c2_1;}
  spriteset(keisei3200_purchase_c1_2, "gfx/private/Kanto/keisei/keisei3200/keisei3200_2.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(keisei3200_purchase_c2_2, "gfx/private/Kanto/keisei/keisei3200/keisei3200_2.png"){ tmpl_purchase_2c(0, 50) }
  switch(FEAT_TRAINS, SELF, keisei3200_purchase_2, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_keisei; 1: keisei3200_purchase_c1_2; 2: keisei3200_purchase_c2_2;}
  spriteset(keisei3200_purchase_c1_3, "gfx/private/Kanto/keisei/keisei3200/keisei3200_3.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(keisei3200_purchase_c2_3, "gfx/private/Kanto/keisei/keisei3200/keisei3200_3.png"){ tmpl_purchase_2c(0, 50) }
  switch(FEAT_TRAINS, SELF, keisei3200_purchase_3, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_keisei; 1: keisei3200_purchase_c1_3; 2: keisei3200_purchase_c2_3;}
  spriteset(keisei3200_purchase_c1_4, "gfx/private/Kanto/keisei/keisei3200/keisei3200_4.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(keisei3200_purchase_c2_4, "gfx/private/Kanto/keisei/keisei3200/keisei3200_4.png"){ tmpl_purchase_2c(0, 50) }
  switch(FEAT_TRAINS, SELF, keisei3200_purchase_4, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_keisei; 1: keisei3200_purchase_c1_4; 2: keisei3200_purchase_c2_4;}

  switch(FEAT_TRAINS, SELF, keisei3200_purchase, current_year){
    0..1980:keisei3200_purchase_1;
    1981..1988:keisei3200_purchase_2;
    1989..1991:keisei3200_purchase_3;
    keisei3200_purchase_4;
  }

spriteset (keisei3200_1_front, "gfx/private/Kanto/keisei/keisei3200/keisei3200_1.png") { tmpl_std(0, 0) }
spriteset (keisei3200_1_end, "gfx/private/Kanto/keisei/keisei3200/keisei3200_1.png") { tmpl_std_rev(0, 25) }
spriteset (keisei3200_1_end_rev, "gfx/private/Kanto/keisei/keisei3200/keisei3200_1.png") { tmpl_std(0, 25) }
spriteset (keisei3200_1_mot, "gfx/private/Kanto/keisei/keisei3200/keisei3200_1.png") { tmpl_std(0, 50) }
spriteset (keisei3200_1_mot_rev, "gfx/private/Kanto/keisei/keisei3200/keisei3200_1.png") { tmpl_std_rev(0, 50) }
spriteset (keisei3200_1_mot_2, "gfx/private/Kanto/keisei/keisei3200/keisei3200_1.png") { tmpl_symm(0, 75) }
spriteset (keisei3200_1_wag, "gfx/private/Kanto/keisei/keisei3200/keisei3200_1.png") { tmpl_symm(0, 100) }

spriteset (keisei3200_1_front_ac, "gfx/private/Kanto/keisei/keisei3200/keisei3200_1_ac.png") { tmpl_std(0, 0) }
spriteset (keisei3200_1_end_ac, "gfx/private/Kanto/keisei/keisei3200/keisei3200_1_ac.png") { tmpl_std_rev(0, 25) }
spriteset (keisei3200_1_end_ac_rev, "gfx/private/Kanto/keisei/keisei3200/keisei3200_1_ac.png") { tmpl_std(0, 25) }
spriteset (keisei3200_1_mot_ac, "gfx/private/Kanto/keisei/keisei3200/keisei3200_1_ac.png") { tmpl_std(0, 50) }
spriteset (keisei3200_1_mot_ac_rev, "gfx/private/Kanto/keisei/keisei3200/keisei3200_1_ac.png") { tmpl_std_rev(0, 50) }
spriteset (keisei3200_1_mot_2_ac, "gfx/private/Kanto/keisei/keisei3200/keisei3200_1_ac.png") { tmpl_symm(0, 75) }
spriteset (keisei3200_1_wag_ac, "gfx/private/Kanto/keisei/keisei3200/keisei3200_1_ac.png") { tmpl_symm(0, 100) }

spriteset (keisei3200_2_front, "gfx/private/Kanto/keisei/keisei3200/keisei3200_2.png") { tmpl_std(0, 0) }
spriteset (keisei3200_2_end, "gfx/private/Kanto/keisei/keisei3200/keisei3200_2.png") { tmpl_std_rev(0, 25) }
spriteset (keisei3200_2_end_rev, "gfx/private/Kanto/keisei/keisei3200/keisei3200_2.png") { tmpl_std(0, 25) }
spriteset (keisei3200_2_mot, "gfx/private/Kanto/keisei/keisei3200/keisei3200_2.png") { tmpl_std(0, 50) }
spriteset (keisei3200_2_mot_rev, "gfx/private/Kanto/keisei/keisei3200/keisei3200_2.png") { tmpl_std_rev(0, 50) }
spriteset (keisei3200_2_mot_2, "gfx/private/Kanto/keisei/keisei3200/keisei3200_2.png") { tmpl_symm(0, 75) }
spriteset (keisei3200_2_wag, "gfx/private/Kanto/keisei/keisei3200/keisei3200_2.png") { tmpl_symm(0, 100) }

spriteset (keisei3200_2_front_ac, "gfx/private/Kanto/keisei/keisei3200/keisei3200_2_ac.png") { tmpl_std(0, 0) }
spriteset (keisei3200_2_end_ac, "gfx/private/Kanto/keisei/keisei3200/keisei3200_2_ac.png") { tmpl_std_rev(0, 25) }
spriteset (keisei3200_2_end_ac_rev, "gfx/private/Kanto/keisei/keisei3200/keisei3200_2_ac.png") { tmpl_std(0, 25) }
spriteset (keisei3200_2_mot_ac, "gfx/private/Kanto/keisei/keisei3200/keisei3200_2_ac.png") { tmpl_std(0, 50) }
spriteset (keisei3200_2_mot_ac_rev, "gfx/private/Kanto/keisei/keisei3200/keisei3200_2_ac.png") { tmpl_std_rev(0, 50) }
spriteset (keisei3200_2_mot_2_ac, "gfx/private/Kanto/keisei/keisei3200/keisei3200_2_ac.png") { tmpl_symm(0, 75) }
spriteset (keisei3200_2_wag_ac, "gfx/private/Kanto/keisei/keisei3200/keisei3200_2_ac.png") { tmpl_symm(0, 100) }

spriteset (keisei3200_3_front, "gfx/private/Kanto/keisei/keisei3200/keisei3200_3.png") { tmpl_std(0, 0) }
spriteset (keisei3200_3_end, "gfx/private/Kanto/keisei/keisei3200/keisei3200_3.png") { tmpl_std_rev(0, 25) }
spriteset (keisei3200_3_end_rev, "gfx/private/Kanto/keisei/keisei3200/keisei3200_3.png") { tmpl_std(0, 25) }
spriteset (keisei3200_3_mot, "gfx/private/Kanto/keisei/keisei3200/keisei3200_3.png") { tmpl_std(0, 50) }
spriteset (keisei3200_3_mot_rev, "gfx/private/Kanto/keisei/keisei3200/keisei3200_3.png") { tmpl_std_rev(0, 50) }
spriteset (keisei3200_3_mot_2, "gfx/private/Kanto/keisei/keisei3200/keisei3200_3.png") { tmpl_symm(0, 75) }
spriteset (keisei3200_3_wag, "gfx/private/Kanto/keisei/keisei3200/keisei3200_3.png") { tmpl_symm(0, 100) }

spriteset (keisei3200_4_front, "gfx/private/Kanto/keisei/keisei3200/keisei3200_4.png") { tmpl_std(0, 0) }
spriteset (keisei3200_4_end, "gfx/private/Kanto/keisei/keisei3200/keisei3200_4.png") { tmpl_std_rev(0, 25) }
spriteset (keisei3200_4_end_rev, "gfx/private/Kanto/keisei/keisei3200/keisei3200_4.png") { tmpl_std(0, 25) }
spriteset (keisei3200_4_mot, "gfx/private/Kanto/keisei/keisei3200/keisei3200_4.png") { tmpl_std(0, 50) }
spriteset (keisei3200_4_mot_rev, "gfx/private/Kanto/keisei/keisei3200/keisei3200_4.png") { tmpl_std_rev(0, 50) }
spriteset (keisei3200_4_mot_2, "gfx/private/Kanto/keisei/keisei3200/keisei3200_4.png") { tmpl_symm(0, 75) }
spriteset (keisei3200_4_wag, "gfx/private/Kanto/keisei/keisei3200/keisei3200_4.png") { tmpl_symm(0, 100) }

spriteset (keisei3200_5_front, "gfx/private/Kanto/keisei/keisei3200/keisei3200_5.png") { tmpl_std(0, 0) }
spriteset (keisei3200_5_end, "gfx/private/Kanto/keisei/keisei3200/keisei3200_5.png") { tmpl_std_rev(0, 25) }
spriteset (keisei3200_5_end_rev, "gfx/private/Kanto/keisei/keisei3200/keisei3200_5.png") { tmpl_std(0, 25) }
spriteset (keisei3200_5_mot, "gfx/private/Kanto/keisei/keisei3200/keisei3200_5.png") { tmpl_std(0, 50) }
spriteset (keisei3200_5_mot_rev, "gfx/private/Kanto/keisei/keisei3200/keisei3200_5.png") { tmpl_std_rev(0, 50) }
spriteset (keisei3200_5_mot_2, "gfx/private/Kanto/keisei/keisei3200/keisei3200_5.png") { tmpl_symm(0, 75) }
spriteset (keisei3200_5_wag, "gfx/private/Kanto/keisei/keisei3200/keisei3200_5.png") { tmpl_symm(0, 100) }



    switch(FEAT_TRAINS, SELF, sw_keisei3200_1_front, current_year>1988){
      1: keisei3200_1_front_ac;
      keisei3200_1_front;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei3200_1_end, current_year>1988){
      1: keisei3200_1_end_ac;
      keisei3200_1_end;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei3200_1_end_rev, current_year>1988){
      1: keisei3200_1_end_ac_rev;
      keisei3200_1_end_rev;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei3200_1_mot, current_year>1988){
      1: keisei3200_1_mot_ac;
      keisei3200_1_mot;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei3200_1_mot_rev, current_year>1988){
      1: keisei3200_1_mot_ac_rev;
      keisei3200_1_mot_rev;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei3200_1_mot_2, current_year>1988){
      1: keisei3200_1_mot_2_ac;
      keisei3200_1_mot_2;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei3200_1_wag, current_year>1988){
      1: keisei3200_1_wag_ac;
      keisei3200_1_wag;
    }


      switch(FEAT_TRAINS, SELF, sw_keisei3200_1_panto_placer_1,position_in_vehid_chain %8){
        0: sw_keisei3200_1_mot_rev;
        3: sw_keisei3200_1_mot_2;
        sw_keisei3200_1_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3200_1_panto_placer_1_rev,position_in_vehid_chain_from_end %8-1){
        0: sw_keisei3200_1_mot;
        3: sw_keisei3200_1_mot_2;
        sw_keisei3200_1_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3200_1_panto_placer_main_1,vehicle_is_reversed){
        1: sw_keisei3200_1_panto_placer_1_rev;
        sw_keisei3200_1_panto_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_keisei3200_1_panto_placer_2,position_in_vehid_chain %4){
        0: sw_keisei3200_1_mot_rev;
        1: sw_keisei3200_1_mot;
        sw_keisei3200_1_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3200_1_panto_placer_2_rev,position_in_vehid_chain_from_end %4-1){
        0: sw_keisei3200_1_mot;
        1: sw_keisei3200_1_mot_rev;
        sw_keisei3200_1_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3200_1_panto_placer_main_2,vehicle_is_reversed){
        1: sw_keisei3200_1_panto_placer_2_rev;
        sw_keisei3200_1_panto_placer_2;
      }
    switch(FEAT_TRAINS, SELF, sw_keisei3200_1_panto_placer_main,num_vehs_in_vehid_chain+1){
        6: sw_keisei3200_1_panto_placer_main_1;
        sw_keisei3200_1_panto_placer_main_2;
      }


      switch(FEAT_TRAINS, SELF, sw_keisei3200_1_fake_head_placer_1,position_in_vehid_chain%4){
        2: sw_keisei3200_1_end;
        3: sw_keisei3200_1_end_rev;
        sw_keisei3200_1_panto_placer_main;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3200_1_fake_head_placer_1_rev,position_in_vehid_chain_from_end%4){
        3: sw_keisei3200_1_end_rev;
        0: sw_keisei3200_1_end;
        sw_keisei3200_1_panto_placer_main;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3200_1_fake_head_placer_gfx,vehicle_is_reversed){
        1: sw_keisei3200_1_fake_head_placer_1_rev;
        sw_keisei3200_1_fake_head_placer_1;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3200_1_fake_head_placer_main,num_vehs_in_vehid_chain>7 - 1){
        1: sw_keisei3200_1_fake_head_placer_gfx;
        sw_keisei3200_1_panto_placer_main;
      }
  switch(FEAT_TRAINS, SELF, sw_keisei3200_1_gfx_main,position_in_vehid_chain_from_end){
    0: sw_keisei3200_1_end;
    sw_keisei3200_1_fake_head_placer_main;
  }
  switch(FEAT_TRAINS, SELF, sw_keisei3200_livery_1,vehicle_type_id){
    mu_car: sw_keisei3200_1_gfx_main;
    sw_keisei3200_1_front;
  }



    switch(FEAT_TRAINS, SELF, sw_keisei3200_2_front, current_year>1988){
      1: keisei3200_2_front_ac;
      keisei3200_2_front;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei3200_2_end, current_year>1988){
      1: keisei3200_2_end_ac;
      keisei3200_2_end;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei3200_2_end_rev, current_year>1988){
      1: keisei3200_2_end_ac_rev;
      keisei3200_2_end_rev;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei3200_2_mot, current_year>1988){
      1: keisei3200_2_mot_ac;
      keisei3200_2_mot;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei3200_2_mot_rev, current_year>1988){
      1: keisei3200_2_mot_ac_rev;
      keisei3200_2_mot_rev;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei3200_2_mot_2, current_year>1988){
      1: keisei3200_2_mot_2_ac;
      keisei3200_2_mot_2;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei3200_2_wag, current_year>1988){
      1: keisei3200_2_wag_ac;
      keisei3200_2_wag;
    }


      switch(FEAT_TRAINS, SELF, sw_keisei3200_2_panto_placer_1,position_in_vehid_chain %8){
        0: sw_keisei3200_2_mot_rev;
        3: sw_keisei3200_2_mot_2;
        sw_keisei3200_2_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3200_2_panto_placer_1_rev,position_in_vehid_chain_from_end %8-1){
        0: sw_keisei3200_2_mot;
        3: sw_keisei3200_2_mot_2;
        sw_keisei3200_2_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3200_2_panto_placer_main_1,vehicle_is_reversed){
        1: sw_keisei3200_2_panto_placer_1_rev;
        sw_keisei3200_2_panto_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_keisei3200_2_panto_placer_2,position_in_vehid_chain %4){
        0: sw_keisei3200_2_mot_rev;
        1: sw_keisei3200_2_mot;
        sw_keisei3200_2_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3200_2_panto_placer_2_rev,position_in_vehid_chain_from_end %4-1){
        0: sw_keisei3200_2_mot;
        1: sw_keisei3200_2_mot_rev;
        sw_keisei3200_2_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3200_2_panto_placer_main_2,vehicle_is_reversed){
        1: sw_keisei3200_2_panto_placer_2_rev;
        sw_keisei3200_2_panto_placer_2;
      }
    switch(FEAT_TRAINS, SELF, sw_keisei3200_2_panto_placer_main,num_vehs_in_vehid_chain+1){
        6: sw_keisei3200_2_panto_placer_main_1;
        sw_keisei3200_2_panto_placer_main_2;
      }


      switch(FEAT_TRAINS, SELF, sw_keisei3200_2_fake_head_placer_1,position_in_vehid_chain%4){
        2: sw_keisei3200_2_end;
        3: sw_keisei3200_2_end_rev;
        sw_keisei3200_2_panto_placer_main;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3200_2_fake_head_placer_1_rev,position_in_vehid_chain_from_end%4){
        3: sw_keisei3200_2_end_rev;
        0: sw_keisei3200_2_end;
        sw_keisei3200_2_panto_placer_main;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3200_2_fake_head_placer_gfx,vehicle_is_reversed){
        1: sw_keisei3200_2_fake_head_placer_1_rev;
        sw_keisei3200_2_fake_head_placer_1;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3200_2_fake_head_placer_main,num_vehs_in_vehid_chain>7 - 1){
        1: sw_keisei3200_2_fake_head_placer_gfx;
        sw_keisei3200_2_panto_placer_main;
      }
  switch(FEAT_TRAINS, SELF, sw_keisei3200_2_gfx_main,position_in_vehid_chain_from_end){
    0: sw_keisei3200_2_end;
    sw_keisei3200_2_fake_head_placer_main;
  }
  switch(FEAT_TRAINS, SELF, sw_keisei3200_livery_2,vehicle_type_id){
    mu_car: sw_keisei3200_2_gfx_main;
    sw_keisei3200_2_front;
  }




      switch(FEAT_TRAINS, SELF, sw_keisei3200_3_panto_placer_1,position_in_vehid_chain %8){
        0: keisei3200_3_mot_rev;
        1: keisei3200_3_mot;
        3: keisei3200_3_mot;
        keisei3200_3_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3200_3_panto_placer_1_rev,position_in_vehid_chain_from_end %8-1){
        0: keisei3200_3_mot;
        1: keisei3200_3_mot_rev;
        3: keisei3200_3_mot_rev;
        keisei3200_3_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3200_3_panto_placer_main_1,vehicle_is_reversed){
        1: sw_keisei3200_3_panto_placer_1_rev;
        sw_keisei3200_3_panto_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_keisei3200_3_panto_placer_2,position_in_vehid_chain %4){
        0: keisei3200_3_mot_rev;
        1: keisei3200_3_mot;
        keisei3200_3_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3200_3_panto_placer_2_rev,position_in_vehid_chain_from_end %4-1){
        0: keisei3200_3_mot;
        1: keisei3200_3_mot_rev;
        keisei3200_3_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3200_3_panto_placer_main_2,vehicle_is_reversed){
        1: sw_keisei3200_3_panto_placer_2_rev;
        sw_keisei3200_3_panto_placer_2;
      }
    switch(FEAT_TRAINS, SELF, sw_keisei3200_3_panto_placer_main,num_vehs_in_vehid_chain){
        0..6: sw_keisei3200_3_panto_placer_main_1;
        sw_keisei3200_3_panto_placer_main_2;
      }


      switch(FEAT_TRAINS, SELF, sw_keisei3200_3_fake_head_placer_1,position_in_vehid_chain%4){
        2: keisei3200_3_end;
        3: keisei3200_3_end_rev;
        sw_keisei3200_3_panto_placer_main;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3200_3_fake_head_placer_1_rev,position_in_vehid_chain_from_end%4){
        3: keisei3200_3_end_rev;
        0: keisei3200_3_end;
        sw_keisei3200_3_panto_placer_main;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3200_3_fake_head_placer_gfx,vehicle_is_reversed){
        1: sw_keisei3200_3_fake_head_placer_1_rev;
        sw_keisei3200_3_fake_head_placer_1;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3200_3_fake_head_placer_main,num_vehs_in_vehid_chain>7 - 1){
        1: sw_keisei3200_3_fake_head_placer_gfx;
        sw_keisei3200_3_panto_placer_main;
      }
  switch(FEAT_TRAINS, SELF, sw_keisei3200_3_gfx_main,position_in_vehid_chain_from_end){
    0: keisei3200_3_end;
    sw_keisei3200_3_fake_head_placer_main;
  }
  switch(FEAT_TRAINS, SELF, sw_keisei3200_livery_3,vehicle_type_id){
    mu_car: sw_keisei3200_3_gfx_main;
    keisei3200_3_front;
  }




      switch(FEAT_TRAINS, SELF, sw_keisei3200_4_panto_placer_1,position_in_vehid_chain %8){
        0: keisei3200_4_mot_rev;
        1: keisei3200_4_mot;
        3: keisei3200_4_mot;
        keisei3200_4_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3200_4_panto_placer_1_rev,position_in_vehid_chain_from_end %8-1){
        0: keisei3200_4_mot;
        1: keisei3200_4_mot_rev;
        3: keisei3200_4_mot_rev;
        keisei3200_4_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3200_4_panto_placer_main_1,vehicle_is_reversed){
        1: sw_keisei3200_4_panto_placer_1_rev;
        sw_keisei3200_4_panto_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_keisei3200_4_panto_placer_2,position_in_vehid_chain %4){
        0: keisei3200_4_mot_rev;
        1: keisei3200_4_mot;
        keisei3200_4_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3200_4_panto_placer_2_rev,position_in_vehid_chain_from_end %4-1){
        0: keisei3200_4_mot;
        1: keisei3200_4_mot_rev;
        keisei3200_4_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3200_4_panto_placer_main_2,vehicle_is_reversed){
        1: sw_keisei3200_4_panto_placer_2_rev;
        sw_keisei3200_4_panto_placer_2;
      }
    switch(FEAT_TRAINS, SELF, sw_keisei3200_4_panto_placer_main,num_vehs_in_vehid_chain){
        0..6: sw_keisei3200_4_panto_placer_main_1;
        sw_keisei3200_4_panto_placer_main_2;
      }


      switch(FEAT_TRAINS, SELF, sw_keisei3200_4_fake_head_placer_1,position_in_vehid_chain%4){
        2: keisei3200_4_end;
        3: keisei3200_4_end_rev;
        sw_keisei3200_4_panto_placer_main;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3200_4_fake_head_placer_1_rev,position_in_vehid_chain_from_end%4){
        3: keisei3200_4_end_rev;
        0: keisei3200_4_end;
        sw_keisei3200_4_panto_placer_main;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3200_4_fake_head_placer_gfx,vehicle_is_reversed){
        1: sw_keisei3200_4_fake_head_placer_1_rev;
        sw_keisei3200_4_fake_head_placer_1;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3200_4_fake_head_placer_main,num_vehs_in_vehid_chain>7 - 1){
        1: sw_keisei3200_4_fake_head_placer_gfx;
        sw_keisei3200_4_panto_placer_main;
      }
  switch(FEAT_TRAINS, SELF, sw_keisei3200_4_gfx_main,position_in_vehid_chain_from_end){
    0: keisei3200_4_end;
    sw_keisei3200_4_fake_head_placer_main;
  }
  switch(FEAT_TRAINS, SELF, sw_keisei3200_livery_4,vehicle_type_id){
    mu_car: sw_keisei3200_4_gfx_main;
    keisei3200_4_front;
  }




      switch(FEAT_TRAINS, SELF, sw_keisei3200_5_panto_placer_1,position_in_vehid_chain %8){
        0: keisei3200_5_mot_rev;
        1: keisei3200_5_mot;
        3: keisei3200_5_mot;
        keisei3200_5_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3200_5_panto_placer_1_rev,position_in_vehid_chain_from_end %8-1){
        0: keisei3200_5_mot;
        1: keisei3200_5_mot_rev;
        3: keisei3200_5_mot_rev;
        keisei3200_5_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3200_5_panto_placer_main_1,vehicle_is_reversed){
        1: sw_keisei3200_5_panto_placer_1_rev;
        sw_keisei3200_5_panto_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_keisei3200_5_panto_placer_2,position_in_vehid_chain %4){
        0: keisei3200_5_mot_rev;
        1: keisei3200_5_mot;
        keisei3200_5_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3200_5_panto_placer_2_rev,position_in_vehid_chain_from_end %4-1){
        0: keisei3200_5_mot;
        1: keisei3200_5_mot_rev;
        keisei3200_5_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3200_5_panto_placer_main_2,vehicle_is_reversed){
        1: sw_keisei3200_5_panto_placer_2_rev;
        sw_keisei3200_5_panto_placer_2;
      }
    switch(FEAT_TRAINS, SELF, sw_keisei3200_5_panto_placer_main,num_vehs_in_vehid_chain){
        0..6: sw_keisei3200_5_panto_placer_main_1;
        sw_keisei3200_5_panto_placer_main_2;
      }


      switch(FEAT_TRAINS, SELF, sw_keisei3200_5_fake_head_placer_1,position_in_vehid_chain%4){
        2: keisei3200_5_end;
        3: keisei3200_5_end_rev;
        sw_keisei3200_5_panto_placer_main;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3200_5_fake_head_placer_1_rev,position_in_vehid_chain_from_end%4){
        3: keisei3200_5_end_rev;
        0: keisei3200_5_end;
        sw_keisei3200_5_panto_placer_main;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3200_5_fake_head_placer_gfx,vehicle_is_reversed){
        1: sw_keisei3200_5_fake_head_placer_1_rev;
        sw_keisei3200_5_fake_head_placer_1;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3200_5_fake_head_placer_main,num_vehs_in_vehid_chain>7 - 1){
        1: sw_keisei3200_5_fake_head_placer_gfx;
        sw_keisei3200_5_panto_placer_main;
      }
  switch(FEAT_TRAINS, SELF, sw_keisei3200_5_gfx_main,position_in_vehid_chain_from_end){
    0: keisei3200_5_end;
    sw_keisei3200_5_fake_head_placer_main;
  }
  switch(FEAT_TRAINS, SELF, sw_keisei3200_livery_5,vehicle_type_id){
    mu_car: sw_keisei3200_5_gfx_main;
    keisei3200_5_front;
  }


  random_switch(FEAT_TRAINS, PARENT, sw_keisei3200_livery_0_1){
    2:sw_keisei3200_livery_3;
    1:sw_keisei3200_livery_4;
  }
  random_switch(FEAT_TRAINS, PARENT, sw_keisei3200_livery_0_2){
    2:sw_keisei3200_livery_3;
    1:sw_keisei3200_livery_4;
    1:sw_keisei3200_livery_5;
  }
  random_switch(FEAT_TRAINS, PARENT, sw_keisei3200_livery_0_3){
    2:sw_keisei3200_livery_3;
    1:sw_keisei3200_livery_4;
    1:sw_keisei3200_livery_5;
    1:sw_keisei3200_livery_1;
    1:sw_keisei3200_livery_2;
  }
  switch(FEAT_TRAINS, PARENT, sw_keisei3200_livery_0,current_year){
      0..1980:sw_keisei3200_livery_1;
      1981..1991:sw_keisei3200_livery_2;
      1992:sw_keisei3200_livery_0_1;
      1993..2006:sw_keisei3200_livery_0_2;
      sw_keisei3200_livery_0_3;
    }
  switch(FEAT_TRAINS, SELF, sw_keisei3200_lv,cargo_subtype){
    0:sw_keisei3200_livery_0;
    1:sw_keisei3200_livery_1;
    2:sw_keisei3200_livery_2;
    3:sw_keisei3200_livery_3;
    4:sw_keisei3200_livery_4;
    5:sw_keisei3200_livery_5;
  }
  switch(FEAT_TRAINS, SELF, sw_keisei3200_lv_desc,cargo_subtype){
    0:string(LV_RANDOM);
    1:string(LV_KEISEI_AKADEN);
    2:string(LV_KEISEI_ORANGE);
    3:string(LV_KEISEI_WHITE);
    4:string(LV_KEISEI_TEST_1);
    5:string(LV_KEISEI_TEST_2);
  }
# 523 "src/private/Kanto/keisei/keisei3200.pnml"
    switch(FEAT_TRAINS, SELF, sw_keisei3200_power_main,position_in_vehid_chain_from_end%6){
      0..3:return 100;
      return 0;
    }


item(FEAT_TRAINS, keisei3200) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_KEISEI), "3200", string(STR_NAME_TYPE));
        introduction_date: date(1964, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cargo_capacity: 1;
        loading_speed: param_loading_3D;
        cost_factor: 19;
        running_cost_factor: 49;

        speed: 110 km/h;
        track_type: TR_1435_DC;
        power: 620 kW;
        weight: 34 ton;

        climates_available: param_disable_keisei == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        power: sw_keisei3200_power_main()*4*1342/1000;
        cargo_subtype_text:sw_keisei3200_lv_desc;
        default: sw_keisei3200_lv;
        purchase: keisei3200_purchase;
        can_attach_wagon: sw_1435_attach_vehid;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_2, 4,6)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_KEISEI)));

  start_stop: sw_stop_start_3;
        cargo_capacity: 128*param_capacity_mod/3;
        sound_effect: sw_KS3200_start_sound;
    }
    livery_override(mu_car){
        cargo_subtype_text:sw_keisei3200_lv_desc;
        loading_speed: param_loading_3D;
        cargo_capacity: 128*param_capacity_mod/3;
        default: sw_keisei3200_lv;
        power: sw_keisei3200_power_main()*4*1342/1000;
        weight: 34;
        length: 8;
      }
}
# 209 "src/_private.pnml" 2
# 1 "src/private/Kanto/keisei/keisei3300.pnml" 1

  spriteset(keisei3300_purchase_c1_1, "gfx/private/Kanto/keisei/keisei3300/keisei3300_1.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(keisei3300_purchase_c2_1, "gfx/private/Kanto/keisei/keisei3300/keisei3300_1.png"){ tmpl_purchase_2c(0, 50) }
  switch(FEAT_TRAINS, SELF, keisei3300_purchase_1, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_keisei; 1: keisei3300_purchase_c1_1; 2: keisei3300_purchase_c2_1;}
  spriteset(keisei3300_purchase_c1_2, "gfx/private/Kanto/keisei/keisei3300/keisei3300_2.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(keisei3300_purchase_c2_2, "gfx/private/Kanto/keisei/keisei3300/keisei3300_2.png"){ tmpl_purchase_2c(0, 50) }
  switch(FEAT_TRAINS, SELF, keisei3300_purchase_2, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_keisei; 1: keisei3300_purchase_c1_2; 2: keisei3300_purchase_c2_2;}
  spriteset(keisei3300_purchase_c1_3, "gfx/private/Kanto/keisei/keisei3300/keisei3300_2_ac.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(keisei3300_purchase_c2_3, "gfx/private/Kanto/keisei/keisei3300/keisei3300_2_ac.png"){ tmpl_purchase_2c(0, 50) }
  switch(FEAT_TRAINS, SELF, keisei3300_purchase_3, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_keisei; 1: keisei3300_purchase_c1_3; 2: keisei3300_purchase_c2_3;}
  spriteset(keisei3300_purchase_c1_4, "gfx/private/Kanto/keisei/keisei3300/keisei3300_4.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(keisei3300_purchase_c2_4, "gfx/private/Kanto/keisei/keisei3300/keisei3300_4.png"){ tmpl_purchase_2c(0, 50) }
  switch(FEAT_TRAINS, SELF, keisei3300_purchase_4, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_keisei; 1: keisei3300_purchase_c1_4; 2: keisei3300_purchase_c2_4;}

  switch(FEAT_TRAINS, SELF, keisei3300_purchase, current_year){
    0..1979:keisei3300_purchase_1;
    1980..1988:keisei3300_purchase_2;
    1989..1994:keisei3300_purchase_3;
    keisei3300_purchase_4;
  }

spriteset (keisei3300_1_front, "gfx/private/Kanto/keisei/keisei3300/keisei3300_1.png") { tmpl_std(0, 0) }
spriteset (keisei3300_1_end, "gfx/private/Kanto/keisei/keisei3300/keisei3300_1.png") { tmpl_std_rev(0, 25) }
spriteset (keisei3300_1_end_rev, "gfx/private/Kanto/keisei/keisei3300/keisei3300_1.png") { tmpl_std(0, 25) }
spriteset (keisei3300_1_mot, "gfx/private/Kanto/keisei/keisei3300/keisei3300_1.png") { tmpl_std(0, 50) }
spriteset (keisei3300_1_mot_rev, "gfx/private/Kanto/keisei/keisei3300/keisei3300_1.png") { tmpl_std_rev(0, 50) }
spriteset (keisei3300_1_wag, "gfx/private/Kanto/keisei/keisei3300/keisei3300_1.png") { tmpl_symm(0, 75) }

spriteset (keisei3300_1_front_ac, "gfx/private/Kanto/keisei/keisei3300/keisei3300_1_ac.png") { tmpl_std(0, 0) }
spriteset (keisei3300_1_end_ac, "gfx/private/Kanto/keisei/keisei3300/keisei3300_1_ac.png") { tmpl_std_rev(0, 25) }
spriteset (keisei3300_1_end_ac_rev, "gfx/private/Kanto/keisei/keisei3300/keisei3300_1_ac.png") { tmpl_std(0, 25) }
spriteset (keisei3300_1_mot_ac, "gfx/private/Kanto/keisei/keisei3300/keisei3300_1_ac.png") { tmpl_std(0, 50) }
spriteset (keisei3300_1_mot_ac_rev, "gfx/private/Kanto/keisei/keisei3300/keisei3300_1_ac.png") { tmpl_std_rev(0, 50) }
spriteset (keisei3300_1_wag_ac, "gfx/private/Kanto/keisei/keisei3300/keisei3300_1_ac.png") { tmpl_symm(0, 75) }

spriteset (keisei3300_2_front, "gfx/private/Kanto/keisei/keisei3300/keisei3300_2.png") { tmpl_std(0, 0) }
spriteset (keisei3300_2_end, "gfx/private/Kanto/keisei/keisei3300/keisei3300_2.png") { tmpl_std_rev(0, 25) }
spriteset (keisei3300_2_end_rev, "gfx/private/Kanto/keisei/keisei3300/keisei3300_2.png") { tmpl_std(0, 25) }
spriteset (keisei3300_2_mot, "gfx/private/Kanto/keisei/keisei3300/keisei3300_2.png") { tmpl_std(0, 50) }
spriteset (keisei3300_2_mot_rev, "gfx/private/Kanto/keisei/keisei3300/keisei3300_2.png") { tmpl_std_rev(0, 50) }
spriteset (keisei3300_2_wag, "gfx/private/Kanto/keisei/keisei3300/keisei3300_2.png") { tmpl_symm(0, 75) }

spriteset (keisei3300_2_front_ac, "gfx/private/Kanto/keisei/keisei3300/keisei3300_2_ac.png") { tmpl_std(0, 0) }
spriteset (keisei3300_2_end_ac, "gfx/private/Kanto/keisei/keisei3300/keisei3300_2_ac.png") { tmpl_std_rev(0, 25) }
spriteset (keisei3300_2_end_ac_rev, "gfx/private/Kanto/keisei/keisei3300/keisei3300_2_ac.png") { tmpl_std(0, 25) }
spriteset (keisei3300_2_mot_ac, "gfx/private/Kanto/keisei/keisei3300/keisei3300_2_ac.png") { tmpl_std(0, 50) }
spriteset (keisei3300_2_mot_ac_rev, "gfx/private/Kanto/keisei/keisei3300/keisei3300_2_ac.png") { tmpl_std_rev(0, 50) }
spriteset (keisei3300_2_wag_ac, "gfx/private/Kanto/keisei/keisei3300/keisei3300_2_ac.png") { tmpl_symm(0, 75) }

spriteset (keisei3300_3_front, "gfx/private/Kanto/keisei/keisei3300/keisei3300_3.png") { tmpl_std(0, 0) }
spriteset (keisei3300_3_end, "gfx/private/Kanto/keisei/keisei3300/keisei3300_3.png") { tmpl_std_rev(0, 25) }

spriteset (keisei3300_4_front, "gfx/private/Kanto/keisei/keisei3300/keisei3300_4.png") { tmpl_std(0, 0) }
spriteset (keisei3300_4_end, "gfx/private/Kanto/keisei/keisei3300/keisei3300_4.png") { tmpl_std_rev(0, 25) }
spriteset (keisei3300_4_end_rev, "gfx/private/Kanto/keisei/keisei3300/keisei3300_4.png") { tmpl_std(0, 25) }
spriteset (keisei3300_4_mot, "gfx/private/Kanto/keisei/keisei3300/keisei3300_4.png") { tmpl_std(0, 50) }
spriteset (keisei3300_4_mot_rev, "gfx/private/Kanto/keisei/keisei3300/keisei3300_4.png") { tmpl_std_rev(0, 50) }
spriteset (keisei3300_4_wag, "gfx/private/Kanto/keisei/keisei3300/keisei3300_4.png") { tmpl_symm(0, 75) }

spriteset (keisei3300_5_front, "gfx/private/Kanto/keisei/keisei3300/keisei3300_5.png") { tmpl_std(0, 0) }
spriteset (keisei3300_5_end, "gfx/private/Kanto/keisei/keisei3300/keisei3300_5.png") { tmpl_std_rev(0, 25) }
spriteset (keisei3300_5_end_rev, "gfx/private/Kanto/keisei/keisei3300/keisei3300_5.png") { tmpl_std(0, 25) }
spriteset (keisei3300_5_mot, "gfx/private/Kanto/keisei/keisei3300/keisei3300_5.png") { tmpl_std(0, 50) }
spriteset (keisei3300_5_mot_rev, "gfx/private/Kanto/keisei/keisei3300/keisei3300_5.png") { tmpl_std_rev(0, 50) }
spriteset (keisei3300_5_wag, "gfx/private/Kanto/keisei/keisei3300/keisei3300_5.png") { tmpl_symm(0, 75) }





    switch(FEAT_TRAINS, SELF, sw_keisei3300_1_front, current_year>1988){
      1: keisei3300_1_front_ac;
      keisei3300_1_front;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei3300_1_end, current_year>1988){
      1: keisei3300_1_end_ac;
      keisei3300_1_end;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei3300_1_end_rev, current_year>1988){
      1: keisei3300_1_end_ac_rev;
      keisei3300_1_end_rev;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei3300_1_mot, current_year>1988){
      1: keisei3300_1_mot_ac;
      keisei3300_1_mot;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei3300_1_mot_rev, current_year>1988){
      1: keisei3300_1_mot_ac_rev;
      keisei3300_1_mot_rev;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei3300_1_wag, current_year>1988){
      1: keisei3300_1_wag_ac;
      keisei3300_1_wag;
    }


      switch(FEAT_TRAINS, SELF, sw_keisei3300_1_panto_placer_1,position_in_vehid_chain %8){
        0: sw_keisei3300_1_mot_rev;
        1: sw_keisei3300_1_mot;
        3: sw_keisei3300_1_mot;
        sw_keisei3300_1_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3300_1_panto_placer_1_rev,position_in_vehid_chain_from_end %8-1){
        0: sw_keisei3300_1_mot;
        1: sw_keisei3300_1_mot_rev;
        3: sw_keisei3300_1_mot_rev;
        sw_keisei3300_1_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3300_1_panto_placer_main_1,vehicle_is_reversed){
        1: sw_keisei3300_1_panto_placer_1_rev;
        sw_keisei3300_1_panto_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_keisei3300_1_panto_placer_2,position_in_vehid_chain %4){
        0: sw_keisei3300_1_mot_rev;
        1: sw_keisei3300_1_mot;
        sw_keisei3300_1_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3300_1_panto_placer_2_rev,position_in_vehid_chain_from_end %4-1){
        0: sw_keisei3300_1_mot;
        1: sw_keisei3300_1_mot_rev;
        sw_keisei3300_1_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3300_1_panto_placer_main_2,vehicle_is_reversed){
        1: sw_keisei3300_1_panto_placer_2_rev;
        sw_keisei3300_1_panto_placer_2;
      }
    switch(FEAT_TRAINS, SELF, sw_keisei3300_1_panto_placer_main,num_vehs_in_vehid_chain){
        0..6: sw_keisei3300_1_panto_placer_main_1;
        sw_keisei3300_1_panto_placer_main_2;
      }


      switch(FEAT_TRAINS, SELF, sw_keisei3300_1_fake_head_placer_1,position_in_vehid_chain%4){
        2: sw_keisei3300_1_end;
        3: sw_keisei3300_1_end_rev;
        sw_keisei3300_1_panto_placer_main;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3300_1_fake_head_placer_1_rev,position_in_vehid_chain_from_end%4){
        3: sw_keisei3300_1_end_rev;
        0: sw_keisei3300_1_end;
        sw_keisei3300_1_panto_placer_main;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3300_1_fake_head_placer_gfx,vehicle_is_reversed){
        1: sw_keisei3300_1_fake_head_placer_1_rev;
        sw_keisei3300_1_fake_head_placer_1;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3300_1_fake_head_placer_main,num_vehs_in_vehid_chain>7 - 1){
        1: sw_keisei3300_1_fake_head_placer_gfx;
        sw_keisei3300_1_panto_placer_main;
      }
  switch(FEAT_TRAINS, SELF, sw_keisei3300_1_gfx_main,position_in_vehid_chain_from_end){
    0: sw_keisei3300_1_end;
    sw_keisei3300_1_fake_head_placer_main;
  }
  switch(FEAT_TRAINS, SELF, sw_keisei3300_livery_1,vehicle_type_id){
    mu_car: sw_keisei3300_1_gfx_main;
    sw_keisei3300_1_front;
  }



    switch(FEAT_TRAINS, SELF, sw_keisei3300_2_front, current_year>1988){
      1: keisei3300_2_front_ac;
      keisei3300_2_front;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei3300_2_end, current_year>1988){
      1: keisei3300_2_end_ac;
      keisei3300_2_end;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei3300_2_end_rev, current_year>1988){
      1: keisei3300_2_end_ac_rev;
      keisei3300_2_end_rev;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei3300_2_mot, current_year>1988){
      1: keisei3300_2_mot_ac;
      keisei3300_2_mot;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei3300_2_mot_rev, current_year>1988){
      1: keisei3300_2_mot_ac_rev;
      keisei3300_2_mot_rev;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei3300_2_wag, current_year>1988){
      1: keisei3300_2_wag_ac;
      keisei3300_2_wag;
    }


      switch(FEAT_TRAINS, SELF, sw_keisei3300_2_panto_placer_1,position_in_vehid_chain %8){
        0: sw_keisei3300_2_mot_rev;
        1: sw_keisei3300_2_mot;
        3: sw_keisei3300_2_mot;
        sw_keisei3300_2_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3300_2_panto_placer_1_rev,position_in_vehid_chain_from_end %8-1){
        0: sw_keisei3300_2_mot;
        1: sw_keisei3300_2_mot_rev;
        3: sw_keisei3300_2_mot_rev;
        sw_keisei3300_2_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3300_2_panto_placer_main_1,vehicle_is_reversed){
        1: sw_keisei3300_2_panto_placer_1_rev;
        sw_keisei3300_2_panto_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_keisei3300_2_panto_placer_2,position_in_vehid_chain %4){
        0: sw_keisei3300_2_mot_rev;
        1: sw_keisei3300_2_mot;
        sw_keisei3300_2_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3300_2_panto_placer_2_rev,position_in_vehid_chain_from_end %4-1){
        0: sw_keisei3300_2_mot;
        1: sw_keisei3300_2_mot_rev;
        sw_keisei3300_2_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3300_2_panto_placer_main_2,vehicle_is_reversed){
        1: sw_keisei3300_2_panto_placer_2_rev;
        sw_keisei3300_2_panto_placer_2;
      }
    switch(FEAT_TRAINS, SELF, sw_keisei3300_2_panto_placer_main,num_vehs_in_vehid_chain){
        0..6: sw_keisei3300_2_panto_placer_main_1;
        sw_keisei3300_2_panto_placer_main_2;
      }


      switch(FEAT_TRAINS, SELF, sw_keisei3300_2_fake_head_placer_1,position_in_vehid_chain%4){
        2: sw_keisei3300_2_end;
        3: sw_keisei3300_2_end_rev;
        sw_keisei3300_2_panto_placer_main;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3300_2_fake_head_placer_1_rev,position_in_vehid_chain_from_end%4){
        3: sw_keisei3300_2_end_rev;
        0: sw_keisei3300_2_end;
        sw_keisei3300_2_panto_placer_main;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3300_2_fake_head_placer_gfx,vehicle_is_reversed){
        1: sw_keisei3300_2_fake_head_placer_1_rev;
        sw_keisei3300_2_fake_head_placer_1;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3300_2_fake_head_placer_main,num_vehs_in_vehid_chain>7 - 1){
        1: sw_keisei3300_2_fake_head_placer_gfx;
        sw_keisei3300_2_panto_placer_main;
      }
  switch(FEAT_TRAINS, SELF, sw_keisei3300_2_gfx_main,position_in_vehid_chain_from_end){
    0: sw_keisei3300_2_end;
    sw_keisei3300_2_fake_head_placer_main;
  }
  switch(FEAT_TRAINS, SELF, sw_keisei3300_livery_2,vehicle_type_id){
    mu_car: sw_keisei3300_2_gfx_main;
    sw_keisei3300_2_front;
  }


  switch(FEAT_TRAINS, SELF, sw_keisei3300_3_gfx_main,position_in_vehid_chain_from_end){
    0: keisei3300_3_end;
    sw_keisei3300_2_fake_head_placer_main;
  }
  switch(FEAT_TRAINS, SELF, sw_keisei3300_livery_3,vehicle_type_id){
    mu_car: sw_keisei3300_3_gfx_main;
    keisei3300_3_front;
  }




      switch(FEAT_TRAINS, SELF, sw_keisei3300_4_panto_placer_1,position_in_vehid_chain %8){
        0: keisei3300_4_mot_rev;
        1: keisei3300_4_mot;
        3: keisei3300_4_mot;
        keisei3300_4_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3300_4_panto_placer_1_rev,position_in_vehid_chain_from_end %8-1){
        0: keisei3300_4_mot;
        1: keisei3300_4_mot_rev;
        3: keisei3300_4_mot_rev;
        keisei3300_4_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3300_4_panto_placer_main_1,vehicle_is_reversed){
        1: sw_keisei3300_4_panto_placer_1_rev;
        sw_keisei3300_4_panto_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_keisei3300_4_panto_placer_2,position_in_vehid_chain %4){
        0: keisei3300_4_mot_rev;
        1: keisei3300_4_mot;
        keisei3300_4_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3300_4_panto_placer_2_rev,position_in_vehid_chain_from_end %4-1){
        0: keisei3300_4_mot;
        1: keisei3300_4_mot_rev;
        keisei3300_4_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3300_4_panto_placer_main_2,vehicle_is_reversed){
        1: sw_keisei3300_4_panto_placer_2_rev;
        sw_keisei3300_4_panto_placer_2;
      }
    switch(FEAT_TRAINS, SELF, sw_keisei3300_4_panto_placer_main,num_vehs_in_vehid_chain){
        0..6: sw_keisei3300_4_panto_placer_main_1;
        sw_keisei3300_4_panto_placer_main_2;
      }


      switch(FEAT_TRAINS, SELF, sw_keisei3300_4_fake_head_placer_1,position_in_vehid_chain%4){
        2: keisei3300_4_end;
        3: keisei3300_4_end_rev;
        sw_keisei3300_4_panto_placer_main;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3300_4_fake_head_placer_1_rev,position_in_vehid_chain_from_end%4){
        3: keisei3300_4_end_rev;
        0: keisei3300_4_end;
        sw_keisei3300_4_panto_placer_main;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3300_4_fake_head_placer_gfx,vehicle_is_reversed){
        1: sw_keisei3300_4_fake_head_placer_1_rev;
        sw_keisei3300_4_fake_head_placer_1;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3300_4_fake_head_placer_main,num_vehs_in_vehid_chain>7 - 1){
        1: sw_keisei3300_4_fake_head_placer_gfx;
        sw_keisei3300_4_panto_placer_main;
      }
  switch(FEAT_TRAINS, SELF, sw_keisei3300_4_gfx_main,position_in_vehid_chain_from_end){
    0: keisei3300_4_end;
    sw_keisei3300_4_fake_head_placer_main;
  }
  switch(FEAT_TRAINS, SELF, sw_keisei3300_livery_4,vehicle_type_id){
    mu_car: sw_keisei3300_4_gfx_main;
    keisei3300_4_front;
  }




      switch(FEAT_TRAINS, SELF, sw_keisei3300_5_panto_placer_1,position_in_vehid_chain %8){
        0: keisei3300_5_mot_rev;
        1: keisei3300_5_mot;
        3: keisei3300_5_mot;
        keisei3300_5_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3300_5_panto_placer_1_rev,position_in_vehid_chain_from_end %8-1){
        0: keisei3300_5_mot;
        1: keisei3300_5_mot_rev;
        3: keisei3300_5_mot_rev;
        keisei3300_5_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3300_5_panto_placer_main_1,vehicle_is_reversed){
        1: sw_keisei3300_5_panto_placer_1_rev;
        sw_keisei3300_5_panto_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_keisei3300_5_panto_placer_2,position_in_vehid_chain %4){
        0: keisei3300_5_mot_rev;
        1: keisei3300_5_mot;
        keisei3300_5_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3300_5_panto_placer_2_rev,position_in_vehid_chain_from_end %4-1){
        0: keisei3300_5_mot;
        1: keisei3300_5_mot_rev;
        keisei3300_5_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3300_5_panto_placer_main_2,vehicle_is_reversed){
        1: sw_keisei3300_5_panto_placer_2_rev;
        sw_keisei3300_5_panto_placer_2;
      }
    switch(FEAT_TRAINS, SELF, sw_keisei3300_5_panto_placer_main,num_vehs_in_vehid_chain){
        0..6: sw_keisei3300_5_panto_placer_main_1;
        sw_keisei3300_5_panto_placer_main_2;
      }


      switch(FEAT_TRAINS, SELF, sw_keisei3300_5_fake_head_placer_1,position_in_vehid_chain%4){
        2: keisei3300_5_end;
        3: keisei3300_5_end_rev;
        sw_keisei3300_5_panto_placer_main;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3300_5_fake_head_placer_1_rev,position_in_vehid_chain_from_end%4){
        3: keisei3300_5_end_rev;
        0: keisei3300_5_end;
        sw_keisei3300_5_panto_placer_main;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3300_5_fake_head_placer_gfx,vehicle_is_reversed){
        1: sw_keisei3300_5_fake_head_placer_1_rev;
        sw_keisei3300_5_fake_head_placer_1;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3300_5_fake_head_placer_main,num_vehs_in_vehid_chain>7 - 1){
        1: sw_keisei3300_5_fake_head_placer_gfx;
        sw_keisei3300_5_panto_placer_main;
      }
  switch(FEAT_TRAINS, SELF, sw_keisei3300_5_gfx_main,position_in_vehid_chain_from_end){
    0: keisei3300_5_end;
    sw_keisei3300_5_fake_head_placer_main;
  }
  switch(FEAT_TRAINS, SELF, sw_keisei3300_livery_5,vehicle_type_id){
    mu_car: sw_keisei3300_5_gfx_main;
    keisei3300_5_front;
  }



  random_switch(FEAT_TRAINS, PARENT, sw_keisei3300_livery_0_1){
    3:sw_keisei3300_livery_4;
    1:sw_keisei3300_livery_5;
  }
  switch(FEAT_TRAINS, PARENT, sw_keisei3300_livery_0,current_year){
      0..1979:sw_keisei3300_livery_1;
      1980..1988:sw_keisei3300_livery_2;
      1989..1994:sw_keisei3300_livery_3;
      1995..2008:sw_keisei3300_livery_4;
      sw_keisei3300_livery_0_1;
    }
  switch(FEAT_TRAINS, SELF, sw_keisei3300_lv,cargo_subtype){
    0:sw_keisei3300_livery_0;
    1:sw_keisei3300_livery_1;
    2:sw_keisei3300_livery_2;
    3:sw_keisei3300_livery_3;
    4:sw_keisei3300_livery_4;
    5:sw_keisei3300_livery_5;
  }
  switch(FEAT_TRAINS, SELF, sw_keisei3300_lv_desc,cargo_subtype){
    0:string(LV_RANDOM);
    1:string(LV_DEFAULT);
    2:string(LV_KEISEI_ORANGE);
    3:string(LV_keisei3300_3);
    4:string(LV_keisei3300_4);
    5:string(LV_KEISEI_AODEN);
  }
# 442 "src/private/Kanto/keisei/keisei3300.pnml"
    switch(FEAT_TRAINS, SELF, sw_keisei3300_power_main,position_in_vehid_chain_from_end%8){
      0..1:return 100;
      4..6:return 100;
      return 0;
    }


item(FEAT_TRAINS, keisei3300) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_KEISEI), "3300", string(STR_NAME_TYPE));
        introduction_date: date(1968, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cargo_capacity: 1;
        loading_speed: param_loading_3D;
        cost_factor: 19;
        running_cost_factor: 49;

        speed: 110 km/h;
        track_type: TR_1435_DC;
        power: 620 kW;
        weight: 34 ton;

        climates_available: param_disable_keisei == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        power: sw_keisei3300_power_main()*4*1342/1000;
        cargo_subtype_text:sw_keisei3300_lv_desc;
        default: sw_keisei3300_lv;
        purchase: keisei3300_purchase;
        can_attach_wagon: sw_1435_attach_vehid;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_3, 4,6,8)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_KEISEI)));

  start_stop: sw_stop_start_3;
        cargo_capacity: 140*param_capacity_mod/3;
        sound_effect: sw_KS3300_start_sound;
    }
    livery_override(mu_car){
        cargo_subtype_text:sw_keisei3300_lv_desc;
        loading_speed: param_loading_3D;
        cargo_capacity: 140*param_capacity_mod/3;
        default: sw_keisei3300_lv;
        power: sw_keisei3300_power_main()*4*1342/1000;
        weight: 34;
        length: 8;
      }
}
# 210 "src/_private.pnml" 2
# 1 "src/private/Kanto/keisei/keisei3500.pnml" 1

  spriteset(keisei3500_purchase_c1_1, "gfx/private/Kanto/keisei/keisei3500/keisei3500_1.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(keisei3500_purchase_c2_1, "gfx/private/Kanto/keisei/keisei3500/keisei3500_1.png"){ tmpl_purchase_2c(0, 50) }
  switch(FEAT_TRAINS, SELF, keisei3500_purchase_1, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_keisei; 1: keisei3500_purchase_c1_1; 2: keisei3500_purchase_c2_1;}
  spriteset(keisei3500_purchase_c1_2, "gfx/private/Kanto/keisei/keisei3500/keisei3500_2.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(keisei3500_purchase_c2_2, "gfx/private/Kanto/keisei/keisei3500/keisei3500_2.png"){ tmpl_purchase_2c(0, 50) }
  switch(FEAT_TRAINS, SELF, keisei3500_purchase_2, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_keisei; 1: keisei3500_purchase_c1_2; 2: keisei3500_purchase_c2_2;}

  switch(FEAT_TRAINS, SELF, keisei3500_purchase, current_year){
    0..1991: keisei3500_purchase_1;
    keisei3500_purchase_2;
  }

spriteset (keisei3500_1_front, "gfx/private/Kanto/keisei/keisei3500/keisei3500_1.png") { tmpl_std(0, 0) }
spriteset (keisei3500_1_end, "gfx/private/Kanto/keisei/keisei3500/keisei3500_1.png") { tmpl_std_rev(0, 25) }
spriteset (keisei3500_1_end_rev, "gfx/private/Kanto/keisei/keisei3500/keisei3500_1.png") { tmpl_std(0, 25) }
spriteset (keisei3500_1_mot, "gfx/private/Kanto/keisei/keisei3500/keisei3500_1.png") { tmpl_std(0, 50) }
spriteset (keisei3500_1_mot_rev, "gfx/private/Kanto/keisei/keisei3500/keisei3500_1.png") { tmpl_std_rev(0, 50) }

spriteset (keisei3500_2_front, "gfx/private/Kanto/keisei/keisei3500/keisei3500_2.png") { tmpl_std(0, 0) }
spriteset (keisei3500_2_end, "gfx/private/Kanto/keisei/keisei3500/keisei3500_2.png") { tmpl_std_rev(0, 25) }
spriteset (keisei3500_2_end_rev, "gfx/private/Kanto/keisei/keisei3500/keisei3500_2.png") { tmpl_std(0, 25) }
spriteset (keisei3500_2_mot, "gfx/private/Kanto/keisei/keisei3500/keisei3500_2.png") { tmpl_std(0, 50) }
spriteset (keisei3500_2_mot_rev, "gfx/private/Kanto/keisei/keisei3500/keisei3500_2.png") { tmpl_std_rev(0, 50) }

spriteset (keisei3500_3_front, "gfx/private/Kanto/keisei/keisei3500/keisei3500_3.png") { tmpl_std(0, 0) }
spriteset (keisei3500_3_end, "gfx/private/Kanto/keisei/keisei3500/keisei3500_3.png") { tmpl_std_rev(0, 25) }
spriteset (keisei3500_3_end_rev, "gfx/private/Kanto/keisei/keisei3500/keisei3500_3.png") { tmpl_std(0, 25) }
spriteset (keisei3500_3_mot, "gfx/private/Kanto/keisei/keisei3500/keisei3500_3.png") { tmpl_std(0, 50) }
spriteset (keisei3500_3_mot_rev, "gfx/private/Kanto/keisei/keisei3500/keisei3500_3.png") { tmpl_std_rev(0, 50) }




      switch(FEAT_TRAINS, SELF, sw_keisei3500_1_panto_placer_1,position_in_vehid_chain %4){
        0: keisei3500_1_mot_rev;
        1: keisei3500_1_mot;
        2: keisei3500_1_end;
        keisei3500_1_mot;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3500_1_panto_placer_1_rev,position_in_vehid_chain_from_end %4-1){
        0: keisei3500_1_mot;
        1: keisei3500_1_mot_rev;
        2: keisei3500_1_end_rev;
        keisei3500_1_mot_rev;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3500_1_panto_placer_main,vehicle_is_reversed){
        1: sw_keisei3500_1_panto_placer_1_rev;
        sw_keisei3500_1_panto_placer_1;
      }


      switch(FEAT_TRAINS, SELF, sw_keisei3500_1_fake_head_placer_1,position_in_vehid_chain%4){
        2: keisei3500_1_end;
        3: keisei3500_1_end_rev;
        sw_keisei3500_1_panto_placer_main;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3500_1_fake_head_placer_1_rev,position_in_vehid_chain_from_end%4){
        3: keisei3500_1_end_rev;
        0: keisei3500_1_end;
        sw_keisei3500_1_panto_placer_main;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3500_1_fake_head_placer_gfx,vehicle_is_reversed){
        1: sw_keisei3500_1_fake_head_placer_1_rev;
        sw_keisei3500_1_fake_head_placer_1;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3500_1_fake_head_placer_main,num_vehs_in_vehid_chain>7 - 1){
        1: sw_keisei3500_1_fake_head_placer_gfx;
        sw_keisei3500_1_panto_placer_main;
      }
  switch(FEAT_TRAINS, SELF, sw_keisei3500_1_gfx_main,position_in_vehid_chain_from_end){
    0: keisei3500_1_end;
    sw_keisei3500_1_fake_head_placer_main;
  }
  switch(FEAT_TRAINS, SELF, sw_keisei3500_livery_1,vehicle_type_id){
    mu_car: sw_keisei3500_1_gfx_main;
    keisei3500_1_front;
  }




      switch(FEAT_TRAINS, SELF, sw_keisei3500_2_panto_placer_1,position_in_vehid_chain %4){
        0: keisei3500_2_mot_rev;
        1: keisei3500_2_mot;
        2: keisei3500_2_end;
        keisei3500_2_mot;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3500_2_panto_placer_1_rev,position_in_vehid_chain_from_end %4-1){
        0: keisei3500_2_mot;
        1: keisei3500_2_mot_rev;
        2: keisei3500_2_end_rev;
        keisei3500_2_mot_rev;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3500_2_panto_placer_main,vehicle_is_reversed){
        1: sw_keisei3500_2_panto_placer_1_rev;
        sw_keisei3500_2_panto_placer_1;
      }


      switch(FEAT_TRAINS, SELF, sw_keisei3500_2_fake_head_placer_1,position_in_vehid_chain%4){
        2: keisei3500_2_end;
        3: keisei3500_2_end_rev;
        sw_keisei3500_2_panto_placer_main;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3500_2_fake_head_placer_1_rev,position_in_vehid_chain_from_end%4){
        3: keisei3500_2_end_rev;
        0: keisei3500_2_end;
        sw_keisei3500_2_panto_placer_main;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3500_2_fake_head_placer_gfx,vehicle_is_reversed){
        1: sw_keisei3500_2_fake_head_placer_1_rev;
        sw_keisei3500_2_fake_head_placer_1;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3500_2_fake_head_placer_main,num_vehs_in_vehid_chain>7 - 1){
        1: sw_keisei3500_2_fake_head_placer_gfx;
        sw_keisei3500_2_panto_placer_main;
      }
  switch(FEAT_TRAINS, SELF, sw_keisei3500_2_gfx_main,position_in_vehid_chain_from_end){
    0: keisei3500_2_end;
    sw_keisei3500_2_fake_head_placer_main;
  }
  switch(FEAT_TRAINS, SELF, sw_keisei3500_livery_2,vehicle_type_id){
    mu_car: sw_keisei3500_2_gfx_main;
    keisei3500_2_front;
  }




      switch(FEAT_TRAINS, SELF, sw_keisei3500_3_panto_placer_1,position_in_vehid_chain %4){
        0: keisei3500_3_mot_rev;
        1: keisei3500_3_mot;
        2: keisei3500_3_end;
        keisei3500_3_mot;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3500_3_panto_placer_1_rev,position_in_vehid_chain_from_end %4-1){
        0: keisei3500_3_mot;
        1: keisei3500_3_mot_rev;
        2: keisei3500_3_end_rev;
        keisei3500_3_mot_rev;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3500_3_panto_placer_main,vehicle_is_reversed){
        1: sw_keisei3500_3_panto_placer_1_rev;
        sw_keisei3500_3_panto_placer_1;
      }


      switch(FEAT_TRAINS, SELF, sw_keisei3500_3_fake_head_placer_1,position_in_vehid_chain%4){
        2: keisei3500_3_end;
        3: keisei3500_3_end_rev;
        sw_keisei3500_3_panto_placer_main;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3500_3_fake_head_placer_1_rev,position_in_vehid_chain_from_end%4){
        3: keisei3500_3_end_rev;
        0: keisei3500_3_end;
        sw_keisei3500_3_panto_placer_main;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3500_3_fake_head_placer_gfx,vehicle_is_reversed){
        1: sw_keisei3500_3_fake_head_placer_1_rev;
        sw_keisei3500_3_fake_head_placer_1;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3500_3_fake_head_placer_main,num_vehs_in_vehid_chain>7 - 1){
        1: sw_keisei3500_3_fake_head_placer_gfx;
        sw_keisei3500_3_panto_placer_main;
      }
  switch(FEAT_TRAINS, SELF, sw_keisei3500_3_gfx_main,position_in_vehid_chain_from_end){
    0: keisei3500_3_end;
    sw_keisei3500_3_fake_head_placer_main;
  }
  switch(FEAT_TRAINS, SELF, sw_keisei3500_livery_3,vehicle_type_id){
    mu_car: sw_keisei3500_3_gfx_main;
    keisei3500_3_front;
  }



  switch(FEAT_TRAINS, PARENT, sw_keisei3500_livery_0,build_year){
      0..1991:sw_keisei3500_livery_1;
      1992..1995:sw_keisei3500_livery_2;
      sw_keisei3500_livery_3;
    }
  switch(FEAT_TRAINS, SELF, sw_keisei3500_lv,cargo_subtype){
    0:sw_keisei3500_livery_0;
    1:sw_keisei3500_livery_1;
    2:sw_keisei3500_livery_2;
    3:sw_keisei3500_livery_3;
  }
  switch(FEAT_TRAINS, SELF, sw_keisei3500_lv_desc,cargo_subtype){
    0:string(LV_RANDOM);
    1:string(LV_DEFAULT);
    2:string(LV_MODERN);
    3:string(LV_RENEW);
  }


    switch(FEAT_TRAINS, SELF, sw_keisei3500_capacity,position_in_vehid_chain_from_end){
      0: 122;
      default: 133;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei3500_capacity_1,position_in_vehid_chain){
      0: 122;
      default: sw_keisei3500_capacity;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei3500_capacity_main,vehicle_type_id){
      mu_car: sw_keisei3500_capacity;
      sw_keisei3500_capacity_1;
    }


    switch(FEAT_TRAINS, SELF, sw_keisei3500_power_main,position_in_vehid_chain_from_end%6){
      0..3:return 100;
      return 0;
    }


item(FEAT_TRAINS, keisei3500) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_KEISEI), "3500", string(STR_NAME_TYPE));
        introduction_date: date(1972, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cargo_capacity: 1;
        loading_speed: param_loading_3D;
        cost_factor: 19;
        running_cost_factor: 49;

        speed: 120 km/h;
        track_type: TR_1435_DC;
        power: 620 kW;
        weight: 34 ton;

        climates_available: param_disable_keisei == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        power: sw_keisei3500_power_main()*4*1342/1000;
        cargo_subtype_text:sw_keisei3500_lv_desc;
        default: sw_keisei3500_lv;
        purchase: keisei3500_purchase;
        can_attach_wagon: sw_1435_attach_vehid;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 4)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_KEISEI)));

  start_stop: sw_stop_start_2;
        cargo_capacity: sw_keisei3500_capacity_main()*param_capacity_mod/3;
        sound_effect: sw_KS3500_start_sound;
    }
    livery_override(mu_car){
        cargo_subtype_text:sw_keisei3500_lv_desc;
        loading_speed: param_loading_3D;
        cargo_capacity: sw_keisei3500_capacity_main()*param_capacity_mod/3;
        default: sw_keisei3500_lv;
        power: sw_keisei3500_power_main()*4*1342/1000;
        weight: 34;
        length: 8;
      }
}
# 211 "src/_private.pnml" 2
# 1 "src/private/Kanto/keisei/keisei3600.pnml" 1

  spriteset(keisei3600_purchase_c1_1, "gfx/private/Kanto/keisei/keisei3600/keisei3600_1.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(keisei3600_purchase_c2_1, "gfx/private/Kanto/keisei/keisei3600/keisei3600_1.png"){ tmpl_purchase_2c(0, 150) }
  switch(FEAT_TRAINS, SELF, keisei3600_purchase_1, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_keisei; 1: keisei3600_purchase_c1_1; 2: keisei3600_purchase_c2_1;}
  spriteset(keisei3600_purchase_c1_2, "gfx/private/Kanto/keisei/keisei3600/keisei3600_2.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(keisei3600_purchase_c2_2, "gfx/private/Kanto/keisei/keisei3600/keisei3600_2.png"){ tmpl_purchase_2c(0, 150) }
  switch(FEAT_TRAINS, SELF, keisei3600_purchase_2, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_keisei; 1: keisei3600_purchase_c1_2; 2: keisei3600_purchase_c2_2;}

  switch(FEAT_TRAINS, SELF, keisei3600_purchase, current_year>1992){
    1: keisei3600_purchase_2;
    keisei3600_purchase_1;
  }

spriteset (keisei3600_1_front_mot, "gfx/private/Kanto/keisei/keisei3600/keisei3600_1.png") { tmpl_std(0, 0) }
spriteset (keisei3600_1_end_mot, "gfx/private/Kanto/keisei/keisei3600/keisei3600_1.png") { tmpl_std_rev(0, 25) }
spriteset (keisei3600_1_front, "gfx/private/Kanto/keisei/keisei3600/keisei3600_1.png") { tmpl_std(0, 50) }
spriteset (keisei3600_1_end, "gfx/private/Kanto/keisei/keisei3600/keisei3600_1.png") { tmpl_std_rev(0, 75) }
spriteset (keisei3600_1_mot, "gfx/private/Kanto/keisei/keisei3600/keisei3600_1.png") { tmpl_std(0, 100) }
spriteset (keisei3600_1_mot_rev, "gfx/private/Kanto/keisei/keisei3600/keisei3600_1.png") { tmpl_std_rev(0, 100) }
spriteset (keisei3600_1_mot_2, "gfx/private/Kanto/keisei/keisei3600/keisei3600_1.png") { tmpl_symm(0, 125) }
spriteset (keisei3600_1_wag, "gfx/private/Kanto/keisei/keisei3600/keisei3600_1.png") { tmpl_symm(0, 150) }

spriteset (keisei3600_2_front_mot, "gfx/private/Kanto/keisei/keisei3600/keisei3600_2.png") { tmpl_std(0, 0) }
spriteset (keisei3600_2_end_mot, "gfx/private/Kanto/keisei/keisei3600/keisei3600_2.png") { tmpl_std_rev(0, 25) }
spriteset (keisei3600_2_front, "gfx/private/Kanto/keisei/keisei3600/keisei3600_2.png") { tmpl_std(0, 50) }
spriteset (keisei3600_2_end, "gfx/private/Kanto/keisei/keisei3600/keisei3600_2.png") { tmpl_std_rev(0, 75) }
spriteset (keisei3600_2_mot, "gfx/private/Kanto/keisei/keisei3600/keisei3600_2.png") { tmpl_std(0, 100) }
spriteset (keisei3600_2_mot_rev, "gfx/private/Kanto/keisei/keisei3600/keisei3600_2.png") { tmpl_std_rev(0, 100) }
spriteset (keisei3600_2_mot_2, "gfx/private/Kanto/keisei/keisei3600/keisei3600_2.png") { tmpl_symm(0, 125) }
spriteset (keisei3600_2_wag, "gfx/private/Kanto/keisei/keisei3600/keisei3600_2.png") { tmpl_symm(0, 150) }



    switch(FEAT_TRAINS, PARENT, sw_keisei3600_1_front_gfx, vehicle_is_reversed==0&&num_vehs_in_consist<6){
      1: keisei3600_1_front_mot;
      keisei3600_1_front;
    }
    switch(FEAT_TRAINS, PARENT, sw_keisei3600_1_end_gfx, vehicle_is_reversed==1&&num_vehs_in_consist<6){
      1: keisei3600_1_end_mot;
      keisei3600_1_end;
    }


      switch(FEAT_TRAINS, SELF, sw_keisei3600_1_panto_placer_1,position_in_vehid_chain %7){
        1: keisei3600_1_mot_2;
        3: keisei3600_1_mot_rev;
        5: keisei3600_1_mot_2;
        keisei3600_1_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3600_1_panto_placer_1_rev,position_in_vehid_chain_from_end %7-1){
        1: keisei3600_1_mot_2;
        3: keisei3600_1_mot;
        5: keisei3600_1_mot_2;
        keisei3600_1_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3600_1_panto_placer_main_1,vehicle_is_reversed){
        1: sw_keisei3600_1_panto_placer_1_rev;
        sw_keisei3600_1_panto_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_keisei3600_1_panto_placer_2,position_in_vehid_chain %5){
        1: keisei3600_1_mot_2;
        3: keisei3600_1_mot_2;
        default: keisei3600_1_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3600_1_panto_placer_2_rev,position_in_vehid_chain_from_end %5-1){
        1: keisei3600_1_mot_2;
        3: keisei3600_1_mot_2;
        default: keisei3600_1_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3600_1_panto_placer_main_2,vehicle_is_reversed){
        1: sw_keisei3600_1_panto_placer_2_rev;
        sw_keisei3600_1_panto_placer_2;
      }

      switch(FEAT_TRAINS, SELF, sw_keisei3600_1_panto_placer_3,position_in_vehid_chain %2){
        1: keisei3600_1_mot;
        default: keisei3600_1_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3600_1_panto_placer_3_rev,position_in_vehid_chain_from_end %2){
        0: keisei3600_1_mot_rev;
        default: keisei3600_1_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3600_1_panto_placer_main_3,vehicle_is_reversed){
        1: sw_keisei3600_1_panto_placer_3_rev;
        sw_keisei3600_1_panto_placer_3;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3600_1_panto_placer_main,num_vehs_in_vehid_chain+1){
        4:sw_keisei3600_1_panto_placer_main_3;
        6..7: sw_keisei3600_1_panto_placer_main_2;
        sw_keisei3600_1_panto_placer_main_1;
      }
    switch(FEAT_TRAINS, SELF, sw_keisei3600_1_gfx_main,position_in_vehid_chain_from_end){
      0: sw_keisei3600_1_end_gfx;
      sw_keisei3600_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei3600_livery_1,vehicle_type_id){
      mu_car: sw_keisei3600_1_gfx_main;
      sw_keisei3600_1_front_gfx;
    }



    switch(FEAT_TRAINS, PARENT, sw_keisei3600_2_front_gfx, vehicle_is_reversed==0&&num_vehs_in_consist<6){
      1: keisei3600_2_front_mot;
      keisei3600_2_front;
    }
    switch(FEAT_TRAINS, PARENT, sw_keisei3600_2_end_gfx, vehicle_is_reversed==1&&num_vehs_in_consist<6){
      1: keisei3600_2_end_mot;
      keisei3600_2_end;
    }


      switch(FEAT_TRAINS, SELF, sw_keisei3600_2_panto_placer_1,position_in_vehid_chain %7){
        1: keisei3600_2_mot_2;
        3: keisei3600_2_mot_rev;
        5: keisei3600_2_mot_2;
        keisei3600_2_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3600_2_panto_placer_1_rev,position_in_vehid_chain_from_end %7-1){
        1: keisei3600_2_mot_2;
        3: keisei3600_2_mot;
        5: keisei3600_2_mot_2;
        keisei3600_2_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3600_2_panto_placer_main_1,vehicle_is_reversed){
        1: sw_keisei3600_2_panto_placer_1_rev;
        sw_keisei3600_2_panto_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_keisei3600_2_panto_placer_2,position_in_vehid_chain %5){
        1: keisei3600_2_mot_2;
        3: keisei3600_2_mot_2;
        default: keisei3600_2_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3600_2_panto_placer_2_rev,position_in_vehid_chain_from_end %5-1){
        1: keisei3600_2_mot_2;
        3: keisei3600_2_mot_2;
        default: keisei3600_2_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3600_2_panto_placer_main_2,vehicle_is_reversed){
        1: sw_keisei3600_2_panto_placer_2_rev;
        sw_keisei3600_2_panto_placer_2;
      }

      switch(FEAT_TRAINS, SELF, sw_keisei3600_2_panto_placer_3,position_in_vehid_chain %2){
        1: keisei3600_2_mot;
        default: keisei3600_2_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3600_2_panto_placer_3_rev,position_in_vehid_chain_from_end %2){
        0: keisei3600_2_mot_rev;
        default: keisei3600_2_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3600_2_panto_placer_main_3,vehicle_is_reversed){
        1: sw_keisei3600_2_panto_placer_3_rev;
        sw_keisei3600_2_panto_placer_3;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3600_2_panto_placer_main,num_vehs_in_vehid_chain+1){
        4:sw_keisei3600_2_panto_placer_main_3;
        6..7: sw_keisei3600_2_panto_placer_main_2;
        sw_keisei3600_2_panto_placer_main_1;
      }
    switch(FEAT_TRAINS, SELF, sw_keisei3600_2_gfx_main,position_in_vehid_chain_from_end){
      0: sw_keisei3600_2_end_gfx;
      sw_keisei3600_2_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei3600_livery_2,vehicle_type_id){
      mu_car: sw_keisei3600_2_gfx_main;
      sw_keisei3600_2_front_gfx;
    }



  switch(FEAT_TRAINS, PARENT, sw_keisei3600_livery_0,current_year){
      0..1992:sw_keisei3600_livery_1;
      sw_keisei3600_livery_2;
    }
  switch(FEAT_TRAINS, SELF, sw_keisei3600_lv,cargo_subtype){
    0:sw_keisei3600_livery_0;
    1:sw_keisei3600_livery_1;
    2:sw_keisei3600_livery_2;
  }
  switch(FEAT_TRAINS, SELF, sw_keisei3600_lv_desc,cargo_subtype){
    0:string(LV_RANDOM);
    1:string(LV_DEFAULT);
    2:string(LV_MODERN);
  }
# 204 "src/private/Kanto/keisei/keisei3600.pnml"
    switch(FEAT_TRAINS, SELF, sw_keisei3600_power_main,position_in_vehid_chain_from_end%8){
      0..2:return 140;
      5..6:return 140;
      return 0;
    }


item(FEAT_TRAINS, keisei3600) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_KEISEI), "3600", string(STR_NAME_TYPE));
        introduction_date: date(1982, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cargo_capacity: 1;
        loading_speed: param_loading_3D;
        cost_factor: 19;
        running_cost_factor: 49;

        speed: 110 km/h;
        track_type: TR_1435_DC;
        power: 620 kW;
        weight: 33 ton;

        climates_available: param_disable_keisei == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        power: sw_keisei3600_power_main()*4*1342/1000;
        cargo_subtype_text:sw_keisei3600_lv_desc;
        default: sw_keisei3600_lv;
        purchase: keisei3600_purchase;
        can_attach_wagon: sw_1435_attach_vehid;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_4, 2,4,6,8)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_KEISEI)));

  start_stop: sw_stop_start_2;
        cargo_capacity: 128*param_capacity_mod/3;
        sound_effect: sw_KS3600_start_sound;
    }
    livery_override(mu_car){
        cargo_subtype_text:sw_keisei3600_lv_desc;
        loading_speed: param_loading_3D;
        cargo_capacity: 128*param_capacity_mod/3;
        default: sw_keisei3600_lv;
        power: sw_keisei3600_power_main()*4*1342/1000;
        weight: 33;
        length: 8;
      }
}
# 212 "src/_private.pnml" 2
# 1 "src/private/Kanto/keisei/keisei3700.pnml" 1

  spriteset(keisei3700_purchase_c1, "gfx/private/Kanto/keisei/keisei3700/keisei3700_1.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(keisei3700_purchase_c2, "gfx/private/Kanto/keisei/keisei3700/keisei3700_1.png"){ tmpl_purchase_2c(0, 75) }
  switch(FEAT_TRAINS, SELF, keisei3700_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_keisei; 1: keisei3700_purchase_c1; 2: keisei3700_purchase_c2;}

spriteset (keisei3700_1_front, "gfx/private/Kanto/keisei/keisei3700/keisei3700_1.png") { tmpl_std(0, 0) }
spriteset (keisei3700_1_end, "gfx/private/Kanto/keisei/keisei3700/keisei3700_1.png") { tmpl_std_rev(0, 25) }
spriteset (keisei3700_1_mot, "gfx/private/Kanto/keisei/keisei3700/keisei3700_1.png") { tmpl_std(0, 50) }
spriteset (keisei3700_1_mot_rev, "gfx/private/Kanto/keisei/keisei3700/keisei3700_1.png") { tmpl_std_rev(0, 50) }
spriteset (keisei3700_1_mot_2, "gfx/private/Kanto/keisei/keisei3700/keisei3700_1.png") { tmpl_symm(0, 75) }
spriteset (keisei3700_1_wag, "gfx/private/Kanto/keisei/keisei3700/keisei3700_1.png") { tmpl_symm(0, 100) }

spriteset (keisei3700_1_front_1, "gfx/private/Kanto/keisei/keisei3700/keisei3700_2.png") { tmpl_std(0, 0) }
spriteset (keisei3700_1_end_1, "gfx/private/Kanto/keisei/keisei3700/keisei3700_2.png") { tmpl_std_rev(0, 25) }

spriteset (keisei3700_2_front, "gfx/private/Kanto/keisei/keisei3700/keisei3700_3.png") { tmpl_std(0, 0) }
spriteset (keisei3700_2_end, "gfx/private/Kanto/keisei/keisei3700/keisei3700_3.png") { tmpl_std_rev(0, 25) }
spriteset (keisei3700_2_mot, "gfx/private/Kanto/keisei/keisei3700/keisei3700_3.png") { tmpl_std(0, 50) }
spriteset (keisei3700_2_mot_rev, "gfx/private/Kanto/keisei/keisei3700/keisei3700_3.png") { tmpl_std_rev(0, 50) }
spriteset (keisei3700_2_mot_2, "gfx/private/Kanto/keisei/keisei3700/keisei3700_3.png") { tmpl_symm(0, 75) }
spriteset (keisei3700_2_wag, "gfx/private/Kanto/keisei/keisei3700/keisei3700_3.png") { tmpl_symm(0, 100) }



    switch(FEAT_TRAINS, SELF, keisei3700_1_front_gfx,current_year>1994){
      1:keisei3700_1_front_1;
      keisei3700_1_front;
    }
    switch(FEAT_TRAINS, SELF, keisei3700_1_end_gfx,current_year>1994){
      1:keisei3700_1_end_1;
      keisei3700_1_end;
    }


      switch(FEAT_TRAINS, SELF, sw_keisei3700_1_panto_placer_1,position_in_vehid_chain %8){
        0: keisei3700_1_mot_2;
        2: keisei3700_1_mot;
        5: keisei3700_1_mot_2;
        keisei3700_1_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3700_1_panto_placer_1_rev,position_in_vehid_chain_from_end %8-1){
        0: keisei3700_1_mot_2;
        2: keisei3700_1_mot_rev;
        5: keisei3700_1_mot_2;
        keisei3700_1_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3700_1_panto_placer_main_1,vehicle_is_reversed){
        1: sw_keisei3700_1_panto_placer_1_rev;
        sw_keisei3700_1_panto_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_keisei3700_1_panto_placer_2,position_in_vehid_chain %3){
        0: keisei3700_1_mot_2;
        default: keisei3700_1_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3700_1_panto_placer_2_rev,position_in_vehid_chain_from_end %3-1){
        0: keisei3700_1_mot_2;
        default: keisei3700_1_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3700_1_panto_placer_main_2,vehicle_is_reversed){
        1: sw_keisei3700_1_panto_placer_2;
        sw_keisei3700_1_panto_placer_2_rev;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3700_1_panto_placer_main,num_vehs_in_vehid_chain+1){
        6..7: sw_keisei3700_1_panto_placer_main_2;
        sw_keisei3700_1_panto_placer_main_1;
      }
    switch(FEAT_TRAINS, SELF, sw_keisei3700_1_gfx_main,position_in_vehid_chain_from_end){
      0: keisei3700_1_end_gfx;
      sw_keisei3700_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei3700_livery_1,vehicle_type_id){
      mu_car: sw_keisei3700_1_gfx_main;
      keisei3700_1_front_gfx;
    }




      switch(FEAT_TRAINS, SELF, sw_keisei3700_2_panto_placer_1,position_in_vehid_chain %8){
        0: keisei3700_2_mot_2;
        2: keisei3700_2_mot;
        5: keisei3700_2_mot_2;
        keisei3700_2_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3700_2_panto_placer_1_rev,position_in_vehid_chain_from_end %8-1){
        0: keisei3700_2_mot_2;
        2: keisei3700_2_mot_rev;
        5: keisei3700_2_mot_2;
        keisei3700_2_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3700_2_panto_placer_main_1,vehicle_is_reversed){
        1: sw_keisei3700_2_panto_placer_1_rev;
        sw_keisei3700_2_panto_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_keisei3700_2_panto_placer_2,position_in_vehid_chain %3){
        0: keisei3700_2_mot_2;
        default: keisei3700_2_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3700_2_panto_placer_2_rev,position_in_vehid_chain_from_end %3-1){
        0: keisei3700_2_mot_2;
        default: keisei3700_2_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3700_2_panto_placer_main_2,vehicle_is_reversed){
        1: sw_keisei3700_2_panto_placer_2;
        sw_keisei3700_2_panto_placer_2_rev;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3700_2_panto_placer_main,num_vehs_in_vehid_chain+1){
        6..7: sw_keisei3700_2_panto_placer_main_2;
        sw_keisei3700_2_panto_placer_main_1;
      }
    switch(FEAT_TRAINS, SELF, sw_keisei3700_2_gfx_main,position_in_vehid_chain_from_end){
      0: keisei3700_2_end;
      sw_keisei3700_2_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei3700_livery_2,vehicle_type_id){
      mu_car: sw_keisei3700_2_gfx_main;
      keisei3700_2_front;
    }


  switch(FEAT_TRAINS, PARENT, sw_keisei3700_livery_0,current_year){
      0..2009:sw_keisei3700_livery_1;
      sw_keisei3700_livery_2;
    }
  switch(FEAT_TRAINS, SELF, sw_keisei3700_lv,cargo_subtype){
    0:sw_keisei3700_livery_0;
    1:sw_keisei3700_livery_1;
    2:sw_keisei3700_livery_2;
  }
  switch(FEAT_TRAINS, SELF, sw_keisei3700_lv_desc,cargo_subtype){
    0:string(LV_RANDOM);
    1:string(LV_DEFAULT);
    2:string(LV_keisei3700_2);
  }


    switch(FEAT_TRAINS, SELF, sw_keisei3700_capacity,position_in_vehid_chain_from_end){
      0: 126;
      default: 136;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei3700_capacity_1,position_in_vehid_chain){
      0: 126;
      default: sw_keisei3700_capacity;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei3700_capacity_main,vehicle_type_id){
      mu_car: sw_keisei3700_capacity;
      sw_keisei3700_capacity_1;
    }


    switch(FEAT_TRAINS, SELF, sw_keisei3700_power_main,position_in_vehid_chain_from_end%8){
      0..1:return 130;
      3..4:return 130;
      5:return 130;
      return 0;
    }


item(FEAT_TRAINS, keisei3700) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_KEISEI), "3700", string(STR_NAME_TYPE));
        introduction_date: date(1991, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cargo_capacity: 1;
        loading_speed: param_loading_3D;
        cost_factor: 20;
        running_cost_factor: 50;

        speed: 120 km/h;
        track_type: TR_1435_DC;
        power: 620 kW;
        weight: 32 ton;

        climates_available: param_disable_keisei == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        power: sw_keisei3700_power_main()*4*1342/1000;
        cargo_subtype_text:sw_keisei3700_lv_desc;
        default: sw_keisei3700_lv;
        purchase: keisei3700_purchase;
        can_attach_wagon: sw_1435_attach_vehid;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_2, 6,8)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_KEISEI)));

  start_stop: sw_stop_start_3;
        cargo_capacity: sw_keisei3700_capacity_main()*param_capacity_mod/3;
        sound_effect: sw_KS3700_start_sound;
    }
    livery_override(mu_car){
        cargo_subtype_text:sw_keisei3700_lv_desc;
        loading_speed: param_loading_3D;
        cargo_capacity: sw_keisei3700_capacity_main()*param_capacity_mod/3;
        default: sw_keisei3700_lv;
        power: sw_keisei3700_power_main()*4*1342/1000;
        weight: 32;
        length: 8;
      }
}
# 213 "src/_private.pnml" 2
# 1 "src/private/Kanto/keisei/keisei3400.pnml" 1

  spriteset(keisei3400_purchase_c1, "gfx/private/Kanto/keisei/keisei3400/keisei3400_1.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(keisei3400_purchase_c2, "gfx/private/Kanto/keisei/keisei3400/keisei3400_1.png"){ tmpl_purchase_2c(0, 75) }
  switch(FEAT_TRAINS, SELF, keisei3400_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_keisei; 1: keisei3400_purchase_c1; 2: keisei3400_purchase_c2;}

spriteset (keisei3400_1_front, "gfx/private/Kanto/keisei/keisei3400/keisei3400_1.png") { tmpl_std(0, 0) }
spriteset (keisei3400_1_end, "gfx/private/Kanto/keisei/keisei3400/keisei3400_1.png") { tmpl_std_rev(0, 25) }
spriteset (keisei3400_1_mot_1, "gfx/private/Kanto/keisei/keisei3400/keisei3400_1.png") { tmpl_std(0, 50) }
spriteset (keisei3400_1_mot_1_rev, "gfx/private/Kanto/keisei/keisei3400/keisei3400_1.png") { tmpl_std_rev(0, 50) }
spriteset (keisei3400_1_mot_2, "gfx/private/Kanto/keisei/keisei3400/keisei3400_1.png") { tmpl_std(0, 75) }
spriteset (keisei3400_1_mot_2_rev, "gfx/private/Kanto/keisei/keisei3400/keisei3400_1.png") { tmpl_std_rev(0, 75) }
spriteset (keisei3400_1_mot_1_2, "gfx/private/Kanto/keisei/keisei3400/keisei3400_1.png") { tmpl_symm(0, 100) }
spriteset (keisei3400_1_mot_2_2, "gfx/private/Kanto/keisei/keisei3400/keisei3400_1.png") { tmpl_symm(0, 125) }
spriteset (keisei3400_1_wag, "gfx/private/Kanto/keisei/keisei3400/keisei3400_1.png") { tmpl_symm(0, 150) }

spriteset (keisei3400_1_front_1, "gfx/private/Kanto/keisei/keisei3400/keisei3400_2.png") { tmpl_std(0, 0) }
spriteset (keisei3400_1_end_1, "gfx/private/Kanto/keisei/keisei3400/keisei3400_2.png") { tmpl_std_rev(0, 25) }



    switch(FEAT_TRAINS, SELF, keisei3400_1_front_gfx,current_year>1995){
      1:keisei3400_1_front_1;
      keisei3400_1_front;
    }
    switch(FEAT_TRAINS, SELF, keisei3400_1_end_gfx,current_year>1995){
      1:keisei3400_1_end_1;
      keisei3400_1_end;
    }
    switch(FEAT_TRAINS, SELF, keisei3400_1_mot_gfx,current_year>1994){
      1:keisei3400_1_mot_1;
      keisei3400_1_mot_2;
    }
    switch(FEAT_TRAINS, SELF, keisei3400_1_mot_rev_gfx,current_year>1994){
      1:keisei3400_1_mot_1_rev;
      keisei3400_1_mot_2_rev;
    }
    switch(FEAT_TRAINS, SELF, keisei3400_1_mot_2_gfx,current_year>1994){
      1:keisei3400_1_mot_1_2;
      keisei3400_1_mot_2_2;
    }


      switch(FEAT_TRAINS, SELF, sw_keisei3400_1_panto_placer_1,position_in_vehid_chain %8){
        0: keisei3400_1_mot_2_gfx;
        2: keisei3400_1_mot_gfx;
        5: keisei3400_1_mot_2_gfx;
        keisei3400_1_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3400_1_panto_placer_1_rev,position_in_vehid_chain_from_end %8-1){
        0: keisei3400_1_mot_2_gfx;
        2: keisei3400_1_mot_rev_gfx;
        5: keisei3400_1_mot_2_gfx;
        keisei3400_1_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3400_1_panto_placer_main_1,vehicle_is_reversed){
        1: sw_keisei3400_1_panto_placer_1_rev;
        sw_keisei3400_1_panto_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_keisei3400_1_panto_placer_2,position_in_vehid_chain %3){
        0: keisei3400_1_mot_2_gfx;
        default: keisei3400_1_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3400_1_panto_placer_2_rev,position_in_vehid_chain_from_end %3-1){
        0: keisei3400_1_mot_2_gfx;
        default: keisei3400_1_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3400_1_panto_placer_main_2,vehicle_is_reversed){
        1: sw_keisei3400_1_panto_placer_2;
        sw_keisei3400_1_panto_placer_2_rev;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3400_1_panto_placer_main,num_vehs_in_vehid_chain+1){
        6..7: sw_keisei3400_1_panto_placer_main_2;
        sw_keisei3400_1_panto_placer_main_1;
      }
    switch(FEAT_TRAINS, SELF, sw_keisei3400_1_gfx_main,position_in_vehid_chain_from_end){
      0: keisei3400_1_end_gfx;
      sw_keisei3400_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei3400_lv,vehicle_type_id){
      mu_car: sw_keisei3400_1_gfx_main;
      keisei3400_1_front_gfx;
    }



    switch(FEAT_TRAINS, SELF, sw_keisei3400_capacity,position_in_vehid_chain_from_end){
      0: 123;
      default: 133;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei3400_capacity_1,position_in_vehid_chain){
      0: 123;
      default: sw_keisei3400_capacity;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei3400_capacity_main,vehicle_type_id){
      mu_car: sw_keisei3400_capacity;
      sw_keisei3400_capacity_1;
    }


    switch(FEAT_TRAINS, SELF, sw_keisei3400_power_main,position_in_vehid_chain_from_end%8){
      0..1:return 140;
      3..4:return 140;
      5:return 140;
      return 0;
    }


item(FEAT_TRAINS, keisei3400) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_KEISEI), "3400", string(STR_NAME_TYPE));
        introduction_date: date(1993, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cargo_capacity: 1;
        loading_speed: param_loading_3D;
        cost_factor: 20;
        running_cost_factor: 50;

        speed: 130 km/h;
        track_type: TR_1435_DC;
        power: 620 kW;
        weight: 35 ton;

        climates_available: param_disable_keisei == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        power: sw_keisei3400_power_main()*4*1342/1000;

        default: sw_keisei3400_lv;
        purchase: keisei3400_purchase;
        can_attach_wagon: sw_1435_attach_vehid;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 8)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_KEISEI)));

  start_stop: sw_stop_start_3;
        cargo_capacity: sw_keisei3400_capacity_main()*param_capacity_mod/3;
        sound_effect: sw_KS3400_start_sound;
    }
    livery_override(mu_car){
        cargo_subtype_text:sw_empty_desc;
        loading_speed: param_loading_3D;
        cargo_capacity: sw_keisei3400_capacity_main()*param_capacity_mod/3;
        default: sw_keisei3400_lv;
        power: sw_keisei3400_power_main()*4*1342/1000;
        weight: 33;
        length: 8;
      }
}
# 214 "src/_private.pnml" 2
# 1 "src/private/Kanto/keisei/keisei3000_2.pnml" 1

  spriteset(keisei3000_2_purchase_c1, "gfx/private/Kanto/keisei/keisei3000_2/keisei3000_2_1.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(keisei3000_2_purchase_c2, "gfx/private/Kanto/keisei/keisei3000_2/keisei3000_2_1.png"){ tmpl_purchase_2c(88, 75) }
  switch(FEAT_TRAINS, SELF, keisei3000_2_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_keisei; 1: keisei3000_2_purchase_c1; 2: keisei3000_2_purchase_c2;}

spriteset (keisei3000_2_1_front, "gfx/private/Kanto/keisei/keisei3000_2/keisei3000_2_1.png") { tmpl_std(0, 0) }
spriteset (keisei3000_2_1_end, "gfx/private/Kanto/keisei/keisei3000_2/keisei3000_2_1.png") { tmpl_std_rev(0, 25) }
spriteset (keisei3000_2_1_mot, "gfx/private/Kanto/keisei/keisei3000_2/keisei3000_2_1.png") { tmpl_std(0, 50) }
spriteset (keisei3000_2_1_mot_rev, "gfx/private/Kanto/keisei/keisei3000_2/keisei3000_2_1.png") { tmpl_std_rev(0, 50) }
spriteset (keisei3000_2_1_mot_2, "gfx/private/Kanto/keisei/keisei3000_2/keisei3000_2_1.png") { tmpl_std(0, 75) }
spriteset (keisei3000_2_1_mot_2_rev, "gfx/private/Kanto/keisei/keisei3000_2/keisei3000_2_1.png") { tmpl_std_rev(0, 75) }
spriteset (keisei3000_2_1_wag, "gfx/private/Kanto/keisei/keisei3000_2/keisei3000_2_1.png") { tmpl_std(0, 100) }
spriteset (keisei3000_2_1_wag_rev, "gfx/private/Kanto/keisei/keisei3000_2/keisei3000_2_1.png") { tmpl_std_rev(0, 100) }

spriteset (keisei3000_2_2_front, "gfx/private/Kanto/keisei/keisei3000_2/keisei3000_2_2.png") { tmpl_std(0, 0) }
spriteset (keisei3000_2_2_end, "gfx/private/Kanto/keisei/keisei3000_2/keisei3000_2_2.png") { tmpl_std_rev(0, 25) }
spriteset (keisei3000_2_2_mot, "gfx/private/Kanto/keisei/keisei3000_2/keisei3000_2_2.png") { tmpl_std(0, 50) }
spriteset (keisei3000_2_2_mot_rev, "gfx/private/Kanto/keisei/keisei3000_2/keisei3000_2_2.png") { tmpl_std_rev(0, 50) }
spriteset (keisei3000_2_2_mot_2, "gfx/private/Kanto/keisei/keisei3000_2/keisei3000_2_2.png") { tmpl_std(0, 75) }
spriteset (keisei3000_2_2_mot_2_rev, "gfx/private/Kanto/keisei/keisei3000_2/keisei3000_2_2.png") { tmpl_std_rev(0, 75) }
spriteset (keisei3000_2_2_wag, "gfx/private/Kanto/keisei/keisei3000_2/keisei3000_2_2.png") { tmpl_std(0, 100) }
spriteset (keisei3000_2_2_wag_rev, "gfx/private/Kanto/keisei/keisei3000_2/keisei3000_2_2.png") { tmpl_std_rev(0, 100) }




      switch(FEAT_TRAINS, SELF, sw_keisei3000_2_1_panto_placer_1,position_in_vehid_chain %8){
        0: keisei3000_2_1_mot_2_rev;
        2: keisei3000_2_1_mot_rev;
        5: keisei3000_2_1_mot_2_rev;
        keisei3000_2_1_wag_rev;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3000_2_1_panto_placer_1_rev,position_in_vehid_chain_from_end %8-1){
        0: keisei3000_2_1_mot_2;
        2: keisei3000_2_1_mot;
        5: keisei3000_2_1_mot_2;
        keisei3000_2_1_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3000_2_1_panto_placer_main_1,vehicle_is_reversed){
        1: sw_keisei3000_2_1_panto_placer_1_rev;
        sw_keisei3000_2_1_panto_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_keisei3000_2_1_panto_placer_2,position_in_vehid_chain %3){
        0: keisei3000_2_1_mot_2;
        default: keisei3000_2_1_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3000_2_1_panto_placer_2_rev,position_in_vehid_chain_from_end %3-1){
        0: keisei3000_2_1_mot_2_rev;
        default: keisei3000_2_1_wag_rev;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3000_2_1_panto_placer_main_2,vehicle_is_reversed){
        1: sw_keisei3000_2_1_panto_placer_2;
        sw_keisei3000_2_1_panto_placer_2_rev;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3000_2_1_panto_placer_main,num_vehs_in_vehid_chain+1){
        6..7: sw_keisei3000_2_1_panto_placer_main_2;
        sw_keisei3000_2_1_panto_placer_main_1;
      }

    switch(FEAT_TRAINS, SELF, sw_keisei3000_2_1_gfx_main,position_in_vehid_chain_from_end){
        0: keisei3000_2_1_end;
        sw_keisei3000_2_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei3000_2_livery_1,vehicle_type_id){
        mu_car: sw_keisei3000_2_1_gfx_main;
        keisei3000_2_1_front;
    }




      switch(FEAT_TRAINS, SELF, sw_keisei3000_2_2_panto_placer_1,position_in_vehid_chain %8){
        0: keisei3000_2_2_mot_2_rev;
        2: keisei3000_2_2_mot_rev;
        5: keisei3000_2_2_mot_2_rev;
        keisei3000_2_2_wag_rev;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3000_2_2_panto_placer_1_rev,position_in_vehid_chain_from_end %8-1){
        0: keisei3000_2_2_mot_2;
        2: keisei3000_2_2_mot;
        5: keisei3000_2_2_mot_2;
        keisei3000_2_2_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3000_2_2_panto_placer_main_1,vehicle_is_reversed){
        1: sw_keisei3000_2_2_panto_placer_1_rev;
        sw_keisei3000_2_2_panto_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_keisei3000_2_2_panto_placer_2,position_in_vehid_chain %3){
        0: keisei3000_2_2_mot_2;
        default: keisei3000_2_2_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3000_2_2_panto_placer_2_rev,position_in_vehid_chain_from_end %3-1){
        0: keisei3000_2_2_mot_2_rev;
        default: keisei3000_2_2_wag_rev;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3000_2_2_panto_placer_main_2,vehicle_is_reversed){
        1: sw_keisei3000_2_2_panto_placer_2;
        sw_keisei3000_2_2_panto_placer_2_rev;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3000_2_2_panto_placer_main,num_vehs_in_vehid_chain+1){
        6..7: sw_keisei3000_2_2_panto_placer_main_2;
        sw_keisei3000_2_2_panto_placer_main_1;
      }

    switch(FEAT_TRAINS, SELF, sw_keisei3000_2_2_gfx_main,position_in_vehid_chain_from_end){
        0: keisei3000_2_2_end;
        sw_keisei3000_2_2_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei3000_2_livery_2,vehicle_type_id){
        mu_car: sw_keisei3000_2_2_gfx_main;
        keisei3000_2_2_front;
    }


  switch(FEAT_TRAINS, PARENT, sw_keisei3000_2_livery_0,build_year){
      0..2009:sw_keisei3000_2_livery_1;
      sw_keisei3000_2_livery_2;
    }
  switch(FEAT_TRAINS, SELF, sw_keisei3000_2_lv,cargo_subtype){
    0:sw_keisei3000_2_livery_0;
    1:sw_keisei3000_2_livery_1;
    2:sw_keisei3000_2_livery_2;
  }
  switch(FEAT_TRAINS, SELF, sw_keisei3000_2_lv_desc,cargo_subtype){
    0:string(LV_RANDOM);
    1:string(LV_DEFAULT);
    2:string(LV_keisei3000_2_2);
  }


    switch(FEAT_TRAINS, SELF, sw_keisei3000_2_capacity,position_in_vehid_chain_from_end){
      0: 122;
      default: 133;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei3000_2_capacity_1,position_in_vehid_chain){
      0: 122;
      default: sw_keisei3000_2_capacity;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei3000_2_capacity_main,vehicle_type_id){
      mu_car: sw_keisei3000_2_capacity;
      sw_keisei3000_2_capacity_1;
    }


    switch(FEAT_TRAINS, SELF, sw_keisei3000_2_power_main,position_in_vehid_chain_from_end%8){
      0..1:return 125;
      4..5:return 125;
      6:return 125;
      return 0;
    }

    switch(FEAT_TRAINS, SELF, sw_keisei3000_2_speed_main,build_year){
      0..2009: 120;
      130;
    }


item(FEAT_TRAINS, keisei3000_2) {
    property {
        name: string(STR_TRAIN_NAME_LONG, string(STR_NAME_KEISEI), "3000/3050", string(STR_NAME_TYPE), string(STR_NAME_2_GEN));
        introduction_date: date(2002, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cargo_capacity: 1;
        loading_speed: param_loading_3D;
        cost_factor: 20;
        running_cost_factor: 50;

        speed: 130 km/h;
        track_type: TR_1435_DC;
        power: 620 kW;
        weight: 31 ton;

        climates_available: param_disable_keisei == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        speed: sw_keisei3000_2_speed_main;
        power: sw_keisei3000_2_power_main()*4*1342/1000;
        cargo_subtype_text:sw_keisei3000_2_lv_desc;
        default: sw_keisei3000_2_lv;
        purchase: keisei3000_2_purchase;
        can_attach_wagon: sw_1435_attach_vehid;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_2, 6,8)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_KEISEI)));

  start_stop: sw_stop_start_3;
        cargo_capacity: sw_keisei3000_2_capacity_main()*param_capacity_mod/3;
        sound_effect: sw_KS3000_2_start_sound;
    }
    livery_override(mu_car){
        cargo_subtype_text:sw_keisei3000_2_lv_desc;
        loading_speed: param_loading_3D;
        cargo_capacity: sw_keisei3000_2_capacity_main()*param_capacity_mod/3;
        default: sw_keisei3000_2_lv;
        power: sw_keisei3000_2_power_main()*4*1342/1000;
        weight: 31;
        length: 8;
      }
}
# 215 "src/_private.pnml" 2
# 1 "src/private/Kanto/keisei/keisei3100_2.pnml" 1

  spriteset(keisei3100_2_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/keisei/keisei3100_2/keisei3100_2_1.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(keisei3100_2_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/keisei/keisei3100_2/keisei3100_2_1.png"){ tmpl_purchase_2c(88, 75) }
  switch(FEAT_TRAINS, SELF, keisei3100_2_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_keisei; 1: keisei3100_2_purchase_c1; 2: keisei3100_2_purchase_c2;}

spriteset (keisei3100_2_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/keisei/keisei3100_2/keisei3100_2_1.png") { tmpl_high_skirt(0, 0) }
spriteset (keisei3100_2_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/keisei/keisei3100_2/keisei3100_2_1.png") { tmpl_high_skirt_rev(0, 25) }
spriteset (keisei3100_2_1_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/keisei/keisei3100_2/keisei3100_2_1.png") { tmpl_std(0, 50) }
spriteset (keisei3100_2_1_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/keisei/keisei3100_2/keisei3100_2_1.png") { tmpl_std_rev(0, 50) }
spriteset (keisei3100_2_1_mot_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/keisei/keisei3100_2/keisei3100_2_1.png") { tmpl_std(0, 75) }
spriteset (keisei3100_2_1_mot_2_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/keisei/keisei3100_2/keisei3100_2_1.png") { tmpl_std_rev(0, 75) }
spriteset (keisei3100_2_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/keisei/keisei3100_2/keisei3100_2_1.png") { tmpl_std(0, 100) }
spriteset (keisei3100_2_1_wag_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/keisei/keisei3100_2/keisei3100_2_1.png") { tmpl_std_rev(0, 100) }




      switch(FEAT_TRAINS, SELF, sw_keisei3100_2_1_panto_placer_1,position_in_vehid_chain %8){
        0: keisei3100_2_1_mot_2;
        2: keisei3100_2_1_mot;
        5: keisei3100_2_1_mot_2;
        keisei3100_2_1_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3100_2_1_panto_placer_1_rev,position_in_vehid_chain_from_end %8-1){
        0: keisei3100_2_1_mot_2_rev;
        2: keisei3100_2_1_mot_rev;
        5: keisei3100_2_1_mot_2_rev;
        keisei3100_2_1_wag_rev;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3100_2_1_panto_placer_main_1,vehicle_is_reversed){
        1: sw_keisei3100_2_1_panto_placer_1_rev;
        sw_keisei3100_2_1_panto_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_keisei3100_2_1_panto_placer_2,position_in_vehid_chain %3){
        0: keisei3100_2_1_mot_2_rev;
        default: keisei3100_2_1_wag_rev;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3100_2_1_panto_placer_2_rev,position_in_vehid_chain_from_end %3-1){
        0: keisei3100_2_1_mot_2;
        default: keisei3100_2_1_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_keisei3100_2_1_panto_placer_main_2,vehicle_is_reversed){
        1: sw_keisei3100_2_1_panto_placer_2;
        sw_keisei3100_2_1_panto_placer_2_rev;
      }
      switch(FEAT_TRAINS, SELF, sw_keisei3100_2_1_panto_placer_main,num_vehs_in_vehid_chain+1){
        6..7: sw_keisei3100_2_1_panto_placer_main_2;
        sw_keisei3100_2_1_panto_placer_main_1;
      }

    switch(FEAT_TRAINS, SELF, sw_keisei3100_2_1_gfx_main,position_in_vehid_chain_from_end){
        0: keisei3100_2_1_end;
        sw_keisei3100_2_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei3100_2_lv,vehicle_type_id){
        mu_car: sw_keisei3100_2_1_gfx_main;
        keisei3100_2_1_front;
    }



    switch(FEAT_TRAINS, SELF, sw_keisei3100_2_capacity,position_in_vehid_chain_from_end){
      0: 122;
      default: 133;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei3100_2_capacity_1,position_in_vehid_chain){
      0: 122;
      default: sw_keisei3100_2_capacity;
    }
    switch(FEAT_TRAINS, SELF, sw_keisei3100_2_capacity_main,vehicle_type_id){
      mu_car: sw_keisei3100_2_capacity;
      sw_keisei3100_2_capacity_1;
    }


    switch(FEAT_TRAINS, SELF, sw_keisei3100_2_power_main,position_in_vehid_chain_from_end%8){
      0..1:return 140;
      3..4:return 140;
      5:return 140;
      return 0;
    }


item(FEAT_TRAINS, keisei3100_2) {
    property {
        name: string(STR_TRAIN_NAME_LONG, string(STR_NAME_KEISEI), "3100", string(STR_NAME_TYPE), string(STR_NAME_2_GEN));
        introduction_date: date(2019, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cargo_capacity: 1;
        loading_speed: param_loading_3D;
        cost_factor: 21;
        running_cost_factor: 50;

        speed: 130 km/h;
        track_type: TR_1435_DC;
        power: 620 kW;
        weight: 31 ton;

        climates_available: param_disable_keisei == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        power: sw_keisei3100_2_power_main()*4*1342/1000;

        default: sw_keisei3100_2_lv;
        purchase: keisei3100_2_purchase;
        can_attach_wagon: sw_1435_attach_vehid;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 8)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_KEISEI)));

  start_stop: sw_stop_start_3;
        cargo_capacity: sw_keisei3100_2_capacity_main()*param_capacity_mod/3;

    }
    livery_override(mu_car){
        cargo_subtype_text:sw_empty_desc;
        loading_speed: param_loading_3D;
        cargo_capacity: sw_keisei3100_2_capacity_main()*param_capacity_mod/3;
        default: sw_keisei3100_2_lv;
        power: sw_keisei3100_2_power_main()*4*1342/1000;
        weight: 32;
        length: 8;
      }
}
# 216 "src/_private.pnml" 2


item(FEAT_TRAINS, shinKeisei33, 2500) {}
item(FEAT_TRAINS, shinKeisei300, 2501) {}
item(FEAT_TRAINS, shinKeisei2000, 2502) {}
item(FEAT_TRAINS, shinKeisei800, 2503) {}
item(FEAT_TRAINS, shinKeisei8000, 2504) {}
item(FEAT_TRAINS, shinKeisei8800, 2505) {}
item(FEAT_TRAINS, shinKeisei8900, 2506) {}
item(FEAT_TRAINS, shinKeisei800n, 2507) {}
item(FEAT_TRAINS, shinKeisei80000, 2508) {}

# 1 "src/private/Kanto/shinKeisei/shinKeisei33.pnml" 1

  spriteset(shinKeisei33_purchase_c1_1, "gfx/private/Kanto/shinKeisei/shinKeisei33/shinKeisei33_1.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(shinKeisei33_purchase_c1_2, "gfx/private/Kanto/shinKeisei/shinKeisei33/shinKeisei33_2.png"){ tmpl_purchase_1c(0, 0) }
  switch(FEAT_TRAINS, SELF, shinKeisei33_purchase_1, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_shin_keisei; 1: shinKeisei33_purchase_c1_1;}
  switch(FEAT_TRAINS, SELF, shinKeisei33_purchase_2, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_shin_keisei; 1: shinKeisei33_purchase_c1_2;}

  switch(FEAT_TRAINS, SELF, shinKeisei33_purchase,current_year){
    0..1952:shinKeisei33_purchase_1;
    shinKeisei33_purchase_2;
  }

spriteset (shinKeisei33_1_front, "gfx/private/Kanto/shinKeisei/shinKeisei33/shinKeisei33_1.png") { tmpl_std_rev(0, 0) }
spriteset (shinKeisei33_1_front_rev, "gfx/private/Kanto/shinKeisei/shinKeisei33/shinKeisei33_1.png") { tmpl_std(0, 25) }
spriteset (shinKeisei33_1_end, "gfx/private/Kanto/shinKeisei/shinKeisei33/shinKeisei33_1.png") { tmpl_std(0, 50) }
spriteset (shinKeisei33_1_end_rev, "gfx/private/Kanto/shinKeisei/shinKeisei33/shinKeisei33_1.png") { tmpl_std_rev(0, 50) }

spriteset (shinKeisei33_2_front, "gfx/private/Kanto/shinKeisei/shinKeisei33/shinKeisei33_2.png") { tmpl_std_rev(0, 0) }
spriteset (shinKeisei33_2_front_rev, "gfx/private/Kanto/shinKeisei/shinKeisei33/shinKeisei33_2.png") { tmpl_std(0, 25) }
spriteset (shinKeisei33_2_end, "gfx/private/Kanto/shinKeisei/shinKeisei33/shinKeisei33_2.png") { tmpl_std(0, 50) }
spriteset (shinKeisei33_2_end_rev, "gfx/private/Kanto/shinKeisei/shinKeisei33/shinKeisei33_2.png") { tmpl_std_rev(0, 50) }



    switch(FEAT_TRAINS, PARENT, sw_shinKeisei33_1_front_gfx_1,vehicle_is_reversed){
      1: shinKeisei33_1_front_rev;
      shinKeisei33_1_front;
    }
    switch(FEAT_TRAINS, PARENT, sw_shinKeisei33_1_front_gfx,vehicle_is_reversed==1&&num_vehs_in_consist>1){
      1: shinKeisei33_1_front;
      sw_shinKeisei33_1_front_gfx_1;
    }

   switch(FEAT_TRAINS, SELF, sw_shinKeisei33_1_panto_placer_1,position_in_vehid_chain %2){
      0: shinKeisei33_1_end;
      shinKeisei33_1_end_rev;
    }
    switch(FEAT_TRAINS, SELF, sw_shinKeisei33_1_panto_placer_1_rev,position_in_vehid_chain_from_end %2){
      0: shinKeisei33_1_end;
      shinKeisei33_1_end_rev;
    }
    switch(FEAT_TRAINS, PARENT, sw_shinKeisei33_1_panto_placer_main,vehicle_is_reversed){
      1: sw_shinKeisei33_1_panto_placer_1_rev;
      sw_shinKeisei33_1_panto_placer_1;
    }

    switch(FEAT_TRAINS, SELF, sw_shinKeisei33_1_gfx_main,position_in_vehid_chain_from_end){
      0: shinKeisei33_1_end;
      sw_shinKeisei33_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_shinKeisei33_livery_1,vehicle_type_id){
      mu_car: sw_shinKeisei33_1_gfx_main;
      sw_shinKeisei33_1_front_gfx;
    }



    switch(FEAT_TRAINS, PARENT, sw_shinKeisei33_2_front_gfx_1,vehicle_is_reversed){
      1: shinKeisei33_2_front_rev;
      shinKeisei33_2_front;
    }
    switch(FEAT_TRAINS, PARENT, sw_shinKeisei33_2_front_gfx,vehicle_is_reversed==1&&num_vehs_in_consist>1){
      1: shinKeisei33_2_front;
      sw_shinKeisei33_2_front_gfx_1;
    }

   switch(FEAT_TRAINS, SELF, sw_shinKeisei33_2_panto_placer_1,position_in_vehid_chain %2){
      0: shinKeisei33_2_end;
      shinKeisei33_2_end_rev;
    }
    switch(FEAT_TRAINS, SELF, sw_shinKeisei33_2_panto_placer_1_rev,position_in_vehid_chain_from_end %2){
      0: shinKeisei33_2_end;
      shinKeisei33_2_end_rev;
    }
    switch(FEAT_TRAINS, PARENT, sw_shinKeisei33_2_panto_placer_main,vehicle_is_reversed){
      1: sw_shinKeisei33_2_panto_placer_1_rev;
      sw_shinKeisei33_2_panto_placer_1;
    }

    switch(FEAT_TRAINS, SELF, sw_shinKeisei33_2_gfx_main,position_in_vehid_chain_from_end){
      0: shinKeisei33_2_end;
      sw_shinKeisei33_2_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_shinKeisei33_livery_2,vehicle_type_id){
      mu_car: sw_shinKeisei33_2_gfx_main;
      sw_shinKeisei33_2_front_gfx;
    }


  switch(FEAT_TRAINS, PARENT, sw_shinKeisei33_livery_0,current_year){
    0..1952:sw_shinKeisei33_livery_1;
    sw_shinKeisei33_livery_2;
  }
  switch(FEAT_TRAINS, SELF, sw_shinKeisei33_lv,cargo_subtype){
    0:sw_shinKeisei33_livery_0;
    1:sw_shinKeisei33_livery_1;
    2:sw_shinKeisei33_livery_2;
  }
  switch(FEAT_TRAINS, SELF, sw_shinKeisei33_lv_desc,cargo_subtype){
    0:string(LV_RANDOM);
    1:string(LV_KEISEI_WAR);
    2:string(LV_DEFAULT);
  }


item(FEAT_TRAINS, shinKeisei33) {
    property {
        cargo_capacity: 130;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        climates_available: param_disable_keisei == 0 ? ALL_CLIMATES : NO_CLIMATE;
        name: string(STR_TRAIN_NAME, string(STR_NAME_SHIN_KEISEI), "33", string(STR_NAME_TYPE));
        introduction_date: date(1947, 1, 1);
        model_life: 29;
        vehicle_life: 46;
        reliability_decay: 10;

        cost_factor: 12;
        running_cost_factor: 42;
        speed: 70 km/h;
        track_type: TR_1435_DC;
        power: 195 kW;
        weight: 30 ton;
        loading_speed: param_loading_3D;
    }
 graphics {
    default: sw_shinKeisei33_lv;
    purchase: shinKeisei33_purchase;
    can_attach_wagon: sw_1435_attach_vehid;
    cargo_subtype_text:sw_shinKeisei33_lv_desc;
    additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 1)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_SHIN_KEISEI)));

        cargo_capacity: 90*param_capacity_mod/3;
        sound_effect: sw_SKS33_start_sound;
        length: 7;
    }
  livery_override(mu_car){
      cargo_subtype_text:sw_shinKeisei33_lv_desc;
      loading_speed: param_loading_3D;
      cargo_capacity: 90*param_capacity_mod/3;
      default: sw_shinKeisei33_lv;
      power: 195*1342/1000;
      weight: 30;
      length: 7;
      }
}
# 229 "src/_private.pnml" 2
# 1 "src/private/Kanto/shinKeisei/shinKeisei300.pnml" 1

  spriteset(shinKeisei300_purchase_c1_1, "gfx/private/Kanto/shinKeisei/shinKeisei300/shinKeisei300_1.png"){ tmpl_purchase_1c_7(0, 0) }
  spriteset(shinKeisei300_purchase_c2_1, "gfx/private/Kanto/shinKeisei/shinKeisei300/shinKeisei300_1.png"){ tmpl_purchase_2c_7(0, 50) }
  spriteset(shinKeisei300_purchase_c1_2, "gfx/private/Kanto/shinKeisei/shinKeisei300/shinKeisei300_2.png"){ tmpl_purchase_1c_7(0, 0) }
  spriteset(shinKeisei300_purchase_c2_2, "gfx/private/Kanto/shinKeisei/shinKeisei300/shinKeisei300_2.png"){ tmpl_purchase_2c_7(0, 50) }
  switch(FEAT_TRAINS, SELF, shinKeisei300_purchase_1, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_shin_keisei; 1: shinKeisei300_purchase_c1_1; 2: shinKeisei300_purchase_c2_1;}
  switch(FEAT_TRAINS, SELF, shinKeisei300_purchase_2, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_shin_keisei; 1: shinKeisei300_purchase_c1_2; 2: shinKeisei300_purchase_c2_2;}

  switch(FEAT_TRAINS, SELF, shinKeisei300_purchase,current_year){
    0..1952:shinKeisei300_purchase_1;
    shinKeisei300_purchase_2;
  }

spriteset (shinKeisei300_1_front_rev, "gfx/private/Kanto/shinKeisei/shinKeisei300/shinKeisei300_1.png") { tmpl_std_rev(0, 0) }
spriteset (shinKeisei300_1_front, "gfx/private/Kanto/shinKeisei/shinKeisei300/shinKeisei300_1.png") { tmpl_std(0, 25) }
spriteset (shinKeisei300_1_end, "gfx/private/Kanto/shinKeisei/shinKeisei300/shinKeisei300_1.png") { tmpl_std(0, 50) }
spriteset (shinKeisei300_1_end_rev, "gfx/private/Kanto/shinKeisei/shinKeisei300/shinKeisei300_1.png") { tmpl_std_rev(0, 50) }

spriteset (shinKeisei300_2_front_mot, "gfx/private/Kanto/shinKeisei/shinKeisei300/shinKeisei300_2.png") { tmpl_std(0, 0) }
spriteset (shinKeisei300_2_end_mot, "gfx/private/Kanto/shinKeisei/shinKeisei300/shinKeisei300_2.png") { tmpl_std_rev(0, 25) }
spriteset (shinKeisei300_2_end_mot_rev, "gfx/private/Kanto/shinKeisei/shinKeisei300/shinKeisei300_2.png") { tmpl_std(0, 25) }
spriteset (shinKeisei300_2_front, "gfx/private/Kanto/shinKeisei/shinKeisei300/shinKeisei300_2.png") { tmpl_std(0, 50) }
spriteset (shinKeisei300_2_end, "gfx/private/Kanto/shinKeisei/shinKeisei300/shinKeisei300_2.png") { tmpl_std_rev(0, 75) }
spriteset (shinKeisei300_2_end_rev, "gfx/private/Kanto/shinKeisei/shinKeisei300/shinKeisei300_2.png") { tmpl_std(0, 75) }



    switch(FEAT_TRAINS, PARENT, sw_shinKeisei300_1_front_gfx,vehicle_is_reversed){
      1: shinKeisei300_1_front;
      shinKeisei300_1_front_rev;
    }
    switch(FEAT_TRAINS, PARENT, sw_shinKeisei300_1_end_gfx,vehicle_is_reversed){
      1: shinKeisei300_1_end;
      shinKeisei300_1_end_rev;
    }

    switch(FEAT_TRAINS, SELF, sw_shinKeisei300_livery_1,vehicle_type_id){
      mu_car: sw_shinKeisei300_1_end_gfx;
      sw_shinKeisei300_1_front_gfx;
    }



    switch(FEAT_TRAINS, PARENT, sw_shinKeisei300_2_front_gfx,vehicle_is_reversed){
      1: shinKeisei300_2_front;
      shinKeisei300_2_front_mot;
    }
    switch(FEAT_TRAINS, PARENT, sw_shinKeisei300_2_end_gfx,vehicle_is_reversed){
      1: shinKeisei300_2_end_mot;
      shinKeisei300_2_end;
    }

   switch(FEAT_TRAINS, SELF, sw_shinKeisei300_2_panto_placer_1,position_in_vehid_chain %2){
      0: shinKeisei300_2_end;
      shinKeisei300_2_end_mot_rev;
    }
    switch(FEAT_TRAINS, SELF, sw_shinKeisei300_2_panto_placer_1_rev,position_in_vehid_chain_from_end %2){
      0: shinKeisei300_2_end_mot;
      shinKeisei300_2_end_rev;
    }
    switch(FEAT_TRAINS, PARENT, sw_shinKeisei300_2_panto_placer_main,vehicle_is_reversed){
      1: sw_shinKeisei300_2_panto_placer_1_rev;
      sw_shinKeisei300_2_panto_placer_1;
    }

    switch(FEAT_TRAINS, SELF, sw_shinKeisei300_2_gfx_main,position_in_vehid_chain_from_end){
      0: sw_shinKeisei300_2_end_gfx;
      sw_shinKeisei300_2_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_shinKeisei300_livery_2,vehicle_type_id){
      mu_car: sw_shinKeisei300_2_gfx_main;
      sw_shinKeisei300_2_front_gfx;
    }


  switch(FEAT_TRAINS, PARENT, sw_shinKeisei300_livery_0,current_year){
    0..1952:sw_shinKeisei300_livery_1;
    sw_shinKeisei300_livery_2;
  }
  switch(FEAT_TRAINS, SELF, sw_shinKeisei300_lv,cargo_subtype){
    0:sw_shinKeisei300_livery_0;
    1:sw_shinKeisei300_livery_1;
    2:sw_shinKeisei300_livery_2;
  }
  switch(FEAT_TRAINS, SELF, sw_shinKeisei300_lv_desc,cargo_subtype){
    0:string(LV_RANDOM);
    1:string(LV_OLD);
    2:string(LV_shinKeisei8000_1);
  }



    switch(FEAT_TRAINS, SELF, sw_shinKeisei300_power_main,position_in_consist_from_end%2){
      1:return 150;
      return 0;
    }

item(FEAT_TRAINS, shinKeisei300) {
    property {
        cargo_capacity: 130;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        climates_available: param_disable_keisei == 0 ? ALL_CLIMATES : NO_CLIMATE;
        name: string(STR_TRAIN_NAME, string(STR_NAME_SHIN_KEISEI), "300", string(STR_NAME_TYPE));
        introduction_date: date(1955, 1, 1);
        model_life: 29;
        vehicle_life: 46;
        reliability_decay: 10;

        cost_factor: 15;
        running_cost_factor: 45;
        speed: 75 km/h;
        track_type: TR_1435_DC;
        power: 148 kW;
        weight: 32 ton;
        loading_speed: param_loading_3D;
    }
 graphics {
    default: sw_shinKeisei300_lv;
    purchase: shinKeisei300_purchase;
    can_attach_wagon: sw_1435_attach_vehid;
    cargo_subtype_text:sw_shinKeisei300_lv_desc;
    additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 2)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_SHIN_KEISEI)));
        power: sw_shinKeisei300_power_main()*1342/1000;
        cargo_capacity: 100*param_capacity_mod/3;
        sound_effect: sw_SKS300_start_sound;
        length: 7;
    }
  livery_override(mu_car){
      cargo_subtype_text:sw_shinKeisei300_lv_desc;
      loading_speed: param_loading_3D;
      cargo_capacity: 100*param_capacity_mod/3;
      default: sw_shinKeisei300_lv;
      power: sw_shinKeisei300_power_main()*1342/1000;
      weight: 32;
      length: 7;
      }
}
# 230 "src/_private.pnml" 2
# 1 "src/private/Kanto/shinKeisei/shinKeisei2000.pnml" 1

  spriteset(shinKeisei2000_purchase_c1_1, "gfx/private/Kanto/shinKeisei/shinKeisei2000/shinKeisei2000_1.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(shinKeisei2000_purchase_c1_2, "gfx/private/Kanto/shinKeisei/shinKeisei2000/shinKeisei2000_2.png"){ tmpl_purchase_1c(0, 50) }
  spriteset(shinKeisei2000_purchase_c2_2, "gfx/private/Kanto/shinKeisei/shinKeisei2000/shinKeisei2000_2.png"){ tmpl_purchase_2c(0, 150) }
  switch(FEAT_TRAINS, SELF, shinKeisei2000_purchase_1, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_shin_keisei; 1: shinKeisei2000_purchase_c1_1;}
  switch(FEAT_TRAINS, SELF, shinKeisei2000_purchase_2, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_shin_keisei; 1: shinKeisei2000_purchase_c1_2; 2: shinKeisei2000_purchase_c2_2;}

  switch(FEAT_TRAINS, SELF, shinKeisei2000_purchase, current_year){
    0..1967:shinKeisei2000_purchase_1;
    shinKeisei2000_purchase_2;
  }


spriteset (shinKeisei2000_1_front_rev, "gfx/private/Kanto/shinKeisei/shinKeisei2000/shinKeisei2000_1.png") { tmpl_std(0, 0) }
spriteset (shinKeisei2000_1_front, "gfx/private/Kanto/shinKeisei/shinKeisei2000/shinKeisei2000_1.png") { tmpl_std_rev(0, 25) }
spriteset (shinKeisei2000_1_front_mot, "gfx/private/Kanto/shinKeisei/shinKeisei2000/shinKeisei2000_1.png") { tmpl_std(0, 50) }
spriteset (shinKeisei2000_1_end_mot, "gfx/private/Kanto/shinKeisei/shinKeisei2000/shinKeisei2000_1.png") { tmpl_std_rev(0, 75) }
spriteset (shinKeisei2000_1_end_mot_rev, "gfx/private/Kanto/shinKeisei/shinKeisei2000/shinKeisei2000_1.png") { tmpl_std(0, 75) }
spriteset (shinKeisei2000_1_wag, "gfx/private/Kanto/shinKeisei/shinKeisei2000/shinKeisei2000_1.png") { tmpl_symm(0, 150) }

spriteset (shinKeisei2000_2_front_rev, "gfx/private/Kanto/shinKeisei/shinKeisei2000/shinKeisei2000_2.png") { tmpl_std(0, 0) }
spriteset (shinKeisei2000_2_front, "gfx/private/Kanto/shinKeisei/shinKeisei2000/shinKeisei2000_2.png") { tmpl_std_rev(0, 25) }
spriteset (shinKeisei2000_2_front_mot, "gfx/private/Kanto/shinKeisei/shinKeisei2000/shinKeisei2000_2.png") { tmpl_std(0, 50) }
spriteset (shinKeisei2000_2_end_mot, "gfx/private/Kanto/shinKeisei/shinKeisei2000/shinKeisei2000_2.png") { tmpl_std_rev(0, 75) }
spriteset (shinKeisei2000_2_end_mot_rev, "gfx/private/Kanto/shinKeisei/shinKeisei2000/shinKeisei2000_2.png") { tmpl_std(0, 75) }
spriteset (shinKeisei2000_2_wag, "gfx/private/Kanto/shinKeisei/shinKeisei2000/shinKeisei2000_2.png") { tmpl_symm(0, 150) }



    switch(FEAT_TRAINS, SELF, sw_shinKeisei2000_1_front_gfx_1,vehicle_is_reversed){
      1: shinKeisei2000_1_front_rev;
      shinKeisei2000_1_front;
    }
    switch(FEAT_TRAINS, SELF, sw_shinKeisei2000_1_front_gfx,num_vehs_in_consist){
      1: sw_shinKeisei2000_1_front_gfx_1;
      shinKeisei2000_1_front_mot;
    }


      switch(FEAT_TRAINS, SELF, sw_shinKeisei2000_1_panto_placer_1,position_in_vehid_chain %3){
        1: shinKeisei2000_1_end_mot;
        2: shinKeisei2000_1_end_mot_rev;
        shinKeisei2000_1_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_shinKeisei2000_1_panto_placer_1_rev,position_in_vehid_chain_from_end %3){
        2: shinKeisei2000_1_end_mot_rev;
        0: shinKeisei2000_1_end_mot;
        shinKeisei2000_1_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_shinKeisei2000_1_panto_placer_main_1,vehicle_is_reversed){
        1: sw_shinKeisei2000_1_panto_placer_1_rev;
        sw_shinKeisei2000_1_panto_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_shinKeisei2000_1_panto_placer_2,position_in_vehid_chain %4){
        2: shinKeisei2000_1_end_mot;
        3: shinKeisei2000_1_end_mot_rev;
        shinKeisei2000_1_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_shinKeisei2000_1_panto_placer_2_rev,position_in_vehid_chain_from_end %4){
        3: shinKeisei2000_1_end_mot_rev;
        0: shinKeisei2000_1_end_mot;
        shinKeisei2000_1_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_shinKeisei2000_1_panto_placer_main_2,vehicle_is_reversed){
        1: sw_shinKeisei2000_1_panto_placer_2_rev;
        sw_shinKeisei2000_1_panto_placer_2;
      }
    switch(FEAT_TRAINS, SELF, sw_shinKeisei2000_1_panto_placer_main,num_vehs_in_vehid_chain+1){
        0..6: sw_shinKeisei2000_1_panto_placer_main_1;
        9:sw_shinKeisei2000_1_panto_placer_main_1;
        sw_shinKeisei2000_1_panto_placer_main_2;
      }
  switch(FEAT_TRAINS, SELF, sw_shinKeisei2000_1_gfx_main,position_in_vehid_chain_from_end){
    0: shinKeisei2000_1_end_mot;
    sw_shinKeisei2000_1_panto_placer_main;
  }
  switch(FEAT_TRAINS, SELF, sw_shinKeisei2000_livery_1,vehicle_type_id){
    mu_car: sw_shinKeisei2000_1_gfx_main;
    sw_shinKeisei2000_1_front_gfx;
  }



    switch(FEAT_TRAINS, SELF, sw_shinKeisei2000_2_front_gfx_1,vehicle_is_reversed){
      1: shinKeisei2000_2_front_rev;
      shinKeisei2000_2_front;
    }
    switch(FEAT_TRAINS, SELF, sw_shinKeisei2000_2_front_gfx,num_vehs_in_consist){
      1: sw_shinKeisei2000_2_front_gfx_1;
      shinKeisei2000_2_front_mot;
    }


      switch(FEAT_TRAINS, SELF, sw_shinKeisei2000_2_panto_placer_1,position_in_vehid_chain %3){
        1: shinKeisei2000_2_end_mot;
        2: shinKeisei2000_2_end_mot_rev;
        shinKeisei2000_2_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_shinKeisei2000_2_panto_placer_1_rev,position_in_vehid_chain_from_end %3){
        2: shinKeisei2000_2_end_mot_rev;
        0: shinKeisei2000_2_end_mot;
        shinKeisei2000_2_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_shinKeisei2000_2_panto_placer_main_1,vehicle_is_reversed){
        1: sw_shinKeisei2000_2_panto_placer_1_rev;
        sw_shinKeisei2000_2_panto_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_shinKeisei2000_2_panto_placer_2,position_in_vehid_chain %4){
        2: shinKeisei2000_2_end_mot;
        3: shinKeisei2000_2_end_mot_rev;
        shinKeisei2000_2_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_shinKeisei2000_2_panto_placer_2_rev,position_in_vehid_chain_from_end %4){
        3: shinKeisei2000_2_end_mot_rev;
        0: shinKeisei2000_2_end_mot;
        shinKeisei2000_2_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_shinKeisei2000_2_panto_placer_main_2,vehicle_is_reversed){
        1: sw_shinKeisei2000_2_panto_placer_2_rev;
        sw_shinKeisei2000_2_panto_placer_2;
      }
    switch(FEAT_TRAINS, SELF, sw_shinKeisei2000_2_panto_placer_main,num_vehs_in_vehid_chain+1){
        0..6: sw_shinKeisei2000_2_panto_placer_main_1;
        9:sw_shinKeisei2000_2_panto_placer_main_1;
        sw_shinKeisei2000_2_panto_placer_main_2;
      }
  switch(FEAT_TRAINS, SELF, sw_shinKeisei2000_2_gfx_main,position_in_vehid_chain_from_end){
    0: shinKeisei2000_2_end_mot;
    sw_shinKeisei2000_2_panto_placer_main;
  }
  switch(FEAT_TRAINS, SELF, sw_shinKeisei2000_livery_2,vehicle_type_id){
    mu_car: sw_shinKeisei2000_2_gfx_main;
    sw_shinKeisei2000_2_front_gfx;
  }


  switch(FEAT_TRAINS, PARENT, sw_shinKeisei2000_livery_0,current_year){
      0..1967:sw_shinKeisei2000_livery_1;
      sw_shinKeisei2000_livery_2;
    }
  switch(FEAT_TRAINS, SELF, sw_shinKeisei2000_lv,cargo_subtype){
    0:sw_shinKeisei2000_livery_0;
    1:sw_shinKeisei2000_livery_1;
    2:sw_shinKeisei2000_livery_2;
  }
  switch(FEAT_TRAINS, SELF, sw_shinKeisei2000_lv_desc,cargo_subtype){
    0:string(LV_RANDOM);
    1:string(LV_OLD);
    2:string(LV_shinKeisei8000_1);
  }
# 170 "src/private/Kanto/shinKeisei/shinKeisei2000.pnml"
item(FEAT_TRAINS, shinKeisei2000) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_SHIN_KEISEI), "20-2000", string(STR_NAME_TYPE));
        introduction_date: date(1961, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cargo_capacity: 1;
        loading_speed: param_loading_3D;
        cost_factor: 17;
        running_cost_factor: 47;

        speed: 95 km/h;
        track_type: TR_1435_DC;
        power: 224 kW;
        weight: 32 ton;

        climates_available: param_disable_keisei == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {

        cargo_subtype_text:sw_shinKeisei2000_lv_desc;
        default: sw_shinKeisei2000_lv;
        purchase: shinKeisei2000_purchase;
        can_attach_wagon: sw_1435_attach_vehid;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 8)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_SHIN_KEISEI)));

        cargo_capacity: 130*param_capacity_mod/3;
        sound_effect: sw_SKS20_start_sound;
    }
    livery_override(mu_car){
        cargo_subtype_text:sw_shinKeisei2000_lv_desc;
        loading_speed: param_loading_3D;
        cargo_capacity: 130*param_capacity_mod/3;
        default: sw_shinKeisei2000_lv;
        power: 224*1342/1000;
        weight: 32;
        length: 8;
      }
}
# 231 "src/_private.pnml" 2
# 1 "src/private/Kanto/shinKeisei/shinKeisei800.pnml" 1

  spriteset(shinKeisei800_purchase_c1, "gfx/private/Kanto/shinKeisei/shinKeisei800/shinKeisei800_2.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(shinKeisei800_purchase_c2, "gfx/private/Kanto/shinKeisei/shinKeisei800/shinKeisei800_2.png"){ tmpl_purchase_2c(0, 125) }
  switch(FEAT_TRAINS, SELF, shinKeisei800_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_shin_keisei; 1: shinKeisei800_purchase_c1; 2: shinKeisei800_purchase_c2;}

spriteset (shinKeisei800_1_front, "gfx/private/Kanto/shinKeisei/shinKeisei800/shinKeisei800_1.png") { tmpl_std(0, 0) }
spriteset (shinKeisei800_1_end, "gfx/private/Kanto/shinKeisei/shinKeisei800/shinKeisei800_1.png") { tmpl_std_rev(0, 25) }
spriteset (shinKeisei800_1_mot_1, "gfx/private/Kanto/shinKeisei/shinKeisei800/shinKeisei800_1.png") { tmpl_std(0, 50) }
spriteset (shinKeisei800_1_mot_1_rev, "gfx/private/Kanto/shinKeisei/shinKeisei800/shinKeisei800_1.png") { tmpl_std_rev(0, 50) }
spriteset (shinKeisei800_1_wag_1, "gfx/private/Kanto/shinKeisei/shinKeisei800/shinKeisei800_1.png") { tmpl_std(0, 75) }
spriteset (shinKeisei800_1_wag_1_rev, "gfx/private/Kanto/shinKeisei/shinKeisei800/shinKeisei800_1.png") { tmpl_std_rev(0, 75) }
spriteset (shinKeisei800_1_mot_2, "gfx/private/Kanto/shinKeisei/shinKeisei800/shinKeisei800_1.png") { tmpl_std(0, 100) }
spriteset (shinKeisei800_1_mot_2_rev, "gfx/private/Kanto/shinKeisei/shinKeisei800/shinKeisei800_1.png") { tmpl_std_rev(0, 100) }
spriteset (shinKeisei800_1_wag, "gfx/private/Kanto/shinKeisei/shinKeisei800/shinKeisei800_1.png") { tmpl_symm(0, 125) }

spriteset (shinKeisei800_2_front, "gfx/private/Kanto/shinKeisei/shinKeisei800/shinKeisei800_2.png") { tmpl_std(0, 0) }
spriteset (shinKeisei800_2_end, "gfx/private/Kanto/shinKeisei/shinKeisei800/shinKeisei800_2.png") { tmpl_std_rev(0, 25) }
spriteset (shinKeisei800_2_mot_1, "gfx/private/Kanto/shinKeisei/shinKeisei800/shinKeisei800_2.png") { tmpl_std(0, 50) }
spriteset (shinKeisei800_2_mot_1_rev, "gfx/private/Kanto/shinKeisei/shinKeisei800/shinKeisei800_2.png") { tmpl_std_rev(0, 50) }
spriteset (shinKeisei800_2_wag_1, "gfx/private/Kanto/shinKeisei/shinKeisei800/shinKeisei800_2.png") { tmpl_std(0, 75) }
spriteset (shinKeisei800_2_wag_1_rev, "gfx/private/Kanto/shinKeisei/shinKeisei800/shinKeisei800_2.png") { tmpl_std_rev(0, 75) }
spriteset (shinKeisei800_2_mot_2, "gfx/private/Kanto/shinKeisei/shinKeisei800/shinKeisei800_2.png") { tmpl_std(0, 100) }
spriteset (shinKeisei800_2_mot_2_rev, "gfx/private/Kanto/shinKeisei/shinKeisei800/shinKeisei800_2.png") { tmpl_std_rev(0, 100) }
spriteset (shinKeisei800_2_wag, "gfx/private/Kanto/shinKeisei/shinKeisei800/shinKeisei800_2.png") { tmpl_symm(0, 125) }

spriteset (shinKeisei800_2_front_ac, "gfx/private/Kanto/shinKeisei/shinKeisei800/shinKeisei800_2_ac.png") { tmpl_std(0, 0) }
spriteset (shinKeisei800_2_end_ac, "gfx/private/Kanto/shinKeisei/shinKeisei800/shinKeisei800_2_ac.png") { tmpl_std_rev(0, 25) }
spriteset (shinKeisei800_2_mot_1_ac, "gfx/private/Kanto/shinKeisei/shinKeisei800/shinKeisei800_2_ac.png") { tmpl_std(0, 50) }
spriteset (shinKeisei800_2_mot_1_ac_rev, "gfx/private/Kanto/shinKeisei/shinKeisei800/shinKeisei800_2_ac.png") { tmpl_std_rev(0, 50) }
spriteset (shinKeisei800_2_wag_1_ac, "gfx/private/Kanto/shinKeisei/shinKeisei800/shinKeisei800_2_ac.png") { tmpl_std(0, 75) }
spriteset (shinKeisei800_2_wag_1_ac_rev, "gfx/private/Kanto/shinKeisei/shinKeisei800/shinKeisei800_2_ac.png") { tmpl_std_rev(0, 75) }
spriteset (shinKeisei800_2_mot_2_ac, "gfx/private/Kanto/shinKeisei/shinKeisei800/shinKeisei800_2_ac.png") { tmpl_std(0, 100) }
spriteset (shinKeisei800_2_mot_2_ac_rev, "gfx/private/Kanto/shinKeisei/shinKeisei800/shinKeisei800_2_ac.png") { tmpl_std_rev(0, 100) }
spriteset (shinKeisei800_2_wag_ac, "gfx/private/Kanto/shinKeisei/shinKeisei800/shinKeisei800_2_ac.png") { tmpl_symm(0, 125) }

spriteset (shinKeisei800_2_front_2, "gfx/private/Kanto/shinKeisei/shinKeisei800/shinKeisei800_2_1.png") { tmpl_std(0, 0) }
spriteset (shinKeisei800_2_end_2, "gfx/private/Kanto/shinKeisei/shinKeisei800/shinKeisei800_2_1.png") { tmpl_std_rev(0, 25) }




      switch(FEAT_TRAINS, SELF, sw_shinKeisei800_1_panto_placer_1,position_in_vehid_chain %8){
        0: shinKeisei800_1_mot_2_rev;
        2: shinKeisei800_1_mot_1_rev;
        3: shinKeisei800_1_wag_1;
        4: shinKeisei800_1_mot_2_rev;
        shinKeisei800_1_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_shinKeisei800_1_panto_placer_1_rev,position_in_vehid_chain_from_end %8-1){
        0: shinKeisei800_1_mot_2;
        2: shinKeisei800_1_mot_1;
        3: shinKeisei800_1_wag_1_rev;
        4: shinKeisei800_1_mot_2;
        shinKeisei800_1_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_shinKeisei800_1_panto_placer_main_1,vehicle_is_reversed){
        1: sw_shinKeisei800_1_panto_placer_1_rev;
        sw_shinKeisei800_1_panto_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_shinKeisei800_1_panto_placer_2,position_in_vehid_chain %5){
        1: shinKeisei800_1_mot_1;
        default: shinKeisei800_1_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_shinKeisei800_1_panto_placer_2_rev,position_in_vehid_chain_from_end %5-1){
        1: shinKeisei800_1_mot_1_rev;
        default: shinKeisei800_1_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_shinKeisei800_1_panto_placer_main_2,vehicle_is_reversed){
        1: sw_shinKeisei800_1_panto_placer_2_rev;
        sw_shinKeisei800_1_panto_placer_2;
      }

      switch(FEAT_TRAINS, SELF, sw_shinKeisei800_1_panto_placer_3,position_in_vehid_chain %2){
        1: shinKeisei800_1_mot_2;
        default: shinKeisei800_1_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_shinKeisei800_1_panto_placer_3_rev,position_in_vehid_chain_from_end %2){
        0: shinKeisei800_1_mot_2_rev;
        default: shinKeisei800_1_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_shinKeisei800_1_panto_placer_main_3,vehicle_is_reversed){
        1: sw_shinKeisei800_1_panto_placer_3_rev;
        sw_shinKeisei800_1_panto_placer_3;
      }
      switch(FEAT_TRAINS, SELF, sw_shinKeisei800_1_panto_placer_main,num_vehs_in_vehid_chain+1){
        0..6: sw_shinKeisei800_1_panto_placer_main_2;
        7..8: sw_shinKeisei800_1_panto_placer_main_1;
        sw_shinKeisei800_1_panto_placer_main_3;
      }

    switch(FEAT_TRAINS, SELF, sw_shinKeisei800_1_gfx_main,position_in_vehid_chain_from_end){
        0: shinKeisei800_1_end;
        sw_shinKeisei800_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_shinKeisei800_livery_1,vehicle_type_id){
        mu_car: sw_shinKeisei800_1_gfx_main;
        shinKeisei800_1_front;
    }



    switch(FEAT_TRAINS, SELF, sw_shinKeisei800_2_front, current_year){
      0..1984: shinKeisei800_2_front;
      1985..1989: shinKeisei800_2_front_ac;
      shinKeisei800_2_front_2;
    }
    switch(FEAT_TRAINS, SELF, sw_shinKeisei800_2_end, current_year){
      0..1984: shinKeisei800_2_end;
      1985..1989: shinKeisei800_2_end_ac;
      shinKeisei800_2_end_2;
    }
    switch(FEAT_TRAINS, SELF, sw_shinKeisei800_2_mot_1, current_year){
      0..1984: shinKeisei800_2_mot_1;
      shinKeisei800_2_mot_1_ac;
    }
    switch(FEAT_TRAINS, SELF, sw_shinKeisei800_2_mot_1_rev, current_year){
      0..1984: shinKeisei800_2_mot_1_rev;
      shinKeisei800_2_mot_1_ac_rev;
    }
    switch(FEAT_TRAINS, SELF, sw_shinKeisei800_2_wag_1, current_year){
      0..1984: shinKeisei800_2_wag_1;
      shinKeisei800_2_wag_1_ac;
    }
    switch(FEAT_TRAINS, SELF, sw_shinKeisei800_2_wag_1_rev, current_year){
      0..1984: shinKeisei800_2_wag_1_rev;
      shinKeisei800_2_wag_1_ac_rev;
    }
    switch(FEAT_TRAINS, SELF, sw_shinKeisei800_2_mot_2, current_year){
      0..1984: shinKeisei800_2_mot_2;
      shinKeisei800_2_mot_2_ac;
    }
    switch(FEAT_TRAINS, SELF, sw_shinKeisei800_2_mot_2_rev, current_year){
      0..1984: shinKeisei800_2_mot_2_rev;
      shinKeisei800_2_mot_2_ac_rev;
    }
    switch(FEAT_TRAINS, SELF, sw_shinKeisei800_2_wag, current_year){
      0..1984: shinKeisei800_2_wag;
      shinKeisei800_2_wag_ac;
    }


      switch(FEAT_TRAINS, SELF, sw_shinKeisei800_2_panto_placer_1,position_in_vehid_chain %8){
        0: sw_shinKeisei800_2_mot_2_rev;
        2: sw_shinKeisei800_2_mot_1_rev;
        3: sw_shinKeisei800_2_wag_1;
        4: sw_shinKeisei800_2_mot_2_rev;
        sw_shinKeisei800_2_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_shinKeisei800_2_panto_placer_1_rev,position_in_vehid_chain_from_end %8-1){
        0: sw_shinKeisei800_2_mot_2;
        2: sw_shinKeisei800_2_mot_1;
        3: sw_shinKeisei800_2_wag_1_rev;
        4: sw_shinKeisei800_2_mot_2;
        sw_shinKeisei800_2_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_shinKeisei800_2_panto_placer_main_1,vehicle_is_reversed){
        1: sw_shinKeisei800_2_panto_placer_1_rev;
        sw_shinKeisei800_2_panto_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_shinKeisei800_2_panto_placer_2,position_in_vehid_chain %5){
        1: sw_shinKeisei800_2_mot_1;
        default: sw_shinKeisei800_2_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_shinKeisei800_2_panto_placer_2_rev,position_in_vehid_chain_from_end %5-1){
        1: sw_shinKeisei800_2_mot_1_rev;
        default: sw_shinKeisei800_2_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_shinKeisei800_2_panto_placer_main_2,vehicle_is_reversed){
        1: sw_shinKeisei800_2_panto_placer_2_rev;
        sw_shinKeisei800_2_panto_placer_2;
      }

      switch(FEAT_TRAINS, SELF, sw_shinKeisei800_2_panto_placer_3,position_in_vehid_chain %2){
        1: sw_shinKeisei800_2_mot_2;
        default: sw_shinKeisei800_2_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_shinKeisei800_2_panto_placer_3_rev,position_in_vehid_chain_from_end %2){
        0: sw_shinKeisei800_2_mot_2_rev;
        default: sw_shinKeisei800_2_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_shinKeisei800_2_panto_placer_main_3,vehicle_is_reversed){
        1: sw_shinKeisei800_2_panto_placer_3_rev;
        sw_shinKeisei800_2_panto_placer_3;
      }
      switch(FEAT_TRAINS, SELF, sw_shinKeisei800_2_panto_placer_main,num_vehs_in_vehid_chain+1){
        0..6: sw_shinKeisei800_2_panto_placer_main_2;
        7..8: sw_shinKeisei800_2_panto_placer_main_1;
        sw_shinKeisei800_2_panto_placer_main_3;
      }

    switch(FEAT_TRAINS, SELF, sw_shinKeisei800_2_gfx_main,position_in_vehid_chain_from_end){
        0: sw_shinKeisei800_2_end;
        sw_shinKeisei800_2_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_shinKeisei800_livery_2,vehicle_type_id){
        mu_car: sw_shinKeisei800_2_gfx_main;
        sw_shinKeisei800_2_front;
    }



  switch(FEAT_TRAINS, PARENT, sw_shinKeisei800_livery_0,build_year){
      0..1979:sw_shinKeisei800_livery_1;
      sw_shinKeisei800_livery_2;
    }
  switch(FEAT_TRAINS, SELF, sw_shinKeisei800_lv,cargo_subtype){
    0:sw_shinKeisei800_livery_0;
    1:sw_shinKeisei800_livery_1;
    2:sw_shinKeisei800_livery_2;
  }
  switch(FEAT_TRAINS, SELF, sw_shinKeisei800_lv_desc,cargo_subtype){
    0:string(LV_RANDOM);
    1:string(LV_shinKeisei8000_1);
    2:string(LV_shinKeisei8000_2);
  }


    switch(FEAT_TRAINS, SELF, sw_shinKeisei800_capacity,position_in_vehid_chain_from_end){
      0: 130;
      default: 140;
    }
    switch(FEAT_TRAINS, SELF, sw_shinKeisei800_capacity_1,position_in_vehid_chain){
      0: 130;
      default: sw_shinKeisei800_capacity;
    }
    switch(FEAT_TRAINS, SELF, sw_shinKeisei800_capacity_main,vehicle_type_id){
      mu_car: sw_shinKeisei800_capacity;
      sw_shinKeisei800_capacity_1;
    }


    switch(FEAT_TRAINS, SELF, sw_shinKeisei800_power_main,position_in_vehid_chain_from_end%8){
      0:return 120;
      2:return 120;
      5:return 120;
      6:return 120;
      return 0;
    }

item(FEAT_TRAINS, shinKeisei800) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_SHIN_KEISEI), "800", string(STR_NAME_TYPE));
        introduction_date: date(1971, 1, 1);
        model_life: 2004-1971-5;
        vehicle_life: 30;
        reliability_decay: 10;

        cargo_capacity: 1;
        loading_speed: param_loading_3D;
        cost_factor: 18;
        running_cost_factor: 47;

        speed: 100 km/h;
        track_type: TR_1435_DC;
        power: 620 kW;
        weight: 34 ton;

        climates_available: param_disable_keisei == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        power: sw_shinKeisei800_power_main()*4*1342/1000;
        cargo_subtype_text:sw_shinKeisei800_lv_desc;
        default: sw_shinKeisei800_lv;
        purchase: shinKeisei800_purchase;
        can_attach_wagon: sw_1435_attach_vehid;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 6)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_SHIN_KEISEI)));
        start_stop: sw_stop_start_2;
        cargo_capacity: sw_shinKeisei800_capacity_main()*param_capacity_mod/3;
        sound_effect: sw_SKS800_start_sound;
    }
    livery_override(mu_car){
        cargo_subtype_text:sw_shinKeisei800_lv_desc;
        loading_speed: param_loading_3D;
        cargo_capacity: sw_shinKeisei800_capacity_main()*param_capacity_mod/3;
        default: sw_shinKeisei800_lv;
        power: sw_shinKeisei800_power_main()*4*1342/1000;
        weight: 34;
        length: 8;
      }
}
# 232 "src/_private.pnml" 2
# 1 "src/private/Kanto/shinKeisei/shinKeisei8000.pnml" 1

  spriteset(shinKeisei8000_purchase_c1, "gfx/private/Kanto/shinKeisei/shinKeisei8000/shinKeisei8000_2.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(shinKeisei8000_purchase_c2, "gfx/private/Kanto/shinKeisei/shinKeisei8000/shinKeisei8000_2.png"){ tmpl_purchase_2c(0, 50) }
  switch(FEAT_TRAINS, SELF, shinKeisei8000_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_shin_keisei; 1: shinKeisei8000_purchase_c1; 2: shinKeisei8000_purchase_c2;}

spriteset (shinKeisei8000_1_front, "gfx/private/Kanto/shinKeisei/shinKeisei8000/shinKeisei8000_1.png") { tmpl_std(0, 0) }
spriteset (shinKeisei8000_1_end, "gfx/private/Kanto/shinKeisei/shinKeisei8000/shinKeisei8000_1.png") { tmpl_std_rev(0, 25) }
spriteset (shinKeisei8000_1_mot, "gfx/private/Kanto/shinKeisei/shinKeisei8000/shinKeisei8000_1.png") { tmpl_symm(0, 50) }
spriteset (shinKeisei8000_1_wag, "gfx/private/Kanto/shinKeisei/shinKeisei8000/shinKeisei8000_1.png") { tmpl_symm(0, 75) }

spriteset (shinKeisei8000_2_front_1, "gfx/private/Kanto/shinKeisei/shinKeisei8000/shinKeisei8000_2.png") { tmpl_std(0, 0) }
spriteset (shinKeisei8000_2_end_1, "gfx/private/Kanto/shinKeisei/shinKeisei8000/shinKeisei8000_2.png") { tmpl_std_rev(0, 25) }
spriteset (shinKeisei8000_2_mot, "gfx/private/Kanto/shinKeisei/shinKeisei8000/shinKeisei8000_2.png") { tmpl_symm(0, 50) }
spriteset (shinKeisei8000_2_wag, "gfx/private/Kanto/shinKeisei/shinKeisei8000/shinKeisei8000_2.png") { tmpl_symm(0, 75) }

spriteset (shinKeisei8000_2_front_2, "gfx/private/Kanto/shinKeisei/shinKeisei8000/shinKeisei8000_2_2.png") { tmpl_std(0, 0) }
spriteset (shinKeisei8000_2_end_2, "gfx/private/Kanto/shinKeisei/shinKeisei8000/shinKeisei8000_2_2.png") { tmpl_std_rev(0, 25) }




      switch(FEAT_TRAINS, SELF, sw_shinKeisei8000_1_panto_placer_1,position_in_vehid_chain %4){
        0: shinKeisei8000_1_mot;
        shinKeisei8000_1_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_shinKeisei8000_1_panto_placer_1_rev,position_in_vehid_chain_from_end %4-1){
        0: shinKeisei8000_1_mot;
        shinKeisei8000_1_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_shinKeisei8000_1_panto_placer_main_1,vehicle_is_reversed){
        1: sw_shinKeisei8000_1_panto_placer_1_rev;
        sw_shinKeisei8000_1_panto_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_shinKeisei8000_1_panto_placer_2,position_in_vehid_chain %5){
        0: shinKeisei8000_1_mot;
        2: shinKeisei8000_1_mot;
        default: shinKeisei8000_1_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_shinKeisei8000_1_panto_placer_2_rev,position_in_vehid_chain_from_end %5-1){
        0: shinKeisei8000_1_mot;
        2: shinKeisei8000_1_mot;
        default: shinKeisei8000_1_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_shinKeisei8000_1_panto_placer_main_2,vehicle_is_reversed){
        1: sw_shinKeisei8000_1_panto_placer_2_rev;
        sw_shinKeisei8000_1_panto_placer_2;
      }
      switch(FEAT_TRAINS, SELF, sw_shinKeisei8000_1_panto_placer_main,num_vehs_in_vehid_chain+1){
        7..8: sw_shinKeisei8000_1_panto_placer_main_1;
        sw_shinKeisei8000_1_panto_placer_main_2;
      }

    switch(FEAT_TRAINS, SELF, sw_shinKeisei8000_1_gfx_main,position_in_vehid_chain_from_end){
        0: shinKeisei8000_1_end;
        sw_shinKeisei8000_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_shinKeisei8000_livery_1,vehicle_type_id){
        mu_car: sw_shinKeisei8000_1_gfx_main;
        shinKeisei8000_1_front;
    }



    switch(FEAT_TRAINS, SELF, shinKeisei8000_2_front,current_year>2001){
      0: shinKeisei8000_2_front_2;
      shinKeisei8000_2_front_1;
    }
    switch(FEAT_TRAINS, SELF, shinKeisei8000_2_end,current_year>2001){
      0: shinKeisei8000_2_end_2;
      shinKeisei8000_2_end_1;
    }


      switch(FEAT_TRAINS, SELF, sw_shinKeisei8000_2_panto_placer_1,position_in_vehid_chain %4){
        0: shinKeisei8000_2_mot;
        shinKeisei8000_2_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_shinKeisei8000_2_panto_placer_1_rev,position_in_vehid_chain_from_end %4-1){
        0: shinKeisei8000_2_mot;
        shinKeisei8000_2_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_shinKeisei8000_2_panto_placer_main_1,vehicle_is_reversed){
        1: sw_shinKeisei8000_2_panto_placer_1_rev;
        sw_shinKeisei8000_2_panto_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_shinKeisei8000_2_panto_placer_2,position_in_vehid_chain %5){
        0: shinKeisei8000_2_mot;
        2: shinKeisei8000_2_mot;
        default: shinKeisei8000_2_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_shinKeisei8000_2_panto_placer_2_rev,position_in_vehid_chain_from_end %5-1){
        0: shinKeisei8000_2_mot;
        2: shinKeisei8000_2_mot;
        default: shinKeisei8000_2_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_shinKeisei8000_2_panto_placer_main_2,vehicle_is_reversed){
        1: sw_shinKeisei8000_2_panto_placer_2_rev;
        sw_shinKeisei8000_2_panto_placer_2;
      }
      switch(FEAT_TRAINS, SELF, sw_shinKeisei8000_2_panto_placer_main,num_vehs_in_vehid_chain+1){
        7..8: sw_shinKeisei8000_2_panto_placer_main_1;
        sw_shinKeisei8000_2_panto_placer_main_2;
      }

    switch(FEAT_TRAINS, SELF, sw_shinKeisei8000_2_gfx_main,position_in_vehid_chain_from_end){
        0: shinKeisei8000_2_end;
        sw_shinKeisei8000_2_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_shinKeisei8000_livery_2,vehicle_type_id){
        mu_car: sw_shinKeisei8000_2_gfx_main;
        shinKeisei8000_2_front;
    }


  random_switch(FEAT_TRAINS, PARENT, sw_shinKeisei8000_livery_0_1){
    1:sw_shinKeisei8000_livery_1;
    1:sw_shinKeisei8000_livery_2;
  }
  switch(FEAT_TRAINS, PARENT, sw_shinKeisei8000_livery_0,build_year){
      0..1978:sw_shinKeisei8000_livery_1;
      1979..2000:sw_shinKeisei8000_livery_2;
      sw_shinKeisei8000_livery_0_1;
    }
  switch(FEAT_TRAINS, SELF, sw_shinKeisei8000_lv,cargo_subtype){
    0:sw_shinKeisei8000_livery_0;
    1:sw_shinKeisei8000_livery_1;
    2:sw_shinKeisei8000_livery_2;
  }
  switch(FEAT_TRAINS, SELF, sw_shinKeisei8000_lv_desc,cargo_subtype){
    0:string(LV_RANDOM);
    1:string(LV_shinKeisei8000_1);
    2:string(LV_shinKeisei8000_2);
  }


    switch(FEAT_TRAINS, SELF, sw_shinKeisei8000_capacity,position_in_vehid_chain_from_end){
      0: 122;
      default: 133;
    }
    switch(FEAT_TRAINS, SELF, sw_shinKeisei8000_capacity_1,position_in_vehid_chain){
      0: 122;
      default: sw_shinKeisei8000_capacity;
    }
    switch(FEAT_TRAINS, SELF, sw_shinKeisei8000_capacity_main,vehicle_type_id){
      mu_car: sw_shinKeisei8000_capacity;
      sw_shinKeisei8000_capacity_1;
    }


    switch(FEAT_TRAINS, SELF, sw_shinKeisei8000_power_main,position_in_vehid_chain_from_end%8){
      1..2:return 135;
      4..5:return 135;
      return 0;
    }

    switch(FEAT_TRAINS, SELF, sw_shinKeisei8000_speed_main,build_year){
      0..2006: 100;
      110;
    }

item(FEAT_TRAINS, shinKeisei8000) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_SHIN_KEISEI), "8000", string(STR_NAME_TYPE));
        introduction_date: date(1978, 1, 1);
        model_life: 2021-1978-5;
        vehicle_life: 30;
        reliability_decay: 10;

        cargo_capacity: 1;
        loading_speed: param_loading_3D;
        cost_factor: 18;
        running_cost_factor: 48;

        speed: 110 km/h;
        track_type: TR_1435_DC;
        power: 620 kW;
        weight: 35 ton;

        climates_available: param_disable_keisei == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        speed: sw_shinKeisei8000_speed_main;
        power: sw_shinKeisei8000_power_main()*4*1342/1000;
        cargo_subtype_text:sw_shinKeisei8000_lv_desc;
        default: sw_shinKeisei8000_lv;
        purchase: shinKeisei8000_purchase;
        can_attach_wagon: sw_1435_attach_vehid;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 6)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_SHIN_KEISEI)));
        start_stop: sw_stop_start_3;
        cargo_capacity: sw_shinKeisei8000_capacity_main()*param_capacity_mod/3;
        sound_effect: sw_SKS8000_start_sound;
    }
    livery_override(mu_car){
        cargo_subtype_text:sw_shinKeisei8000_lv_desc;
        loading_speed: param_loading_3D;
        cargo_capacity: sw_shinKeisei8000_capacity_main()*param_capacity_mod/3;
        default: sw_shinKeisei8000_lv;
        power: sw_shinKeisei8000_power_main()*4*1342/1000;
        weight: 35;
        length: 8;
      }
}
# 233 "src/_private.pnml" 2
# 1 "src/private/Kanto/shinKeisei/shinKeisei8800.pnml" 1

  spriteset(shinKeisei8800_purchase_c1, "gfx/private/Kanto/shinKeisei/shinKeisei8800/shinKeisei8800_1.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(shinKeisei8800_purchase_c2, "gfx/private/Kanto/shinKeisei/shinKeisei8800/shinKeisei8800_1.png"){ tmpl_purchase_2c(0, 50) }
  switch(FEAT_TRAINS, SELF, shinKeisei8800_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_shin_keisei; 1: shinKeisei8800_purchase_c1; 2: shinKeisei8800_purchase_c2;}

spriteset (shinKeisei8800_1_front_1, "gfx/private/Kanto/shinKeisei/shinKeisei8800/shinKeisei8800_1.png") { tmpl_std(0, 0) }
spriteset (shinKeisei8800_1_end_1, "gfx/private/Kanto/shinKeisei/shinKeisei8800/shinKeisei8800_1.png") { tmpl_std_rev(0, 25) }
spriteset (shinKeisei8800_1_mot, "gfx/private/Kanto/shinKeisei/shinKeisei8800/shinKeisei8800_1.png") { tmpl_symm(0, 50) }
spriteset (shinKeisei8800_1_wag, "gfx/private/Kanto/shinKeisei/shinKeisei8800/shinKeisei8800_1.png") { tmpl_symm(0, 75) }

spriteset (shinKeisei8800_1_front_2, "gfx/private/Kanto/shinKeisei/shinKeisei8800/shinKeisei8800_1_2.png") { tmpl_std(0, 0) }
spriteset (shinKeisei8800_1_end_2, "gfx/private/Kanto/shinKeisei/shinKeisei8800/shinKeisei8800_1_2.png") { tmpl_std_rev(0, 25) }

spriteset (shinKeisei8800_2_front, "gfx/private/Kanto/shinKeisei/shinKeisei8800/shinKeisei8800_2.png") { tmpl_std(0, 0) }
spriteset (shinKeisei8800_2_end, "gfx/private/Kanto/shinKeisei/shinKeisei8800/shinKeisei8800_2.png") { tmpl_std_rev(0, 25) }
spriteset (shinKeisei8800_2_mot_1, "gfx/private/Kanto/shinKeisei/shinKeisei8800/shinKeisei8800_2.png") { tmpl_symm(0, 50) }
spriteset (shinKeisei8800_2_mot_2, "gfx/private/Kanto/shinKeisei/shinKeisei8800/shinKeisei8800_2.png") { tmpl_symm(0, 75) }
spriteset (shinKeisei8800_2_wag, "gfx/private/Kanto/shinKeisei/shinKeisei8800/shinKeisei8800_2.png") { tmpl_symm(0, 100) }



    switch(FEAT_TRAINS, SELF, shinKeisei8800_1_front,current_year>2005){
      0: shinKeisei8800_1_front_2;
      shinKeisei8800_1_front_1;
    }
    switch(FEAT_TRAINS, SELF, shinKeisei8800_1_end,current_year>2005){
      0: shinKeisei8800_1_end_2;
      shinKeisei8800_1_end_1;
    }


      switch(FEAT_TRAINS, SELF, sw_shinKeisei8800_1_panto_placer_1,position_in_vehid_chain %4){
        0: shinKeisei8800_1_mot;
        shinKeisei8800_1_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_shinKeisei8800_1_panto_placer_1_rev,position_in_vehid_chain_from_end %4-1){
        0: shinKeisei8800_1_mot;
        shinKeisei8800_1_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_shinKeisei8800_1_panto_placer_main_1,vehicle_is_reversed){
        1: sw_shinKeisei8800_1_panto_placer_1_rev;
        sw_shinKeisei8800_1_panto_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_shinKeisei8800_1_panto_placer_2,position_in_vehid_chain %5){
        0: shinKeisei8800_1_mot;
        2: shinKeisei8800_1_mot;
        default: shinKeisei8800_1_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_shinKeisei8800_1_panto_placer_2_rev,position_in_vehid_chain_from_end %5-1){
        0: shinKeisei8800_1_mot;
        2: shinKeisei8800_1_mot;
        default: shinKeisei8800_1_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_shinKeisei8800_1_panto_placer_main_2,vehicle_is_reversed){
        1: sw_shinKeisei8800_1_panto_placer_2_rev;
        sw_shinKeisei8800_1_panto_placer_2;
      }
      switch(FEAT_TRAINS, SELF, sw_shinKeisei8800_1_panto_placer_main,num_vehs_in_vehid_chain+1){
        7..8: sw_shinKeisei8800_1_panto_placer_main_1;
        sw_shinKeisei8800_1_panto_placer_main_2;
      }

    switch(FEAT_TRAINS, SELF, sw_shinKeisei8800_1_gfx_main,position_in_vehid_chain_from_end){
        0: shinKeisei8800_1_end;
        sw_shinKeisei8800_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_shinKeisei8800_livery_1,vehicle_type_id){
        mu_car: sw_shinKeisei8800_1_gfx_main;
        shinKeisei8800_1_front;
    }



    switch(FEAT_TRAINS, SELF, shinKeisei8800_2_mot,current_year>2017){
      0: shinKeisei8800_2_mot_2;
      shinKeisei8800_2_mot_1;
    }


      switch(FEAT_TRAINS, SELF, sw_shinKeisei8800_2_panto_placer_1,position_in_vehid_chain %4){
        0: shinKeisei8800_2_mot;
        shinKeisei8800_2_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_shinKeisei8800_2_panto_placer_1_rev,position_in_vehid_chain_from_end %4-1){
        0: shinKeisei8800_2_mot;
        shinKeisei8800_2_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_shinKeisei8800_2_panto_placer_main_1,vehicle_is_reversed){
        1: sw_shinKeisei8800_2_panto_placer_1_rev;
        sw_shinKeisei8800_2_panto_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_shinKeisei8800_2_panto_placer_2,position_in_vehid_chain %5){
        0: shinKeisei8800_2_mot;
        2: shinKeisei8800_2_mot;
        default: shinKeisei8800_2_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_shinKeisei8800_2_panto_placer_2_rev,position_in_vehid_chain_from_end %5-1){
        0: shinKeisei8800_2_mot;
        2: shinKeisei8800_2_mot;
        default: shinKeisei8800_2_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_shinKeisei8800_2_panto_placer_main_2,vehicle_is_reversed){
        1: sw_shinKeisei8800_2_panto_placer_2_rev;
        sw_shinKeisei8800_2_panto_placer_2;
      }
      switch(FEAT_TRAINS, SELF, sw_shinKeisei8800_2_panto_placer_main,num_vehs_in_vehid_chain+1){
        7..8: sw_shinKeisei8800_2_panto_placer_main_1;
        sw_shinKeisei8800_2_panto_placer_main_2;
      }

    switch(FEAT_TRAINS, SELF, sw_shinKeisei8800_2_gfx_main,position_in_vehid_chain_from_end){
        0: shinKeisei8800_2_end;
        sw_shinKeisei8800_2_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_shinKeisei8800_livery_2,vehicle_type_id){
        mu_car: sw_shinKeisei8800_2_gfx_main;
        shinKeisei8800_2_front;
    }


  random_switch(FEAT_TRAINS, PARENT, sw_shinKeisei8800_livery_0_1){
    1:sw_shinKeisei8800_livery_1;
    1:sw_shinKeisei8800_livery_2;
  }
  switch(FEAT_TRAINS, PARENT, sw_shinKeisei8800_livery_0,build_year){
      0..2009:sw_shinKeisei8800_livery_1;
      sw_shinKeisei8800_livery_0_1;
    }
  switch(FEAT_TRAINS, SELF, sw_shinKeisei8800_lv,cargo_subtype){
    0:sw_shinKeisei8800_livery_0;
    1:sw_shinKeisei8800_livery_1;
    2:sw_shinKeisei8800_livery_2;
  }
  switch(FEAT_TRAINS, SELF, sw_shinKeisei8800_lv_desc,cargo_subtype){
    0:string(LV_RANDOM);
    1:string(LV_DEFAULT);
    2:string(LV_shinKeisei8800_2);
  }


    switch(FEAT_TRAINS, SELF, sw_shinKeisei8800_capacity,position_in_vehid_chain_from_end){
      0: 122;
      default: 133;
    }
    switch(FEAT_TRAINS, SELF, sw_shinKeisei8800_capacity_1,position_in_vehid_chain){
      0: 122;
      default: sw_shinKeisei8800_capacity;
    }
    switch(FEAT_TRAINS, SELF, sw_shinKeisei8800_capacity_main,vehicle_type_id){
      mu_car: sw_shinKeisei8800_capacity;
      sw_shinKeisei8800_capacity_1;
    }


    switch(FEAT_TRAINS, SELF, sw_shinKeisei8800_power_main,position_in_vehid_chain_from_end%8){
      1..2:return 135;
      4..5:return 135;
      return 0;
    }

item(FEAT_TRAINS, shinKeisei8800) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_SHIN_KEISEI), "8800", string(STR_NAME_TYPE));
        introduction_date: date(1986, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cargo_capacity: 1;
        loading_speed: param_loading_3D;
        cost_factor: 19;
        running_cost_factor: 49;

        speed: 110 km/h;
        track_type: TR_1435_DC;
        power: 620 kW;
        weight: 30 ton;

        climates_available: param_disable_keisei == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        power: sw_shinKeisei8800_power_main()*4*1342/1000;
        cargo_subtype_text:sw_shinKeisei8800_lv_desc;
        default: sw_shinKeisei8800_lv;
        purchase: shinKeisei8800_purchase;
        can_attach_wagon: sw_1435_attach_vehid;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 6)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_SHIN_KEISEI)));
        start_stop: sw_stop_start_3;
        cargo_capacity: sw_shinKeisei8800_capacity_main()*param_capacity_mod/3;
        sound_effect: sw_SKS8800_start_sound;
    }
    livery_override(mu_car){
        cargo_subtype_text:sw_shinKeisei8800_lv_desc;
        loading_speed: param_loading_3D;
        cargo_capacity: sw_shinKeisei8800_capacity_main()*param_capacity_mod/3;
        default: sw_shinKeisei8800_lv;
        power: sw_shinKeisei8800_power_main()*4*1342/1000;
        weight: 30;
        length: 8;
      }
}
# 234 "src/_private.pnml" 2
# 1 "src/private/Kanto/shinKeisei/shinKeisei8900.pnml" 1

  spriteset(shinKeisei8900_purchase_c1, "gfx/private/Kanto/shinKeisei/shinKeisei8900/shinKeisei8900_1.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(shinKeisei8900_purchase_c2, "gfx/private/Kanto/shinKeisei/shinKeisei8900/shinKeisei8900_1.png"){ tmpl_purchase_2c(0, 50) }
  switch(FEAT_TRAINS, SELF, shinKeisei8900_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_shin_keisei; 1: shinKeisei8900_purchase_c1; 2: shinKeisei8900_purchase_c2;}

spriteset (shinKeisei8900_1_front, "gfx/private/Kanto/shinKeisei/shinKeisei8900/shinKeisei8900_1.png") { tmpl_std(0, 0) }
spriteset (shinKeisei8900_1_end, "gfx/private/Kanto/shinKeisei/shinKeisei8900/shinKeisei8900_1.png") { tmpl_std_rev(0, 25) }
spriteset (shinKeisei8900_1_mot_2, "gfx/private/Kanto/shinKeisei/shinKeisei8900/shinKeisei8900_1.png") { tmpl_symm(0, 50) }
spriteset (shinKeisei8900_1_wag, "gfx/private/Kanto/shinKeisei/shinKeisei8900/shinKeisei8900_1.png") { tmpl_symm(0, 75) }

spriteset (shinKeisei8900_2_front, "gfx/private/Kanto/shinKeisei/shinKeisei8900/shinKeisei8900_2.png") { tmpl_std(0, 0) }
spriteset (shinKeisei8900_2_end, "gfx/private/Kanto/shinKeisei/shinKeisei8900/shinKeisei8900_2.png") { tmpl_std_rev(0, 25) }
spriteset (shinKeisei8900_2_mot_2, "gfx/private/Kanto/shinKeisei/shinKeisei8900/shinKeisei8900_2.png") { tmpl_symm(0, 50) }
spriteset (shinKeisei8900_2_wag, "gfx/private/Kanto/shinKeisei/shinKeisei8900/shinKeisei8900_2.png") { tmpl_symm(0, 75) }




      switch(FEAT_TRAINS, SELF, sw_shinKeisei8900_1_panto_placer_1,position_in_vehid_chain %4){
        0: shinKeisei8900_1_mot_2;
        shinKeisei8900_1_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_shinKeisei8900_1_panto_placer_1_rev,position_in_vehid_chain_from_end %4-1){
        0: shinKeisei8900_1_mot_2;
        shinKeisei8900_1_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_shinKeisei8900_1_panto_placer_main_1,vehicle_is_reversed){
        1: sw_shinKeisei8900_1_panto_placer_1_rev;
        sw_shinKeisei8900_1_panto_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_shinKeisei8900_1_panto_placer_2,position_in_vehid_chain %5){
        0: shinKeisei8900_1_mot_2;
        2: shinKeisei8900_1_mot_2;
        default: shinKeisei8900_1_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_shinKeisei8900_1_panto_placer_2_rev,position_in_vehid_chain_from_end %5-1){
        0: shinKeisei8900_1_mot_2;
        2: shinKeisei8900_1_mot_2;
        default: shinKeisei8900_1_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_shinKeisei8900_1_panto_placer_main_2,vehicle_is_reversed){
        1: sw_shinKeisei8900_1_panto_placer_2_rev;
        sw_shinKeisei8900_1_panto_placer_2;
      }
      switch(FEAT_TRAINS, SELF, sw_shinKeisei8900_1_panto_placer_main,num_vehs_in_vehid_chain+1){
        7..8: sw_shinKeisei8900_1_panto_placer_main_1;
        sw_shinKeisei8900_1_panto_placer_main_2;
      }

    switch(FEAT_TRAINS, SELF, sw_shinKeisei8900_1_gfx_main,position_in_vehid_chain_from_end){
        0: shinKeisei8900_1_end;
        sw_shinKeisei8900_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_shinKeisei8900_livery_1,vehicle_type_id){
        mu_car: sw_shinKeisei8900_1_gfx_main;
        shinKeisei8900_1_front;
    }




      switch(FEAT_TRAINS, SELF, sw_shinKeisei8900_2_panto_placer_1,position_in_vehid_chain %4){
        0: shinKeisei8900_2_mot_2;
        shinKeisei8900_2_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_shinKeisei8900_2_panto_placer_1_rev,position_in_vehid_chain_from_end %4-1){
        0: shinKeisei8900_2_mot_2;
        shinKeisei8900_2_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_shinKeisei8900_2_panto_placer_main_1,vehicle_is_reversed){
        1: sw_shinKeisei8900_2_panto_placer_1_rev;
        sw_shinKeisei8900_2_panto_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_shinKeisei8900_2_panto_placer_2,position_in_vehid_chain %5){
        0: shinKeisei8900_2_mot_2;
        2: shinKeisei8900_2_mot_2;
        default: shinKeisei8900_2_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_shinKeisei8900_2_panto_placer_2_rev,position_in_vehid_chain_from_end %5-1){
        0: shinKeisei8900_2_mot_2;
        2: shinKeisei8900_2_mot_2;
        default: shinKeisei8900_2_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_shinKeisei8900_2_panto_placer_main_2,vehicle_is_reversed){
        1: sw_shinKeisei8900_2_panto_placer_2_rev;
        sw_shinKeisei8900_2_panto_placer_2;
      }
      switch(FEAT_TRAINS, SELF, sw_shinKeisei8900_2_panto_placer_main,num_vehs_in_vehid_chain+1){
        7..8: sw_shinKeisei8900_2_panto_placer_main_1;
        sw_shinKeisei8900_2_panto_placer_main_2;
      }

    switch(FEAT_TRAINS, SELF, sw_shinKeisei8900_2_gfx_main,position_in_vehid_chain_from_end){
        0: shinKeisei8900_2_end;
        sw_shinKeisei8900_2_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_shinKeisei8900_livery_2,vehicle_type_id){
        mu_car: sw_shinKeisei8900_2_gfx_main;
        shinKeisei8900_2_front;
    }


  random_switch(FEAT_TRAINS, PARENT, sw_shinKeisei8900_lv){
    1:sw_shinKeisei8900_livery_1;
    1:sw_shinKeisei8900_livery_2;
  }
# 125 "src/private/Kanto/shinKeisei/shinKeisei8900.pnml"
    switch(FEAT_TRAINS, SELF, sw_shinKeisei8900_capacity,position_in_vehid_chain_from_end){
      0: 122;
      default: 127;
    }
    switch(FEAT_TRAINS, SELF, sw_shinKeisei8900_capacity_1,position_in_vehid_chain){
      0: 122;
      default: sw_shinKeisei8900_capacity;
    }
    switch(FEAT_TRAINS, SELF, sw_shinKeisei8900_capacity_main,vehicle_type_id){
      mu_car: sw_shinKeisei8900_capacity;
      sw_shinKeisei8900_capacity_1;
    }


    switch(FEAT_TRAINS, SELF, sw_shinKeisei8900_power_main,position_in_vehid_chain_from_end%8){
      1..2:return 135;
      5..6:return 135;
      return 0;
    }

item(FEAT_TRAINS, shinKeisei8900) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_SHIN_KEISEI), "8900", string(STR_NAME_TYPE));
        introduction_date: date(1993, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cargo_capacity: 1;
        loading_speed: param_loading_3D;
        cost_factor: 49;
        running_cost_factor: 50;

        speed: 120 km/h;
        track_type: TR_1435_DC;
        power: 620 kW;
        weight: 25 ton;

        climates_available: param_disable_keisei == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        power: sw_shinKeisei8900_power_main()*4*1342/1000;

        default: sw_shinKeisei8900_lv;
        purchase: shinKeisei8900_purchase;
        can_attach_wagon: sw_1435_attach_vehid;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 6)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_SHIN_KEISEI)));
        start_stop: sw_stop_start_3;
        cargo_capacity: sw_shinKeisei8900_capacity_main()*param_capacity_mod/3;
        sound_effect: sw_SKS8900_start_sound;
    }
    livery_override(mu_car){
        cargo_subtype_text:sw_empty_desc;
        loading_speed: param_loading_3D;
        cargo_capacity: sw_shinKeisei8900_capacity_main()*param_capacity_mod/3;
        default: sw_shinKeisei8900_lv;
        power: sw_shinKeisei8900_power_main()*4*1342/1000;
        weight: 29;
        length: 8;
      }
}
# 235 "src/_private.pnml" 2
# 1 "src/private/Kanto/shinKeisei/shinKeisei800n.pnml" 1

  spriteset(shinKeisei800n_purchase_c1, "gfx/private/Kanto/shinKeisei/shinKeisei800n/shinKeisei800n_1.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(shinKeisei800n_purchase_c2, "gfx/private/Kanto/shinKeisei/shinKeisei800n/shinKeisei800n_1.png"){ tmpl_purchase_2c(0, 75) }
  switch(FEAT_TRAINS, SELF, shinKeisei800n_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_shin_keisei; 1: shinKeisei800n_purchase_c1; 2: shinKeisei800n_purchase_c2;}

spriteset (shinKeisei800n_1_front, "gfx/private/Kanto/shinKeisei/shinKeisei800n/shinKeisei800n_1.png") { tmpl_std(0, 0) }
spriteset (shinKeisei800n_1_end, "gfx/private/Kanto/shinKeisei/shinKeisei800n/shinKeisei800n_1.png") { tmpl_std_rev(0, 25) }
spriteset (shinKeisei800n_1_mot, "gfx/private/Kanto/shinKeisei/shinKeisei800n/shinKeisei800n_1.png") { tmpl_std(0, 50) }
spriteset (shinKeisei800n_1_mot_rev, "gfx/private/Kanto/shinKeisei/shinKeisei800n/shinKeisei800n_1.png") { tmpl_std_rev(0, 50) }
spriteset (shinKeisei800n_1_mot_2, "gfx/private/Kanto/shinKeisei/shinKeisei800n/shinKeisei800n_1.png") { tmpl_std(0, 75) }
spriteset (shinKeisei800n_1_mot_2_rev, "gfx/private/Kanto/shinKeisei/shinKeisei800n/shinKeisei800n_1.png") { tmpl_std_rev(0, 75) }
spriteset (shinKeisei800n_1_wag, "gfx/private/Kanto/shinKeisei/shinKeisei800n/shinKeisei800n_1.png") { tmpl_std(0, 100) }
spriteset (shinKeisei800n_1_wag_rev, "gfx/private/Kanto/shinKeisei/shinKeisei800n/shinKeisei800n_1.png") { tmpl_std_rev(0, 100) }




      switch(FEAT_TRAINS, SELF, sw_shinKeisei800n_1_panto_placer_1,position_in_vehid_chain %8){
        0: shinKeisei800n_1_mot_2_rev;
        2: shinKeisei800n_1_mot_rev;
        5: shinKeisei800n_1_mot_2_rev;
        shinKeisei800n_1_wag_rev;
      }
      switch(FEAT_TRAINS, SELF, sw_shinKeisei800n_1_panto_placer_1_rev,position_in_vehid_chain_from_end %8-1){
        0: shinKeisei800n_1_mot_2;
        2: shinKeisei800n_1_mot;
        5: shinKeisei800n_1_mot_2;
        shinKeisei800n_1_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_shinKeisei800n_1_panto_placer_main_1,vehicle_is_reversed){
        1: sw_shinKeisei800n_1_panto_placer_1_rev;
        sw_shinKeisei800n_1_panto_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_shinKeisei800n_1_panto_placer_2,position_in_vehid_chain %3){
        0: shinKeisei800n_1_mot_2;
        default: shinKeisei800n_1_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_shinKeisei800n_1_panto_placer_2_rev,position_in_vehid_chain_from_end %3-1){
        0: shinKeisei800n_1_mot_2_rev;
        default: shinKeisei800n_1_wag_rev;
      }
      switch(FEAT_TRAINS, PARENT, sw_shinKeisei800n_1_panto_placer_main_2,vehicle_is_reversed){
        1: sw_shinKeisei800n_1_panto_placer_2;
        sw_shinKeisei800n_1_panto_placer_2_rev;
      }
      switch(FEAT_TRAINS, SELF, sw_shinKeisei800n_1_panto_placer_main,num_vehs_in_vehid_chain+1){
        6..7: sw_shinKeisei800n_1_panto_placer_main_2;
        sw_shinKeisei800n_1_panto_placer_main_1;
      }

    switch(FEAT_TRAINS, SELF, sw_shinKeisei800n_1_gfx_main,position_in_vehid_chain_from_end){
        0: shinKeisei800n_1_end;
        sw_shinKeisei800n_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_shinKeisei800n_lv,vehicle_type_id){
        mu_car: sw_shinKeisei800n_1_gfx_main;
        shinKeisei800n_1_front;
    }
# 78 "src/private/Kanto/shinKeisei/shinKeisei800n.pnml"
item(FEAT_TRAINS, shinKeisei800n) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_SHIN_KEISEI), "N800", string(STR_NAME_TYPE));
        introduction_date: date(2005, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cargo_capacity: 1;
        loading_speed: param_loading_3D;
        cost_factor: 20;
        running_cost_factor: 50;

        speed: 130 km/h;
        track_type: TR_1435_DC;
        power: 620 kW;
        weight: 31 ton;

        climates_available: param_disable_keisei == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        speed: sw_keisei3000_2_speed_main;
        power: sw_keisei3000_2_power_main()*4*1342/1000;

        default: sw_shinKeisei800n_lv;
        purchase: shinKeisei800n_purchase;
        can_attach_wagon: sw_1435_attach_vehid;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 6)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_SHIN_KEISEI)));
        start_stop: sw_stop_start_3;
        cargo_capacity: sw_keisei3000_2_capacity_main()*param_capacity_mod/3;
        sound_effect: sw_SKSN800_start_sound;
    }
    livery_override(mu_car){
        cargo_subtype_text:sw_empty_desc;
        loading_speed: param_loading_3D;
        cargo_capacity: sw_keisei3000_2_capacity_main()*param_capacity_mod/3;
        default: sw_shinKeisei800n_lv;
        power: sw_keisei3000_2_power_main()*4*1342/1000;
        weight: 31;
        length: 8;
      }
}
# 236 "src/_private.pnml" 2
# 1 "src/private/Kanto/shinKeisei/shinKeisei80000.pnml" 1

  spriteset(shinKeisei80000_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/shinKeisei/shinKeisei80000/shinKeisei80000_1.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(shinKeisei80000_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/shinKeisei/shinKeisei80000/shinKeisei80000_1.png"){ tmpl_purchase_2c(88, 75) }
  switch(FEAT_TRAINS, SELF, shinKeisei80000_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_shin_keisei; 1: shinKeisei80000_purchase_c1; 2: shinKeisei80000_purchase_c2;}

spriteset (shinKeisei80000_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/shinKeisei/shinKeisei80000/shinKeisei80000_1.png") { tmpl_high_skirt(0, 0) }
spriteset (shinKeisei80000_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/shinKeisei/shinKeisei80000/shinKeisei80000_1.png") { tmpl_high_skirt_rev(0, 25) }
spriteset (shinKeisei80000_1_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/shinKeisei/shinKeisei80000/shinKeisei80000_1.png") { tmpl_std(0, 50) }
spriteset (shinKeisei80000_1_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/shinKeisei/shinKeisei80000/shinKeisei80000_1.png") { tmpl_std_rev(0, 50) }
spriteset (shinKeisei80000_1_mot_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/shinKeisei/shinKeisei80000/shinKeisei80000_1.png") { tmpl_std(0, 75) }
spriteset (shinKeisei80000_1_mot_2_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/shinKeisei/shinKeisei80000/shinKeisei80000_1.png") { tmpl_std_rev(0, 75) }
spriteset (shinKeisei80000_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/shinKeisei/shinKeisei80000/shinKeisei80000_1.png") { tmpl_std(0, 100) }
spriteset (shinKeisei80000_1_wag_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/shinKeisei/shinKeisei80000/shinKeisei80000_1.png") { tmpl_std_rev(0, 100) }




      switch(FEAT_TRAINS, SELF, sw_shinKeisei80000_1_panto_placer_1,position_in_vehid_chain %8){
        0: shinKeisei80000_1_mot_2;
        2: shinKeisei80000_1_mot;
        5: shinKeisei80000_1_mot_2;
        shinKeisei80000_1_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_shinKeisei80000_1_panto_placer_1_rev,position_in_vehid_chain_from_end %8-1){
        0: shinKeisei80000_1_mot_2_rev;
        2: shinKeisei80000_1_mot_rev;
        5: shinKeisei80000_1_mot_2_rev;
        shinKeisei80000_1_wag_rev;
      }
      switch(FEAT_TRAINS, PARENT, sw_shinKeisei80000_1_panto_placer_main_1,vehicle_is_reversed){
        1: sw_shinKeisei80000_1_panto_placer_1_rev;
        sw_shinKeisei80000_1_panto_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_shinKeisei80000_1_panto_placer_2,position_in_vehid_chain %3){
        0: shinKeisei80000_1_mot_2_rev;
        default: shinKeisei80000_1_wag_rev;
      }
      switch(FEAT_TRAINS, SELF, sw_shinKeisei80000_1_panto_placer_2_rev,position_in_vehid_chain_from_end %3-1){
        0: shinKeisei80000_1_mot_2;
        default: shinKeisei80000_1_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_shinKeisei80000_1_panto_placer_main_2,vehicle_is_reversed){
        1: sw_shinKeisei80000_1_panto_placer_2;
        sw_shinKeisei80000_1_panto_placer_2_rev;
      }
      switch(FEAT_TRAINS, SELF, sw_shinKeisei80000_1_panto_placer_main,num_vehs_in_vehid_chain+1){
        6..7: sw_shinKeisei80000_1_panto_placer_main_2;
        sw_shinKeisei80000_1_panto_placer_main_1;
      }

    switch(FEAT_TRAINS, SELF, sw_shinKeisei80000_1_gfx_main,position_in_vehid_chain_from_end){
        0: shinKeisei80000_1_end;
        sw_shinKeisei80000_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_shinKeisei80000_lv,vehicle_type_id){
        mu_car: sw_shinKeisei80000_1_gfx_main;
        shinKeisei80000_1_front;
    }



item(FEAT_TRAINS, shinKeisei80000) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_SHIN_KEISEI), "80000", string(STR_NAME_TYPE));
        introduction_date: date(2019, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cargo_capacity: 1;
        loading_speed: param_loading_3D;
        cost_factor: 21;
        running_cost_factor: 50;

        speed: 130 km/h;
        track_type: TR_1435_DC;
        power: 620 kW;
        weight: 31 ton;

        climates_available: param_disable_keisei == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        power: sw_keisei3100_2_power_main()*4*1342/1000;

        default: sw_shinKeisei80000_lv;
        purchase: shinKeisei80000_purchase;
        can_attach_wagon: sw_1435_attach_vehid;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 6)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_SHIN_KEISEI)));
        start_stop: sw_stop_start_3;
        cargo_capacity: sw_keisei3100_2_capacity_main()*param_capacity_mod/3;

    }
    livery_override(mu_car){
        cargo_subtype_text:sw_empty_desc;
        loading_speed: param_loading_3D;
        cargo_capacity: sw_keisei3100_2_capacity_main()*param_capacity_mod/3;
        default: sw_shinKeisei80000_lv;
        power: sw_keisei3100_2_power_main()*4*1342/1000;
        weight: 32;
        length: 8;
      }
}
# 237 "src/_private.pnml" 2


item(FEAT_TRAINS, hokuso7000, 2520) {}
item(FEAT_TRAINS, hokuso7300, 2521) {}
item(FEAT_TRAINS, hokuso7150, 2522) {}
item(FEAT_TRAINS, hokuso7050, 2523) {}
item(FEAT_TRAINS, hokuso7250, 2524) {}
item(FEAT_TRAINS, hokuso7500, 2525) {}

# 1 "src/private/Kanto/hokuso/hokuso7000.pnml" 1

  spriteset(hokuso7000_purchase_c1, "gfx/private/Kanto/hokuso/hokuso7000/hokuso7000.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(hokuso7000_purchase_c2, "gfx/private/Kanto/hokuso/hokuso7000/hokuso7000.png"){ tmpl_purchase_2c(0, 100) }
  switch(FEAT_TRAINS, SELF, hokuso7000_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_hokuso; 1: hokuso7000_purchase_c1; 2: hokuso7000_purchase_c2;}

spriteset (hokuso7000_front, "gfx/private/Kanto/hokuso/hokuso7000/hokuso7000.png") { tmpl_std(0, 0) }
spriteset (hokuso7000_end, "gfx/private/Kanto/hokuso/hokuso7000/hokuso7000.png") { tmpl_std_rev(0, 25) }
spriteset (hokuso7000_mot, "gfx/private/Kanto/hokuso/hokuso7000/hokuso7000.png") { tmpl_std(0, 50) }
spriteset (hokuso7000_mot_rev, "gfx/private/Kanto/hokuso/hokuso7000/hokuso7000.png") { tmpl_std_rev(0, 50) }
spriteset (hokuso7000_mot_2, "gfx/private/Kanto/hokuso/hokuso7000/hokuso7000.png") { tmpl_symm(0, 75) }
spriteset (hokuso7000_wag, "gfx/private/Kanto/hokuso/hokuso7000/hokuso7000.png") { tmpl_symm(0, 100) }




      switch(FEAT_TRAINS, SELF, sw_hokuso7000_panto_placer_1,position_in_vehid_chain %2){
        0: hokuso7000_mot_2;
        default: hokuso7000_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_hokuso7000_panto_placer_1_rev,position_in_vehid_chain_from_end %2){
        1: hokuso7000_mot_2;
        default: hokuso7000_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_hokuso7000_panto_placer_main_1,vehicle_is_reversed){
        1: sw_hokuso7000_panto_placer_1;
        sw_hokuso7000_panto_placer_1_rev;
      }

      switch(FEAT_TRAINS, SELF, sw_hokuso7000_panto_placer_2,position_in_vehid_chain %7){
        0: hokuso7000_mot_2;
        2: hokuso7000_mot_rev;
        4: hokuso7000_mot_2;
        default: hokuso7000_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_hokuso7000_panto_placer_2_rev,position_in_vehid_chain_from_end %7-1){
        0: hokuso7000_mot_2;
        2: hokuso7000_mot;
        4: hokuso7000_mot_2;
        default: hokuso7000_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_hokuso7000_panto_placer_main_2,vehicle_is_reversed){
        1: sw_hokuso7000_panto_placer_2;
        sw_hokuso7000_panto_placer_2_rev;
      }

      switch(FEAT_TRAINS, SELF, sw_hokuso7000_panto_placer_main,num_vehs_in_vehid_chain+1){
        0..6: sw_hokuso7000_panto_placer_main_1;
        sw_hokuso7000_panto_placer_main_2;
      }

    switch(FEAT_TRAINS, SELF, sw_hokuso7000_gfx_main,position_in_vehid_chain_from_end){
        0: hokuso7000_end;
        sw_hokuso7000_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_hokuso7000_lv,vehicle_type_id){
        mu_car: sw_hokuso7000_gfx_main;
        hokuso7000_front;
    }


    switch(FEAT_TRAINS, SELF, sw_hokuso7000_capacity,position_in_vehid_chain_from_end){
      0: 126;
      default: 136;
    }
    switch(FEAT_TRAINS, SELF, sw_hokuso7000_capacity_1,position_in_vehid_chain){
      0: 126;
      default: sw_hokuso7000_capacity;
    }
    switch(FEAT_TRAINS, SELF, sw_hokuso7000_capacity_main,vehicle_type_id){
      mu_car: sw_hokuso7000_capacity;
      sw_hokuso7000_capacity_1;
    }


    switch(FEAT_TRAINS, SELF, sw_hokuso7000_power_main,position_in_vehid_chain_from_end%8){
      1..4:return 130;
      return 0;
    }


item(FEAT_TRAINS, hokuso7000) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_HOKUSO), "7000", string(STR_NAME_TYPE));
        introduction_date: date(1979, 1, 1);
        model_life: 2006-1979-5;
        vehicle_life: 30;
        reliability_decay: 10;

        cargo_capacity: 1;
        loading_speed: param_loading_3D;
        cost_factor: 18;
        running_cost_factor: 48;

        speed: 110 km/h;
        track_type: TR_1435_DC;
        power: 620 kW;
        weight: 35 ton;

        climates_available: param_disable_keisei == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
    power: sw_hokuso7000_power_main()*4*1342/1000;

    default: sw_hokuso7000_lv;
    purchase: hokuso7000_purchase;
    can_attach_wagon: sw_1435_attach_vehid;
    additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_2, 6,8)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_HOKUSO)));

  start_stop: sw_stop_start_3;
        cargo_capacity: sw_hokuso7000_capacity_main()*param_capacity_mod/3;
        sound_effect: sw_HKT7000_start_sound;
    }
    livery_override(mu_car){
        cargo_subtype_text:sw_empty_desc;
        loading_speed: param_loading_3D;
        cargo_capacity: sw_hokuso7000_capacity_main()*param_capacity_mod/3;
        default: sw_hokuso7000_lv;
        power: sw_hokuso7000_power_main()*4*1342/1000;
        weight: 35;
        length: 8;
      }
}
# 247 "src/_private.pnml" 2
# 1 "src/private/Kanto/hokuso/hokuso7150.pnml" 1

  spriteset(hokuso7150_purchase_c1, "gfx/private/Kanto/hokuso/hokuso7150/hokuso7150_1.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(hokuso7150_purchase_c2, "gfx/private/Kanto/hokuso/hokuso7150/hokuso7150_1.png"){ tmpl_purchase_2c(0, 125) }
  switch(FEAT_TRAINS, SELF, hokuso7150_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_hokuso; 1: hokuso7150_purchase_c1; 2: hokuso7150_purchase_c2;}

spriteset (hokuso7150_1_front_mot, "gfx/private/Kanto/hokuso/hokuso7150/hokuso7150_1.png") { tmpl_std(0, 0) }
spriteset (hokuso7150_1_end_mot, "gfx/private/Kanto/hokuso/hokuso7150/hokuso7150_1.png") { tmpl_std_rev(0, 25) }
spriteset (hokuso7150_1_end_mot_rev, "gfx/private/Kanto/hokuso/hokuso7150/hokuso7150_1.png") { tmpl_std(0, 25) }
spriteset (hokuso7150_1_front, "gfx/private/Kanto/hokuso/hokuso7150/hokuso7150_1.png") { tmpl_std(0, 50) }
spriteset (hokuso7150_1_end, "gfx/private/Kanto/hokuso/hokuso7150/hokuso7150_1.png") { tmpl_std_rev(0, 75) }
spriteset (hokuso7150_1_end_rev, "gfx/private/Kanto/hokuso/hokuso7150/hokuso7150_1.png") { tmpl_std(0, 75) }
spriteset (hokuso7150_1_mot, "gfx/private/Kanto/hokuso/hokuso7150/hokuso7150_1.png") { tmpl_std(0, 100) }
spriteset (hokuso7150_1_mot_rev, "gfx/private/Kanto/hokuso/hokuso7150/hokuso7150_1.png") { tmpl_std_rev(0, 100) }
spriteset (hokuso7150_1_wag, "gfx/private/Kanto/hokuso/hokuso7150/hokuso7150_1.png") { tmpl_symm(0, 125) }

spriteset(hokuso7150_2_front_mot_1 , ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/hokuso/hokuso7150/hokuso7150_2.png") { tmpl_std(0, 0) }
spriteset(hokuso7150_2_end_mot_1 , ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/hokuso/hokuso7150/hokuso7150_2.png") { tmpl_std_rev(0, 25) }
spriteset(hokuso7150_2_end_mot_1_rev , ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/hokuso/hokuso7150/hokuso7150_2.png") { tmpl_std(0, 25) }
spriteset(hokuso7150_2_front_mot_2 , ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/hokuso/hokuso7150/hokuso7150_2.png") { tmpl_std(0, 50) }
spriteset(hokuso7150_2_end_mot_2 , ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/hokuso/hokuso7150/hokuso7150_2.png") { tmpl_std_rev(0, 75) }
spriteset(hokuso7150_2_end_mot_2_rev , ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/hokuso/hokuso7150/hokuso7150_2.png") { tmpl_std(0, 75) }
spriteset(hokuso7150_2_front_1 , ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/hokuso/hokuso7150/hokuso7150_2.png") { tmpl_std(0, 100) }
spriteset(hokuso7150_2_end_1 , ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/hokuso/hokuso7150/hokuso7150_2.png") { tmpl_std_rev(0, 125) }
spriteset(hokuso7150_2_end_1_rev , ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/hokuso/hokuso7150/hokuso7150_2.png") { tmpl_std(0, 125) }
spriteset(hokuso7150_2_front_2 , ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/hokuso/hokuso7150/hokuso7150_2.png") { tmpl_std(0, 150) }
spriteset(hokuso7150_2_end_2 , ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/hokuso/hokuso7150/hokuso7150_2.png") { tmpl_std_rev(0, 175) }
spriteset(hokuso7150_2_end_2_rev , ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/hokuso/hokuso7150/hokuso7150_2.png") { tmpl_std(0, 175) }
spriteset(hokuso7150_2_mot_1 , ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/hokuso/hokuso7150/hokuso7150_2.png") { tmpl_std(0, 200) }
spriteset(hokuso7150_2_mot_1_rev , ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/hokuso/hokuso7150/hokuso7150_2.png") { tmpl_std_rev(0, 200) }
spriteset(hokuso7150_2_mot_2 , ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/hokuso/hokuso7150/hokuso7150_2.png") { tmpl_std(0, 225) }
spriteset(hokuso7150_2_mot_2_rev , ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/hokuso/hokuso7150/hokuso7150_2.png") { tmpl_std_rev(0, 225) }
spriteset(hokuso7150_2_mot_3 , ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/hokuso/hokuso7150/hokuso7150_2.png") { tmpl_std(0, 250) }
spriteset(hokuso7150_2_mot_3_rev , ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/hokuso/hokuso7150/hokuso7150_2.png") { tmpl_std_rev(0, 250) }
spriteset(hokuso7150_2_wag_1 , ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/hokuso/hokuso7150/hokuso7150_2.png") { tmpl_std(0, 275) }
spriteset(hokuso7150_2_wag_1_rev , ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kanto/hokuso/hokuso7150/hokuso7150_2.png") { tmpl_std_rev(0, 275) }



    switch(FEAT_TRAINS, PARENT, sw_hokuso7150_1_front,vehicle_is_reversed){
        1: hokuso7150_1_front;
        hokuso7150_1_front_mot;
      }
    switch(FEAT_TRAINS, PARENT, sw_hokuso7150_1_end,vehicle_is_reversed){
        1: hokuso7150_1_end_mot;
        hokuso7150_1_end;
      }


      switch(FEAT_TRAINS, SELF, sw_hokuso7150_1_panto_placer_1,position_in_vehid_chain %2){
        1: hokuso7150_1_mot;
        default: hokuso7150_1_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_hokuso7150_1_panto_placer_1_rev,position_in_vehid_chain_from_end %2){
        0: hokuso7150_1_mot_rev;
        default: hokuso7150_1_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_hokuso7150_1_panto_placer_main,vehicle_is_reversed){
        1: sw_hokuso7150_1_panto_placer_1_rev;
        sw_hokuso7150_1_panto_placer_1;
      }


      switch(FEAT_TRAINS, SELF, sw_hokuso7150_1_fake_head_placer_1,position_in_vehid_chain){
        2: hokuso7150_1_end;
        3: hokuso7150_1_end_mot_rev;
        sw_hokuso7150_1_panto_placer_main;
      }
      switch(FEAT_TRAINS, SELF, sw_hokuso7150_1_fake_head_placer_1_rev,position_in_vehid_chain_from_end-1){
        2: hokuso7150_1_end_rev;
        3: hokuso7150_1_end_mot;
        sw_hokuso7150_1_panto_placer_main;
      }
      switch(FEAT_TRAINS, PARENT, sw_hokuso7150_1_fake_head_placer_gfx,vehicle_is_reversed){
        1: sw_hokuso7150_1_fake_head_placer_1_rev;
        sw_hokuso7150_1_fake_head_placer_1;
      }
      switch(FEAT_TRAINS, SELF, sw_hokuso7150_1_fake_head_placer_main,num_vehs_in_vehid_chain>7 - 1){
        1: sw_hokuso7150_1_fake_head_placer_gfx;
        sw_hokuso7150_1_panto_placer_main;
      }

    switch(FEAT_TRAINS, SELF, sw_hokuso7150_1_gfx_main,position_in_vehid_chain_from_end){
        0: sw_hokuso7150_1_end;
        sw_hokuso7150_1_fake_head_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_hokuso7150_livery_1,vehicle_type_id){
        mu_car: sw_hokuso7150_1_gfx_main;
        sw_hokuso7150_1_front;
    }


    switch(FEAT_TRAINS, PARENT, sw_hokuso7150_2_front_1,vehicle_is_reversed){
        1: hokuso7150_2_front_2;
        hokuso7150_2_front_mot_1;
      }
    switch(FEAT_TRAINS, PARENT, sw_hokuso7150_2_end_1,vehicle_is_reversed){
        1: hokuso7150_2_end_mot_1;
        hokuso7150_2_end_2;
      }

    switch(FEAT_TRAINS, PARENT, sw_hokuso7150_2_front_2,vehicle_is_reversed){
        1: hokuso7150_2_front_1;
        hokuso7150_2_front_mot_1;
      }
    switch(FEAT_TRAINS, PARENT, sw_hokuso7150_2_end_2,vehicle_is_reversed){
        1: hokuso7150_2_end_mot_1;
        hokuso7150_2_end_1;
      }
    switch(FEAT_TRAINS, PARENT, sw_hokuso7150_2_front_gfx,num_vehs_in_consist>4){
        1: sw_hokuso7150_2_front_1;
        sw_hokuso7150_2_front_2;
      }
    switch(FEAT_TRAINS, PARENT, sw_hokuso7150_2_end_gfx,num_vehs_in_consist>4){
        1: sw_hokuso7150_2_end_1;
        sw_hokuso7150_2_end_2;
      }


      switch(FEAT_TRAINS, SELF, sw_hokuso7150_2_panto_placer_1,position_in_vehid_chain %8){
        0: hokuso7150_2_mot_1_rev;
        1: hokuso7150_2_mot_3;
        2: hokuso7150_2_wag_1;
        3: hokuso7150_2_mot_1;
        4: hokuso7150_2_wag_1;
        5: hokuso7150_2_mot_2;
        6: hokuso7150_2_wag_1;
        hokuso7150_2_mot_2;
      }
      switch(FEAT_TRAINS, SELF, sw_hokuso7150_2_panto_placer_1_rev,position_in_vehid_chain_from_end %8-1){
        0: hokuso7150_2_mot_1;
        1: hokuso7150_2_mot_3_rev;
        2: hokuso7150_2_wag_1_rev;
        3: hokuso7150_2_mot_1_rev;
        4: hokuso7150_2_wag_1_rev;
        5: hokuso7150_2_mot_2_rev;
        6: hokuso7150_2_wag_1_rev;
        hokuso7150_2_mot_2_rev;
      }
      switch(FEAT_TRAINS, PARENT, sw_hokuso7150_2_panto_placer_main,vehicle_is_reversed){
        1: sw_hokuso7150_2_panto_placer_1_rev;
        sw_hokuso7150_2_panto_placer_1;
      }


      switch(FEAT_TRAINS, SELF, sw_hokuso7150_2_fake_head_placer_1,position_in_vehid_chain){
        2: hokuso7150_2_end_1;
        3: hokuso7150_2_end_mot_2_rev;
        sw_hokuso7150_2_panto_placer_main;
      }
      switch(FEAT_TRAINS, SELF, sw_hokuso7150_2_fake_head_placer_1_rev,position_in_vehid_chain_from_end-1){
        2: hokuso7150_2_end_1_rev;
        3: hokuso7150_2_end_mot_2;
        sw_hokuso7150_2_panto_placer_main;
      }
      switch(FEAT_TRAINS, PARENT, sw_hokuso7150_2_fake_head_placer_gfx,vehicle_is_reversed){
        1: sw_hokuso7150_2_fake_head_placer_1_rev;
        sw_hokuso7150_2_fake_head_placer_1;
      }
      switch(FEAT_TRAINS, SELF, sw_hokuso7150_2_fake_head_placer_main,num_vehs_in_vehid_chain>6 - 1){
        1: sw_hokuso7150_2_fake_head_placer_gfx;
        sw_hokuso7150_2_panto_placer_main;
      }

    switch(FEAT_TRAINS, SELF, sw_hokuso7150_2_gfx_main,position_in_vehid_chain_from_end){
        0: sw_hokuso7150_2_end_gfx;
        sw_hokuso7150_2_fake_head_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_hokuso7150_livery_2,vehicle_type_id){
        mu_car: sw_hokuso7150_2_gfx_main;
        sw_hokuso7150_2_front_gfx;
    }

  random_switch(FEAT_TRAINS, PARENT, sw_hokuso7150_livery_0_1){
    2:sw_hokuso7150_livery_1;
    1:sw_hokuso7150_livery_2;
  }
  switch(FEAT_TRAINS, PARENT, sw_hokuso7150_livery_0, current_year){
    0..1994: sw_hokuso7150_livery_1;
    sw_hokuso7150_livery_0_1;
  }
  switch(FEAT_TRAINS, SELF, sw_hokuso7150_lv,cargo_subtype){
    0:sw_hokuso7150_livery_0;
    1:sw_hokuso7150_livery_1;
    2:sw_hokuso7150_livery_2;
  }
  switch(FEAT_TRAINS, SELF, sw_hokuso7150_lv_desc,cargo_subtype){
    0:string(LV_RANDOM);
    1:string(LV_DEFAULT);
    2:string(LV_hokuso7150_2);
  }


    switch(FEAT_TRAINS, SELF, sw_hokuso7150_capacity,position_in_vehid_chain_from_end){
      0: 136;
      default: 140;
    }
    switch(FEAT_TRAINS, SELF, sw_hokuso7150_capacity_1,position_in_vehid_chain){
      0: 136;
      default: sw_hokuso7150_capacity;
    }
    switch(FEAT_TRAINS, SELF, sw_hokuso7150_capacity_main,vehicle_type_id){
      mu_car: sw_hokuso7150_capacity;
      sw_hokuso7150_capacity_1;
    }


    switch(FEAT_TRAINS, SELF, sw_hokuso7150_power_main,position_in_vehid_chain_from_end%8){
      0..5:return 75;
      return 0;
    }


item(FEAT_TRAINS, hokuso7150) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_HOKUSO), "7150", string(STR_NAME_TYPE));
        introduction_date: date(1991, 1, 1);
        model_life: 2006-1995-5;
        vehicle_life: 20;
        reliability_decay: 10;

        cargo_capacity: 1;
        loading_speed: param_loading_3D;
        cost_factor: 16;
        running_cost_factor: 50;

        speed: 120 km/h;
        track_type: TR_1435_DC;
        power: 620 kW;
        weight: 35 ton;

        climates_available: param_disable_keisei == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        power: sw_hokuso7150_power_main()*4*1342/1000;
        cargo_subtype_text:sw_hokuso7150_lv_desc;
        default: sw_hokuso7150_lv;
        purchase: hokuso7150_purchase;
        can_attach_wagon: sw_1435_attach_vehid;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_2, 4,8)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_HOKUSO)));

  start_stop: sw_stop_start_2;
        cargo_capacity: sw_hokuso7150_capacity_main()*param_capacity_mod/3;
        sound_effect: sw_HKT7150_start_sound;
    }
    livery_override(mu_car){
        cargo_subtype_text:sw_hokuso7150_lv_desc;
        loading_speed: param_loading_3D;
        cargo_capacity: sw_hokuso7150_capacity_main()*param_capacity_mod/3;
        default: sw_hokuso7150_lv;
        power: sw_hokuso7150_power_main()*4*1342/1000;
        weight: 35;
        length: 8;
      }
}
# 248 "src/_private.pnml" 2
# 1 "src/private/Kanto/hokuso/hokuso7050.pnml" 1

  spriteset(hokuso7050_purchase_c1, "gfx/private/Kanto/hokuso/hokuso7050/hokuso7050.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(hokuso7050_purchase_c2, "gfx/private/Kanto/hokuso/hokuso7050/hokuso7050.png"){ tmpl_purchase_2c(0, 125) }
  switch(FEAT_TRAINS, SELF, hokuso7050_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_hokuso; 1: hokuso7050_purchase_c1; 2: hokuso7050_purchase_c2;}

spriteset (hokuso7050_front, "gfx/private/Kanto/hokuso/hokuso7050/hokuso7050.png") { tmpl_std(0, 0) }
spriteset (hokuso7050_end, "gfx/private/Kanto/hokuso/hokuso7050/hokuso7050.png") { tmpl_std_rev(0, 25) }
spriteset (hokuso7050_end_rev, "gfx/private/Kanto/hokuso/hokuso7050/hokuso7050.png") { tmpl_std(0, 25) }
spriteset (hokuso7050_front_mot, "gfx/private/Kanto/hokuso/hokuso7050/hokuso7050.png") { tmpl_std(0, 50) }
spriteset (hokuso7050_end_mot, "gfx/private/Kanto/hokuso/hokuso7050/hokuso7050.png") { tmpl_std_rev(0, 75) }
spriteset (hokuso7050_end_mot_rev, "gfx/private/Kanto/hokuso/hokuso7050/hokuso7050.png") { tmpl_std(0, 75) }
spriteset (hokuso7050_mot, "gfx/private/Kanto/hokuso/hokuso7050/hokuso7050.png") { tmpl_std(0, 100) }
spriteset (hokuso7050_mot_rev, "gfx/private/Kanto/hokuso/hokuso7050/hokuso7050.png") { tmpl_std_rev(0, 100) }
spriteset (hokuso7050_wag, "gfx/private/Kanto/hokuso/hokuso7050/hokuso7050.png") { tmpl_symm(0, 125) }



    switch(FEAT_TRAINS, PARENT, sw_hokuso7050_front,vehicle_is_reversed){
        1: hokuso7050_front;
        hokuso7050_front_mot;
      }
    switch(FEAT_TRAINS, PARENT, sw_hokuso7050_end,vehicle_is_reversed){
        1: hokuso7050_end_mot;
        hokuso7050_end;
      }


      switch(FEAT_TRAINS, SELF, sw_hokuso7050_panto_placer_1,position_in_vehid_chain %2){
        1: hokuso7050_mot;
        default: hokuso7050_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_hokuso7050_panto_placer_1_rev,position_in_vehid_chain_from_end %2){
        0: hokuso7050_mot_rev;
        default: hokuso7050_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_hokuso7050_panto_placer_main,vehicle_is_reversed){
        1: sw_hokuso7050_panto_placer_1_rev;
        sw_hokuso7050_panto_placer_1;
      }


      switch(FEAT_TRAINS, SELF, sw_hokuso7050_fake_head_placer_1,position_in_vehid_chain){
        2: hokuso7050_end;
        3: hokuso7050_end_mot_rev;
        sw_hokuso7050_panto_placer_main;
      }
      switch(FEAT_TRAINS, SELF, sw_hokuso7050_fake_head_placer_1_rev,position_in_vehid_chain_from_end-1){
        2: hokuso7050_end_rev;
        3: hokuso7050_end_mot;
        sw_hokuso7050_panto_placer_main;
      }
      switch(FEAT_TRAINS, PARENT, sw_hokuso7050_fake_head_placer_gfx,vehicle_is_reversed){
        1: sw_hokuso7050_fake_head_placer_1_rev;
        sw_hokuso7050_fake_head_placer_1;
      }
      switch(FEAT_TRAINS, SELF, sw_hokuso7050_fake_head_placer_main,num_vehs_in_vehid_chain>7 - 1){
        1: sw_hokuso7050_fake_head_placer_gfx;
        sw_hokuso7050_panto_placer_main;
      }

    switch(FEAT_TRAINS, SELF, sw_hokuso7050_gfx_main,position_in_vehid_chain_from_end){
        0: sw_hokuso7050_end;
        sw_hokuso7050_fake_head_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_hokuso7050_lv,vehicle_type_id){
        mu_car: sw_hokuso7050_gfx_main;
        sw_hokuso7050_front;
    }


    switch(FEAT_TRAINS, SELF, sw_hokuso7050_capacity,position_in_vehid_chain_from_end){
      0: 136;
      default: 140;
    }
    switch(FEAT_TRAINS, SELF, sw_hokuso7050_capacity_1,position_in_vehid_chain){
      0: 136;
      default: sw_hokuso7050_capacity;
    }
    switch(FEAT_TRAINS, SELF, sw_hokuso7050_capacity_main,vehicle_type_id){
      mu_car: sw_hokuso7050_capacity;
      sw_hokuso7050_capacity_1;
    }


    switch(FEAT_TRAINS, SELF, sw_hokuso7050_power_main,position_in_vehid_chain_from_end%8){
      0..5:return 75;
      return 0;
    }


item(FEAT_TRAINS, hokuso7050) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_HOKUSO), "7050", string(STR_NAME_TYPE));
        introduction_date: date(1995, 1, 1);
        model_life: 2006-1995-5;
        vehicle_life: 10;
        reliability_decay: 10;

        cargo_capacity: 1;
        loading_speed: param_loading_3D;
        cost_factor: 16;
        running_cost_factor: 50;

        speed: 110 km/h;
        track_type: TR_1435_DC;
        power: 620 kW;
        weight: 34 ton;

        climates_available: param_disable_keisei == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        power: sw_hokuso7050_power_main()*4*1342/1000;

        default: sw_hokuso7050_lv;
        purchase: hokuso7050_purchase;
        can_attach_wagon: sw_1435_attach_vehid;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_2, 4,8)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_HOKUSO)));

  start_stop: sw_stop_start_2;
        cargo_capacity: sw_hokuso7050_capacity_main()*param_capacity_mod/3;
        sound_effect: sw_HKT7050_start_sound;
    }
    livery_override(mu_car){
        cargo_subtype_text:sw_empty_desc;
        loading_speed: param_loading_3D;
        cargo_capacity: sw_hokuso7050_capacity_main()*param_capacity_mod/3;
        default: sw_hokuso7050_lv;
        power: sw_hokuso7050_power_main()*4*1342/1000;
        weight: 34;
        length: 8;
      }
}
# 249 "src/_private.pnml" 2
# 1 "src/private/Kanto/hokuso/hokuso7250.pnml" 1

  spriteset(hokuso7250_purchase_c1, "gfx/private/Kanto/hokuso/hokuso7250/hokuso7250.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(hokuso7250_purchase_c2, "gfx/private/Kanto/hokuso/hokuso7250/hokuso7250.png"){ tmpl_purchase_2c(0, 100) }
  switch(FEAT_TRAINS, SELF, hokuso7250_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_hokuso; 1: hokuso7250_purchase_c1; 2: hokuso7250_purchase_c2;}

spriteset (hokuso7250_front, "gfx/private/Kanto/hokuso/hokuso7250/hokuso7250.png") { tmpl_std(0, 0) }
spriteset (hokuso7250_end, "gfx/private/Kanto/hokuso/hokuso7250/hokuso7250.png") { tmpl_std_rev(0, 25) }
spriteset (hokuso7250_end_rev, "gfx/private/Kanto/hokuso/hokuso7250/hokuso7250.png") { tmpl_std(0, 25) }
spriteset (hokuso7250_mot, "gfx/private/Kanto/hokuso/hokuso7250/hokuso7250.png") { tmpl_std(0, 100) }
spriteset (hokuso7250_mot_rev, "gfx/private/Kanto/hokuso/hokuso7250/hokuso7250.png") { tmpl_std_rev(0, 100) }
spriteset (hokuso7250_mot_2, "gfx/private/Kanto/hokuso/hokuso7250/hokuso7250.png") { tmpl_symm(0, 125) }
spriteset (hokuso7250_wag, "gfx/private/Kanto/hokuso/hokuso7250/hokuso7250.png") { tmpl_symm(0, 150) }




      switch(FEAT_TRAINS, SELF, sw_hokuso7250_panto_placer_1,position_in_vehid_chain %5){
        0: hokuso7250_mot_2;
        default: hokuso7250_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_hokuso7250_panto_placer_1_rev,position_in_vehid_chain_from_end %5-1){
        0: hokuso7250_mot_2;
        default: hokuso7250_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_hokuso7250_panto_placer_main_1,vehicle_is_reversed){
        1: sw_hokuso7250_panto_placer_1_rev;
        sw_hokuso7250_panto_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_hokuso7250_panto_placer_2,position_in_vehid_chain %3){
        1: hokuso7250_mot_2;
        default: hokuso7250_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_hokuso7250_panto_placer_2_rev,position_in_vehid_chain_from_end %3-1){
        1: hokuso7250_mot_2;
        default: hokuso7250_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_hokuso7250_panto_placer_main_2,vehicle_is_reversed){
        1: sw_hokuso7250_panto_placer_2_rev;
        sw_hokuso7250_panto_placer_2;
      }
      switch(FEAT_TRAINS, SELF, sw_hokuso7250_panto_placer_main,num_vehs_in_vehid_chain+1){
        1..4:sw_hokuso7250_panto_placer_main_1;
        5..7: sw_hokuso7250_panto_placer_main_2;
        8..9:sw_hokuso7250_panto_placer_main_1;
        sw_hokuso7250_panto_placer_main_2;
      }

      switch(FEAT_TRAINS, SELF, sw_hokuso7250_panto_placer_3,position_in_vehid_chain %4){
        0: hokuso7250_mot_rev;
        1: hokuso7250_mot;
        default: hokuso7250_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_hokuso7250_panto_placer_3_rev,position_in_vehid_chain_from_end %4-1){
        0: hokuso7250_mot;
        1: hokuso7250_mot_rev;
        default: hokuso7250_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_hokuso7250_panto_placer_main_3,vehicle_is_reversed){
        1: sw_hokuso7250_panto_placer_3_rev;
        sw_hokuso7250_panto_placer_3;
      }

        switch(FEAT_TRAINS, SELF, sw_hokuso7250_fake_head_placer_1,position_in_vehid_chain){
          2: hokuso7250_end;
          3: hokuso7250_end_rev;
          sw_hokuso7250_panto_placer_main_3;
        }
        switch(FEAT_TRAINS, SELF, sw_hokuso7250_fake_head_placer_1_rev,position_in_vehid_chain_from_end-1){
          2: hokuso7250_end_rev;
          3: hokuso7250_end;
          sw_hokuso7250_panto_placer_main_3;
        }
        switch(FEAT_TRAINS, PARENT, sw_hokuso7250_fake_head_placer_gfx,vehicle_is_reversed){
          1: sw_hokuso7250_fake_head_placer_1_rev;
          sw_hokuso7250_fake_head_placer_1;
        }
        switch(FEAT_TRAINS, SELF, sw_hokuso7250_fake_head_placer_main_1,num_vehs_in_vehid_chain>7 - 1){
          1: sw_hokuso7250_fake_head_placer_gfx;
          sw_hokuso7250_panto_placer_main_3;
        }
      random_switch(FEAT_TRAINS, PARENT, sw_hokuso7250_fake_head_placer_main){
        1:sw_hokuso7250_fake_head_placer_main_1;
        1: sw_hokuso7250_panto_placer_main;
      }

    switch(FEAT_TRAINS, SELF, sw_hokuso7250_gfx_main,position_in_vehid_chain_from_end){
        0: hokuso7250_end;
        sw_hokuso7250_fake_head_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_hokuso7250_lv,vehicle_type_id){
        mu_car: sw_hokuso7250_gfx_main;
        hokuso7250_front;
    }


    switch(FEAT_TRAINS, SELF, sw_hokuso7250_capacity,position_in_vehid_chain_from_end){
      0: 136;
      default: 140;
    }
    switch(FEAT_TRAINS, SELF, sw_hokuso7250_capacity_1,position_in_vehid_chain){
      0: 136;
      default: sw_hokuso7250_capacity;
    }
    switch(FEAT_TRAINS, SELF, sw_hokuso7250_capacity_main,vehicle_type_id){
      mu_car: sw_hokuso7250_capacity;
      sw_hokuso7250_capacity_1;
    }


    switch(FEAT_TRAINS, SELF, sw_hokuso7250_power_main,position_in_vehid_chain_from_end%8){
      0..5:return 75;
      return 0;
    }


item(FEAT_TRAINS, hokuso7250) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_HOKUSO), "7250/7260", string(STR_NAME_TYPE));
        introduction_date: date(2003, 1, 1);
        model_life: 3;
        vehicle_life: 10;
        reliability_decay: 10;

        cargo_capacity: 1;
        loading_speed: param_loading_3D;
        cost_factor: 16;
        running_cost_factor: 50;

        speed: 110 km/h;
        track_type: TR_1435_DC;
        power: 620 kW;
        weight: 34 ton;

        climates_available: param_disable_keisei == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        power: sw_hokuso7250_power_main()*4*1342/1000;

        default: sw_hokuso7250_lv;
        purchase: hokuso7250_purchase;
        can_attach_wagon: sw_1435_attach_vehid;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_2, 4,8)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_HOKUSO)));

  start_stop: sw_stop_start_3;
        cargo_capacity: sw_hokuso7250_capacity_main()*param_capacity_mod/3;
        sound_effect: sw_HKT7250_start_sound;
    }
    livery_override(mu_car){
        cargo_subtype_text:sw_empty_desc;
        loading_speed: param_loading_3D;
        cargo_capacity: sw_hokuso7250_capacity_main()*param_capacity_mod/3;
        default: sw_hokuso7250_lv;
        power: sw_hokuso7250_power_main()*4*1342/1000;
        weight: 34;
        length: 8;
      }
}
# 250 "src/_private.pnml" 2
# 1 "src/private/Kanto/hokuso/hokuso7300.pnml" 1

  spriteset(hokuso7300_purchase_c1, "gfx/private/Kanto/hokuso/hokuso7300/hokuso7300.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(hokuso7300_purchase_c2, "gfx/private/Kanto/hokuso/hokuso7300/hokuso7300.png"){ tmpl_purchase_2c(0, 75) }
  switch(FEAT_TRAINS, SELF, hokuso7300_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_hokuso; 1: hokuso7300_purchase_c1; 2: hokuso7300_purchase_c2;}

spriteset (hokuso7300_front, "gfx/private/Kanto/hokuso/hokuso7300/hokuso7300.png") { tmpl_std(0, 0) }
spriteset (hokuso7300_end, "gfx/private/Kanto/hokuso/hokuso7300/hokuso7300.png") { tmpl_std_rev(0, 25) }
spriteset (hokuso7300_mot, "gfx/private/Kanto/hokuso/hokuso7300/hokuso7300.png") { tmpl_std(0, 50) }
spriteset (hokuso7300_mot_rev, "gfx/private/Kanto/hokuso/hokuso7300/hokuso7300.png") { tmpl_std_rev(0, 50) }
spriteset (hokuso7300_mot_2, "gfx/private/Kanto/hokuso/hokuso7300/hokuso7300.png") { tmpl_symm(0, 75) }
spriteset (hokuso7300_wag, "gfx/private/Kanto/hokuso/hokuso7300/hokuso7300.png") { tmpl_symm(0, 100) }




      switch(FEAT_TRAINS, SELF, sw_hokuso7300_panto_placer_1,position_in_vehid_chain %8){
        0: hokuso7300_mot_2;
        2: hokuso7300_mot;
        5: hokuso7300_mot_2;
        hokuso7300_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_hokuso7300_panto_placer_1_rev,position_in_vehid_chain_from_end %8-1){
        0: hokuso7300_mot_2;
        2: hokuso7300_mot_rev;
        5: hokuso7300_mot_2;
        hokuso7300_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_hokuso7300_panto_placer_main_1,vehicle_is_reversed){
        1: sw_hokuso7300_panto_placer_1_rev;
        sw_hokuso7300_panto_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_hokuso7300_panto_placer_2,position_in_vehid_chain %3){
        1: hokuso7300_mot_2;
        default: hokuso7300_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_hokuso7300_panto_placer_2_rev,position_in_vehid_chain_from_end %3-1){
        1: hokuso7300_mot_2;
        default: hokuso7300_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_hokuso7300_panto_placer_main_2,vehicle_is_reversed){
        1: sw_hokuso7300_panto_placer_2_rev;
        sw_hokuso7300_panto_placer_2;
      }
      switch(FEAT_TRAINS, SELF, sw_hokuso7300_panto_placer_main,num_vehs_in_vehid_chain+1){
        1..4:sw_hokuso7300_panto_placer_main_1;
        5: sw_hokuso7300_panto_placer_main_2;
        7: sw_hokuso7300_panto_placer_main_2;
        sw_hokuso7300_panto_placer_main_1;
      }

    switch(FEAT_TRAINS, SELF, sw_hokuso7300_gfx_main,position_in_vehid_chain_from_end){
        0: hokuso7300_end;
        sw_hokuso7300_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_hokuso7300_lv,vehicle_type_id){
        mu_car: sw_hokuso7300_gfx_main;
        hokuso7300_front;
    }


    switch(FEAT_TRAINS, SELF, sw_hokuso7300_capacity,position_in_vehid_chain_from_end){
      0: 126;
      default: 136;
    }
    switch(FEAT_TRAINS, SELF, sw_hokuso7300_capacity_1,position_in_vehid_chain){
      0: 126;
      default: sw_hokuso7300_capacity;
    }
    switch(FEAT_TRAINS, SELF, sw_hokuso7300_capacity_main,vehicle_type_id){
      mu_car: sw_hokuso7300_capacity;
      sw_hokuso7300_capacity_1;
    }


    switch(FEAT_TRAINS, SELF, sw_hokuso7300_power_main,position_in_vehid_chain_from_end%8){
      0..1:return 130;
      3..4:return 130;
      5:return 130;
      return 0;
    }


item(FEAT_TRAINS, hokuso7300) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_HOKUSO), "7300", string(STR_NAME_TYPE));
        introduction_date: date(1991, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cargo_capacity: 1;
        loading_speed: param_loading_3D;
        cost_factor: 20;
        running_cost_factor: 50;

        speed: 120 km/h;
        track_type: TR_1435_DC;
        power: 620 kW;
        weight: 33 ton;

        climates_available: param_disable_keisei == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        power: sw_hokuso7300_power_main()*4*1342/1000;

        default: sw_hokuso7300_lv;
        purchase: hokuso7300_purchase;
        can_attach_wagon: sw_1435_attach_vehid;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 8)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_HOKUSO)));

  start_stop: sw_stop_start_3;
        cargo_capacity: sw_hokuso7300_capacity_main()*param_capacity_mod/3;
        sound_effect: sw_HKT7300_start_sound;
    }
    livery_override(mu_car){
        cargo_subtype_text:sw_empty_desc;
        loading_speed: param_loading_3D;
        cargo_capacity: sw_hokuso7300_capacity_main()*param_capacity_mod/3;
        default: sw_hokuso7300_lv;
        power: sw_hokuso7300_power_main()*4*1342/1000;
        weight: 33;
        length: 8;
      }
}
# 251 "src/_private.pnml" 2
# 1 "src/private/Kanto/hokuso/hokuso7500.pnml" 1

  spriteset(hokuso7500_purchase_c1, "gfx/private/Kanto/hokuso/hokuso7500/hokuso7500.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(hokuso7500_purchase_c2, "gfx/private/Kanto/hokuso/hokuso7500/hokuso7500.png"){ tmpl_purchase_2c(0, 75) }
  switch(FEAT_TRAINS, SELF, hokuso7500_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_hokuso; 1: hokuso7500_purchase_c1; 2: hokuso7500_purchase_c2;}

spriteset (hokuso7500_front, "gfx/private/Kanto/hokuso/hokuso7500/hokuso7500.png") { tmpl_std(0, 0) }
spriteset (hokuso7500_end, "gfx/private/Kanto/hokuso/hokuso7500/hokuso7500.png") { tmpl_std_rev(0, 25) }
spriteset (hokuso7500_mot, "gfx/private/Kanto/hokuso/hokuso7500/hokuso7500.png") { tmpl_std(0, 50) }
spriteset (hokuso7500_mot_rev, "gfx/private/Kanto/hokuso/hokuso7500/hokuso7500.png") { tmpl_std_rev(0, 50) }
spriteset (hokuso7500_mot_2, "gfx/private/Kanto/hokuso/hokuso7500/hokuso7500.png") { tmpl_std(0, 75) }
spriteset (hokuso7500_mot_2_rev, "gfx/private/Kanto/hokuso/hokuso7500/hokuso7500.png") { tmpl_std_rev(0, 75) }
spriteset (hokuso7500_wag, "gfx/private/Kanto/hokuso/hokuso7500/hokuso7500.png") { tmpl_std(0, 100) }
spriteset (hokuso7500_wag_rev, "gfx/private/Kanto/hokuso/hokuso7500/hokuso7500.png") { tmpl_std_rev(0, 100) }




      switch(FEAT_TRAINS, SELF, sw_hokuso7500_panto_placer_1,position_in_vehid_chain %8){
        0: hokuso7500_mot_2;
        2: hokuso7500_mot_rev;
        5: hokuso7500_mot_2;
        hokuso7500_wag_rev;
      }
      switch(FEAT_TRAINS, SELF, sw_hokuso7500_panto_placer_1_rev,position_in_vehid_chain_from_end %8-1){
        0: hokuso7500_mot_2_rev;
        2: hokuso7500_mot;
        5: hokuso7500_mot_2_rev;
        hokuso7500_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_hokuso7500_panto_placer_main_1,vehicle_is_reversed){
        1: sw_hokuso7500_panto_placer_1_rev;
        sw_hokuso7500_panto_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_hokuso7500_panto_placer_2,position_in_vehid_chain %3){
        0: hokuso7500_mot_2;
        default: hokuso7500_wag_rev;
      }
      switch(FEAT_TRAINS, SELF, sw_hokuso7500_panto_placer_2_rev,position_in_vehid_chain_from_end %3-1){
        0: hokuso7500_mot_2_rev;
        default: hokuso7500_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_hokuso7500_panto_placer_main_2,vehicle_is_reversed){
        1: sw_hokuso7500_panto_placer_2;
        sw_hokuso7500_panto_placer_2_rev;
      }
      switch(FEAT_TRAINS, SELF, sw_hokuso7500_panto_placer_main,num_vehs_in_vehid_chain+1){
        6..7: sw_hokuso7500_panto_placer_main_2;
        sw_hokuso7500_panto_placer_main_1;
      }

    switch(FEAT_TRAINS, SELF, sw_hokuso7500_gfx_main,position_in_vehid_chain_from_end){
        0: hokuso7500_end;
        sw_hokuso7500_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_hokuso7500_lv,vehicle_type_id){
        mu_car: sw_hokuso7500_gfx_main;
        hokuso7500_front;
    }

item(FEAT_TRAINS, hokuso7500) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_HOKUSO), "7500", string(STR_NAME_TYPE));
        introduction_date: date(2006, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cargo_capacity: 1;
        loading_speed: param_loading_3D;
        cost_factor: 21;
        running_cost_factor: 51;

        speed: 130 km/h;
        track_type: TR_1435_DC;
        power: 620 kW;
        weight: 31 ton;

        climates_available: param_disable_keisei == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        power: sw_keisei3000_2_power_main()*4*1342/1000;

        default: sw_hokuso7500_lv;
        purchase: hokuso7500_purchase;
        can_attach_wagon: sw_1435_attach_vehid;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 8)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_HOKUSO)));

  start_stop: sw_stop_start_3;
        cargo_capacity: sw_keisei3000_2_capacity_main()*param_capacity_mod/3;
        sound_effect: sw_HT7500_start_sound;
    }
    livery_override(mu_car){
        cargo_subtype_text:sw_empty_desc;
        loading_speed: param_loading_3D;
        cargo_capacity: sw_keisei3000_2_capacity_main()*param_capacity_mod/3;
        default: sw_hokuso7500_lv;
        power: sw_keisei3000_2_power_main()*4*1342/1000;
        weight: 31;
        length: 8;
      }
}
# 252 "src/_private.pnml" 2


item(FEAT_TRAINS, chibaNT_9000, 2540) {}
item(FEAT_TRAINS, chibaNT_9100, 2541) {}
item(FEAT_TRAINS, chibaNT_9200, 2542) {}
item(FEAT_TRAINS, chibaNT_9800, 2543) {}

item(FEAT_TRAINS, chibaE_1000, 2545) {}
item(FEAT_TRAINS, chibaE_3050, 2546) {}
item(FEAT_TRAINS, chibaE_3100, 2547) {}

item(FEAT_TRAINS, shibayama3600, 2548) {}
item(FEAT_TRAINS, shibayama3500, 2549) {}

# 1 "src/private/Kanto/chibaNT/chibaNT_9000.pnml" 1

  spriteset(chibaNT_9000_purchase_c1, "gfx/private/Kanto/chibaNewTown/chibaNT_9000/chibaNT_9000_2.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(chibaNT_9000_purchase_c2, "gfx/private/Kanto/chibaNewTown/chibaNT_9000/chibaNT_9000_1.png"){ tmpl_purchase_2c(0, 75) }
  switch(FEAT_TRAINS, SELF, chibaNT_9000_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_chiba_nt; 1: chibaNT_9000_purchase_c1; 2: chibaNT_9000_purchase_c2;}

spriteset (chibaNT_9000_1_front, "gfx/private/Kanto/chibaNewTown/chibaNT_9000/chibaNT_9000_1.png") { tmpl_std(0, 0) }
spriteset (chibaNT_9000_1_end, "gfx/private/Kanto/chibaNewTown/chibaNT_9000/chibaNT_9000_1.png") { tmpl_std_rev(0, 25) }
spriteset (chibaNT_9000_mot, "gfx/private/Kanto/chibaNewTown/chibaNT_9000/chibaNT_9000_1.png") { tmpl_std(0, 50) }
spriteset (chibaNT_9000_mot_rev, "gfx/private/Kanto/chibaNewTown/chibaNT_9000/chibaNT_9000_1.png") { tmpl_std_rev(0, 50) }
spriteset (chibaNT_9000_mot_2, "gfx/private/Kanto/chibaNewTown/chibaNT_9000/chibaNT_9000_1.png") { tmpl_symm(0, 75) }
spriteset (chibaNT_9000_wag, "gfx/private/Kanto/chibaNewTown/chibaNT_9000/chibaNT_9000_1.png") { tmpl_symm(0, 100) }

spriteset (chibaNT_9000_2_front, "gfx/private/Kanto/chibaNewTown/chibaNT_9000/chibaNT_9000_2.png") { tmpl_std(0, 0) }
spriteset (chibaNT_9000_2_end, "gfx/private/Kanto/chibaNewTown/chibaNT_9000/chibaNT_9000_2.png") { tmpl_std_rev(0, 25) }


    switch(FEAT_TRAINS, SELF, chibaNT_9000_front, build_year>1990){
      1:chibaNT_9000_2_front;
      chibaNT_9000_1_front;
    }
    switch(FEAT_TRAINS, SELF, chibaNT_9000_end, build_year>1990){
      1:chibaNT_9000_2_end;
      chibaNT_9000_1_end;
    }


      switch(FEAT_TRAINS, SELF, sw_chibaNT_9000_panto_placer_1,position_in_vehid_chain %8){
        0: chibaNT_9000_mot_2;
        2: chibaNT_9000_mot;
        5: chibaNT_9000_mot_2;
        chibaNT_9000_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_chibaNT_9000_panto_placer_1_rev,position_in_vehid_chain_from_end %8-1){
        0: chibaNT_9000_mot_2;
        2: chibaNT_9000_mot_rev;
        5: chibaNT_9000_mot_2;
        chibaNT_9000_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_chibaNT_9000_panto_placer_main_1,vehicle_is_reversed){
        1: sw_chibaNT_9000_panto_placer_1_rev;
        sw_chibaNT_9000_panto_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_chibaNT_9000_panto_placer_2,position_in_vehid_chain %3){
        1: chibaNT_9000_mot_2;
        default: chibaNT_9000_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_chibaNT_9000_panto_placer_2_rev,position_in_vehid_chain_from_end %3-1){
        1: chibaNT_9000_mot_2;
        default: chibaNT_9000_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_chibaNT_9000_panto_placer_main_2,vehicle_is_reversed){
        1: sw_chibaNT_9000_panto_placer_2_rev;
        sw_chibaNT_9000_panto_placer_2;
      }

      switch(FEAT_TRAINS, SELF, sw_chibaNT_9000_panto_placer_3,position_in_vehid_chain %2){
        0: chibaNT_9000_mot_2;
        default: chibaNT_9000_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_chibaNT_9000_panto_placer_3_rev,position_in_vehid_chain_from_end %2-1){
        0: chibaNT_9000_mot_2;
        default: chibaNT_9000_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_chibaNT_9000_panto_placer_main_3,vehicle_is_reversed){
        1: sw_chibaNT_9000_panto_placer_3_rev;
        sw_chibaNT_9000_panto_placer_3;
      }
      switch(FEAT_TRAINS, SELF, sw_chibaNT_9000_panto_placer_main,num_vehs_in_vehid_chain+1){
        1..4:sw_chibaNT_9000_panto_placer_main_1;
        5: sw_chibaNT_9000_panto_placer_main_2;
        6: sw_chibaNT_9000_panto_placer_main_3;
        7: sw_chibaNT_9000_panto_placer_main_2;
        sw_chibaNT_9000_panto_placer_main_1;
      }

    switch(FEAT_TRAINS, SELF, sw_chibaNT_9000_gfx_main,position_in_vehid_chain_from_end){
        0: chibaNT_9000_end;
        sw_chibaNT_9000_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_chibaNT_9000_lv,vehicle_type_id){
        mu_car: sw_chibaNT_9000_gfx_main;
        chibaNT_9000_front;
    }


    switch(FEAT_TRAINS, SELF, sw_chibaNT_9000_power_main,position_in_vehid_chain_from_end%8){
      0..1:return 130;
      3..4:return 130;
      5:return 130;
      return 0;
    }


item(FEAT_TRAINS, chibaNT_9000) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_CHIBA_NT), "2000/9000", string(STR_NAME_TYPE));
        introduction_date: date(1984, 1, 1);
        model_life: 2017-1984-5;
        vehicle_life: 30;
        reliability_decay: 10;

        cargo_capacity: 1;
        loading_speed: param_loading_3D;
        cost_factor: 19;
        running_cost_factor: 48;

        speed: 110 km/h;
        track_type: TR_1435_DC;
        power: 620 kW;
        weight: 34 ton;

        climates_available: param_disable_keisei == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        power: sw_chibaNT_9000_power_main()*4*1342/1000;

        default: sw_chibaNT_9000_lv;
        purchase: chibaNT_9000_purchase;
        can_attach_wagon: sw_1435_attach_vehid;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_2, 6,8)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_CHIBA_NT)));

  start_stop: sw_stop_start_3;
        cargo_capacity: 140*param_capacity_mod/3;
        sound_effect: sw_CNT9000_start_sound;
    }
    livery_override(mu_car){
        cargo_subtype_text:sw_empty_desc;
        loading_speed: param_loading_3D;
        cargo_capacity: 140*param_capacity_mod/3;
        default: sw_chibaNT_9000_lv;
        power: sw_chibaNT_9000_power_main()*4*1342/1000;
        weight: 34;
        length: 8;
      }
}
# 267 "src/_private.pnml" 2
# 1 "src/private/Kanto/chibaNT/chibaNT_9100.pnml" 1

  spriteset(chibaNT_9100_purchase_c1, "gfx/private/Kanto/chibaNewTown/chibaNT_9100/chibaNT_9100.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(chibaNT_9100_purchase_c2, "gfx/private/Kanto/chibaNewTown/chibaNT_9100/chibaNT_9100.png"){ tmpl_purchase_2c(88, 75) }
  switch(FEAT_TRAINS, SELF, chibaNT_9100_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_chiba_nt; 1: chibaNT_9100_purchase_c1; 2: chibaNT_9100_purchase_c2;}

spriteset (chibaNT_9100_front, "gfx/private/Kanto/chibaNewTown/chibaNT_9100/chibaNT_9100.png") { tmpl_std(0, 0) }
spriteset (chibaNT_9100_end, "gfx/private/Kanto/chibaNewTown/chibaNT_9100/chibaNT_9100.png") { tmpl_std_rev(0, 25) }
spriteset (chibaNT_9100_mot, "gfx/private/Kanto/chibaNewTown/chibaNT_9100/chibaNT_9100.png") { tmpl_std(0, 50) }
spriteset (chibaNT_9100_mot_rev, "gfx/private/Kanto/chibaNewTown/chibaNT_9100/chibaNT_9100.png") { tmpl_std_rev(0, 50) }
spriteset (chibaNT_9100_mot_2, "gfx/private/Kanto/chibaNewTown/chibaNT_9100/chibaNT_9100.png") { tmpl_std(0, 75) }
spriteset (chibaNT_9100_mot_2_rev, "gfx/private/Kanto/chibaNewTown/chibaNT_9100/chibaNT_9100.png") { tmpl_std_rev(0, 75) }
spriteset (chibaNT_9100_wag, "gfx/private/Kanto/chibaNewTown/chibaNT_9100/chibaNT_9100.png") { tmpl_std(0, 100) }
spriteset (chibaNT_9100_wag_rev, "gfx/private/Kanto/chibaNewTown/chibaNT_9100/chibaNT_9100.png") { tmpl_std_rev(0, 100) }



    switch(FEAT_TRAINS, SELF, sw_chibaNT_9100_wag_1,1+position_in_vehid_chain>(num_vehs_in_vehid_chain/2)){
      1:chibaNT_9100_wag_rev;
      chibaNT_9100_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_chibaNT_9100_wag_2,position_in_vehid_chain_from_end>(num_vehs_in_vehid_chain/2)){
      1:chibaNT_9100_wag;
      chibaNT_9100_wag_rev;
    }
    switch(FEAT_TRAINS, PARENT, sw_chibaNT_9100_wag,vehicle_is_reversed){
      1:sw_chibaNT_9100_wag_1;
      sw_chibaNT_9100_wag_2;
    }
    switch(FEAT_TRAINS, SELF, sw_chibaNT_9100_mot_2_1,1+position_in_vehid_chain>(num_vehs_in_vehid_chain/2)){
      1:chibaNT_9100_mot_2_rev;
      chibaNT_9100_mot_2;
    }
    switch(FEAT_TRAINS, SELF, sw_chibaNT_9100_mot_2_2,position_in_vehid_chain_from_end>(num_vehs_in_vehid_chain/2)){
      1:chibaNT_9100_mot_2;
      chibaNT_9100_mot_2_rev;
    }
    switch(FEAT_TRAINS, PARENT, sw_chibaNT_9100_mot_2,vehicle_is_reversed){
      1:sw_chibaNT_9100_mot_2_1;
      sw_chibaNT_9100_mot_2_2;
    }


      switch(FEAT_TRAINS, SELF, sw_chibaNT_9100_panto_placer_1,position_in_vehid_chain){
        0: sw_chibaNT_9100_mot_2;
        3: chibaNT_9100_mot_rev;
        5: sw_chibaNT_9100_mot_2;
        sw_chibaNT_9100_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_chibaNT_9100_panto_placer_1_rev,position_in_vehid_chain_from_end %8-1){
        0: sw_chibaNT_9100_mot_2;
        3: chibaNT_9100_mot;
        5: sw_chibaNT_9100_mot_2;
        sw_chibaNT_9100_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_chibaNT_9100_panto_placer_main_1,vehicle_is_reversed){
        1: sw_chibaNT_9100_panto_placer_1_rev;
        sw_chibaNT_9100_panto_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_chibaNT_9100_panto_placer_2,position_in_vehid_chain %3){
        1: sw_chibaNT_9100_mot_2;
        default: sw_chibaNT_9100_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_chibaNT_9100_panto_placer_2_rev,position_in_vehid_chain_from_end %3-1){
        1: sw_chibaNT_9100_mot_2;
        default: sw_chibaNT_9100_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_chibaNT_9100_panto_placer_main_2,vehicle_is_reversed){
        1: sw_chibaNT_9100_panto_placer_2_rev;
        sw_chibaNT_9100_panto_placer_2;
      }

      switch(FEAT_TRAINS, SELF, sw_chibaNT_9100_panto_placer_3,position_in_vehid_chain %2){
        0: chibaNT_9100_mot_2;
        default: sw_chibaNT_9100_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_chibaNT_9100_panto_placer_3_rev,position_in_vehid_chain_from_end %2-1){
        0: chibaNT_9100_mot_2;
        default: sw_chibaNT_9100_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_chibaNT_9100_panto_placer_main_3,vehicle_is_reversed){
        1: sw_chibaNT_9100_panto_placer_3_rev;
        sw_chibaNT_9100_panto_placer_3;
      }
      switch(FEAT_TRAINS, SELF, sw_chibaNT_9100_panto_placer_main,num_vehs_in_vehid_chain+1){
        1..4:sw_chibaNT_9100_panto_placer_main_1;
        5: sw_chibaNT_9100_panto_placer_main_2;
        6: sw_chibaNT_9100_panto_placer_main_3;
        7: sw_chibaNT_9100_panto_placer_main_2;
        sw_chibaNT_9100_panto_placer_main_1;
      }

    switch(FEAT_TRAINS, SELF, sw_chibaNT_9100_gfx_main,position_in_vehid_chain_from_end){
        0: chibaNT_9100_end;
        sw_chibaNT_9100_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_chibaNT_9100_lv,vehicle_type_id){
        mu_car: sw_chibaNT_9100_gfx_main;
        chibaNT_9100_front;
    }


    switch(FEAT_TRAINS, SELF, sw_chibaNT_9100_capacity,position_in_vehid_chain_from_end){
      0: 121;
      default: 132;
    }
    switch(FEAT_TRAINS, SELF, sw_chibaNT_9100_capacity_1,position_in_vehid_chain){
      0: 121;
      default: sw_chibaNT_9100_capacity;
    }
    switch(FEAT_TRAINS, SELF, sw_chibaNT_9100_capacity_main,vehicle_type_id){
      mu_car: sw_chibaNT_9100_capacity;
      sw_chibaNT_9100_capacity_1;
    }

    switch(FEAT_TRAINS, SELF, sw_chibaNT_9100_power_main,position_in_vehid_chain_from_end%8){
      0..1:return 130;
      3..4:return 130;
      5:return 130;
      return 0;
    }


item(FEAT_TRAINS, chibaNT_9100) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_CHIBA_NT), "9100", string(STR_NAME_TYPE));
        introduction_date: date(1995, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cargo_capacity: 1;
        loading_speed: param_loading_3D;
        cost_factor: 20;
        running_cost_factor: 50;

        speed: 120 km/h;
        track_type: TR_1435_DC;
        power: 620 kW;
        weight: 33 ton;

        climates_available: param_disable_keisei == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        power: sw_chibaNT_9100_power_main()*4*1342/1000;

        default: sw_chibaNT_9100_lv;
        purchase: chibaNT_9100_purchase;
        can_attach_wagon: sw_1435_attach_vehid;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 8)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_CHIBA_NT)));

  start_stop: sw_stop_start_3;
        cargo_capacity: sw_chibaNT_9100_capacity_main()*param_capacity_mod/3;
        sound_effect: sw_CNT9100_start_sound;
    }
    livery_override(mu_car){
        cargo_subtype_text:sw_empty_desc;
        loading_speed: param_loading_3D;
        cargo_capacity: sw_chibaNT_9100_capacity_main()*param_capacity_mod/3;
        default: sw_chibaNT_9100_lv;
        power: sw_chibaNT_9100_power_main()*4*1342/1000;
        weight: 33;
        length: 8;
      }
}
# 268 "src/_private.pnml" 2



# 1 "src/private/Kanto/chibaE/chibaE_1000.pnml" 1

  spriteset(chibaE_1000_purchase_c1, "gfx/private/Kanto/chibaExpress/chibaE_1000/chibaE_1000.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(chibaE_1000_purchase_c2, "gfx/private/Kanto/chibaExpress/chibaE_1000/chibaE_1000.png"){ tmpl_purchase_2c(0, 50) }
  switch(FEAT_TRAINS, SELF, chibaE_1000_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_chiba_e; 1: chibaE_1000_purchase_c1; 2: chibaE_1000_purchase_c2;}

spriteset (chibaE_1000_front, "gfx/private/Kanto/chibaExpress/chibaE_1000/chibaE_1000.png") { tmpl_std(0, 0) }
spriteset (chibaE_1000_end, "gfx/private/Kanto/chibaExpress/chibaE_1000/chibaE_1000.png") { tmpl_std_rev(0, 25) }
spriteset (chibaE_1000_end_rev, "gfx/private/Kanto/chibaExpress/chibaE_1000/chibaE_1000.png") { tmpl_std(0, 25) }
spriteset (chibaE_1000_mot, "gfx/private/Kanto/chibaExpress/chibaE_1000/chibaE_1000.png") { tmpl_std(0, 50) }
spriteset (chibaE_1000_mot_rev, "gfx/private/Kanto/chibaExpress/chibaE_1000/chibaE_1000.png") { tmpl_std_rev(0, 50) }
spriteset (chibaE_1000_wag, "gfx/private/Kanto/chibaExpress/chibaE_1000/chibaE_1000.png") { tmpl_std(0, 75) }
spriteset (chibaE_1000_wag_rev, "gfx/private/Kanto/chibaExpress/chibaE_1000/chibaE_1000.png") { tmpl_std_rev(0, 75) }




      switch(FEAT_TRAINS, SELF, sw_chibaE_1000_panto_placer_1,position_in_vehid_chain %4){
        0: chibaE_1000_mot_rev;
        1: chibaE_1000_mot;
        chibaE_1000_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_chibaE_1000_panto_placer_1_rev,position_in_vehid_chain_from_end %4-1){
        0: chibaE_1000_mot;
        1: chibaE_1000_mot_rev;
        chibaE_1000_wag_rev;
      }
      switch(FEAT_TRAINS, PARENT, sw_chibaE_1000_panto_placer_main,vehicle_is_reversed){
        1: sw_chibaE_1000_panto_placer_1_rev;
        sw_chibaE_1000_panto_placer_1;
      }


      switch(FEAT_TRAINS, SELF, sw_chibaE_1000_fake_head_placer_1,position_in_vehid_chain){
        2: chibaE_1000_end;
        3: chibaE_1000_end_rev;
        sw_chibaE_1000_panto_placer_main;
      }
      switch(FEAT_TRAINS, SELF, sw_chibaE_1000_fake_head_placer_1_rev,position_in_vehid_chain_from_end-1){
        2: chibaE_1000_end_rev;
        3: chibaE_1000_end;
        sw_chibaE_1000_panto_placer_main;
      }
      switch(FEAT_TRAINS, PARENT, sw_chibaE_1000_fake_head_placer_gfx,vehicle_is_reversed){
        1: sw_chibaE_1000_fake_head_placer_1_rev;
        sw_chibaE_1000_fake_head_placer_1;
      }
      switch(FEAT_TRAINS, SELF, sw_chibaE_1000_fake_head_placer_main,num_vehs_in_vehid_chain>7 - 1){
        1: sw_chibaE_1000_fake_head_placer_gfx;
        sw_chibaE_1000_panto_placer_main;
      }

    switch(FEAT_TRAINS, SELF, sw_chibaE_1000_gfx_main,position_in_vehid_chain_from_end){
        0: chibaE_1000_end;
        sw_chibaE_1000_fake_head_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_chibaE_1000_lv,vehicle_type_id){
        mu_car: sw_chibaE_1000_gfx_main;
        chibaE_1000_front;
    }


item(FEAT_TRAINS, chibaE_1000) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_CHIBAE), "1000", string(STR_NAME_TYPE));
        introduction_date: date(1988, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cargo_capacity: 1;
        loading_speed: param_loading_3D;
        cost_factor: 17;
        running_cost_factor: 50;

        speed: 100 km/h;
        track_type: TR_1435_DC;
        power: 620 kW;
        weight: 35 ton;

        climates_available: param_disable_keisei == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        power: sw_keikyu1000_power_main()*4*1342/1000;

        default: sw_chibaE_1000_lv;
        purchase: chibaE_1000_purchase;
        can_attach_wagon: sw_1435_attach_vehid;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 4)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_CHIBA_KYUKO)));

  start_stop: sw_stop_start_3;
        cargo_capacity: sw_keikyu1000_capacity_main()*param_capacity_mod/3;
        sound_effect: sw_KQ1000_1a_start_sound;
    }
    livery_override(mu_car){
        cargo_subtype_text:sw_empty_desc;
        loading_speed: param_loading_3D;
        cargo_capacity: sw_keikyu1000_capacity_main()*param_capacity_mod/3;
        default: sw_chibaE_1000_lv;
        power: sw_keikyu1000_power_main()*4*1342/1000;
        weight: 35;
        length: 8;
      }
}
# 272 "src/_private.pnml" 2
# 1 "src/private/Kanto/chibaE/chibaE_3050.pnml" 1

  spriteset(chibaE_3050_purchase_c1, "gfx/private/Kanto/chibaExpress/chibaE_3050/chibaE_3050.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(chibaE_3050_purchase_c2, "gfx/private/Kanto/chibaExpress/chibaE_3050/chibaE_3050.png"){ tmpl_purchase_2c(0, 125) }
  switch(FEAT_TRAINS, SELF, chibaE_3050_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_chiba_e; 1: chibaE_3050_purchase_c1; 2: chibaE_3050_purchase_c2;}

spriteset (chibaE_3050_front_mot, "gfx/private/Kanto/chibaExpress/chibaE_3050/chibaE_3050.png") { tmpl_std(0, 0) }
spriteset (chibaE_3050_end_mot, "gfx/private/Kanto/chibaExpress/chibaE_3050/chibaE_3050.png") { tmpl_std_rev(0, 25) }
spriteset (chibaE_3050_end_mot_rev, "gfx/private/Kanto/chibaExpress/chibaE_3050/chibaE_3050.png") { tmpl_std(0, 25) }
spriteset (chibaE_3050_front, "gfx/private/Kanto/chibaExpress/chibaE_3050/chibaE_3050.png") { tmpl_std(0, 50) }
spriteset (chibaE_3050_end, "gfx/private/Kanto/chibaExpress/chibaE_3050/chibaE_3050.png") { tmpl_std_rev(0, 75) }
spriteset (chibaE_3050_end_rev, "gfx/private/Kanto/chibaExpress/chibaE_3050/chibaE_3050.png") { tmpl_std(0, 75) }
spriteset (chibaE_3050_mot, "gfx/private/Kanto/chibaExpress/chibaE_3050/chibaE_3050.png") { tmpl_std(0, 100) }
spriteset (chibaE_3050_mot_rev, "gfx/private/Kanto/chibaExpress/chibaE_3050/chibaE_3050.png") { tmpl_std_rev(0, 100) }
spriteset (chibaE_3050_wag, "gfx/private/Kanto/chibaExpress/chibaE_3050/chibaE_3050.png") { tmpl_symm(0, 125) }



    switch(FEAT_TRAINS, PARENT, sw_chibaE_3050_front, vehicle_is_reversed){
      1:chibaE_3050_front;
      chibaE_3050_front_mot;
    }
    switch(FEAT_TRAINS, PARENT, sw_chibaE_3050_end, vehicle_is_reversed){
      1:chibaE_3050_end_mot;
      chibaE_3050_end;
    }


      switch(FEAT_TRAINS, SELF, sw_chibaE_3050_panto_placer_1,position_in_vehid_chain %2){
        1: chibaE_3050_mot;
        chibaE_3050_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_chibaE_3050_panto_placer_1_rev,position_in_vehid_chain_from_end %2){
        0: chibaE_3050_mot_rev;
        chibaE_3050_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_chibaE_3050_panto_placer_main,vehicle_is_reversed){
        1: sw_chibaE_3050_panto_placer_1_rev;
        sw_chibaE_3050_panto_placer_1;
      }


      switch(FEAT_TRAINS, SELF, sw_chibaE_3050_fake_head_placer_1,position_in_vehid_chain){
        2: chibaE_3050_end;
        3: chibaE_3050_end_mot_rev;
        sw_chibaE_3050_panto_placer_main;
      }
      switch(FEAT_TRAINS, SELF, sw_chibaE_3050_fake_head_placer_1_rev,position_in_vehid_chain_from_end-1){
        2: chibaE_3050_end_rev;
        3: chibaE_3050_end_mot;
        sw_chibaE_3050_panto_placer_main;
      }
      switch(FEAT_TRAINS, PARENT, sw_chibaE_3050_fake_head_placer_gfx,vehicle_is_reversed){
        1: sw_chibaE_3050_fake_head_placer_1_rev;
        sw_chibaE_3050_fake_head_placer_1;
      }
      switch(FEAT_TRAINS, SELF, sw_chibaE_3050_fake_head_placer_main,num_vehs_in_vehid_chain>7 - 1){
        1: sw_chibaE_3050_fake_head_placer_gfx;
        sw_chibaE_3050_panto_placer_main;
      }

    switch(FEAT_TRAINS, SELF, sw_chibaE_3050_gfx_main,position_in_vehid_chain_from_end){
        0: sw_chibaE_3050_end;
        sw_chibaE_3050_fake_head_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_chibaE_3050_lv,vehicle_type_id){
        mu_car: sw_chibaE_3050_gfx_main;
        sw_chibaE_3050_front;
    }


item(FEAT_TRAINS, chibaE_3050) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_CHIBAE), "3050", string(STR_NAME_TYPE));
        introduction_date: date(1994, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cargo_capacity: 1;
        loading_speed: param_loading_3D;
        cost_factor: 17;
        running_cost_factor: 50;

        speed: 100 km/h;
        track_type: TR_1435_DC;
        power: 620 kW;
        weight: 33 ton;

        climates_available: param_disable_keisei == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        power: sw_keikyu1000_power_main()*4*1342/1000;

        default: sw_chibaE_3050_lv;
        purchase: chibaE_3050_purchase;
        can_attach_wagon: sw_1435_attach_vehid;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 4)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_CHIBA_KYUKO)));

  start_stop: sw_stop_start_2;
        cargo_capacity: sw_keikyu1000_capacity_main()*param_capacity_mod/3;
        sound_effect: sw_KS3100_start_sound;
    }
    livery_override(mu_car){
        cargo_subtype_text:sw_empty_desc;
        loading_speed: param_loading_3D;
        cargo_capacity: sw_keikyu1000_capacity_main()*param_capacity_mod/3;
        default: sw_chibaE_3050_lv;
        power: sw_keikyu1000_power_main()*4*1342/1000;
        weight: 33;
        length: 8;
      }
}
# 273 "src/_private.pnml" 2
# 1 "src/private/Kanto/chibaE/chibaE_3100.pnml" 1

  spriteset(chibaE_3100_purchase_c1, "gfx/private/Kanto/chibaExpress/chibaE_3100/chibaE_3100.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(chibaE_3100_purchase_c2, "gfx/private/Kanto/chibaExpress/chibaE_3100/chibaE_3100.png"){ tmpl_purchase_2c(0, 125) }
  switch(FEAT_TRAINS, SELF, chibaE_3100_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_chiba_e; 1: chibaE_3100_purchase_c1; 2: chibaE_3100_purchase_c2;}

spriteset (chibaE_3100_1_front_mot, "gfx/private/Kanto/chibaExpress/chibaE_3100/chibaE_3100.png") { tmpl_std(0, 0) }
spriteset (chibaE_3100_1_end_mot, "gfx/private/Kanto/chibaExpress/chibaE_3100/chibaE_3100.png") { tmpl_std_rev(0, 25) }
spriteset (chibaE_3100_1_end_mot_rev, "gfx/private/Kanto/chibaExpress/chibaE_3100/chibaE_3100.png") { tmpl_std(0, 25) }
spriteset (chibaE_3100_1_front, "gfx/private/Kanto/chibaExpress/chibaE_3100/chibaE_3100.png") { tmpl_std(0, 50) }
spriteset (chibaE_3100_1_end, "gfx/private/Kanto/chibaExpress/chibaE_3100/chibaE_3100.png") { tmpl_std_rev(0, 75) }
spriteset (chibaE_3100_1_end_rev, "gfx/private/Kanto/chibaExpress/chibaE_3100/chibaE_3100.png") { tmpl_std(0, 75) }
spriteset (chibaE_3100_mot, "gfx/private/Kanto/chibaExpress/chibaE_3100/chibaE_3100.png") { tmpl_std(0, 100) }
spriteset (chibaE_3100_mot_rev, "gfx/private/Kanto/chibaExpress/chibaE_3100/chibaE_3100.png") { tmpl_std_rev(0, 100) }
spriteset (chibaE_3100_wag, "gfx/private/Kanto/chibaExpress/chibaE_3100/chibaE_3100.png") { tmpl_symm(0, 125) }

spriteset (chibaE_3100_2_front_mot, "gfx/private/Kanto/chibaExpress/chibaE_3100/chibaE_3150.png") { tmpl_std(0, 0) }
spriteset (chibaE_3100_2_end_mot, "gfx/private/Kanto/chibaExpress/chibaE_3100/chibaE_3150.png") { tmpl_std_rev(0, 25) }
spriteset (chibaE_3100_2_end_mot_rev, "gfx/private/Kanto/chibaExpress/chibaE_3100/chibaE_3150.png") { tmpl_std(0, 25) }
spriteset (chibaE_3100_2_front, "gfx/private/Kanto/chibaExpress/chibaE_3100/chibaE_3150.png") { tmpl_std(0, 50) }
spriteset (chibaE_3100_2_end, "gfx/private/Kanto/chibaExpress/chibaE_3100/chibaE_3150.png") { tmpl_std_rev(0, 75) }
spriteset (chibaE_3100_2_end_rev, "gfx/private/Kanto/chibaExpress/chibaE_3100/chibaE_3150.png") { tmpl_std(0, 75) }



    switch(FEAT_TRAINS, PARENT, sw_chibaE_3100_1_front, vehicle_is_reversed){
      1:chibaE_3100_1_front;
      chibaE_3100_1_front_mot;
    }
    switch(FEAT_TRAINS, PARENT, sw_chibaE_3100_1_end, vehicle_is_reversed){
      1:chibaE_3100_1_end_mot;
      chibaE_3100_1_end;
    }
    switch(FEAT_TRAINS, PARENT, sw_chibaE_3100_2_front, vehicle_is_reversed){
      1:chibaE_3100_2_front;
      chibaE_3100_2_front_mot;
    }
    switch(FEAT_TRAINS, PARENT, sw_chibaE_3100_2_end, vehicle_is_reversed){
      1:chibaE_3100_2_end_mot;
      chibaE_3100_2_end;
    }


      switch(FEAT_TRAINS, SELF, sw_chibaE_3100_panto_placer_1,position_in_vehid_chain %2){
        1: chibaE_3100_mot;
        chibaE_3100_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_chibaE_3100_panto_placer_1_rev,position_in_vehid_chain_from_end %2){
        0: chibaE_3100_mot_rev;
        chibaE_3100_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_chibaE_3100_panto_placer_main,vehicle_is_reversed){
        1: sw_chibaE_3100_panto_placer_1_rev;
        sw_chibaE_3100_panto_placer_1;
      }


      switch(FEAT_TRAINS, SELF, sw_chibaE_3100_fake_head_placer_1,position_in_vehid_chain){
        2: chibaE_3100_1_end;
        3: chibaE_3100_1_end_mot_rev;
        sw_chibaE_3100_panto_placer_main;
      }
      switch(FEAT_TRAINS, SELF, sw_chibaE_3100_fake_head_placer_1_rev,position_in_vehid_chain_from_end-1){
        2: chibaE_3100_1_end_rev;
        3: chibaE_3100_1_end_mot;
        sw_chibaE_3100_panto_placer_main;
      }
      switch(FEAT_TRAINS, PARENT, sw_chibaE_3100_fake_head_placer_gfx,vehicle_is_reversed){
        1: sw_chibaE_3100_fake_head_placer_1_rev;
        sw_chibaE_3100_fake_head_placer_1;
      }
      switch(FEAT_TRAINS, SELF, sw_chibaE_3100_fake_head_placer_main,num_vehs_in_vehid_chain>7 - 1){
        1: sw_chibaE_3100_fake_head_placer_gfx;
        sw_chibaE_3100_panto_placer_main;
      }

    switch(FEAT_TRAINS, SELF, sw_chibaE_3100_gfx_main,position_in_vehid_chain_from_end){
        0: sw_chibaE_3100_1_end;
        sw_chibaE_3100_fake_head_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_chibaE_3100_livery_1,vehicle_type_id){
        mu_car: sw_chibaE_3100_gfx_main;
        sw_chibaE_3100_1_front;
    }


    switch(FEAT_TRAINS, SELF, sw_chibaE_3150_gfx_main,position_in_vehid_chain_from_end){
        0: sw_chibaE_3100_2_end;
        sw_chibaE_3100_fake_head_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_chibaE_3100_livery_2,vehicle_type_id){
        mu_car: sw_chibaE_3150_gfx_main;
        sw_chibaE_3100_2_front;
    }

random_switch(FEAT_TRAINS, PARENT, sw_chibaE_3100_lv){
  1:sw_chibaE_3100_livery_1;
  1:sw_chibaE_3100_livery_2;
}


item(FEAT_TRAINS, chibaE_3100) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_CHIBAE), "3100/3150", string(STR_NAME_TYPE));
        introduction_date: date(1996, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cargo_capacity: 1;
        loading_speed: param_loading_3D;
        cost_factor: 18;
        running_cost_factor: 50;

        speed: 110 km/h;
        track_type: TR_1435_DC;
        power: 620 kW;
        weight: 33 ton;

        climates_available: param_disable_keisei == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        power: sw_keikyu1000_power_main()*4*1342/1000;

        default: sw_chibaE_3100_lv;
        purchase: chibaE_3100_purchase;
        can_attach_wagon: sw_1435_attach_vehid;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 4)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_CHIBA_KYUKO)));

  start_stop: sw_stop_start_2;
        cargo_capacity: sw_keikyu1000_capacity_main()*param_capacity_mod/3;
        sound_effect: sw_KS3100_start_sound;
    }
    livery_override(mu_car){
        cargo_subtype_text:sw_empty_desc;
        loading_speed: param_loading_3D;
        cargo_capacity: sw_keikyu1000_capacity_main()*param_capacity_mod/3;
        default: sw_chibaE_3100_lv;
        power: sw_keikyu1000_power_main()*4*1342/1000;
        weight: 33;
        length: 8;
      }
}
# 274 "src/_private.pnml" 2

# 1 "src/private/Kanto/shibayama/shibayama3600.pnml" 1

  spriteset(shibayama3600_purchase_c1, "gfx/private/Kanto/shibayama/shibayama3600/shibayama3600.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(shibayama3600_purchase_c2, "gfx/private/Kanto/shibayama/shibayama3600/shibayama3600.png"){ tmpl_purchase_2c(0, 50) }
  switch(FEAT_TRAINS, SELF, shibayama3600_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_shibayama; 1: shibayama3600_purchase_c1; 2: shibayama3600_purchase_c2;}

spriteset (shibayama3600_front, "gfx/private/Kanto/shibayama/shibayama3600/shibayama3600.png") { tmpl_std(0, 0) }
spriteset (shibayama3600_end, "gfx/private/Kanto/shibayama/shibayama3600/shibayama3600.png") { tmpl_std_rev(0, 25) }
spriteset (shibayama3600_mot, "gfx/private/Kanto/shibayama/shibayama3600/shibayama3600.png") { tmpl_std(0, 50) }
spriteset (shibayama3600_mot_rev, "gfx/private/Kanto/shibayama/shibayama3600/shibayama3600.png") { tmpl_std_rev(0, 50) }
spriteset (shibayama3600_mot_2, "gfx/private/Kanto/shibayama/shibayama3600/shibayama3600.png") { tmpl_symm(0, 75) }
spriteset (shibayama3600_wag, "gfx/private/Kanto/shibayama/shibayama3600/shibayama3600.png") { tmpl_symm(0, 100) }




      switch(FEAT_TRAINS, SELF, sw_shibayama3600_panto_placer_1,position_in_vehid_chain %8){
        0: shibayama3600_mot_2;
        2: shibayama3600_mot;
        5: shibayama3600_mot_2;
        shibayama3600_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_shibayama3600_panto_placer_1_rev,position_in_vehid_chain_from_end %8-1){
        0: shibayama3600_mot_2;
        2: shibayama3600_mot_rev;
        5: shibayama3600_mot_2;
        shibayama3600_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_shibayama3600_panto_placer_main_1,vehicle_is_reversed){
        1: sw_shibayama3600_panto_placer_1_rev;
        sw_shibayama3600_panto_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_shibayama3600_panto_placer_2,position_in_vehid_chain %3){
        1: shibayama3600_mot_2;
        default: shibayama3600_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_shibayama3600_panto_placer_2_rev,position_in_vehid_chain_from_end %3-1){
        1: shibayama3600_mot_2;
        default: shibayama3600_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_shibayama3600_panto_placer_main_2,vehicle_is_reversed){
        1: sw_shibayama3600_panto_placer_2_rev;
        sw_shibayama3600_panto_placer_2;
      }
      switch(FEAT_TRAINS, SELF, sw_shibayama3600_panto_placer_main,num_vehs_in_vehid_chain+1){
        1..4:sw_shibayama3600_panto_placer_main_1;
        5: sw_shibayama3600_panto_placer_main_2;
        7: sw_shibayama3600_panto_placer_main_2;
        sw_shibayama3600_panto_placer_main_1;
      }

    switch(FEAT_TRAINS, SELF, sw_shibayama3600_gfx_main,position_in_vehid_chain_from_end){
        0: shibayama3600_end;
        sw_shibayama3600_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_shibayama3600_lv,vehicle_type_id){
        mu_car: sw_shibayama3600_gfx_main;
        shibayama3600_front;
    }
item(FEAT_TRAINS, shibayama3600) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_SHIBAYAMA), "3600", string(STR_NAME_TYPE));
        introduction_date: date(2002, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cargo_capacity: 1;
        loading_speed: param_loading_3D;
        cost_factor: 17;
        running_cost_factor: 50;

        speed: 110 km/h;
        track_type: TR_1435_DC;
        power: 620 kW;
        weight: 29 ton;

        climates_available: param_disable_semiPrivate == 0 ? ALL_CLIMATES : NO_CLIMATE;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;

        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;
    }
 graphics {
        power: sw_keisei3600_power_main()*4*1342/1000;

        default: sw_shibayama3600_lv;
        purchase: shibayama3600_purchase;
        can_attach_wagon: sw_1435_attach_vehid;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 8)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_SHIBAYAMA)));

  start_stop: sw_stop_start_3;
        cargo_capacity: 128*param_capacity_mod/3;
        sound_effect: sw_KS3600_start_sound;
    }
    livery_override(mu_car){
        cargo_subtype_text:sw_empty_desc;
        loading_speed: param_loading_3D;
        cargo_capacity: 128*param_capacity_mod/3;
        default: sw_shibayama3600_lv;
        power: sw_keisei3600_power_main()*4*1342/1000;
        weight: 28;
        length: 8;
      }
}
# 276 "src/_private.pnml" 2






item(FEAT_TRAINS, hankyu1, 2700) {}
item(FEAT_TRAINS, hankyu51, 2701) {}
item(FEAT_TRAINS, hankyu600, 2702) {}
item(FEAT_TRAINS, hankyu900, 2703) {}
item(FEAT_TRAINS, hankyu320, 2704) {}
item(FEAT_TRAINS, hankyu500, 2705) {}
item(FEAT_TRAINS, hankyu1000, 2706) {}
item(FEAT_TRAINS, hankyu1010, 2707) {}
item(FEAT_TRAINS, hankyu2000, 2709) {}
item(FEAT_TRAINS, hankyu2300, 2710) {}
item(FEAT_TRAINS, hankyu2800, 2711) {}
item(FEAT_TRAINS, hankyu3000, 2712) {}
item(FEAT_TRAINS, hankyu5000, 2713) {}
item(FEAT_TRAINS, hankyu5300, 2714) {}
item(FEAT_TRAINS, hankyu6000, 2715) {}
item(FEAT_TRAINS, hankyu6300, 2716) {}
item(FEAT_TRAINS, hankyu7000, 2717) {}

item(FEAT_TRAINS, hankyu8000, 2719) {}
item(FEAT_TRAINS, hankyu9000, 2720) {}
item(FEAT_TRAINS, hankyu1000n, 2721) {}
item(FEAT_TRAINS, hankyu2000n, 2722) {}

# 1 "src/private/Kansai/hankyu/hankyu1.pnml" 1

spriteset(hankyu1_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu1/hankyu1.png"){ tmpl_purchase_1c(0, 0) }
switch(FEAT_TRAINS, SELF, hankyu1_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_hankyu; 1: hankyu1_purchase_c1;}

spriteset(hankyu1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu1/hankyu1.png"){ tmpl_std(0, 0) }
spriteset(hankyu1_front_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu1/hankyu1.png"){ tmpl_std_rev(0, 25) }
spriteset(hankyu1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu1/hankyu1.png"){ tmpl_std(0, 50) }
spriteset(hankyu1_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu1/hankyu1.png"){ tmpl_std_rev(0, 50) }
spriteset(hankyu1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu1/hankyu1.png"){ tmpl_symm(0, 75) }


switch(FEAT_TRAINS, PARENT, sw_hankyu1_front_gfx, vehicle_is_reversed){
    1:hankyu1_front_rev;
    hankyu1_front;
}

switch(FEAT_TRAINS, PARENT, sw_hankyu1_end_gfx, vehicle_is_reversed){
    1:hankyu1_end_rev;
    hankyu1_end;
}

switch(FEAT_TRAINS, SELF, sw_hankyu1_panto_placer,position_in_consist %2){
    0: sw_hankyu1_end_gfx;
    hankyu1_wag;
}
switch(FEAT_TRAINS, SELF, sw_hankyu1_panto_placer_rev,position_in_consist_from_end %2){
    0: sw_hankyu1_end_gfx;
    hankyu1_wag;
}
switch(FEAT_TRAINS, PARENT, sw_hankyu1_panto_placer_main,vehicle_is_reversed){
    1: sw_hankyu1_panto_placer_rev;
    sw_hankyu1_panto_placer;
}

switch(FEAT_TRAINS, SELF, sw_hankyu1_end_fix, position_in_consist_from_end){
    0:sw_hankyu1_end_gfx;
    sw_hankyu1_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_hankyu1_livery_0,vehicle_type_id){
    mu_car:sw_hankyu1_end_fix;
    sw_hankyu1_front_gfx;
}

item(FEAT_TRAINS, hankyu1) {
    property {
        cargo_capacity: 130;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        climates_available: param_disable_hankyu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        name: string(STR_TRAIN_NAME, string(STR_NAME_HANKYU), "1", string(STR_NAME_TYPE));
        introduction_date: date(1910, 1, 1);
        model_life: 20;
        vehicle_life: 46;
        reliability_decay: 10;

        cost_factor: 12;
        running_cost_factor: 42;
        speed: 75 km/h;
        track_type: TR_1435_DC;
        power: 148 kW;
        weight: 25 ton;
        loading_speed: param_loading_3D;
    }
 graphics {
        default: sw_hankyu1_livery_0;
        purchase: hankyu1_purchase;
        can_attach_wagon: sw_1435_attach_vehid;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 1)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_HANKYU)));
        cargo_capacity: 80*param_capacity_mod/3;
        length: 7;
    }
    livery_override(mu_car){
        cargo_subtype_text:sw_empty_desc;
        loading_speed: param_loading_3D;
        cargo_capacity: 80*param_capacity_mod/3;
        default: sw_hankyu1_livery_0;
        power: 148*1342/2000;
        weight: 25;
        length: 7;
      }
}
# 306 "src/_private.pnml" 2
# 1 "src/private/Kansai/hankyu/hankyu51.pnml" 1

spriteset(hankyu51_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu51/hankyu51.png"){ tmpl_purchase_1c(0, 0) }
switch(FEAT_TRAINS, SELF, hankyu51_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_hankyu; 1: hankyu51_purchase_c1;}

spriteset(hankyu51_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu51/hankyu51.png"){ tmpl_std(0, 0) }
spriteset(hankyu51_front_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu51/hankyu51.png"){ tmpl_std_rev(0, 25) }
spriteset(hankyu51_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu51/hankyu51.png"){ tmpl_std(0, 50) }
spriteset(hankyu51_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu51/hankyu51.png"){ tmpl_std_rev(0, 50) }
spriteset(hankyu51_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu51/hankyu51.png"){ tmpl_symm(0, 75) }


switch(FEAT_TRAINS, PARENT, sw_hankyu51_front_gfx, vehicle_is_reversed){
    1:hankyu51_front_rev;
    hankyu51_front;
}

switch(FEAT_TRAINS, PARENT, sw_hankyu51_end_gfx, vehicle_is_reversed){
    1:hankyu51_end_rev;
    hankyu51_end;
}

switch(FEAT_TRAINS, SELF, sw_hankyu51_panto_placer,position_in_consist %2){
    0: sw_hankyu51_end_gfx;
    hankyu51_wag;
}
switch(FEAT_TRAINS, SELF, sw_hankyu51_panto_placer_rev,position_in_consist_from_end %2){
    0: sw_hankyu51_end_gfx;
    hankyu51_wag;
}
switch(FEAT_TRAINS, PARENT, sw_hankyu51_panto_placer_main,vehicle_is_reversed){
    1: sw_hankyu51_panto_placer_rev;
    sw_hankyu51_panto_placer;
}

switch(FEAT_TRAINS, SELF, sw_hankyu51_end_fix, position_in_consist_from_end){
    0:sw_hankyu51_end_gfx;
    sw_hankyu51_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_hankyu51_livery_0,vehicle_type_id){
    mu_car:sw_hankyu51_end_fix;
    sw_hankyu51_front_gfx;
}

item(FEAT_TRAINS, hankyu51) {
    property {
        cargo_capacity: 130;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        climates_available: param_disable_hankyu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        name: string(STR_TRAIN_NAME, string(STR_NAME_HANKYU), "51", string(STR_NAME_TYPE));
        introduction_date: date(1920, 1, 1);
        model_life: 20;
        vehicle_life: 46;
        reliability_decay: 10;

        cost_factor: 13;
        running_cost_factor: 43;
        speed: 80 km/h;
        track_type: TR_1435_DC;
        power: 192 kW;
        weight: 33 ton;
        loading_speed: param_loading_3D;
    }
 graphics {
        default: sw_hankyu51_livery_0;
        purchase: hankyu51_purchase;
        can_attach_wagon: sw_1435_attach_vehid;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 1)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_HANKYU)));
        cargo_capacity: 85*param_capacity_mod/3;
        length: 7;
    }
    livery_override(mu_car){
        cargo_subtype_text:sw_empty_desc;
        loading_speed: param_loading_3D;
        cargo_capacity: 80*param_capacity_mod/3;
        default: sw_hankyu51_livery_0;
        power: 192*1342/2000;
        weight: 33;
        length: 7;
      }
}
# 307 "src/_private.pnml" 2
# 1 "src/private/Kansai/hankyu/hankyu600.pnml" 1

spriteset(hankyu600_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu600/hankyu600.png"){ tmpl_purchase_1c(0, 0) }
switch(FEAT_TRAINS, SELF, hankyu600_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_hankyu; 1: hankyu600_purchase_c1;}

spriteset(hankyu600_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu600/hankyu600.png"){ tmpl_std(0, 0) }
spriteset(hankyu600_front_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu600/hankyu600.png"){ tmpl_std_rev(0, 25) }
spriteset(hankyu600_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu600/hankyu600.png"){ tmpl_std(0, 50) }
spriteset(hankyu600_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu600/hankyu600.png"){ tmpl_std_rev(0, 50) }
spriteset(hankyu600_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu600/hankyu600.png"){ tmpl_std(0, 75) }
spriteset(hankyu600_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu600/hankyu600.png"){ tmpl_symm(0, 100) }


switch(FEAT_TRAINS, PARENT, sw_hankyu600_front_gfx_0, vehicle_is_reversed==1&&num_vehs_in_consist==1){
    1:hankyu600_front_mot_rev;
    hankyu600_front_mot;
}
switch(FEAT_TRAINS, PARENT, sw_hankyu600_front_gfx, vehicle_is_reversed==1&&num_vehs_in_consist>1){
    1: hankyu600_front;
    sw_hankyu600_front_gfx_0;
}
switch(FEAT_TRAINS, PARENT, sw_hankyu600_end_gfx, vehicle_is_reversed){
    1: hankyu600_mot_rev;
    hankyu600_end;
}

switch(FEAT_TRAINS, SELF, sw_hankyu600_panto_placer,position_in_vehid_chain %2){
    1: hankyu600_mot;
    hankyu600_end;
}
switch(FEAT_TRAINS, SELF, sw_hankyu600_panto_placer_rev,position_in_vehid_chain_from_end %2){
    0: hankyu600_mot_rev;
    hankyu600_end;
}
switch(FEAT_TRAINS, PARENT, sw_hankyu600_panto_placer_main,vehicle_is_reversed){
    1: sw_hankyu600_panto_placer_rev;
    sw_hankyu600_panto_placer;
}

switch(FEAT_TRAINS, SELF, sw_hankyu600_end_fix, position_in_consist_from_end){
    0:sw_hankyu600_end_gfx;
    sw_hankyu600_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_hankyu600_livery_0,vehicle_type_id){
    mu_car:sw_hankyu600_end_fix;
    sw_hankyu600_front_gfx;
}

  switch(FEAT_TRAINS, SELF, sw_hankyu600_power_main_1,position_in_vehid_chain_from_end%2){
    1:return 150;
    return 0;
  }
  switch(FEAT_TRAINS, SELF, sw_hankyu600_power_main,vehicle_type_id){
    hankyu600: return 150;
    sw_hankyu600_power_main_1;
  }


item(FEAT_TRAINS, hankyu600) {
    property {
        cargo_capacity: 130;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        climates_available: param_disable_hankyu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        name: string(STR_TRAIN_NAME, string(STR_NAME_HANKYU), "600", string(STR_NAME_TYPE));
        introduction_date: date(1926, 1, 1);
        model_life: 20;
        vehicle_life: 46;
        reliability_decay: 10;

        cost_factor: 16;
        running_cost_factor: 46;
        speed: 85 km/h;
        track_type: TR_1435_DC;
        power: 600 kW;
        weight: 33 ton;
        loading_speed: param_loading_3D;
    }
 graphics {
        power: sw_hankyu600_power_main()*4*1342/1000;
        default: sw_hankyu600_livery_0;
        purchase: hankyu600_purchase;
        can_attach_wagon: sw_1435_attach_vehid;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 1)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_HANKYU)));
        cargo_capacity: 85*param_capacity_mod/3;
        length: 7;
    }
    livery_override(mu_car){
        cargo_subtype_text:sw_empty_desc;
        loading_speed: param_loading_3D;
        cargo_capacity: 85*param_capacity_mod/3;
        default: sw_hankyu600_livery_0;
        power: sw_hankyu600_power_main()*4*1342/1000;
        weight: 33;
        length: 7;
      }
}
# 308 "src/_private.pnml" 2
# 1 "src/private/Kansai/hankyu/hankyu900.pnml" 1

spriteset(hankyu900_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu800/hankyu800.png"){ tmpl_purchase_1c(0, 50) }
spriteset(hankyu900_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu800/hankyu800.png"){ tmpl_purchase_2c(0, 25) }
switch(FEAT_TRAINS, SELF, hankyu900_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_hankyu; 1: hankyu900_purchase_c1; 2: hankyu900_purchase_c2;}

  spriteset(hankyu900_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu800/hankyu800.png"){ tmpl_std(0, 0) }
  spriteset(hankyu900_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu800/hankyu800.png"){ tmpl_std_rev(0, 25) }
  spriteset(hankyu900_1_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu800/hankyu800.png"){ tmpl_std(0, 25) }
  spriteset(hankyu900_1_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu800/hankyu800.png"){ tmpl_std(0, 50) }
  spriteset(hankyu900_1_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu800/hankyu800.png"){ tmpl_std_rev(0, 75) }
  spriteset(hankyu900_1_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu800/hankyu800.png"){ tmpl_std(0, 75) }





      switch(FEAT_TRAINS, PARENT, sw_hankyu900_1_front,vehicle_is_reversed){
        1: hankyu900_1_front;
        hankyu900_1_front_mot;
      }
      switch(FEAT_TRAINS, PARENT, sw_hankyu900_1_end,vehicle_is_reversed){
        1: hankyu900_1_end_mot;
        hankyu900_1_end;
      }


    switch(FEAT_TRAINS, SELF, sw_hankyu900_1_panto_placer_1,position_in_vehid_chain %2){
      0: hankyu900_1_end;
      hankyu900_1_end_mot_rev;
    }
    switch(FEAT_TRAINS, SELF, sw_hankyu900_1_panto_placer_1_rev,position_in_vehid_chain_from_end %2){
      0: hankyu900_1_end_mot;
      hankyu900_1_end_rev;
    }
    switch(FEAT_TRAINS, PARENT, sw_hankyu900_1_panto_placer_main_1,vehicle_is_reversed){
      1: sw_hankyu900_1_panto_placer_1_rev;
      sw_hankyu900_1_panto_placer_1;
    }
# 101 "src/private/Kansai/hankyu/hankyu900.pnml"
    switch(FEAT_TRAINS, SELF, sw_hankyu900_1_gfx_main,position_in_vehid_chain_from_end){
      0: sw_hankyu900_1_end;
      default: sw_hankyu900_1_panto_placer_main_1;
    }
    switch(FEAT_TRAINS, SELF, sw_hankyu900_lv,vehicle_type_id){
      hankyu900: sw_hankyu900_1_front;
      default: sw_hankyu900_1_gfx_main;
    }



  switch(FEAT_TRAINS, SELF, sw_hankyu900_power_main_1,position_in_vehid_chain_from_end%2){
    1:return 150;
    return 0;
  }
  switch(FEAT_TRAINS, SELF, sw_hankyu900_power_main,vehicle_type_id){
    hankyu900: return 150;
    sw_hankyu900_power_main_1;
  }

item(FEAT_TRAINS, hankyu900) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_HANKYU), "900/920/800 ", string(STR_NAME_TYPE));
        introduction_date: date(1930, 1, 1);
        model_life: 1981-1930-5;
        vehicle_life: 30;
        reliability_decay: 10;

        cost_factor: 21;
        running_cost_factor: 51;

        speed: 100 km/h;
        track_type: TR_1435_DC;
        weight: 30 ton;
        climates_available: param_disable_hankyu == 0 ? ALL_CLIMATES : NO_CLIMATE;

          cargo_capacity: 1;
          power: 1 kW;
          ai_special_flag: AI_FLAG_PASSENGER;
          sprite_id: SPRITE_ID_NEW_TRAIN;
          misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
          refittable_cargo_classes: bitmask(CC_PASSENGERS);

          running_cost_base: RUNNING_COST_ELECTRIC;
          engine_class: ENGINE_CLASS_ELECTRIC;
          visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

          tractive_effort_coefficient: 0.3;
          air_drag_coefficient: 0.07;
          bitmask_vehicle_info: 0;
          length: 8;
    }
 graphics {
    purchase: hankyu900_purchase;
  default: sw_hankyu900_lv;
  start_stop: sw_stop_start_2;
  power: sw_hankyu900_power_main()*4*1342/1000;
  loading_speed: param_loading_2D;
  cargo_capacity: 110*param_capacity_mod/3;
  can_attach_wagon: sw_1435_attach_vehid;

  additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 2)),
  string(STR_FORMATION, string(STR_NUM_CARS_RANGE, 2,7)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string( STR_OPERATOR, string(STR_HANKYU)));
    }
    livery_override(mu_car){
        cargo_subtype_text:sw_empty_desc;
        loading_speed: param_loading_2D;
   cargo_capacity: 110*param_capacity_mod/3;
   default: sw_hankyu900_lv;
   power: sw_hankyu900_power_main()*4*1342/1000;
   weight: 30;
  }
}
# 309 "src/_private.pnml" 2
# 1 "src/private/Kansai/hankyu/hankyu320.pnml" 1

spriteset(hankyu320_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu320/hankyu320.png"){ tmpl_purchase_1c_7(0, 0) }
spriteset(hankyu320_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu320/hankyu320.png"){ tmpl_purchase_2c_7(0, 25) }
switch(FEAT_TRAINS, SELF, hankyu320_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_hankyu; 1: hankyu320_purchase_c1; 2: hankyu320_purchase_c2;}

spriteset(hankyu320_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu320/hankyu320.png"){ tmpl_std(0, 0) }
spriteset(hankyu320_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu320/hankyu320.png"){ tmpl_std_rev(0, 25) }
spriteset(hankyu320_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu320/hankyu320.png"){ tmpl_std(0, 25) }
spriteset(hankyu320_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu320/hankyu320.png"){ tmpl_std(0, 50) }
spriteset(hankyu320_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu320/hankyu320.png"){ tmpl_std_rev(0, 75) }
spriteset(hankyu320_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu320/hankyu320.png"){ tmpl_std(0, 75) }


switch(FEAT_TRAINS, PARENT, sw_hankyu320_front_gfx, vehicle_is_reversed==1&&num_vehs_in_consist>1){
    1: hankyu320_front;
    hankyu320_front_mot;
}
switch(FEAT_TRAINS, PARENT, sw_hankyu320_end_gfx, vehicle_is_reversed){
    1: hankyu320_end_mot;
    hankyu320_end;
}

switch(FEAT_TRAINS, SELF, sw_hankyu320_panto_placer,position_in_vehid_chain %2){
    1: hankyu320_end_mot_rev;
    hankyu320_end;
}
switch(FEAT_TRAINS, SELF, sw_hankyu320_panto_placer_rev,position_in_vehid_chain_from_end %2){
    0: hankyu320_end_mot;
    hankyu320_end_rev;
}
switch(FEAT_TRAINS, PARENT, sw_hankyu320_panto_placer_main,vehicle_is_reversed){
    1: sw_hankyu320_panto_placer_rev;
    sw_hankyu320_panto_placer;
}

switch(FEAT_TRAINS, SELF, sw_hankyu320_end_fix, position_in_consist_from_end){
    0:sw_hankyu320_end_gfx;
    sw_hankyu320_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_hankyu320_livery_0,vehicle_type_id){
    mu_car:sw_hankyu320_end_fix;
    sw_hankyu320_front_gfx;
}

  switch(FEAT_TRAINS, SELF, sw_hankyu320_power_main_1,position_in_vehid_chain_from_end%2){
    1:return 150;
    return 0;
  }
  switch(FEAT_TRAINS, SELF, sw_hankyu320_power_main,vehicle_type_id){
    hankyu320: return 150;
    sw_hankyu320_power_main_1;
  }


item(FEAT_TRAINS, hankyu320) {
    property {
        cargo_capacity: 130;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        climates_available: param_disable_hankyu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        name: string(STR_TRAIN_NAME, string(STR_NAME_HANKYU), "320", string(STR_NAME_TYPE));
        introduction_date: date(1935, 1, 1);
        model_life: 20;
        vehicle_life: 46;
        reliability_decay: 10;

        cost_factor: 14;
        running_cost_factor: 44;
        speed: 85 km/h;
        track_type: TR_1435_DC;
        power: 600 kW;
        weight: 25 ton;
        loading_speed: param_loading_3D;
    }
 graphics {
        power: sw_hankyu320_power_main()*4*1342/1000;
        default: sw_hankyu320_livery_0;
        purchase: hankyu320_purchase;
        can_attach_wagon: sw_1435_attach_vehid;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_RANGE, 2,5)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_HANKYU)));

        cargo_capacity: 85*param_capacity_mod/3;
        length: 7;
    }
    livery_override(mu_car){
        cargo_subtype_text:sw_empty_desc;
        loading_speed: param_loading_3D;
        cargo_capacity: 85*param_capacity_mod/3;
        default: sw_hankyu320_livery_0;
        power: sw_hankyu320_power_main()*4*1342/1000;
        weight: 25;
        length: 7;
      }
}
# 310 "src/_private.pnml" 2
# 1 "src/private/Kansai/hankyu/hankyu500.pnml" 1

spriteset(hankyu500_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu500/hankyu500.png"){ tmpl_purchase_1c_7(0, 50) }
spriteset(hankyu500_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu500/hankyu500.png"){ tmpl_purchase_2c_7(0, 25) }
switch(FEAT_TRAINS, SELF, hankyu500_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_hankyu; 1: hankyu500_purchase_c1; 2: hankyu500_purchase_c2;}

spriteset(hankyu500_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu500/hankyu500.png"){ tmpl_std(0, 0) }
spriteset(hankyu500_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu500/hankyu500.png"){ tmpl_std_rev(0, 25) }
spriteset(hankyu500_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu500/hankyu500.png"){ tmpl_std(0, 25) }
spriteset(hankyu500_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu500/hankyu500.png"){ tmpl_std(0, 50) }
spriteset(hankyu500_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu500/hankyu500.png"){ tmpl_std_rev(0, 75) }
spriteset(hankyu500_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu500/hankyu500.png"){ tmpl_std(0, 75) }


switch(FEAT_TRAINS, PARENT, sw_hankyu500_front_gfx, vehicle_is_reversed==1&&num_vehs_in_consist>1){
    1: hankyu500_front;
    hankyu500_front_mot;
}
switch(FEAT_TRAINS, PARENT, sw_hankyu500_end_gfx, vehicle_is_reversed){
    1: hankyu500_end_mot;
    hankyu500_end;
}

switch(FEAT_TRAINS, SELF, sw_hankyu500_panto_placer,position_in_vehid_chain %2){
    1: hankyu500_end_mot_rev;
    hankyu500_end;
}
switch(FEAT_TRAINS, SELF, sw_hankyu500_panto_placer_rev,position_in_vehid_chain_from_end %2){
    0: hankyu500_end_mot;
    hankyu500_end_rev;
}
switch(FEAT_TRAINS, PARENT, sw_hankyu500_panto_placer_main,vehicle_is_reversed){
    1: sw_hankyu500_panto_placer_rev;
    sw_hankyu500_panto_placer;
}

switch(FEAT_TRAINS, SELF, sw_hankyu500_end_fix, position_in_consist_from_end){
    0:sw_hankyu500_end_gfx;
    sw_hankyu500_panto_placer_main;
}
switch(FEAT_TRAINS, SELF, sw_hankyu500_livery_0,vehicle_type_id){
    mu_car:sw_hankyu500_end_fix;
    sw_hankyu500_front_gfx;
}

  switch(FEAT_TRAINS, SELF, sw_hankyu500_power_main_1,position_in_vehid_chain_from_end%2){
    1:return 150;
    return 0;
  }
  switch(FEAT_TRAINS, SELF, sw_hankyu500_power_main,vehicle_type_id){
    hankyu500: return 150;
    sw_hankyu500_power_main_1;
  }


item(FEAT_TRAINS, hankyu500) {
    property {
        cargo_capacity: 130;
        ai_special_flag: AI_FLAG_PASSENGER;
        sprite_id: SPRITE_ID_NEW_TRAIN;
        misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes: bitmask();
        refit_cost: 0;
        dual_headed: 0;
        ai_engine_rank: 0;
        running_cost_base: RUNNING_COST_ELECTRIC;
        engine_class: ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
        tractive_effort_coefficient: 0.3;
        air_drag_coefficient: 0.07;
        bitmask_vehicle_info: 0;

        climates_available: param_disable_hankyu == 0 ? ALL_CLIMATES : NO_CLIMATE;
        name: string(STR_TRAIN_NAME, string(STR_NAME_HANKYU), "500", string(STR_NAME_TYPE));
        introduction_date: date(1938, 1, 1);
        model_life: 20;
        vehicle_life: 46;
        reliability_decay: 10;

        cost_factor: 16;
        running_cost_factor: 46;
        speed: 95 km/h;
        track_type: TR_1435_DC;
        power: 600 kW;
        weight: 25 ton;
        loading_speed: param_loading_3D;
    }
 graphics {
        power: sw_hankyu500_power_main()*4*1342/1000;
        default: sw_hankyu500_livery_0;
        purchase: hankyu500_purchase;
        can_attach_wagon: sw_1435_attach_vehid;
        additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_RANGE, 2,5)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string(STR_OPERATOR, string(STR_HANKYU)));
        cargo_capacity: 85*param_capacity_mod/3;
        length: 7;
    }
    livery_override(mu_car){
        cargo_subtype_text:sw_empty_desc;
        loading_speed: param_loading_3D;
        cargo_capacity: 85*param_capacity_mod/3;
        default: sw_hankyu500_livery_0;
        power: sw_hankyu500_power_main()*4*1342/1000;
        weight: 25;
        length: 7;
      }
}
# 311 "src/_private.pnml" 2
# 1 "src/private/Kansai/hankyu/hankyu1000.pnml" 1

spriteset(hankyu1000_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu1000/hankyu1000.png"){ tmpl_purchase_1c(0, 50) }
spriteset(hankyu1000_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu1000/hankyu1000.png"){ tmpl_purchase_2c(0, 25) }
switch(FEAT_TRAINS, SELF, hankyu1000_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_hankyu; 1: hankyu1000_purchase_c1; 2: hankyu1000_purchase_c2;}

  spriteset(hankyu1000_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu1000/hankyu1000.png"){ tmpl_std(0, 0) }
  spriteset(hankyu1000_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu1000/hankyu1000.png"){ tmpl_std_rev(0, 25) }
  spriteset(hankyu1000_1_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu1000/hankyu1000.png"){ tmpl_std(0, 25) }
  spriteset(hankyu1000_1_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu1000/hankyu1000.png"){ tmpl_std(0, 50) }
  spriteset(hankyu1000_1_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu1000/hankyu1000.png"){ tmpl_std_rev(0, 75) }
  spriteset(hankyu1000_1_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu1000/hankyu1000.png"){ tmpl_std(0, 75) }





      switch(FEAT_TRAINS, PARENT, sw_hankyu1000_1_front,vehicle_is_reversed){
        1: hankyu1000_1_front;
        hankyu1000_1_front_mot;
      }
      switch(FEAT_TRAINS, PARENT, sw_hankyu1000_1_end,vehicle_is_reversed){
        1: hankyu1000_1_end_mot;
        hankyu1000_1_end;
      }


    switch(FEAT_TRAINS, SELF, sw_hankyu1000_1_panto_placer_1,position_in_vehid_chain %2){
      0: hankyu1000_1_end;
      hankyu1000_1_end_mot_rev;
    }
    switch(FEAT_TRAINS, SELF, sw_hankyu1000_1_panto_placer_1_rev,position_in_vehid_chain_from_end %2){
      0: hankyu1000_1_end_mot;
      hankyu1000_1_end_rev;
    }
    switch(FEAT_TRAINS, PARENT, sw_hankyu1000_1_panto_placer_main_1,vehicle_is_reversed){
      1: sw_hankyu1000_1_panto_placer_1_rev;
      sw_hankyu1000_1_panto_placer_1;
    }

    switch(FEAT_TRAINS, SELF, sw_hankyu1000_1_gfx_main,position_in_vehid_chain_from_end){
      0: sw_hankyu1000_1_end;
      default: sw_hankyu1000_1_panto_placer_main_1;
    }
    switch(FEAT_TRAINS, SELF, sw_hankyu1000_lv,vehicle_type_id){
      hankyu1000: sw_hankyu1000_1_front;
      default: sw_hankyu1000_1_gfx_main;
    }



  switch(FEAT_TRAINS, SELF, sw_hankyu1000_power_main_1,position_in_vehid_chain_from_end%2){
    1:return 150;
    return 0;
  }
  switch(FEAT_TRAINS, SELF, sw_hankyu1000_power_main,vehicle_type_id){
    hankyu1000: return 150;
    sw_hankyu1000_power_main_1;
  }

item(FEAT_TRAINS, hankyu1000) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_HANKYU), "1000", string(STR_NAME_TYPE));
        introduction_date: date(1954, 1, 1);
        model_life: 1981-1930-5;
        vehicle_life: 30;
        reliability_decay: 10;

        cost_factor: 18;
        running_cost_factor: 49;

        speed: 100 km/h;
        track_type: TR_1435_DC;
        weight: 30 ton;
        climates_available: param_disable_hankyu == 0 ? ALL_CLIMATES : NO_CLIMATE;

          cargo_capacity: 1;
          power: 1 kW;
          ai_special_flag: AI_FLAG_PASSENGER;
          sprite_id: SPRITE_ID_NEW_TRAIN;
          misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
          refittable_cargo_classes: bitmask(CC_PASSENGERS);

          running_cost_base: RUNNING_COST_ELECTRIC;
          engine_class: ENGINE_CLASS_ELECTRIC;
          visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

          tractive_effort_coefficient: 0.3;
          air_drag_coefficient: 0.07;
          bitmask_vehicle_info: 0;
          length: 8;
    }
 graphics {
    purchase: hankyu1000_purchase;
  default: sw_hankyu1000_lv;
  start_stop: sw_stop_start_2;
  power: sw_hankyu1000_power_main()*4*1342/1000;
  loading_speed: param_loading_2D;
  cargo_capacity: 120*param_capacity_mod/3;
  can_attach_wagon: sw_1435_attach_vehid;

  additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 2)),
  string(STR_FORMATION, string(STR_NUM_CARS_2, 2,4)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string( STR_OPERATOR, string(STR_HANKYU)));
    }
    livery_override(mu_car){
        cargo_subtype_text:sw_empty_desc;
        loading_speed: param_loading_2D;
   cargo_capacity: 120*param_capacity_mod/3;
   default: sw_hankyu1000_lv;
   power: sw_hankyu1000_power_main()*4*1342/1000;
   weight: 30;
  }
}
# 312 "src/_private.pnml" 2
# 1 "src/private/Kansai/hankyu/hankyu1010.pnml" 1

spriteset(hankyu1010_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu1000/hankyu1010_1.png"){ tmpl_purchase_1c(0, 50) }
spriteset(hankyu1010_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu1000/hankyu1010_1.png"){ tmpl_purchase_2c(0, 125) }
switch(FEAT_TRAINS, SELF, hankyu1010_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_hankyu; 1: hankyu1000_purchase_c1; 2: hankyu1000_purchase_c2;}

  spriteset(hankyu1010_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu1000/hankyu1010_1.png"){ tmpl_std(0, 0) }
  spriteset(hankyu1010_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu1000/hankyu1010_1.png"){ tmpl_std_rev(0, 25) }
  spriteset(hankyu1010_1_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu1000/hankyu1010_1.png"){ tmpl_std(0, 25) }
  spriteset(hankyu1010_1_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu1000/hankyu1010_1.png"){ tmpl_std(0, 50) }
  spriteset(hankyu1010_1_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu1000/hankyu1010_1.png"){ tmpl_std_rev(0, 75) }
  spriteset(hankyu1010_1_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu1000/hankyu1010_1.png"){ tmpl_std(0, 75) }
  spriteset(hankyu1010_1_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu1000/hankyu1010_1.png"){ tmpl_std(0, 100) }
  spriteset(hankyu1010_1_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu1000/hankyu1010_1.png"){ tmpl_std_rev(0, 100) }
  spriteset(hankyu1010_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu1000/hankyu1010_1.png"){ tmpl_symm(0, 125) }


  spriteset(hankyu1010_2_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu1000/hankyu1010_2.png"){ tmpl_std(0, 0) }
  spriteset(hankyu1010_2_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu1000/hankyu1010_2.png"){ tmpl_std_rev(0, 25) }
  spriteset(hankyu1010_2_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu1000/hankyu1010_2.png"){ tmpl_std(0, 25) }
  spriteset(hankyu1010_2_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu1000/hankyu1010_2.png"){ tmpl_std(0, 50) }
  spriteset(hankyu1010_2_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu1000/hankyu1010_2.png"){ tmpl_std_rev(0, 75) }
  spriteset(hankyu1010_2_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu1000/hankyu1010_2.png"){ tmpl_std(0, 75) }
  spriteset(hankyu1010_2_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu1000/hankyu1010_2.png"){ tmpl_std_rev(0, 100) }
  spriteset(hankyu1010_2_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu1000/hankyu1010_2.png"){ tmpl_std(0, 100) }
  spriteset(hankyu1010_2_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu1000/hankyu1010_2.png"){ tmpl_symm(0, 125) }






      switch(FEAT_TRAINS, PARENT, sw_hankyu1010_1_front,vehicle_is_reversed){
        1: hankyu1010_1_front;
        hankyu1010_1_front_mot;
      }
      switch(FEAT_TRAINS, PARENT, sw_hankyu1010_1_end,vehicle_is_reversed){
        1: hankyu1010_1_end_mot;
        hankyu1010_1_end;
      }


    switch(FEAT_TRAINS, SELF, sw_hankyu1010_1_panto_placer_1,position_in_vehid_chain %3){
      2: hankyu1010_1_mot;
      hankyu1010_1_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_hankyu1010_1_panto_placer_1_rev,position_in_vehid_chain_from_end %3){
      0: hankyu1010_1_mot_rev;
      hankyu1010_1_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_hankyu1010_1_panto_placer_main_1,vehicle_is_reversed){
      1: sw_hankyu1010_1_panto_placer_1_rev;
      sw_hankyu1010_1_panto_placer_1;
    }

    switch(FEAT_TRAINS, SELF, sw_hankyu1010_1_panto_placer_2,position_in_vehid_chain %2){
      0: hankyu1010_1_end;
      hankyu1010_1_end_mot_rev;
    }
    switch(FEAT_TRAINS, SELF, sw_hankyu1010_1_panto_placer_2_rev,position_in_vehid_chain_from_end %2){
      0: hankyu1010_1_end_mot;
      hankyu1010_1_end_rev;
    }
    switch(FEAT_TRAINS, PARENT, sw_hankyu1010_1_panto_placer_main_2,vehicle_is_reversed){
      1: sw_hankyu1010_1_panto_placer_2_rev;
      sw_hankyu1010_1_panto_placer_2;
    }


      switch(FEAT_TRAINS, SELF, sw_hankyu1010_1_fake_head_placer_1,position_in_vehid_chain){
        2: hankyu1010_1_end;
        3: hankyu1010_1_end_mot_rev;
        sw_hankyu1010_1_panto_placer_main_1;
      }
      switch(FEAT_TRAINS, SELF, sw_hankyu1010_1_fake_head_placer_1_rev,position_in_vehid_chain_from_end-1){
        2: hankyu1010_1_end_rev;
        3: hankyu1010_1_end_mot;
        sw_hankyu1010_1_panto_placer_main_1;
      }
      switch(FEAT_TRAINS, PARENT, sw_hankyu1010_1_fake_head_placer_main_1,vehicle_is_reversed){
        1: sw_hankyu1010_1_fake_head_placer_1_rev;
        sw_hankyu1010_1_fake_head_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_hankyu1010_1_fake_head_placer_2,position_in_vehid_chain){
        1: hankyu1010_1_end;
        2: hankyu1010_1_end_mot_rev;
        sw_hankyu1010_1_panto_placer_main_1;
      }
      switch(FEAT_TRAINS, SELF, sw_hankyu1010_1_fake_head_placer_2_rev,position_in_vehid_chain_from_end-1){
        1: hankyu1010_1_end_rev;
        2: hankyu1010_1_end_mot;
        sw_hankyu1010_1_panto_placer_main_1;
      }
      switch(FEAT_TRAINS, PARENT, sw_hankyu1010_1_fake_head_placer_main_2,vehicle_is_reversed){
        1: sw_hankyu1010_1_fake_head_placer_2_rev;
        sw_hankyu1010_1_fake_head_placer_2;
      }

      switch(FEAT_TRAINS, SELF, sw_hankyu1010_1_fake_head_placer_3,position_in_vehid_chain){
        2: hankyu1010_1_end_mot_rev;
        sw_hankyu1010_1_panto_placer_main_1;
      }
      switch(FEAT_TRAINS, SELF, sw_hankyu1010_1_fake_head_placer_3_rev,position_in_vehid_chain_from_end-1){
        2: hankyu1010_1_end_mot;
        sw_hankyu1010_1_panto_placer_main_1;
      }
      switch(FEAT_TRAINS, PARENT, sw_hankyu1010_1_fake_head_placer_main_3,vehicle_is_reversed){
        1: sw_hankyu1010_1_fake_head_placer_3_rev;
        sw_hankyu1010_1_fake_head_placer_3;
      }

      switch(FEAT_TRAINS, SELF, sw_hankyu1010_1_fake_head_placer_4,position_in_vehid_chain){
        0: hankyu1010_1_end;
        1: hankyu1010_1_end_mot_rev;
        sw_hankyu1010_1_panto_placer_main_1;
      }
      switch(FEAT_TRAINS, SELF, sw_hankyu1010_1_fake_head_placer_4_rev,position_in_vehid_chain_from_end-1){
        0: hankyu1010_1_end_rev;
        1: hankyu1010_1_end_mot;
        sw_hankyu1010_1_panto_placer_main_1;
      }
      switch(FEAT_TRAINS, PARENT, sw_hankyu1010_1_fake_head_placer_main_4,vehicle_is_reversed){
        1: sw_hankyu1010_1_fake_head_placer_4_rev;
        sw_hankyu1010_1_fake_head_placer_4;
      }

      random_switch(FEAT_TRAINS, PARENT, sw_hankyu1010_1_fake_head_placer_main_0) {
        1: sw_hankyu1010_1_fake_head_placer_main_1;
        1: sw_hankyu1010_1_fake_head_placer_main_2;
        1: sw_hankyu1010_1_fake_head_placer_main_3;
      }
      switch(FEAT_TRAINS, SELF, sw_hankyu1010_1_fake_head_placer_main_0_1,num_vehs_in_vehid_chain+1){
        0..5: sw_hankyu1010_1_fake_head_placer_main_4;
        6: sw_hankyu1010_1_fake_head_placer_main_2;
        sw_hankyu1010_1_fake_head_placer_main_0;
      }
      switch(FEAT_TRAINS, PARENT, sw_hankyu1010_1_fake_head_placer_main, current_date>1976){
        1: sw_hankyu1010_1_fake_head_placer_main_0_1;
        sw_hankyu1010_1_panto_placer_main_2;
      }

    switch(FEAT_TRAINS, SELF, sw_hankyu1010_1_gfx_main,position_in_vehid_chain_from_end){
      0: sw_hankyu1010_1_end;
      default: sw_hankyu1010_1_fake_head_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_hankyu1010_livery_1,vehicle_type_id){
      hankyu1010: sw_hankyu1010_1_front;
      default: sw_hankyu1010_1_gfx_main;
    }



      switch(FEAT_TRAINS, PARENT, sw_hankyu1010_2_front,vehicle_is_reversed){
        1: hankyu1010_2_front;
        hankyu1010_2_front_mot;
      }
      switch(FEAT_TRAINS, PARENT, sw_hankyu1010_2_end,vehicle_is_reversed){
        1: hankyu1010_2_end_mot;
        hankyu1010_2_end;
      }


    switch(FEAT_TRAINS, SELF, sw_hankyu1010_2_panto_placer_1,position_in_vehid_chain %3){
      1: hankyu1010_2_mot;
      hankyu1010_2_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_hankyu1010_2_panto_placer_1_rev,position_in_vehid_chain_from_end %3){
      2: hankyu1010_2_mot_rev;
      hankyu1010_2_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_hankyu1010_2_panto_placer_main_1,vehicle_is_reversed){
      1: sw_hankyu1010_2_panto_placer_1_rev;
      sw_hankyu1010_2_panto_placer_1;
    }


      switch(FEAT_TRAINS, SELF, sw_hankyu1010_2_fake_head_placer_1,position_in_vehid_chain){
        0: hankyu1010_2_end;
        1: hankyu1010_2_end_mot_rev;
        sw_hankyu1010_2_panto_placer_main_1;
      }
      switch(FEAT_TRAINS, SELF, sw_hankyu1010_2_fake_head_placer_1_rev,position_in_vehid_chain_from_end-1){
        0: hankyu1010_2_end_rev;
        1: hankyu1010_2_end_mot;
        sw_hankyu1010_2_panto_placer_main_1;
      }
      switch(FEAT_TRAINS, PARENT, sw_hankyu1010_2_fake_head_placer_main_1,vehicle_is_reversed){
        1: sw_hankyu1010_2_fake_head_placer_1_rev;
        sw_hankyu1010_2_fake_head_placer_1;
      }

    switch(FEAT_TRAINS, SELF, sw_hankyu1010_2_gfx_main,position_in_vehid_chain_from_end){
      0: sw_hankyu1010_2_end;
      default: sw_hankyu1010_2_fake_head_placer_main_1;
    }
    switch(FEAT_TRAINS, SELF, sw_hankyu1010_livery_2,vehicle_type_id){
      hankyu1010: sw_hankyu1010_2_front;
      default: sw_hankyu1010_2_gfx_main;
    }

  random_switch(FEAT_TRAINS, PARENT, sw_hankyu1010_livery_0_0){
    3: sw_hankyu1010_livery_1;
    1: sw_hankyu1010_livery_2;
  }
  switch(FEAT_TRAINS, PARENT, sw_hankyu1010_livery_0, current_year>1976){
    1:sw_hankyu1010_livery_0_0;
    sw_hankyu1010_livery_1;
  }

  switch(FEAT_TRAINS, PARENT, sw_hankyu1010_lv, cargo_subtype){
    0:sw_hankyu1010_livery_0;
    1:sw_hankyu1010_livery_1;
    2:sw_hankyu1010_livery_2;
  }
  switch(FEAT_TRAINS, SELF, sw_hankyu1010_lv_desc,cargo_subtype){
    0:string(LV_RANDOM);
    1:string(LV_DEFAULT);
    2:string(LV_RENEW);
  }



  switch(FEAT_TRAINS, SELF, sw_hankyu1010_power_main_1,position_in_vehid_chain_from_end%2){
    1:return 150;
    return 0;
  }
  switch(FEAT_TRAINS, SELF, sw_hankyu1010_power_main,vehicle_type_id){
    hankyu1010: return 150;
    sw_hankyu1010_power_main_1;
  }

item(FEAT_TRAINS, hankyu1010) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_HANKYU), "1010/1100", string(STR_NAME_SERIES));
        introduction_date: date(1956, 1, 1);
        model_life: 1981-1956-5;
        vehicle_life: 30;
        reliability_decay: 10;
        variant_group: hankyu1000;

        cost_factor: 19;
        running_cost_factor: 49;

        speed: 100 km/h;
        track_type: TR_1435_DC;
        weight: 31 ton;
        climates_available: param_disable_hankyu == 0 ? ALL_CLIMATES : NO_CLIMATE;

          cargo_capacity: 1;
          power: 1 kW;
          ai_special_flag: AI_FLAG_PASSENGER;
          sprite_id: SPRITE_ID_NEW_TRAIN;
          misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
          refittable_cargo_classes: bitmask(CC_PASSENGERS);

          running_cost_base: RUNNING_COST_ELECTRIC;
          engine_class: ENGINE_CLASS_ELECTRIC;
          visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

          tractive_effort_coefficient: 0.3;
          air_drag_coefficient: 0.07;
          bitmask_vehicle_info: 0;
          length: 8;
    }
 graphics {
    purchase: hankyu1010_purchase;
  default: sw_hankyu1010_lv;
  start_stop: sw_stop_start_2;
  power: sw_hankyu1010_power_main()*4*1342/1000;
  loading_speed: param_loading_3D;
  cargo_capacity: 120*param_capacity_mod/3;
  can_attach_wagon: sw_1435_attach_vehid;
  cargo_subtype_text:sw_hankyu1010_lv_desc;
  additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_RANGE, 2,7)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string( STR_OPERATOR, string(STR_HANKYU)));
    }
    livery_override(mu_car){
    cargo_subtype_text:sw_hankyu1010_lv_desc;
   loading_speed: param_loading_3D;
   cargo_capacity: 120*param_capacity_mod/3;
   default: sw_hankyu1010_lv;
   power: sw_hankyu1010_power_main()*4*1342/1000;
   weight: 31;
  }
}
# 313 "src/_private.pnml" 2
# 1 "src/private/Kansai/hankyu/hankyu2000.pnml" 1

spriteset(hankyu2000_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu2000/hankyu2000_1.png"){ tmpl_purchase_1c(0, 50) }
spriteset(hankyu2000_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu2000/hankyu2000_1.png"){ tmpl_purchase_2c(0, 125) }
switch(FEAT_TRAINS, SELF, hankyu2000_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_hankyu; 1: hankyu2000_purchase_c1; 2: hankyu2000_purchase_c2;}

  spriteset(hankyu2000_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu2000/hankyu2000_1.png"){ tmpl_std(0, 0) }
  spriteset(hankyu2000_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu2000/hankyu2000_1.png"){ tmpl_std_rev(0, 25) }
  spriteset(hankyu2000_1_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu2000/hankyu2000_1.png"){ tmpl_std(0, 25) }
  spriteset(hankyu2000_1_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu2000/hankyu2000_1.png"){ tmpl_std(0, 50) }
  spriteset(hankyu2000_1_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu2000/hankyu2000_1.png"){ tmpl_std_rev(0, 75) }
  spriteset(hankyu2000_1_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu2000/hankyu2000_1.png"){ tmpl_std(0, 75) }
  spriteset(hankyu2000_1_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu2000/hankyu2000_1.png"){ tmpl_std_rev(0, 100) }
  spriteset(hankyu2000_1_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu2000/hankyu2000_1.png"){ tmpl_std(0, 100) }
  spriteset(hankyu2000_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu2000/hankyu2000_1.png"){ tmpl_symm(0, 125) }


  spriteset(hankyu2000_2_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu2000/hankyu2000_2.png"){ tmpl_std(0, 0) }
  spriteset(hankyu2000_2_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu2000/hankyu2000_2.png"){ tmpl_std_rev(0, 25) }
  spriteset(hankyu2000_2_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu2000/hankyu2000_2.png"){ tmpl_std(0, 25) }
  spriteset(hankyu2000_2_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu2000/hankyu2000_2.png"){ tmpl_std(0, 50) }
  spriteset(hankyu2000_2_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu2000/hankyu2000_2.png"){ tmpl_std_rev(0, 75) }
  spriteset(hankyu2000_2_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu2000/hankyu2000_2.png"){ tmpl_std(0, 75) }
  spriteset(hankyu2000_2_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu2000/hankyu2000_2.png"){ tmpl_std_rev(0, 100) }
  spriteset(hankyu2000_2_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu2000/hankyu2000_2.png"){ tmpl_std(0, 100) }
  spriteset(hankyu2000_2_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu2000/hankyu2000_2.png"){ tmpl_symm(0, 125) }




      switch(FEAT_TRAINS, PARENT, sw_hankyu2000_1_front,vehicle_is_reversed){
        1: hankyu2000_1_front_mot;
        hankyu2000_1_front;
      }
      switch(FEAT_TRAINS, PARENT, sw_hankyu2000_1_end,vehicle_is_reversed){
        1: hankyu2000_1_end;
        hankyu2000_1_end_mot;
      }


    switch(FEAT_TRAINS, SELF, sw_hankyu2000_1_panto_placer_1,position_in_vehid_chain %3){
      0: hankyu2000_1_mot;
      hankyu2000_1_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_hankyu2000_1_panto_placer_1_rev,position_in_vehid_chain_from_end %3-1){
      0: hankyu2000_1_mot_rev;
      hankyu2000_1_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_hankyu2000_1_panto_placer_main_1,vehicle_is_reversed){
      1: sw_hankyu2000_1_panto_placer_1_rev;
      sw_hankyu2000_1_panto_placer_1;
    }

    switch(FEAT_TRAINS, SELF, sw_hankyu2000_1_panto_placer_2,position_in_vehid_chain %2){
      0: hankyu2000_1_mot;
      hankyu2000_1_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_hankyu2000_1_panto_placer_2_rev,position_in_vehid_chain_from_end %2-1){
      0: hankyu2000_1_mot_rev;
      hankyu2000_1_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_hankyu2000_1_panto_placer_main_2,vehicle_is_reversed){
      1: sw_hankyu2000_1_panto_placer_2_rev;
      sw_hankyu2000_1_panto_placer_2;
    }


      switch(FEAT_TRAINS, SELF, sw_hankyu2000_1_fake_head_placer_1,position_in_vehid_chain){
        1: hankyu2000_1_end_mot;
        2: hankyu2000_1_end_rev;
        sw_hankyu2000_1_panto_placer_main_1;
      }
      switch(FEAT_TRAINS, SELF, sw_hankyu2000_1_fake_head_placer_1_rev,position_in_vehid_chain_from_end-1){
        1: hankyu2000_1_end_mot_rev;
        2: hankyu2000_1_end;
        sw_hankyu2000_1_panto_placer_main_1;
      }
      switch(FEAT_TRAINS, PARENT, sw_hankyu2000_1_fake_head_placer_main_1,vehicle_is_reversed){
        1: sw_hankyu2000_1_fake_head_placer_1_rev;
        sw_hankyu2000_1_fake_head_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_hankyu2000_1_fake_head_placer_2,position_in_vehid_chain){
        1: hankyu2000_1_end_mot;
        2: hankyu2000_1_end_rev;
        3: hankyu2000_1_end_mot;
        4: hankyu2000_1_end_rev;
        sw_hankyu2000_1_panto_placer_main_1;
      }
      switch(FEAT_TRAINS, SELF, sw_hankyu2000_1_fake_head_placer_2_rev,position_in_vehid_chain_from_end-1){
        1: hankyu2000_1_end_mot_rev;
        2: hankyu2000_1_end;
        3: hankyu2000_1_end_mot_rev;
        4: hankyu2000_1_end;
        sw_hankyu2000_1_panto_placer_main_1;
      }
      switch(FEAT_TRAINS, PARENT, sw_hankyu2000_1_fake_head_placer_main_2,vehicle_is_reversed){
        1: sw_hankyu2000_1_fake_head_placer_2_rev;
        sw_hankyu2000_1_fake_head_placer_2;
      }

      switch(FEAT_TRAINS, SELF, sw_hankyu2000_1_fake_head_placer_3,position_in_vehid_chain){
        2: hankyu2000_1_end_mot;
        3: hankyu2000_1_end_rev;
        sw_hankyu2000_1_panto_placer_main_2;
      }
      switch(FEAT_TRAINS, SELF, sw_hankyu2000_1_fake_head_placer_3_rev,position_in_vehid_chain_from_end-1){
        2: hankyu2000_1_end_mot_rev;
        3: hankyu2000_1_end;
        sw_hankyu2000_1_panto_placer_main_2;
      }
      switch(FEAT_TRAINS, PARENT, sw_hankyu2000_1_fake_head_placer_main_3,vehicle_is_reversed){
        1: sw_hankyu2000_1_fake_head_placer_3_rev;
        sw_hankyu2000_1_fake_head_placer_3;
      }

      random_switch(FEAT_TRAINS, PARENT, sw_hankyu2000_1_fake_head_placer_main_0) {
        1:sw_hankyu2000_1_fake_head_placer_main_1;
        1:sw_hankyu2000_1_fake_head_placer_main_2;
      }
      switch(FEAT_TRAINS, SELF, sw_hankyu2000_1_fake_head_placer_main,num_vehs_in_vehid_chain+1){
        0..4: sw_hankyu2000_1_panto_placer_main_2;
        5: sw_hankyu2000_1_fake_head_placer_main_2;
        7: sw_hankyu2000_1_fake_head_placer_main_0;
        sw_hankyu2000_1_fake_head_placer_main_3;
      }

    switch(FEAT_TRAINS, SELF, sw_hankyu2000_1_gfx_main,position_in_vehid_chain_from_end){
      0: sw_hankyu2000_1_end;
      default: sw_hankyu2000_1_fake_head_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_hankyu2000_livery_1,vehicle_type_id){
      hankyu2000: sw_hankyu2000_1_front;
      default: sw_hankyu2000_1_gfx_main;
    }




      switch(FEAT_TRAINS, PARENT, sw_hankyu2000_2_front,vehicle_is_reversed){
        1: hankyu2000_2_front_mot;
        hankyu2000_2_front;
      }
      switch(FEAT_TRAINS, PARENT, sw_hankyu2000_2_end,vehicle_is_reversed){
        1: hankyu2000_2_end;
        hankyu2000_2_end_mot;
      }


    switch(FEAT_TRAINS, SELF, sw_hankyu2000_2_panto_placer_1,position_in_vehid_chain %3){
      0: hankyu2000_2_mot;
      hankyu2000_2_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_hankyu2000_2_panto_placer_1_rev,position_in_vehid_chain_from_end %3-1){
      0: hankyu2000_2_mot_rev;
      hankyu2000_2_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_hankyu2000_2_panto_placer_main_1,vehicle_is_reversed){
      1: sw_hankyu2000_2_panto_placer_1_rev;
      sw_hankyu2000_2_panto_placer_1;
    }

    switch(FEAT_TRAINS, SELF, sw_hankyu2000_2_panto_placer_2,position_in_vehid_chain %2){
      0: hankyu2000_2_mot;
      hankyu2000_2_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_hankyu2000_2_panto_placer_2_rev,position_in_vehid_chain_from_end %2-1){
      0: hankyu2000_2_mot_rev;
      hankyu2000_2_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_hankyu2000_2_panto_placer_main_2,vehicle_is_reversed){
      1: sw_hankyu2000_2_panto_placer_2_rev;
      sw_hankyu2000_2_panto_placer_2;
    }


      switch(FEAT_TRAINS, SELF, sw_hankyu2000_2_fake_head_placer_1,position_in_vehid_chain){
        2: hankyu2000_2_end_mot;
        3: hankyu2000_2_end_rev;
        sw_hankyu2000_2_panto_placer_main_2;
      }
      switch(FEAT_TRAINS, SELF, sw_hankyu2000_2_fake_head_placer_1_rev,position_in_vehid_chain_from_end-1){
        2: hankyu2000_2_end_mot_rev;
        3: hankyu2000_2_end;
        sw_hankyu2000_2_panto_placer_main_2;
      }
      switch(FEAT_TRAINS, PARENT, sw_hankyu2000_2_fake_head_placer_main_1,vehicle_is_reversed){
        1: sw_hankyu2000_2_fake_head_placer_1_rev;
        sw_hankyu2000_2_fake_head_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_hankyu2000_2_fake_head_placer_2,position_in_vehid_chain){
        2: hankyu2000_2_end_mot;
        3: hankyu2000_2_end_rev;
        4: hankyu2000_2_end_mot;
        5: hankyu2000_2_end_rev;
        sw_hankyu2000_2_panto_placer_main_2;
      }
      switch(FEAT_TRAINS, SELF, sw_hankyu2000_2_fake_head_placer_2_rev,position_in_vehid_chain_from_end-1){
        2: hankyu2000_2_end_mot_rev;
        3: hankyu2000_2_end;
        4: hankyu2000_2_end_mot_rev;
        5: hankyu2000_2_end;
        sw_hankyu2000_2_panto_placer_main_2;
      }
      switch(FEAT_TRAINS, PARENT, sw_hankyu2000_2_fake_head_placer_main_2,vehicle_is_reversed){
        1: sw_hankyu2000_2_fake_head_placer_2_rev;
        sw_hankyu2000_2_fake_head_placer_2;
      }

      switch(FEAT_TRAINS, SELF, sw_hankyu2000_2_fake_head_placer_3,position_in_vehid_chain){
        0: hankyu2000_2_end_mot;
        4: hankyu2000_2_end_mot;
        5: hankyu2000_2_end_rev;
        sw_hankyu2000_2_panto_placer_main_2;
      }
      switch(FEAT_TRAINS, SELF, sw_hankyu2000_2_fake_head_placer_3_rev,position_in_vehid_chain_from_end-1){
        0: hankyu2000_2_end_mot_rev;
        4: hankyu2000_2_end_mot_rev;
        5: hankyu2000_2_end;
        sw_hankyu2000_2_panto_placer_main_2;
      }
      switch(FEAT_TRAINS, PARENT, sw_hankyu2000_2_fake_head_placer_main_3,vehicle_is_reversed){
        1: sw_hankyu2000_2_fake_head_placer_3_rev;
        sw_hankyu2000_2_fake_head_placer_3;
      }

      random_switch(FEAT_TRAINS, PARENT, sw_hankyu2000_2_fake_head_placer_main_0) {
        2:sw_hankyu2000_2_fake_head_placer_main_1;
        1:sw_hankyu2000_2_fake_head_placer_main_2;
        1:sw_hankyu2000_2_fake_head_placer_main_3;
      }
      switch(FEAT_TRAINS, SELF, sw_hankyu2000_2_fake_head_placer_main_0_1,num_vehs_in_vehid_chain+1){
        0..5: sw_hankyu2000_2_panto_placer_main_1;
        8: sw_hankyu2000_2_fake_head_placer_main_0;
        sw_hankyu2000_2_fake_head_placer_main_1;
      }
      random_switch(FEAT_TRAINS, PARENT, sw_hankyu2000_2_fake_head_placer_main_0_2) {
        2: sw_hankyu2000_2_fake_head_placer_main_0_1;
        1: sw_hankyu2000_2_panto_placer_main_2;
      }
      switch(FEAT_TRAINS, SELF, sw_hankyu2000_2_fake_head_placer_main, current_year>1984){
        1: sw_hankyu2000_2_fake_head_placer_main_0_2;
        sw_hankyu2000_2_fake_head_placer_main_0_1;
      }

    switch(FEAT_TRAINS, SELF, sw_hankyu2000_2_gfx_main,position_in_vehid_chain_from_end){
      0: sw_hankyu2000_2_end;
      default: sw_hankyu2000_2_fake_head_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_hankyu2000_livery_2,vehicle_type_id){
      hankyu2000: sw_hankyu2000_2_front;
      default: sw_hankyu2000_2_gfx_main;
    }


  switch(FEAT_TRAINS, PARENT, sw_hankyu2000_livery_0, current_year<1979){
    1: sw_hankyu2000_livery_1;
    sw_hankyu2000_livery_2;
  }

  switch(FEAT_TRAINS, PARENT, sw_hankyu2000_lv, cargo_subtype){
    0: sw_hankyu2000_livery_0;
    1: sw_hankyu2000_livery_1;
    2: sw_hankyu2000_livery_2;
  }
  switch(FEAT_TRAINS, SELF, sw_hankyu2000_lv_desc, cargo_subtype){
    0: string(LV_RANDOM);
    1: string(LV_DEFAULT);
    2: string(LV_MODERN);
  }


  switch(FEAT_TRAINS, SELF, sw_hankyu2000_capacity,position_in_vehid_chain_from_end){
    0: 140;
    default: 150;
  }
  switch(FEAT_TRAINS, SELF, sw_hankyu2000_capacity_1,position_in_vehid_chain){
    0: 140;
    default: sw_hankyu2000_capacity;
  }
  switch(FEAT_TRAINS, SELF, sw_hankyu2000_capacity_main,vehicle_type_id){
    mu_car: sw_hankyu2000_capacity;
    sw_hankyu2000_capacity_1;
  }

  switch(FEAT_TRAINS, SELF, sw_hankyu2000_power_main_1,position_in_vehid_chain_from_end%2){
    1:return 150;
    return 0;
  }
  switch(FEAT_TRAINS, SELF, sw_hankyu2000_power_main,vehicle_type_id){
    hankyu2000: return 150;
    sw_hankyu2000_power_main_1;
  }

item(FEAT_TRAINS, hankyu2000) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_HANKYU), "2000", string(STR_NAME_SERIES));
        introduction_date: date(1960, 1, 1);
        model_life: 2014-1960;
        vehicle_life: 30;
        reliability_decay: 10;

        cost_factor: 19;
        running_cost_factor: 49;

        speed: 100 km/h;
        track_type: TR_1435_DC;
        weight: 30 ton;
        climates_available: param_disable_hankyu == 0 ? ALL_CLIMATES : NO_CLIMATE;

          cargo_capacity: 1;
          power: 1 kW;
          ai_special_flag: AI_FLAG_PASSENGER;
          sprite_id: SPRITE_ID_NEW_TRAIN;
          misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
          refittable_cargo_classes: bitmask(CC_PASSENGERS);

          running_cost_base: RUNNING_COST_ELECTRIC;
          engine_class: ENGINE_CLASS_ELECTRIC;
          visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

          tractive_effort_coefficient: 0.3;
          air_drag_coefficient: 0.07;
          bitmask_vehicle_info: 0;
          length: 8;
    }
 graphics {
    purchase: hankyu2000_purchase;
  default: sw_hankyu2000_lv;
  start_stop: sw_stop_start_2;
  power: sw_hankyu2000_power_main()*4*1342/1000;
  loading_speed: param_loading_3D;
  cargo_capacity: sw_hankyu2000_capacity_main()*param_capacity_mod/3;
  can_attach_wagon: sw_1435_attach_vehid;
  cargo_subtype_text:sw_hankyu2000_lv_desc;
  additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_RANGE, 2,8)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string( STR_OPERATOR, string(STR_HANKYU)));
    }
    livery_override(mu_car){
    cargo_subtype_text:sw_hankyu2000_lv_desc;
   loading_speed: param_loading_3D;
   cargo_capacity: sw_hankyu2000_capacity_main()*param_capacity_mod/3;
   default: sw_hankyu2000_lv;
   power: sw_hankyu2000_power_main()*4*1342/1000;
   weight: 31;
  }
}
# 314 "src/_private.pnml" 2
# 1 "src/private/Kansai/hankyu/hankyu2300.pnml" 1

spriteset(hankyu2300_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu2000/hankyu2300_1.png"){ tmpl_purchase_1c(0, 0) }
spriteset(hankyu2300_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu2000/hankyu2000_1.png"){ tmpl_purchase_2c(0, 125) }
switch(FEAT_TRAINS, SELF, hankyu2300_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_hankyu; 1: hankyu2300_purchase_c1; 2: hankyu2300_purchase_c2;}

  spriteset(hankyu2300_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu2000/hankyu2000_1.png"){ tmpl_std(0, 0) }
  spriteset(hankyu2300_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu2000/hankyu2000_1.png"){ tmpl_std_rev(0, 25) }
  spriteset(hankyu2300_1_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu2000/hankyu2000_1.png"){ tmpl_std(0, 25) }
  spriteset(hankyu2300_1_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu2000/hankyu2300_1.png"){ tmpl_std(0, 0) }
  spriteset(hankyu2300_1_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu2000/hankyu2300_1.png"){ tmpl_std_rev(0, 25) }
  spriteset(hankyu2300_1_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu2000/hankyu2300_1.png"){ tmpl_std(0, 25) }
  spriteset(hankyu2300_1_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu2000/hankyu2300_1.png"){ tmpl_symm(0, 50) }
  spriteset(hankyu2300_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu2000/hankyu2000_1.png"){ tmpl_symm(0, 125) }


  spriteset(hankyu2300_2_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu2000/hankyu2000_2.png"){ tmpl_std(0, 0) }
  spriteset(hankyu2300_2_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu2000/hankyu2000_2.png"){ tmpl_std_rev(0, 25) }
  spriteset(hankyu2300_2_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu2000/hankyu2000_2.png"){ tmpl_std(0, 25) }
  spriteset(hankyu2300_2_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu2000/hankyu2300_2.png"){ tmpl_std(0, 0) }
  spriteset(hankyu2300_2_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu2000/hankyu2300_2.png"){ tmpl_std_rev(0, 25) }
  spriteset(hankyu2300_2_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu2000/hankyu2300_2.png"){ tmpl_std(0, 25) }
  spriteset(hankyu2300_2_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu2000/hankyu2300_2.png"){ tmpl_symm(0, 50) }
  spriteset(hankyu2300_2_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu2000/hankyu2000_2.png"){ tmpl_symm(0, 125) }




      switch(FEAT_TRAINS, PARENT, sw_hankyu2300_1_front,vehicle_is_reversed){
        1: hankyu2300_1_front;
        hankyu2300_1_front_mot;
      }
      switch(FEAT_TRAINS, PARENT, sw_hankyu2300_1_end,vehicle_is_reversed){
        1: hankyu2300_1_end_mot;
        hankyu2300_1_end;
      }


    switch(FEAT_TRAINS, SELF, sw_hankyu2300_1_panto_placer_1,position_in_vehid_chain %3){
      1: hankyu2300_1_mot;
      hankyu2300_1_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_hankyu2300_1_panto_placer_1_rev,position_in_vehid_chain_from_end %3-1){
      1: hankyu2300_1_mot;
      hankyu2300_1_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_hankyu2300_1_panto_placer_main_1,vehicle_is_reversed){
      1: sw_hankyu2300_1_panto_placer_1_rev;
      sw_hankyu2300_1_panto_placer_1;
    }

    switch(FEAT_TRAINS, SELF, sw_hankyu2300_1_panto_placer_2,position_in_vehid_chain %2){
      1: hankyu2300_1_mot;
      hankyu2300_1_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_hankyu2300_1_panto_placer_2_rev,position_in_vehid_chain_from_end %2){
      0: hankyu2300_1_mot;
      hankyu2300_1_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_hankyu2300_1_panto_placer_main_2,vehicle_is_reversed){
      1: sw_hankyu2300_1_panto_placer_2_rev;
      sw_hankyu2300_1_panto_placer_2;
    }


      switch(FEAT_TRAINS, SELF, sw_hankyu2300_1_fake_head_placer_1,position_in_vehid_chain){
        0: hankyu2300_1_end;
        1: hankyu2300_1_end_mot_rev;
        sw_hankyu2300_1_panto_placer_main_1;
      }
      switch(FEAT_TRAINS, SELF, sw_hankyu2300_1_fake_head_placer_1_rev,position_in_vehid_chain_from_end-1){
        0: hankyu2300_1_end_rev;
        1: hankyu2300_1_end_mot;
        sw_hankyu2300_1_panto_placer_main_1;
      }
      switch(FEAT_TRAINS, PARENT, sw_hankyu2300_1_fake_head_placer_main_1,vehicle_is_reversed){
        1: sw_hankyu2300_1_fake_head_placer_1_rev;
        sw_hankyu2300_1_fake_head_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_hankyu2300_1_fake_head_placer_2,position_in_vehid_chain){
        1: hankyu2300_1_end_mot;
        2: hankyu2300_1_end_rev;
        sw_hankyu2300_1_panto_placer_main_2;
      }
      switch(FEAT_TRAINS, SELF, sw_hankyu2300_1_fake_head_placer_2_rev,position_in_vehid_chain_from_end-1){
        1: hankyu2300_1_end_mot_rev;
        2: hankyu2300_1_end;
        sw_hankyu2300_1_panto_placer_main_2;
      }
      switch(FEAT_TRAINS, PARENT, sw_hankyu2300_1_fake_head_placer_main_2,vehicle_is_reversed){
        1: sw_hankyu2300_1_fake_head_placer_2_rev;
        sw_hankyu2300_1_fake_head_placer_2;
      }

      switch(FEAT_TRAINS, SELF, sw_hankyu2300_1_fake_head_placer_main,num_vehs_in_vehid_chain+1){
        0..3: sw_hankyu2300_1_panto_placer_main_2;
        4..5: sw_hankyu2300_1_fake_head_placer_main_1;
        6: sw_hankyu2300_1_fake_head_placer_main_2;
        sw_hankyu2300_1_panto_placer_main_1;
      }

    switch(FEAT_TRAINS, SELF, sw_hankyu2300_1_gfx_main,position_in_vehid_chain_from_end){
      0: sw_hankyu2300_1_end;
      default: sw_hankyu2300_1_fake_head_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_hankyu2300_livery_1,vehicle_type_id){
      hankyu2300: sw_hankyu2300_1_front;
      default: sw_hankyu2300_1_gfx_main;
    }




      switch(FEAT_TRAINS, PARENT, sw_hankyu2300_2_front,vehicle_is_reversed){
        1: hankyu2300_2_front;
        hankyu2300_2_front_mot;
      }
      switch(FEAT_TRAINS, PARENT, sw_hankyu2300_2_end,vehicle_is_reversed){
        1: hankyu2300_2_end_mot;
        hankyu2300_2_end;
      }


    switch(FEAT_TRAINS, SELF, sw_hankyu2300_2_panto_placer_1,position_in_vehid_chain %2){
      1: hankyu2300_2_mot;
      hankyu2300_2_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_hankyu2300_2_panto_placer_1_rev,position_in_vehid_chain_from_end %2){
      0: hankyu2300_2_mot;
      hankyu2300_2_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_hankyu2300_2_panto_placer_main_1,vehicle_is_reversed){
      1: sw_hankyu2300_2_panto_placer_1_rev;
      sw_hankyu2300_2_panto_placer_1;
    }

    switch(FEAT_TRAINS, SELF, sw_hankyu2300_2_panto_placer_2,position_in_vehid_chain %4){
      3: hankyu2300_2_mot;
      hankyu2300_2_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_hankyu2300_2_panto_placer_2_rev,position_in_vehid_chain_from_end %4){
      0: hankyu2300_2_mot;
      hankyu2300_2_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_hankyu2300_2_panto_placer_main_2,vehicle_is_reversed){
      1: sw_hankyu2300_2_panto_placer_2_rev;
      sw_hankyu2300_2_panto_placer_2;
    }

    switch(FEAT_TRAINS, SELF, sw_hankyu2300_2_panto_placer_main,num_vehs_in_vehid_chain+1){
      0..5: sw_hankyu2300_2_panto_placer_main_1;
      sw_hankyu2300_2_panto_placer_main_2;
    }

    switch(FEAT_TRAINS, SELF, sw_hankyu2300_2_gfx_main,position_in_vehid_chain_from_end){
      0: sw_hankyu2300_2_end;
      default: sw_hankyu2300_2_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_hankyu2300_livery_2,vehicle_type_id){
      hankyu2300: sw_hankyu2300_2_front;
      default: sw_hankyu2300_2_gfx_main;
    }


  switch(FEAT_TRAINS, PARENT, sw_hankyu2300_livery_0, current_year<1982){
    1: sw_hankyu2300_livery_1;
    sw_hankyu2300_livery_2;
  }

  switch(FEAT_TRAINS, PARENT, sw_hankyu2300_lv, cargo_subtype){
    0: sw_hankyu2300_livery_0;
    1: sw_hankyu2300_livery_1;
    2: sw_hankyu2300_livery_2;
  }
  switch(FEAT_TRAINS, SELF, sw_hankyu2300_lv_desc, cargo_subtype){
    0: string(LV_RANDOM);
    1: string(LV_DEFAULT);
    2: string(LV_MODERN);
  }


  switch(FEAT_TRAINS, SELF, sw_hankyu2300_capacity,position_in_vehid_chain_from_end){
    0: 140;
    default: 150;
  }
  switch(FEAT_TRAINS, SELF, sw_hankyu2300_capacity_1,position_in_vehid_chain){
    0: 140;
    default: sw_hankyu2300_capacity;
  }
  switch(FEAT_TRAINS, SELF, sw_hankyu2300_capacity_main,vehicle_type_id){
    mu_car: sw_hankyu2300_capacity;
    sw_hankyu2300_capacity_1;
  }

  switch(FEAT_TRAINS, SELF, sw_hankyu2300_power_main_1,position_in_vehid_chain_from_end%2){
    1:return 150;
    return 0;
  }
  switch(FEAT_TRAINS, SELF, sw_hankyu2300_power_main,vehicle_type_id){
    hankyu2300: return 150;
    sw_hankyu2300_power_main_1;
  }

item(FEAT_TRAINS, hankyu2300) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_HANKYU), "2300", string(STR_NAME_SERIES));
        introduction_date: date(1960, 1, 1);
        model_life: 2015-1960;
        vehicle_life: 30;
        reliability_decay: 10;
        variant_group: 2709;

        cost_factor: 19;
        running_cost_factor: 49;

        speed: 100 km/h;
        track_type: TR_1435_DC;
        weight: 30 ton;
        climates_available: param_disable_hankyu == 0 ? ALL_CLIMATES : NO_CLIMATE;

          cargo_capacity: 1;
          power: 1 kW;
          ai_special_flag: AI_FLAG_PASSENGER;
          sprite_id: SPRITE_ID_NEW_TRAIN;
          misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
          refittable_cargo_classes: bitmask(CC_PASSENGERS);

          running_cost_base: RUNNING_COST_ELECTRIC;
          engine_class: ENGINE_CLASS_ELECTRIC;
          visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

          tractive_effort_coefficient: 0.3;
          air_drag_coefficient: 0.07;
          bitmask_vehicle_info: 0;
          length: 8;
    }
 graphics {
    purchase: hankyu2300_purchase;
  default: sw_hankyu2300_lv;
  start_stop: sw_stop_start_2;
  power: sw_hankyu2300_power_main()*4*1342/1000;
  loading_speed: param_loading_3D;
  cargo_capacity: sw_hankyu2300_capacity_main()*param_capacity_mod/3;
  can_attach_wagon: sw_1435_attach_vehid;
  cargo_subtype_text:sw_hankyu2300_lv_desc;
  additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_RANGE, 2,7)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string( STR_OPERATOR, string(STR_HANKYU)));
    }
    livery_override(mu_car){
    cargo_subtype_text:sw_hankyu2300_lv_desc;
   loading_speed: param_loading_3D;
   cargo_capacity: sw_hankyu2300_capacity_main()*param_capacity_mod/3;
   default: sw_hankyu2300_lv;
   power: sw_hankyu2300_power_main()*4*1342/1000;
   weight: 31;
  }
}
# 315 "src/_private.pnml" 2
# 1 "src/private/Kansai/hankyu/hankyu2800.pnml" 1

spriteset(hankyu2800_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu2000/hankyu2800_1.png"){ tmpl_purchase_1c(0, 50) }
spriteset(hankyu2800_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu2000/hankyu2800_1.png"){ tmpl_purchase_2c(0, 125) }
switch(FEAT_TRAINS, SELF, hankyu2800_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_hankyu; 1: hankyu2800_purchase_c1; 2: hankyu2800_purchase_c2;}

  spriteset(hankyu2800_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu2000/hankyu2800_1.png"){ tmpl_std(0, 0) }
  spriteset(hankyu2800_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu2000/hankyu2800_1.png"){ tmpl_std_rev(0, 25) }
  spriteset(hankyu2800_1_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu2000/hankyu2800_1.png"){ tmpl_std(0, 25) }
  spriteset(hankyu2800_1_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu2000/hankyu2800_1.png"){ tmpl_std(0, 50) }
  spriteset(hankyu2800_1_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu2000/hankyu2800_1.png"){ tmpl_std_rev(0, 75) }
  spriteset(hankyu2800_1_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu2000/hankyu2800_1.png"){ tmpl_std(0, 75) }
  spriteset(hankyu2800_1_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu2000/hankyu2800_1.png"){ tmpl_symm(0, 100) }
  spriteset(hankyu2800_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu2000/hankyu2800_1.png"){ tmpl_symm(0, 125) }


  spriteset(hankyu2800_2_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu2000/hankyu2800_2.png"){ tmpl_std(0, 0) }
  spriteset(hankyu2800_2_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu2000/hankyu2800_2.png"){ tmpl_std_rev(0, 25) }
  spriteset(hankyu2800_2_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu2000/hankyu2800_2.png"){ tmpl_std(0, 25) }
  spriteset(hankyu2800_2_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu2000/hankyu2800_2.png"){ tmpl_std(0, 50) }
  spriteset(hankyu2800_2_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu2000/hankyu2800_2.png"){ tmpl_std_rev(0, 75) }
  spriteset(hankyu2800_2_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu2000/hankyu2800_2.png"){ tmpl_std(0, 75) }
  spriteset(hankyu2800_2_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu2000/hankyu2800_2.png"){ tmpl_symm(0, 100) }
  spriteset(hankyu2800_2_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu2000/hankyu2800_2.png"){ tmpl_symm(0, 125) }




      switch(FEAT_TRAINS, PARENT, sw_hankyu2800_1_front_gfx,current_year<1972){
        1: hankyu2800_1_front;
        hankyu2800_2_front;
      }
      switch(FEAT_TRAINS, PARENT, sw_hankyu2800_1_end_gfx,current_year<1972){
        1: hankyu2800_1_end;
        hankyu2800_2_end;
      }
      switch(FEAT_TRAINS, PARENT, sw_hankyu2800_1_end_rev_gfx,current_year<1972){
        1: hankyu2800_1_end_rev;
        hankyu2800_2_end_rev;
      }
      switch(FEAT_TRAINS, PARENT, sw_hankyu2800_1_front_mot_gfx,current_year<1972){
        1: hankyu2800_1_front_mot;
        hankyu2800_2_front_mot;
      }
      switch(FEAT_TRAINS, PARENT, sw_hankyu2800_1_end_mot_gfx,current_year<1972){
        1: hankyu2800_1_end_mot;
        hankyu2800_2_end_mot;
      }
      switch(FEAT_TRAINS, PARENT, sw_hankyu2800_1_end_mot_rev_gfx,current_year<1972){
        1: hankyu2800_1_end_mot_rev;
        hankyu2800_2_end_mot_rev;
      }
      switch(FEAT_TRAINS, PARENT, sw_hankyu2800_1_mot_gfx,current_year<1972){
        1: hankyu2800_1_mot;
        hankyu2800_2_mot;
      }
      switch(FEAT_TRAINS, PARENT, sw_hankyu2800_1_wag_gfx,current_year<1972){
        1: hankyu2800_1_wag;
        hankyu2800_2_wag;
      }


      switch(FEAT_TRAINS, PARENT, sw_hankyu2800_1_front,vehicle_is_reversed){
        1: sw_hankyu2800_1_front_gfx;
        sw_hankyu2800_1_front_mot_gfx;
      }
      switch(FEAT_TRAINS, PARENT, sw_hankyu2800_1_end,vehicle_is_reversed){
        1: sw_hankyu2800_1_end_mot_gfx;
        sw_hankyu2800_1_end_gfx;
      }


    switch(FEAT_TRAINS, SELF, sw_hankyu2800_1_panto_placer_1,position_in_vehid_chain %4){
      3: sw_hankyu2800_1_mot_gfx;
      sw_hankyu2800_1_wag_gfx;
    }
    switch(FEAT_TRAINS, SELF, sw_hankyu2800_1_panto_placer_1_rev,position_in_vehid_chain_from_end %4){
      0: sw_hankyu2800_1_mot_gfx;
      sw_hankyu2800_1_wag_gfx;
    }
    switch(FEAT_TRAINS, PARENT, sw_hankyu2800_1_panto_placer_main_1,vehicle_is_reversed){
      1: sw_hankyu2800_1_panto_placer_1_rev;
      sw_hankyu2800_1_panto_placer_1;
    }
# 99 "src/private/Kansai/hankyu/hankyu2800.pnml"
      switch(FEAT_TRAINS, SELF, sw_hankyu2800_1_fake_head_placer_1,position_in_vehid_chain){
        0: sw_hankyu2800_1_end_gfx;
        1: sw_hankyu2800_1_end_mot_rev_gfx;
        sw_hankyu2800_1_panto_placer_main_1;
      }
      switch(FEAT_TRAINS, SELF, sw_hankyu2800_1_fake_head_placer_1_rev,position_in_vehid_chain_from_end-1){
        0: sw_hankyu2800_1_end_rev_gfx;
        1: sw_hankyu2800_1_end_mot_gfx;
        sw_hankyu2800_1_panto_placer_main_1;
      }
      switch(FEAT_TRAINS, PARENT, sw_hankyu2800_1_fake_head_placer_main_1,vehicle_is_reversed){
        1: sw_hankyu2800_1_fake_head_placer_1_rev;
        sw_hankyu2800_1_fake_head_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_hankyu2800_1_fake_head_placer_2,position_in_vehid_chain){
        2: sw_hankyu2800_1_end_gfx;
        3: sw_hankyu2800_1_end_mot_rev_gfx;
        sw_hankyu2800_1_panto_placer_main_1;
      }
      switch(FEAT_TRAINS, SELF, sw_hankyu2800_1_fake_head_placer_2_rev,position_in_vehid_chain_from_end-1){
        2: sw_hankyu2800_1_end_rev_gfx;
        3: sw_hankyu2800_1_end_mot_gfx;
        sw_hankyu2800_1_panto_placer_main_1;
      }
      switch(FEAT_TRAINS, PARENT, sw_hankyu2800_1_fake_head_placer_main_2,vehicle_is_reversed){
        1: sw_hankyu2800_1_fake_head_placer_2_rev;
        sw_hankyu2800_1_fake_head_placer_2;
      }

      switch(FEAT_TRAINS, SELF, sw_hankyu2800_1_fake_head_placer_3,position_in_vehid_chain){
        1: sw_hankyu2800_1_end_gfx;
        2: sw_hankyu2800_1_end_mot_rev_gfx;
        sw_hankyu2800_1_wag_gfx;
      }
      switch(FEAT_TRAINS, SELF, sw_hankyu2800_1_fake_head_placer_3_rev,position_in_vehid_chain_from_end-1){
        1: sw_hankyu2800_1_end_rev_gfx;
        2: sw_hankyu2800_1_end_mot_gfx;
        sw_hankyu2800_1_wag_gfx;
      }
      switch(FEAT_TRAINS, PARENT, sw_hankyu2800_1_fake_head_placer_main_3,vehicle_is_reversed){
        1: sw_hankyu2800_1_fake_head_placer_3_rev;
        sw_hankyu2800_1_fake_head_placer_3;
      }

      switch(FEAT_TRAINS, SELF, sw_hankyu2800_1_fake_head_placer_4,position_in_vehid_chain%2){
        0: sw_hankyu2800_1_end_gfx;
        1: sw_hankyu2800_1_end_mot_rev_gfx;
        sw_hankyu2800_1_panto_placer_main_1;
      }
      switch(FEAT_TRAINS, SELF, sw_hankyu2800_1_fake_head_placer_4_rev,position_in_vehid_chain_from_end%2){
        0: sw_hankyu2800_1_end_mot_gfx;
        1: sw_hankyu2800_1_end_rev_gfx;
        sw_hankyu2800_1_panto_placer_main_1;
      }
      switch(FEAT_TRAINS, PARENT, sw_hankyu2800_1_fake_head_placer_main_4,vehicle_is_reversed){
        1: sw_hankyu2800_1_fake_head_placer_4_rev;
        sw_hankyu2800_1_fake_head_placer_4;
      }

      random_switch(FEAT_TRAINS, PARENT, sw_hankyu2800_1_fake_head_placer_main_0_1){
        1:sw_hankyu2800_1_fake_head_placer_main_2;
        1:sw_hankyu2800_1_fake_head_placer_main_3;
      }
      random_switch(FEAT_TRAINS, PARENT, sw_hankyu2800_1_fake_head_placer_main_0_2){
        1:sw_hankyu2800_1_fake_head_placer_main_1;
        2:sw_hankyu2800_1_panto_placer_main_1;
      }
      random_switch(FEAT_TRAINS, PARENT, sw_hankyu2800_1_fake_head_placer_main_0_3){
        1:sw_hankyu2800_1_fake_head_placer_main_4;
        2:sw_hankyu2800_1_fake_head_placer_main_2;
      }
      switch(FEAT_TRAINS, SELF, sw_hankyu2800_1_fake_head_placer_main,num_vehs_in_vehid_chain+1){
        4: sw_hankyu2800_1_fake_head_placer_main_0_2;
        5: sw_hankyu2800_1_fake_head_placer_main_1;
        7: sw_hankyu2800_1_fake_head_placer_main_0_1;
        8: sw_hankyu2800_1_fake_head_placer_main_0_3;
        sw_hankyu2800_1_fake_head_placer_main_2;
      }

    switch(FEAT_TRAINS, SELF, sw_hankyu2800_1_gfx_main,position_in_vehid_chain_from_end){
      0: sw_hankyu2800_1_end;
      default: sw_hankyu2800_1_fake_head_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_hankyu2800_lv,vehicle_type_id){
      hankyu2800: sw_hankyu2800_1_front;
      default: sw_hankyu2800_1_gfx_main;
    }



  switch(FEAT_TRAINS, SELF, sw_hankyu2800_capacity,position_in_vehid_chain_from_end){
    0: 140;
    default: 150;
  }
  switch(FEAT_TRAINS, SELF, sw_hankyu2800_capacity_1,position_in_vehid_chain){
    0: 140;
    default: sw_hankyu2800_capacity;
  }
  switch(FEAT_TRAINS, SELF, sw_hankyu2800_capacity_main,vehicle_type_id){
    mu_car: sw_hankyu2800_capacity;
    sw_hankyu2800_capacity_1;
  }

  switch(FEAT_TRAINS, SELF, sw_hankyu2800_power_main_1,position_in_vehid_chain_from_end%2){
    1:return 150;
    return 0;
  }
  switch(FEAT_TRAINS, SELF, sw_hankyu2800_power_main,vehicle_type_id){
    hankyu2800: return 150;
    sw_hankyu2800_power_main_1;
  }

item(FEAT_TRAINS, hankyu2800) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_HANKYU), "2800", string(STR_NAME_SERIES));
        introduction_date: date(1964, 1, 1);
        model_life: 1995-1964;
        vehicle_life: 30;
        reliability_decay: 10;

        cost_factor: 20;
        running_cost_factor: 50;

        speed: 110 km/h;
        track_type: TR_1435_DC;
        weight: 31 ton;
        climates_available: param_disable_hankyu == 0 ? ALL_CLIMATES : NO_CLIMATE;

          cargo_capacity: 1;
          power: 1 kW;
          ai_special_flag: AI_FLAG_PASSENGER;
          sprite_id: SPRITE_ID_NEW_TRAIN;
          misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
          refittable_cargo_classes: bitmask(CC_PASSENGERS);

          running_cost_base: RUNNING_COST_ELECTRIC;
          engine_class: ENGINE_CLASS_ELECTRIC;
          visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

          tractive_effort_coefficient: 0.3;
          air_drag_coefficient: 0.07;
          bitmask_vehicle_info: 0;
          length: 8;
    }
 graphics {
    purchase: hankyu2800_purchase;
  default: sw_hankyu2800_lv;
  start_stop: sw_stop_start_2;
  power: sw_hankyu2800_power_main()*4*1342/1000;
  loading_speed: param_loading_2D;
  cargo_capacity: sw_hankyu2800_capacity_main()*param_capacity_mod/3;
  can_attach_wagon: sw_1435_attach_vehid;

  additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 2)),
  string(STR_FORMATION, string(STR_NUM_CARS_RANGE, 4,8)),
  string(STR_USAGE, string(STR_EXPRESS)),
  string( STR_OPERATOR, string(STR_HANKYU)));
    }
    livery_override(mu_car){
        cargo_subtype_text:sw_empty_desc;
        loading_speed: param_loading_2D;
   cargo_capacity: sw_hankyu2800_capacity_main()*param_capacity_mod/3;
   default: sw_hankyu2800_lv;
   power: sw_hankyu2800_power_main()*4*1342/1000;
   weight: 31;
  }
}
# 316 "src/_private.pnml" 2
# 1 "src/private/Kansai/hankyu/hankyu3000.pnml" 1

spriteset(hankyu3000_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu3000/hankyu3000_1.png"){ tmpl_purchase_1c(0, 0) }
spriteset(hankyu3000_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu3000/hankyu3000_1.png"){ tmpl_purchase_2c(0, 100) }
switch(FEAT_TRAINS, SELF, hankyu3000_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_hankyu; 1: hankyu3000_purchase_c1; 2: hankyu3000_purchase_c2;}

  spriteset(hankyu3000_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu3000/hankyu3000_1.png"){ tmpl_std(0, 0) }
  spriteset(hankyu3000_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu3000/hankyu3000_1.png"){ tmpl_std_rev(0, 25) }
  spriteset(hankyu3000_1_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu3000/hankyu3000_1.png"){ tmpl_std(0, 25) }
  spriteset(hankyu3000_1_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu3000/hankyu3000_1.png"){ tmpl_std(0, 50) }
  spriteset(hankyu3000_1_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu3000/hankyu3000_1.png"){ tmpl_std_rev(0, 75) }
  spriteset(hankyu3000_1_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu3000/hankyu3000_1.png"){ tmpl_std(0, 75) }
  spriteset(hankyu3000_1_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu3000/hankyu3000_1.png"){ tmpl_std_rev(0, 100) }
  spriteset(hankyu3000_1_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu3000/hankyu3000_1.png"){ tmpl_std(0, 100) }
  spriteset(hankyu3000_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu3000/hankyu3000_1.png"){ tmpl_symm(0, 125) }


  spriteset(hankyu3000_2_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu3000/hankyu3000_2.png"){ tmpl_std(0, 0) }
  spriteset(hankyu3000_2_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu3000/hankyu3000_2.png"){ tmpl_std_rev(0, 25) }
  spriteset(hankyu3000_2_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu3000/hankyu3000_2.png"){ tmpl_std(0, 25) }
  spriteset(hankyu3000_2_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu3000/hankyu3000_2.png"){ tmpl_std(0, 50) }
  spriteset(hankyu3000_2_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu3000/hankyu3000_2.png"){ tmpl_std_rev(0, 75) }
  spriteset(hankyu3000_2_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu3000/hankyu3000_2.png"){ tmpl_std(0, 75) }
  spriteset(hankyu3000_2_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu3000/hankyu3000_2.png"){ tmpl_symm(0, 100) }
  spriteset(hankyu3000_2_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu3000/hankyu3000_2.png"){ tmpl_symm(0, 125) }


  spriteset(hankyu3000_3_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu3000/hankyu3000_3.png"){ tmpl_std(0, 0) }
  spriteset(hankyu3000_3_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu3000/hankyu3000_3.png"){ tmpl_std_rev(0, 25) }
  spriteset(hankyu3000_3_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu3000/hankyu3000_3.png"){ tmpl_std(0, 25) }
  spriteset(hankyu3000_3_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu3000/hankyu3000_3.png"){ tmpl_std(0, 50) }
  spriteset(hankyu3000_3_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu3000/hankyu3000_3.png"){ tmpl_std_rev(0, 75) }
  spriteset(hankyu3000_3_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu3000/hankyu3000_3.png"){ tmpl_std(0, 75) }


  spriteset(hankyu3000_4_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu3000/hankyu3000_4.png"){ tmpl_high_skirt(0, 0) }
  spriteset(hankyu3000_4_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu3000/hankyu3000_4.png"){ tmpl_high_skirt_rev(0, 25) }
  spriteset(hankyu3000_4_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu3000/hankyu3000_4.png"){ tmpl_high_skirt(0, 25) }
  spriteset(hankyu3000_4_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu3000/hankyu3000_4.png"){ tmpl_high_skirt(0, 50) }
  spriteset(hankyu3000_4_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu3000/hankyu3000_4.png"){ tmpl_high_skirt_rev(0, 75) }
  spriteset(hankyu3000_4_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu3000/hankyu3000_4.png"){ tmpl_high_skirt(0, 75) }




      switch(FEAT_TRAINS, PARENT, sw_hankyu3000_1_front,vehicle_is_reversed){
        1: hankyu3000_1_front_mot;
        hankyu3000_1_front;
      }
      switch(FEAT_TRAINS, PARENT, sw_hankyu3000_1_end,vehicle_is_reversed){
        1: hankyu3000_1_end;
        hankyu3000_1_end_mot;
      }


    switch(FEAT_TRAINS, SELF, sw_hankyu3000_1_panto_placer_1,position_in_vehid_chain %5){
      0: hankyu3000_1_mot;
      2: hankyu3000_1_mot;
      hankyu3000_1_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_hankyu3000_1_panto_placer_1_rev,position_in_vehid_chain_from_end %5-1){
      0: hankyu3000_1_mot_rev;
      2: hankyu3000_1_mot_rev;
      hankyu3000_1_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_hankyu3000_1_panto_placer_main_1,vehicle_is_reversed){
      1: sw_hankyu3000_1_panto_placer_1_rev;
      sw_hankyu3000_1_panto_placer_1;
    }

    switch(FEAT_TRAINS, SELF, sw_hankyu3000_1_panto_placer_2,position_in_vehid_chain %4){
      1: hankyu3000_1_mot;
      hankyu3000_1_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_hankyu3000_1_panto_placer_2_rev,position_in_vehid_chain_from_end %4-1){
      1: hankyu3000_1_mot_rev;
      hankyu3000_1_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_hankyu3000_1_panto_placer_main_2,vehicle_is_reversed){
      1: sw_hankyu3000_1_panto_placer_2_rev;
      sw_hankyu3000_1_panto_placer_2;
    }
    random_switch(FEAT_TRAINS, PARENT, sw_hankyu3000_1_panto_placer_main_0){
      1: sw_hankyu3000_1_panto_placer_main_1;
      1: sw_hankyu3000_1_panto_placer_main_2;
    }
    switch(FEAT_TRAINS, SELF, sw_hankyu3000_1_panto_placer_main,num_vehs_in_vehid_chain+1){
        8: sw_hankyu3000_1_panto_placer_main_0;
        sw_hankyu3000_1_panto_placer_main_1;
      }


      switch(FEAT_TRAINS, SELF, sw_hankyu3000_1_fake_head_placer_1,position_in_vehid_chain){
        2: hankyu3000_1_end_mot;
        3: hankyu3000_1_end_rev;
        sw_hankyu3000_1_panto_placer_main;
      }
      switch(FEAT_TRAINS, SELF, sw_hankyu3000_1_fake_head_placer_1_rev,position_in_vehid_chain_from_end-1){
        2: hankyu3000_1_end_mot_rev;
        3: hankyu3000_1_end;
        sw_hankyu3000_1_panto_placer_main;
      }
      switch(FEAT_TRAINS, PARENT, sw_hankyu3000_1_fake_head_placer_main_1,vehicle_is_reversed){
        1: sw_hankyu3000_1_fake_head_placer_1_rev;
        sw_hankyu3000_1_fake_head_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_hankyu3000_1_fake_head_placer_2,position_in_vehid_chain){
        1: hankyu3000_1_end_mot;
        2: hankyu3000_1_end_rev;
        sw_hankyu3000_1_panto_placer_main_1;
      }
      switch(FEAT_TRAINS, SELF, sw_hankyu3000_1_fake_head_placer_2_rev,position_in_vehid_chain_from_end-1){
        1: hankyu3000_1_end_mot_rev;
        2: hankyu3000_1_end;
        sw_hankyu3000_1_panto_placer_main_1;
      }
      switch(FEAT_TRAINS, PARENT, sw_hankyu3000_1_fake_head_placer_main_2,vehicle_is_reversed){
        1: sw_hankyu3000_1_fake_head_placer_2_rev;
        sw_hankyu3000_1_fake_head_placer_2;
      }

      switch(FEAT_TRAINS, SELF, sw_hankyu3000_1_fake_head_placer_main,num_vehs_in_vehid_chain+1){
        0..4: sw_hankyu3000_1_panto_placer_main_1;
        5..6: sw_hankyu3000_1_fake_head_placer_main_2;
        sw_hankyu3000_1_fake_head_placer_main_1;
      }

    switch(FEAT_TRAINS, SELF, sw_hankyu3000_1_gfx_main,position_in_vehid_chain_from_end){
      0: sw_hankyu3000_1_end;
      default: sw_hankyu3000_1_fake_head_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_hankyu3000_livery_1,vehicle_type_id){
      hankyu3000: sw_hankyu3000_1_front;
      default: sw_hankyu3000_1_gfx_main;
    }




      switch(FEAT_TRAINS, PARENT, sw_hankyu3000_2_front,vehicle_is_reversed==0&&num_vehs_in_consist==2){
        1: hankyu3000_2_front_mot;
        hankyu3000_2_front;
      }
      switch(FEAT_TRAINS, PARENT, sw_hankyu3000_2_end,vehicle_is_reversed==1&&num_vehs_in_consist==2){
        1: hankyu3000_2_end_mot;
        hankyu3000_2_end;
      }


    switch(FEAT_TRAINS, SELF, sw_hankyu3000_2_panto_placer_1,position_in_vehid_chain %3){
      0: hankyu3000_2_mot;
      hankyu3000_2_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_hankyu3000_2_panto_placer_1_rev,position_in_vehid_chain_from_end %3-1){
      0: hankyu3000_2_mot;
      hankyu3000_2_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_hankyu3000_2_panto_placer_main_1,vehicle_is_reversed){
      1: sw_hankyu3000_2_panto_placer_1_rev;
      sw_hankyu3000_2_panto_placer_1;
    }

    switch(FEAT_TRAINS, SELF, sw_hankyu3000_2_panto_placer_2,position_in_vehid_chain %7){
      0: hankyu3000_2_mot;
      4: hankyu3000_2_mot;
      hankyu3000_2_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_hankyu3000_2_panto_placer_2_rev,position_in_vehid_chain_from_end %7-1){
      0: hankyu3000_2_mot;
      4: hankyu3000_2_mot;
      hankyu3000_2_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_hankyu3000_2_panto_placer_main_2,vehicle_is_reversed){
      1: sw_hankyu3000_2_panto_placer_2_rev;
      sw_hankyu3000_2_panto_placer_2;
    }

    switch(FEAT_TRAINS, SELF, sw_hankyu3000_2_panto_placer_3,position_in_vehid_chain %3){
      1: hankyu3000_2_mot;
      hankyu3000_2_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_hankyu3000_2_panto_placer_3_rev,position_in_vehid_chain_from_end %3-1){
      1: hankyu3000_2_mot;
      hankyu3000_2_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_hankyu3000_2_panto_placer_main_3,vehicle_is_reversed){
      1: sw_hankyu3000_2_panto_placer_3_rev;
      sw_hankyu3000_2_panto_placer_3;
    }

    switch(FEAT_TRAINS, SELF, sw_hankyu3000_2_panto_placer_main,num_vehs_in_vehid_chain+1){
      5: sw_hankyu3000_2_panto_placer_main_3;
      6: sw_hankyu3000_2_panto_placer_main_1;
      sw_hankyu3000_2_panto_placer_main_2;
    }


      switch(FEAT_TRAINS, SELF, sw_hankyu3000_2_fake_head_placer_1,position_in_vehid_chain){
        2: hankyu3000_2_end;
        3: hankyu3000_2_end_rev;
        sw_hankyu3000_2_panto_placer_main;
      }
      switch(FEAT_TRAINS, SELF, sw_hankyu3000_2_fake_head_placer_1_rev,position_in_vehid_chain_from_end-1){
        2: hankyu3000_2_end_rev;
        3: hankyu3000_2_end;
        sw_hankyu3000_2_panto_placer_main;
      }
      switch(FEAT_TRAINS, PARENT, sw_hankyu3000_2_fake_head_placer_main_1,vehicle_is_reversed){
        1: sw_hankyu3000_2_fake_head_placer_1_rev;
        sw_hankyu3000_2_fake_head_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_hankyu3000_2_fake_head_placer_2,position_in_vehid_chain){
        1: hankyu3000_2_end;
        2: hankyu3000_2_end_rev;
        sw_hankyu3000_2_panto_placer_main_1;
      }
      switch(FEAT_TRAINS, SELF, sw_hankyu3000_2_fake_head_placer_2_rev,position_in_vehid_chain_from_end-1){
        1: hankyu3000_2_end_rev;
        2: hankyu3000_2_end;
        sw_hankyu3000_2_panto_placer_main_1;
      }
      switch(FEAT_TRAINS, PARENT, sw_hankyu3000_2_fake_head_placer_main_2,vehicle_is_reversed){
        1: sw_hankyu3000_2_fake_head_placer_2_rev;
        sw_hankyu3000_2_fake_head_placer_2;
      }

      random_switch(FEAT_TRAINS, PARENT, sw_hankyu3000_2_fake_head_placer_main_0){
        2: sw_hankyu3000_2_panto_placer_main_1;
        1: sw_hankyu3000_2_fake_head_placer_main_2;
      }
      switch(FEAT_TRAINS, SELF, sw_hankyu3000_2_fake_head_placer_main_0_1,num_vehs_in_vehid_chain+1){
        0..5: sw_hankyu3000_2_panto_placer_main_1;
        6: sw_hankyu3000_2_fake_head_placer_main_0;
        sw_hankyu3000_2_fake_head_placer_main_1;
      }
      random_switch(FEAT_TRAINS, PARENT, sw_hankyu3000_2_fake_head_placer_main_0_2) {
        2: sw_hankyu3000_2_fake_head_placer_main_0_1;
        1: sw_hankyu3000_2_panto_placer_main;
      }
      switch(FEAT_TRAINS, PARENT, sw_hankyu3000_2_fake_head_placer_main, current_year>1996){
        1: sw_hankyu3000_2_fake_head_placer_main_0_2;
        sw_hankyu3000_2_fake_head_placer_main_0_1;
      }

    switch(FEAT_TRAINS, SELF, sw_hankyu3000_2_gfx_main,position_in_vehid_chain_from_end){
      0: sw_hankyu3000_2_end;
      default: sw_hankyu3000_2_fake_head_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_hankyu3000_livery_2,vehicle_type_id){
      hankyu3000: sw_hankyu3000_2_front;
      default: sw_hankyu3000_2_gfx_main;
    }



      switch(FEAT_TRAINS, PARENT, sw_hankyu3000_3_front,vehicle_is_reversed==0&&num_vehs_in_consist==2){
        1: hankyu3000_3_front_mot;
        hankyu3000_3_front;
      }
      switch(FEAT_TRAINS, PARENT, sw_hankyu3000_3_end,vehicle_is_reversed==1&&num_vehs_in_consist==2){
        1: hankyu3000_3_end_mot;
        hankyu3000_3_end;
      }

    switch(FEAT_TRAINS, SELF, sw_hankyu3000_3_gfx_main,position_in_vehid_chain_from_end){
      0: sw_hankyu3000_3_end;
      default: sw_hankyu3000_2_fake_head_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_hankyu3000_livery_3,vehicle_type_id){
      hankyu3000: sw_hankyu3000_3_front;
      default: sw_hankyu3000_3_gfx_main;
    }



      switch(FEAT_TRAINS, PARENT, sw_hankyu3000_4_front,vehicle_is_reversed==0&&num_vehs_in_consist==2){
        1: hankyu3000_4_front_mot;
        hankyu3000_4_front;
      }
      switch(FEAT_TRAINS, PARENT, sw_hankyu3000_4_end,vehicle_is_reversed==1&&num_vehs_in_consist==2){
        1: hankyu3000_4_end_mot;
        hankyu3000_4_end;
      }

    switch(FEAT_TRAINS, SELF, sw_hankyu3000_4_gfx_main,position_in_vehid_chain_from_end){
      0: sw_hankyu3000_4_end;
      default: sw_hankyu3000_2_fake_head_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_hankyu3000_livery_4,vehicle_type_id){
      hankyu3000: sw_hankyu3000_4_front;
      default: sw_hankyu3000_4_gfx_main;
    }



  switch(FEAT_TRAINS, PARENT, sw_hankyu3000_livery_0, current_year){
    0..1974: sw_hankyu3000_livery_1;
    1975..1980: sw_hankyu3000_livery_2;
    1981..1994: sw_hankyu3000_livery_3;
    sw_hankyu3000_livery_4;
  }
  switch(FEAT_TRAINS, PARENT, sw_hankyu3000_livery_2_1, current_year){
    0..1980: sw_hankyu3000_livery_2;
    1981..1994: sw_hankyu3000_livery_3;
    sw_hankyu3000_livery_4;
  }

  switch(FEAT_TRAINS, PARENT, sw_hankyu3000_lv, cargo_subtype){
    0: sw_hankyu3000_livery_0;
    1: sw_hankyu3000_livery_1;
    2: sw_hankyu3000_livery_2_1;
  }
  switch(FEAT_TRAINS, SELF, sw_hankyu3000_lv_desc, cargo_subtype){
    0: string(LV_RANDOM);
    1: string(LV_DEFAULT);
    2: string(LV_MODERN);
  }


  switch(FEAT_TRAINS, SELF, sw_hankyu3000_capacity,position_in_vehid_chain_from_end){
    0: 140;
    default: 150;
  }
  switch(FEAT_TRAINS, SELF, sw_hankyu3000_capacity_1,position_in_vehid_chain){
    0: 140;
    default: sw_hankyu3000_capacity;
  }
  switch(FEAT_TRAINS, SELF, sw_hankyu3000_capacity_main,vehicle_type_id){
    mu_car: sw_hankyu3000_capacity;
    sw_hankyu3000_capacity_1;
  }

  switch(FEAT_TRAINS, SELF, sw_hankyu3000_power_main_1,position_in_vehid_chain_from_end%2){
    1:return 170;
    return 0;
  }
  switch(FEAT_TRAINS, SELF, sw_hankyu3000_power_main,vehicle_type_id){
    hankyu3000: return 170;
    sw_hankyu3000_power_main_1;
  }

item(FEAT_TRAINS, hankyu3000) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_HANKYU), "3000/3300", string(STR_NAME_SERIES));
        introduction_date: date(1964, 1, 1);
        model_life: 2020-1964;
        vehicle_life: 30;
        reliability_decay: 10;

        cost_factor: 19;
        running_cost_factor: 50;

        speed: 110 km/h;
        track_type: TR_1435_DC;
        weight: 30 ton;
        climates_available: param_disable_hankyu == 0 ? ALL_CLIMATES : NO_CLIMATE;

          cargo_capacity: 1;
          power: 1 kW;
          ai_special_flag: AI_FLAG_PASSENGER;
          sprite_id: SPRITE_ID_NEW_TRAIN;
          misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
          refittable_cargo_classes: bitmask(CC_PASSENGERS);

          running_cost_base: RUNNING_COST_ELECTRIC;
          engine_class: ENGINE_CLASS_ELECTRIC;
          visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

          tractive_effort_coefficient: 0.3;
          air_drag_coefficient: 0.07;
          bitmask_vehicle_info: 0;
          length: 8;
    }
 graphics {
    purchase: hankyu3000_purchase;
  default: sw_hankyu3000_lv;
  start_stop: sw_stop_start_2;
  power: sw_hankyu3000_power_main()*4*1342/1000;
  loading_speed: param_loading_3D;
  cargo_capacity: sw_hankyu3000_capacity_main()*param_capacity_mod/3;
  can_attach_wagon: sw_1435_attach_vehid;
  cargo_subtype_text:sw_hankyu3000_lv_desc;
  additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_RANGE, 3,8)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string( STR_OPERATOR, string(STR_HANKYU)));
    }
    livery_override(mu_car){
    cargo_subtype_text:sw_hankyu3000_lv_desc;
   loading_speed: param_loading_3D;
   cargo_capacity: sw_hankyu3000_capacity_main()*param_capacity_mod/3;
   default: sw_hankyu3000_lv;
   power: sw_hankyu3000_power_main()*4*1342/1000;
   weight: 31;
  }
}
# 317 "src/_private.pnml" 2
# 1 "src/private/Kansai/hankyu/hankyu5000.pnml" 1

spriteset(hankyu5000_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu3000/hankyu3000_1.png"){ tmpl_purchase_1c(0, 0) }
spriteset(hankyu5000_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu3000/hankyu3000_1.png"){ tmpl_purchase_2c(0, 125) }
switch(FEAT_TRAINS, SELF, hankyu5000_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_hankyu; 1: hankyu5000_purchase_c1; 2: hankyu5000_purchase_c2;}

  spriteset(hankyu5000_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu3000/hankyu3000_1.png"){ tmpl_std(0, 0) }
  spriteset(hankyu5000_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu3000/hankyu3000_1.png"){ tmpl_std_rev(0, 25) }
  spriteset(hankyu5000_1_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu3000/hankyu3000_1.png"){ tmpl_std(0, 25) }
  spriteset(hankyu5000_1_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu3000/hankyu3000_1.png"){ tmpl_std(0, 50) }
  spriteset(hankyu5000_1_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu3000/hankyu3000_1.png"){ tmpl_std_rev(0, 75) }
  spriteset(hankyu5000_1_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu3000/hankyu3000_1.png"){ tmpl_std(0, 75) }
  spriteset(hankyu5000_1_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu3000/hankyu3000_1.png"){ tmpl_std_rev(0, 100) }
  spriteset(hankyu5000_1_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu3000/hankyu3000_1.png"){ tmpl_std(0, 100) }
  spriteset(hankyu5000_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu3000/hankyu3000_1.png"){ tmpl_symm(0, 125) }


  spriteset(hankyu5000_2_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu5000/hankyu5000_2.png"){ tmpl_std(0, 0) }
  spriteset(hankyu5000_2_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu5000/hankyu5000_2.png"){ tmpl_std_rev(0, 25) }
  spriteset(hankyu5000_2_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu5000/hankyu5000_2.png"){ tmpl_std(0, 25) }
  spriteset(hankyu5000_2_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu5000/hankyu5000_2.png"){ tmpl_std(0, 50) }
  spriteset(hankyu5000_2_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu5000/hankyu5000_2.png"){ tmpl_std_rev(0, 75) }
  spriteset(hankyu5000_2_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu5000/hankyu5000_2.png"){ tmpl_std(0, 75) }
  spriteset(hankyu5000_2_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu5000/hankyu5000_2.png"){ tmpl_std_rev(0, 100) }
  spriteset(hankyu5000_2_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu5000/hankyu5000_2.png"){ tmpl_std(0, 100) }
  spriteset(hankyu5000_2_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu5000/hankyu5000_2.png"){ tmpl_symm(0, 125) }



  spriteset(hankyu5000_3_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu5000/hankyu5000_3.png"){ tmpl_std(0, 0) }
  spriteset(hankyu5000_3_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu5000/hankyu5000_3.png"){ tmpl_std_rev(0, 25) }
  spriteset(hankyu5000_3_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu5000/hankyu5000_3.png"){ tmpl_std(0, 25) }
  spriteset(hankyu5000_3_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu5000/hankyu5000_3.png"){ tmpl_std(0, 50) }
  spriteset(hankyu5000_3_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu5000/hankyu5000_3.png"){ tmpl_std_rev(0, 75) }
  spriteset(hankyu5000_3_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu5000/hankyu5000_3.png"){ tmpl_std(0, 75) }


  spriteset(hankyu5000_4_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu5000/hankyu5000_4.png"){ tmpl_high_skirt(0, 0) }
  spriteset(hankyu5000_4_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu5000/hankyu5000_4.png"){ tmpl_high_skirt_rev(0, 25) }
  spriteset(hankyu5000_4_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu5000/hankyu5000_4.png"){ tmpl_high_skirt(0, 25) }
  spriteset(hankyu5000_4_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu5000/hankyu5000_4.png"){ tmpl_high_skirt(0, 50) }
  spriteset(hankyu5000_4_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu5000/hankyu5000_4.png"){ tmpl_std_rev(0, 75) }
  spriteset(hankyu5000_4_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu5000/hankyu5000_4.png"){ tmpl_std(0, 75) }
  spriteset(hankyu5000_4_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu5000/hankyu5000_4.png"){ tmpl_std_rev(0, 100) }
  spriteset(hankyu5000_4_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu5000/hankyu5000_4.png"){ tmpl_std(0, 100) }
  spriteset(hankyu5000_4_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu5000/hankyu5000_4.png"){ tmpl_symm(0, 125) }





      switch(FEAT_TRAINS, SELF, sw_hankyu5000_1_front_gfx, current_year>1972){
      1: hankyu5000_2_front;
      hankyu5000_1_front;
    }
      switch(FEAT_TRAINS, SELF, sw_hankyu5000_1_end_gfx, current_year>1972){
      1: hankyu5000_2_end;
      hankyu5000_1_end;
    }
      switch(FEAT_TRAINS, SELF, sw_hankyu5000_1_end_rev_gfx, current_year>1972){
      1: hankyu5000_2_end_rev;
      hankyu5000_1_end_rev;
    }
      switch(FEAT_TRAINS, SELF, sw_hankyu5000_1_front_mot_gfx, current_year>1972){
      1: hankyu5000_2_front_mot;
      hankyu5000_1_front_mot;
    }
      switch(FEAT_TRAINS, SELF, sw_hankyu5000_1_end_mot_gfx, current_year>1972){
      1: hankyu5000_2_end_mot;
      hankyu5000_1_end_mot;
    }
      switch(FEAT_TRAINS, SELF, sw_hankyu5000_1_end_mot_rev_gfx, current_year>1972){
      1: hankyu5000_2_end_mot_rev;
      hankyu5000_1_end_mot_rev;
    }
      switch(FEAT_TRAINS, SELF, sw_hankyu5000_1_mot_gfx, current_year>1972){
      1: hankyu5000_2_mot;
      hankyu5000_1_mot;
    }
      switch(FEAT_TRAINS, SELF, sw_hankyu5000_1_mot_rev_gfx, current_year>1972){
      1: hankyu5000_2_mot_rev;
      hankyu5000_1_mot_rev;
    }
      switch(FEAT_TRAINS, SELF, sw_hankyu5000_1_wag_gfx, current_year>1972){
      1: hankyu5000_2_wag;
      hankyu5000_1_wag;
    }

      switch(FEAT_TRAINS, PARENT, sw_hankyu5000_1_front,vehicle_is_reversed==0&&num_vehs_in_consist<4){
        1: sw_hankyu5000_1_front_mot_gfx;
        sw_hankyu5000_1_front_gfx;
      }
      switch(FEAT_TRAINS, PARENT, sw_hankyu5000_1_end,vehicle_is_reversed==1&&num_vehs_in_consist<4){
        1: sw_hankyu5000_1_end_mot_gfx;
        sw_hankyu5000_1_end_gfx;
      }


    switch(FEAT_TRAINS, SELF, sw_hankyu5000_1_panto_placer_1,position_in_vehid_chain %3){
      2: sw_hankyu5000_1_mot_gfx;
      sw_hankyu5000_1_wag_gfx;
    }
    switch(FEAT_TRAINS, SELF, sw_hankyu5000_1_panto_placer_1_rev,position_in_vehid_chain_from_end %3){
      0: sw_hankyu5000_1_mot_rev_gfx;
      sw_hankyu5000_1_wag_gfx;
    }
    switch(FEAT_TRAINS, PARENT, sw_hankyu5000_1_panto_placer_main_1,vehicle_is_reversed){
      1: sw_hankyu5000_1_panto_placer_1_rev;
      sw_hankyu5000_1_panto_placer_1;
    }

    switch(FEAT_TRAINS, SELF, sw_hankyu5000_1_panto_placer_2,position_in_vehid_chain %2){
      1: sw_hankyu5000_1_mot_gfx;
      sw_hankyu5000_1_wag_gfx;
    }
    switch(FEAT_TRAINS, SELF, sw_hankyu5000_1_panto_placer_2_rev,position_in_vehid_chain_from_end %2){
      0: sw_hankyu5000_1_mot_rev_gfx;
      sw_hankyu5000_1_wag_gfx;
    }
    switch(FEAT_TRAINS, PARENT, sw_hankyu5000_1_panto_placer_main_2,vehicle_is_reversed){
      1: sw_hankyu5000_1_panto_placer_2_rev;
      sw_hankyu5000_1_panto_placer_2;
    }


      switch(FEAT_TRAINS, SELF, sw_hankyu5000_1_fake_head_placer_1,position_in_vehid_chain){
        2: sw_hankyu5000_1_end_mot_gfx;
        3: sw_hankyu5000_1_end_rev_gfx;
        sw_hankyu5000_1_panto_placer_main_1;
      }
      switch(FEAT_TRAINS, SELF, sw_hankyu5000_1_fake_head_placer_1_rev,position_in_vehid_chain_from_end-1){
        2: sw_hankyu5000_1_end_mot_rev_gfx;
        3: sw_hankyu5000_1_end_gfx;
        sw_hankyu5000_1_panto_placer_main_1;
      }
      switch(FEAT_TRAINS, PARENT, sw_hankyu5000_1_fake_head_placer_main_1,vehicle_is_reversed){
        1: sw_hankyu5000_1_fake_head_placer_1_rev;
        sw_hankyu5000_1_fake_head_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_hankyu5000_1_fake_head_placer_2,position_in_vehid_chain){
        2: sw_hankyu5000_1_end_gfx;
        3: sw_hankyu5000_1_end_rev_gfx;
        sw_hankyu5000_1_panto_placer_main_2;
      }
      switch(FEAT_TRAINS, SELF, sw_hankyu5000_1_fake_head_placer_2_rev,position_in_vehid_chain_from_end-1){
        2: sw_hankyu5000_1_end_rev_gfx;
        3: sw_hankyu5000_1_end_gfx;
        sw_hankyu5000_1_panto_placer_main_2;
      }
      switch(FEAT_TRAINS, PARENT, sw_hankyu5000_1_fake_head_placer_main_2,vehicle_is_reversed){
        1: sw_hankyu5000_1_fake_head_placer_2_rev;
        sw_hankyu5000_1_fake_head_placer_2;
      }

      switch(FEAT_TRAINS, SELF, sw_hankyu5000_1_fake_head_placer_3,position_in_vehid_chain){
        1: sw_hankyu5000_1_end_mot_gfx;
        2: sw_hankyu5000_1_end_rev_gfx;
        sw_hankyu5000_1_panto_placer_main_2;
      }
      switch(FEAT_TRAINS, SELF, sw_hankyu5000_1_fake_head_placer_3_rev,position_in_vehid_chain_from_end-1){
        1: sw_hankyu5000_1_end_mot_rev_gfx;
        2: sw_hankyu5000_1_end_gfx;
        sw_hankyu5000_1_panto_placer_main_2;
      }
      switch(FEAT_TRAINS, PARENT, sw_hankyu5000_1_fake_head_placer_main_3,vehicle_is_reversed){
        1: sw_hankyu5000_1_fake_head_placer_3_rev;
        sw_hankyu5000_1_fake_head_placer_3;
      }

      random_switch(FEAT_TRAINS, PARENT, sw_hankyu5000_1_fake_head_placer_main_0){
        1: sw_hankyu5000_1_fake_head_placer_main_2;
        1: sw_hankyu5000_1_fake_head_placer_main_1;
      }
      switch(FEAT_TRAINS, SELF, sw_hankyu5000_1_fake_head_placer_main,num_vehs_in_vehid_chain+1){
        6..7: sw_hankyu5000_1_fake_head_placer_main_3;
        8: sw_hankyu5000_1_fake_head_placer_main_0;
        sw_hankyu5000_1_fake_head_placer_main_2;
      }

    switch(FEAT_TRAINS, SELF, sw_hankyu5000_1_gfx_main,position_in_vehid_chain_from_end){
      0: sw_hankyu5000_1_end;
      default: sw_hankyu5000_1_fake_head_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_hankyu5000_livery_1,vehicle_type_id){
      hankyu5000: sw_hankyu5000_1_front;
      default: sw_hankyu5000_1_gfx_main;
    }



      switch(FEAT_TRAINS, PARENT, sw_hankyu5000_3_front,vehicle_is_reversed==0&&num_vehs_in_consist<4){
        1: hankyu5000_3_front_mot;
        hankyu5000_3_front;
      }
      switch(FEAT_TRAINS, PARENT, sw_hankyu5000_3_end,vehicle_is_reversed==1&&num_vehs_in_consist<4){
        1: hankyu5000_3_end_mot;
        hankyu5000_3_end;
      }


    switch(FEAT_TRAINS, SELF, sw_hankyu5000_3_panto_placer_1,position_in_vehid_chain %3){
      2: hankyu5000_2_mot;
      hankyu5000_2_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_hankyu5000_3_panto_placer_1_rev,position_in_vehid_chain_from_end %3){
      0: hankyu5000_2_mot_rev;
      hankyu5000_2_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_hankyu5000_3_panto_placer_main_1,vehicle_is_reversed){
      1: sw_hankyu5000_3_panto_placer_1_rev;
      sw_hankyu5000_3_panto_placer_1;
    }

    switch(FEAT_TRAINS, SELF, sw_hankyu5000_3_panto_placer_2,position_in_vehid_chain %2){
      1: hankyu5000_2_mot;
      hankyu5000_2_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_hankyu5000_3_panto_placer_2_rev,position_in_vehid_chain_from_end %2){
      0: hankyu5000_2_mot_rev;
      hankyu5000_2_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_hankyu5000_3_panto_placer_main_2,vehicle_is_reversed){
      1: sw_hankyu5000_3_panto_placer_2_rev;
      sw_hankyu5000_3_panto_placer_2;
    }






      switch(FEAT_TRAINS, SELF, sw_hankyu5000_3_fake_head_placer_1,position_in_vehid_chain){
        2: hankyu5000_3_end_mot;
        3: hankyu5000_3_end_rev;
        sw_hankyu5000_3_panto_placer_main_1;
      }
      switch(FEAT_TRAINS, SELF, sw_hankyu5000_3_fake_head_placer_1_rev,position_in_vehid_chain_from_end-1){
        2: hankyu5000_3_end_mot_rev;
        3: hankyu5000_3_end;
        sw_hankyu5000_3_panto_placer_main_1;
      }
      switch(FEAT_TRAINS, PARENT, sw_hankyu5000_3_fake_head_placer_main_1,vehicle_is_reversed){
        1: sw_hankyu5000_3_fake_head_placer_1_rev;
        sw_hankyu5000_3_fake_head_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_hankyu5000_3_fake_head_placer_2,position_in_vehid_chain){
        2: hankyu5000_3_end;
        3: hankyu5000_3_end_rev;
        sw_hankyu5000_3_panto_placer_main_2;
      }
      switch(FEAT_TRAINS, SELF, sw_hankyu5000_3_fake_head_placer_2_rev,position_in_vehid_chain_from_end-1){
        2: hankyu5000_3_end_rev;
        3: hankyu5000_3_end;
        sw_hankyu5000_3_panto_placer_main_2;
      }
      switch(FEAT_TRAINS, PARENT, sw_hankyu5000_3_fake_head_placer_main_2,vehicle_is_reversed){
        1: sw_hankyu5000_3_fake_head_placer_2_rev;
        sw_hankyu5000_3_fake_head_placer_2;
      }

      switch(FEAT_TRAINS, SELF, sw_hankyu5000_3_fake_head_placer_3,position_in_vehid_chain){
        1: hankyu5000_3_end_mot;
        2: hankyu5000_3_end_rev;
        sw_hankyu5000_3_panto_placer_main_2;
      }
      switch(FEAT_TRAINS, SELF, sw_hankyu5000_3_fake_head_placer_3_rev,position_in_vehid_chain_from_end-1){
        1: hankyu5000_3_end_mot_rev;
        2: hankyu5000_3_end;
        sw_hankyu5000_3_panto_placer_main_2;
      }
      switch(FEAT_TRAINS, PARENT, sw_hankyu5000_3_fake_head_placer_main_3,vehicle_is_reversed){
        1: sw_hankyu5000_3_fake_head_placer_3_rev;
        sw_hankyu5000_3_fake_head_placer_3;
      }

      random_switch(FEAT_TRAINS, PARENT, sw_hankyu5000_3_fake_head_placer_main_0){
        1: sw_hankyu5000_3_fake_head_placer_main_2;
        1: sw_hankyu5000_3_fake_head_placer_main_1;
      }
      switch(FEAT_TRAINS, SELF, sw_hankyu5000_3_fake_head_placer_main,num_vehs_in_vehid_chain+1){
        6..7: sw_hankyu5000_3_fake_head_placer_main_3;
        8: sw_hankyu5000_3_fake_head_placer_main_0;
        sw_hankyu5000_3_fake_head_placer_main_2;
      }

    switch(FEAT_TRAINS, SELF, sw_hankyu5000_3_gfx_main,position_in_vehid_chain_from_end){
      0: sw_hankyu5000_3_end;
      default: sw_hankyu5000_3_fake_head_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_hankyu5000_livery_3,vehicle_type_id){
      hankyu5000: sw_hankyu5000_3_front;
      default: sw_hankyu5000_3_gfx_main;
    }




      switch(FEAT_TRAINS, PARENT, sw_hankyu5000_4_front,vehicle_is_reversed==0&&num_vehs_in_consist==2){
        1: hankyu5000_4_front_mot;
        hankyu5000_4_front;
      }
      switch(FEAT_TRAINS, PARENT, sw_hankyu5000_4_end,vehicle_is_reversed==1&&num_vehs_in_consist==2){
        1: hankyu5000_4_end_mot;
        hankyu5000_4_end;
      }


    switch(FEAT_TRAINS, SELF, sw_hankyu5000_4_panto_placer_1,position_in_vehid_chain %7){
      0: hankyu5000_4_mot;
      4: hankyu5000_4_mot;
      hankyu5000_4_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_hankyu5000_4_panto_placer_1_rev,position_in_vehid_chain_from_end %7-1){
      0: hankyu5000_4_mot_rev;
      4: hankyu5000_4_mot_rev;
      hankyu5000_4_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_hankyu5000_4_panto_placer_main_1,vehicle_is_reversed){
      1: sw_hankyu5000_4_panto_placer_1_rev;
      sw_hankyu5000_4_panto_placer_1;
    }

    switch(FEAT_TRAINS, SELF, sw_hankyu5000_4_panto_placer_2,position_in_vehid_chain %2){
      0: hankyu5000_4_mot;
      hankyu5000_4_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_hankyu5000_4_panto_placer_2_rev,position_in_vehid_chain_from_end %2-1){
      0: hankyu5000_4_mot_rev;
      hankyu5000_4_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_hankyu5000_4_panto_placer_main_2,vehicle_is_reversed){
      1: sw_hankyu5000_4_panto_placer_2_rev;
      sw_hankyu5000_4_panto_placer_2;
    }
    switch(FEAT_TRAINS, SELF, sw_hankyu5000_4_panto_placer_main, num_vehs_in_vehid_chain+1){
      6: sw_hankyu5000_4_panto_placer_main_2;
      sw_hankyu5000_4_panto_placer_main_1;
    }


    switch(FEAT_TRAINS, SELF, sw_hankyu5000_4_gfx_main,position_in_vehid_chain_from_end){
      0: sw_hankyu5000_4_end;
      default: sw_hankyu5000_4_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_hankyu5000_livery_4,vehicle_type_id){
      hankyu5000: sw_hankyu5000_4_front;
      default: sw_hankyu5000_4_gfx_main;
    }




  switch(FEAT_TRAINS, PARENT, sw_hankyu5000_livery_0, current_year){
    0..1972: sw_hankyu5000_livery_1;
    1973..1999: sw_hankyu5000_livery_3;
    sw_hankyu5000_livery_4;
  }

  switch(FEAT_TRAINS, PARENT, sw_hankyu5000_lv, cargo_subtype){
    0: sw_hankyu5000_livery_0;
    1: sw_hankyu5000_livery_1;
    2: sw_hankyu5000_livery_3;
    3: sw_hankyu5000_livery_4;
  }
  switch(FEAT_TRAINS, SELF, sw_hankyu5000_lv_desc, cargo_subtype){
    0: string(LV_RANDOM);
    1: string(LV_DEFAULT);
    2: string(LV_MODERN);
    3: string(LV_RENEW);
  }


  switch(FEAT_TRAINS, SELF, sw_hankyu5000_capacity,position_in_vehid_chain_from_end){
    0: 140;
    default: 150;
  }
  switch(FEAT_TRAINS, SELF, sw_hankyu5000_capacity_1,position_in_vehid_chain){
    0: 140;
    default: sw_hankyu5000_capacity;
  }
  switch(FEAT_TRAINS, SELF, sw_hankyu5000_capacity_main,vehicle_type_id){
    mu_car: sw_hankyu5000_capacity;
    sw_hankyu5000_capacity_1;
  }

  switch(FEAT_TRAINS, SELF, sw_hankyu5000_power_main_1,position_in_vehid_chain_from_end%2){
    1:return 170;
    return 0;
  }
  switch(FEAT_TRAINS, SELF, sw_hankyu5000_power_main,vehicle_type_id){
    hankyu5000: return 170;
    sw_hankyu5000_power_main_1;
  }

item(FEAT_TRAINS, hankyu5000) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_HANKYU), "5000", string(STR_NAME_SERIES));
        introduction_date: date(1968, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cost_factor: 19;
        running_cost_factor: 50;

        speed: 110 km/h;
        track_type: TR_1435_DC;
        weight: 33 ton;
        climates_available: param_disable_hankyu == 0 ? ALL_CLIMATES : NO_CLIMATE;

          cargo_capacity: 1;
          power: 1 kW;
          ai_special_flag: AI_FLAG_PASSENGER;
          sprite_id: SPRITE_ID_NEW_TRAIN;
          misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
          refittable_cargo_classes: bitmask(CC_PASSENGERS);

          running_cost_base: RUNNING_COST_ELECTRIC;
          engine_class: ENGINE_CLASS_ELECTRIC;
          visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

          tractive_effort_coefficient: 0.3;
          air_drag_coefficient: 0.07;
          bitmask_vehicle_info: 0;
          length: 8;
    }
 graphics {
    purchase: hankyu5000_purchase;
  default: sw_hankyu5000_lv;
  start_stop: sw_stop_start_2;
  power: sw_hankyu5000_power_main()*4*1342/1000;
  loading_speed: param_loading_3D;
  cargo_capacity: sw_hankyu5000_capacity_main()*param_capacity_mod/3;
  can_attach_wagon: sw_1435_attach_vehid;
  cargo_subtype_text:sw_hankyu5000_lv_desc;
  additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_2, 6,8)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string( STR_OPERATOR, string(STR_HANKYU)));
    }
    livery_override(mu_car){
    cargo_subtype_text:sw_hankyu5000_lv_desc;
   loading_speed: param_loading_3D;
   cargo_capacity: sw_hankyu5000_capacity_main()*param_capacity_mod/3;
   default: sw_hankyu5000_lv;
   power: sw_hankyu5000_power_main()*4*1342/1000;
   weight: 34;
  }
}
# 318 "src/_private.pnml" 2
# 1 "src/private/Kansai/hankyu/hankyu5300.pnml" 1

  spriteset(hankyu5300_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu5000/hankyu5300_1.png"){ tmpl_purchase_1c(0, 50) }
  spriteset(hankyu5300_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu5000/hankyu5300_1.png"){ tmpl_purchase_2c(0, 125) }
  switch(FEAT_TRAINS, SELF, hankyu5300_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_hankyu; 1: hankyu5300_purchase_c1; 2: hankyu5300_purchase_c2;}

  spriteset(hankyu5300_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu5000/hankyu5300_1.png"){ tmpl_std(0, 0) }
  spriteset(hankyu5300_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu5000/hankyu5300_1.png"){ tmpl_std_rev(0, 25) }
  spriteset(hankyu5300_1_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu5000/hankyu5300_1.png"){ tmpl_std(0, 25) }
  spriteset(hankyu5300_1_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu5000/hankyu5300_1.png"){ tmpl_std(0, 50) }
  spriteset(hankyu5300_1_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu5000/hankyu5300_1.png"){ tmpl_std_rev(0, 75) }
  spriteset(hankyu5300_1_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu5000/hankyu5300_1.png"){ tmpl_std(0, 75) }
  spriteset(hankyu5300_1_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu5000/hankyu5300_1.png"){ tmpl_symm(0, 100) }
  spriteset(hankyu5300_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu5000/hankyu5300_1.png"){ tmpl_symm(0, 125) }


  spriteset(hankyu5300_2_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu5000/hankyu5300_2.png"){ tmpl_std(0, 0) }
  spriteset(hankyu5300_2_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu5000/hankyu5300_2.png"){ tmpl_std_rev(0, 25) }
  spriteset(hankyu5300_2_end_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu5000/hankyu5300_2.png"){ tmpl_std(0, 25) }
  spriteset(hankyu5300_2_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu5000/hankyu5300_2.png"){ tmpl_std(0, 50) }
  spriteset(hankyu5300_2_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu5000/hankyu5300_2.png"){ tmpl_std_rev(0, 75) }
  spriteset(hankyu5300_2_end_mot_rev, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu5000/hankyu5300_2.png"){ tmpl_std(0, 75) }
  spriteset(hankyu5300_2_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu5000/hankyu5300_2.png"){ tmpl_symm(0, 100) }
  spriteset(hankyu5300_2_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu5000/hankyu5300_2.png"){ tmpl_symm(0, 125) }




      switch(FEAT_TRAINS, PARENT, sw_hankyu5300_1_front,vehicle_is_reversed){
        1: hankyu5300_1_front;
        hankyu5300_1_front_mot;
      }
      switch(FEAT_TRAINS, PARENT, sw_hankyu5300_1_end,vehicle_is_reversed){
        1: hankyu5300_1_end_mot;
        hankyu5300_1_end;
      }


    switch(FEAT_TRAINS, SELF, sw_hankyu5300_1_panto_placer_1,position_in_vehid_chain %4){
      1: hankyu5300_1_mot;
      hankyu5300_1_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_hankyu5300_1_panto_placer_1_rev,position_in_vehid_chain_from_end %4 - 1){
      1: hankyu5300_1_mot;
      hankyu5300_1_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_hankyu5300_1_panto_placer_main_1,vehicle_is_reversed){
      1: sw_hankyu5300_1_panto_placer_1_rev;
      sw_hankyu5300_1_panto_placer_1;
    }

    switch(FEAT_TRAINS, SELF, sw_hankyu5300_1_panto_placer_3,position_in_vehid_chain %5){
      0: hankyu5300_1_mot;
      hankyu5300_1_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_hankyu5300_1_panto_placer_3_rev,position_in_vehid_chain_from_end %5){
      1: hankyu5300_1_mot;
      hankyu5300_1_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_hankyu5300_1_panto_placer_main_3,vehicle_is_reversed){
      1: sw_hankyu5300_1_panto_placer_3;
      sw_hankyu5300_1_panto_placer_3_rev;
    }


      switch(FEAT_TRAINS, SELF, sw_hankyu5300_1_fake_head_placer_1,position_in_vehid_chain){
        0: hankyu5300_1_end;
        1: hankyu5300_1_end_mot_rev;
        sw_hankyu5300_1_panto_placer_main_1;
      }
      switch(FEAT_TRAINS, SELF, sw_hankyu5300_1_fake_head_placer_1_rev,position_in_vehid_chain_from_end-1){
        0: hankyu5300_1_end_rev;
        1: hankyu5300_1_end_mot;
        sw_hankyu5300_1_panto_placer_main_1;
      }
      switch(FEAT_TRAINS, PARENT, sw_hankyu5300_1_fake_head_placer_main_1,vehicle_is_reversed){
        1: sw_hankyu5300_1_fake_head_placer_1_rev;
        sw_hankyu5300_1_fake_head_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_hankyu5300_1_fake_head_placer_2,position_in_vehid_chain){
        1: hankyu5300_1_end;
        2: hankyu5300_1_end_mot_rev;
        sw_hankyu5300_1_panto_placer_main_1;
      }
      switch(FEAT_TRAINS, SELF, sw_hankyu5300_1_fake_head_placer_2_rev,position_in_vehid_chain_from_end-1){
        1: hankyu5300_1_end_rev;
        2: hankyu5300_1_end_mot;
        sw_hankyu5300_1_panto_placer_main_1;
      }
      switch(FEAT_TRAINS, PARENT, sw_hankyu5300_1_fake_head_placer_main_2,vehicle_is_reversed){
        1: sw_hankyu5300_1_fake_head_placer_2_rev;
        sw_hankyu5300_1_fake_head_placer_2;
      }

      switch(FEAT_TRAINS, SELF, sw_hankyu5300_1_fake_head_placer_3,position_in_vehid_chain){
        2: hankyu5300_1_end;
        3: hankyu5300_1_end_mot_rev;
        hankyu5300_1_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_hankyu5300_1_fake_head_placer_3_rev,position_in_vehid_chain_from_end-1){
        2: hankyu5300_1_end_rev;
        3: hankyu5300_1_end_mot;
        hankyu5300_1_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_hankyu5300_1_fake_head_placer_main_3,vehicle_is_reversed){
        1: sw_hankyu5300_1_fake_head_placer_3_rev;
        sw_hankyu5300_1_fake_head_placer_3;
      }

      random_switch(FEAT_TRAINS, PARENT, sw_hankyu5300_1_fake_head_placer_main_0){
        2: sw_hankyu5300_1_fake_head_placer_main_2;
        1: sw_hankyu5300_1_fake_head_placer_main_1;
        1: sw_hankyu5300_1_fake_head_placer_main_3;
      }
      random_switch(FEAT_TRAINS, PARENT, sw_hankyu5300_1_fake_head_placer_main_0_1){
        1: sw_hankyu5300_1_fake_head_placer_main_2;
        1: sw_hankyu5300_1_fake_head_placer_main_1;
        1: sw_hankyu5300_1_fake_head_placer_main_3;
        1: sw_hankyu5300_1_panto_placer_main_3;
      }
      switch(FEAT_TRAINS, SELF, sw_hankyu5300_1_fake_head_placer_main,num_vehs_in_vehid_chain+1){
        0..5: sw_hankyu5300_1_panto_placer_main_1;
        6..7: sw_hankyu5300_1_fake_head_placer_main_0_1;
        8: sw_hankyu5300_1_fake_head_placer_main_0;
        sw_hankyu5300_1_fake_head_placer_main_2;
      }

    switch(FEAT_TRAINS, SELF, sw_hankyu5300_1_gfx_main,position_in_vehid_chain_from_end){
      0: sw_hankyu5300_1_end;
      default: sw_hankyu5300_1_fake_head_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_hankyu5300_livery_1,vehicle_type_id){
      hankyu5300: sw_hankyu5300_1_front;
      default: sw_hankyu5300_1_gfx_main;
    }




      switch(FEAT_TRAINS, PARENT, sw_hankyu5300_2_front,vehicle_is_reversed){
        1: hankyu5300_2_front;
        hankyu5300_2_front_mot;
      }
      switch(FEAT_TRAINS, PARENT, sw_hankyu5300_2_end,vehicle_is_reversed){
        1: hankyu5300_2_end_mot;
        hankyu5300_2_end;
      }


    switch(FEAT_TRAINS, SELF, sw_hankyu5300_2_panto_placer_1,position_in_vehid_chain %4){
      1: hankyu5300_2_mot;
      hankyu5300_2_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_hankyu5300_2_panto_placer_1_rev,position_in_vehid_chain_from_end %4 - 1){
      1: hankyu5300_2_mot;
      hankyu5300_2_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_hankyu5300_2_panto_placer_main_1,vehicle_is_reversed){
      1: sw_hankyu5300_2_panto_placer_1_rev;
      sw_hankyu5300_2_panto_placer_1;
    }

    switch(FEAT_TRAINS, SELF, sw_hankyu5300_2_panto_placer_3,position_in_vehid_chain %5){
      0: hankyu5300_2_mot;
      hankyu5300_2_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_hankyu5300_2_panto_placer_3_rev,position_in_vehid_chain_from_end %5){
      1: hankyu5300_2_mot;
      hankyu5300_2_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_hankyu5300_2_panto_placer_main_3,vehicle_is_reversed){
      1: sw_hankyu5300_2_panto_placer_3;
      sw_hankyu5300_2_panto_placer_3_rev;
    }


      switch(FEAT_TRAINS, SELF, sw_hankyu5300_2_fake_head_placer_1,position_in_vehid_chain){
        0: hankyu5300_2_end;
        1: hankyu5300_2_end_mot_rev;
        sw_hankyu5300_2_panto_placer_main_1;
      }
      switch(FEAT_TRAINS, SELF, sw_hankyu5300_2_fake_head_placer_1_rev,position_in_vehid_chain_from_end-1){
        0: hankyu5300_2_end_rev;
        1: hankyu5300_2_end_mot;
        sw_hankyu5300_2_panto_placer_main_1;
      }
      switch(FEAT_TRAINS, PARENT, sw_hankyu5300_2_fake_head_placer_main_1,vehicle_is_reversed){
        1: sw_hankyu5300_2_fake_head_placer_1_rev;
        sw_hankyu5300_2_fake_head_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_hankyu5300_2_fake_head_placer_2,position_in_vehid_chain){
        1: hankyu5300_2_end;
        2: hankyu5300_2_end_mot_rev;
        sw_hankyu5300_2_panto_placer_main_1;
      }
      switch(FEAT_TRAINS, SELF, sw_hankyu5300_2_fake_head_placer_2_rev,position_in_vehid_chain_from_end-1){
        1: hankyu5300_2_end_rev;
        2: hankyu5300_2_end_mot;
        sw_hankyu5300_2_panto_placer_main_1;
      }
      switch(FEAT_TRAINS, PARENT, sw_hankyu5300_2_fake_head_placer_main_2,vehicle_is_reversed){
        1: sw_hankyu5300_2_fake_head_placer_2_rev;
        sw_hankyu5300_2_fake_head_placer_2;
      }

      switch(FEAT_TRAINS, SELF, sw_hankyu5300_2_fake_head_placer_3,position_in_vehid_chain){
        2: hankyu5300_2_end;
        3: hankyu5300_2_end_mot_rev;
        hankyu5300_2_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_hankyu5300_2_fake_head_placer_3_rev,position_in_vehid_chain_from_end-1){
        2: hankyu5300_2_end_rev;
        3: hankyu5300_2_end_mot;
        hankyu5300_2_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_hankyu5300_2_fake_head_placer_main_3,vehicle_is_reversed){
        1: sw_hankyu5300_2_fake_head_placer_3_rev;
        sw_hankyu5300_2_fake_head_placer_3;
      }

      random_switch(FEAT_TRAINS, PARENT, sw_hankyu5300_2_fake_head_placer_main_0){
        2: sw_hankyu5300_2_fake_head_placer_main_2;
        1: sw_hankyu5300_2_fake_head_placer_main_1;
        1: sw_hankyu5300_2_fake_head_placer_main_3;
      }
      random_switch(FEAT_TRAINS, PARENT, sw_hankyu5300_2_fake_head_placer_main_0_1){
        1: sw_hankyu5300_2_fake_head_placer_main_2;
        1: sw_hankyu5300_2_fake_head_placer_main_1;
        1: sw_hankyu5300_2_fake_head_placer_main_3;
        1: sw_hankyu5300_2_panto_placer_main_3;
      }
      switch(FEAT_TRAINS, SELF, sw_hankyu5300_2_fake_head_placer_main,num_vehs_in_vehid_chain+1){
        0..5: sw_hankyu5300_2_panto_placer_main_1;
        6..7: sw_hankyu5300_2_fake_head_placer_main_0_1;
        8: sw_hankyu5300_2_fake_head_placer_main_0;
        sw_hankyu5300_2_fake_head_placer_main_2;
      }

    switch(FEAT_TRAINS, SELF, sw_hankyu5300_2_gfx_main,position_in_vehid_chain_from_end){
      0: sw_hankyu5300_2_end;
      default: sw_hankyu5300_2_fake_head_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_hankyu5300_livery_2,vehicle_type_id){
      hankyu5300: sw_hankyu5300_2_front;
      default: sw_hankyu5300_2_gfx_main;
    }




  switch(FEAT_TRAINS, PARENT, sw_hankyu5300_livery_0, current_year){
    0..1988: sw_hankyu5300_livery_1;
    sw_hankyu5300_livery_2;
  }

  switch(FEAT_TRAINS, PARENT, sw_hankyu5300_lv, cargo_subtype){
    0: sw_hankyu5300_livery_0;
    1: sw_hankyu5300_livery_1;
    2: sw_hankyu5300_livery_2;
  }
  switch(FEAT_TRAINS, SELF, sw_hankyu5300_lv_desc, cargo_subtype){
    0: string(LV_RANDOM);
    1: string(LV_DEFAULT);
    2: string(LV_RENEW);
  }


  switch(FEAT_TRAINS, SELF, sw_hankyu5300_capacity,position_in_vehid_chain_from_end){
    0: 140;
    default: 150;
  }
  switch(FEAT_TRAINS, SELF, sw_hankyu5300_capacity_1,position_in_vehid_chain){
    0: 140;
    default: sw_hankyu5300_capacity;
  }
  switch(FEAT_TRAINS, SELF, sw_hankyu5300_capacity_main,vehicle_type_id){
    mu_car: sw_hankyu5300_capacity;
    sw_hankyu5300_capacity_1;
  }

  switch(FEAT_TRAINS, SELF, sw_hankyu5300_power_main_1,position_in_vehid_chain_from_end%2){
    1:return 140;
    return 0;
  }
  switch(FEAT_TRAINS, SELF, sw_hankyu5300_power_main,vehicle_type_id){
    hankyu5300: return 140;
    sw_hankyu5300_power_main_1;
  }

item(FEAT_TRAINS, hankyu5300) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_HANKYU), "5300", string(STR_NAME_SERIES));
        introduction_date: date(1972, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;
        variant_group: 2713;

        cost_factor: 19;
        running_cost_factor: 50;

        speed: 110 km/h;
        track_type: TR_1435_DC;
        weight: 32 ton;
        climates_available: param_disable_hankyu == 0 ? ALL_CLIMATES : NO_CLIMATE;

          cargo_capacity: 1;
          power: 1 kW;
          ai_special_flag: AI_FLAG_PASSENGER;
          sprite_id: SPRITE_ID_NEW_TRAIN;
          misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
          refittable_cargo_classes: bitmask(CC_PASSENGERS);

          running_cost_base: RUNNING_COST_ELECTRIC;
          engine_class: ENGINE_CLASS_ELECTRIC;
          visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

          tractive_effort_coefficient: 0.3;
          air_drag_coefficient: 0.07;
          bitmask_vehicle_info: 0;
          length: 8;
    }
 graphics {
    purchase: hankyu5300_purchase;
  default: sw_hankyu5300_lv;
  start_stop: sw_stop_start_2;
  power: sw_hankyu5300_power_main()*4*1342/1000;
  loading_speed: param_loading_3D;
  cargo_capacity: sw_hankyu5300_capacity_main()*param_capacity_mod/3;
  can_attach_wagon: sw_1435_attach_vehid;
  cargo_subtype_text:sw_hankyu5300_lv_desc;
  additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_2, 7,8)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string( STR_OPERATOR, string(STR_HANKYU)));
    }
    livery_override(mu_car){
    cargo_subtype_text:sw_hankyu5300_lv_desc;
   loading_speed: param_loading_3D;
   cargo_capacity: sw_hankyu5300_capacity_main()*param_capacity_mod/3;
   default: sw_hankyu5300_lv;
   power: sw_hankyu5300_power_main()*4*1342/1000;
   weight: 35;
  }
}
# 319 "src/_private.pnml" 2
# 1 "src/private/Kansai/hankyu/hankyu6000.pnml" 1

  spriteset(hankyu6000_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu6000/hankyu6000.png"){ tmpl_purchase_1c(0, 50) }
  spriteset(hankyu6000_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu6000/hankyu6000.png"){ tmpl_purchase_2c(0, 125) }
  switch(FEAT_TRAINS, SELF, hankyu6000_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_hankyu; 1: hankyu6000_purchase_c1; 2: hankyu6000_purchase_c2;}

  spriteset(hankyu6000_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu6000/hankyu6000.png"){ tmpl_high_skirt(0, 0) }
  spriteset(hankyu6000_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu6000/hankyu6000.png"){ tmpl_high_skirt_rev(0, 25) }
  spriteset(hankyu6000_1_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu6000/hankyu6000.png"){ tmpl_high_skirt(0, 50) }
  spriteset(hankyu6000_1_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu6000/hankyu6000.png"){ tmpl_high_skirt_rev(0, 75) }
  spriteset(hankyu6000_1_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu6000/hankyu6000.png"){ tmpl_symm(0, 100) }
  spriteset(hankyu6000_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu6000/hankyu6000.png"){ tmpl_symm(0, 125) }


  spriteset(hankyu6000_2_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu6000/hankyu6000_n.png"){ tmpl_high_skirt(0, 0) }
  spriteset(hankyu6000_2_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu6000/hankyu6000_n.png"){ tmpl_high_skirt_rev(0, 25) }
  spriteset(hankyu6000_2_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu6000/hankyu6000_n.png"){ tmpl_high_skirt(0, 50) }
  spriteset(hankyu6000_2_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu6000/hankyu6000_n.png"){ tmpl_high_skirt_rev(0, 75) }
  spriteset(hankyu6000_2_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu6000/hankyu6000_n.png"){ tmpl_symm(0, 100) }
  spriteset(hankyu6000_2_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu6000/hankyu6000_n.png"){ tmpl_symm(0, 125) }




      switch(FEAT_TRAINS, SELF, sw_hankyu6000_1_mot,position_in_vehid_chain_from_end-1){
        0..1: hankyu6000_1_wag;
        hankyu6000_1_mot;
      }
      switch(FEAT_TRAINS, SELF, sw_hankyu6000_1_mot_rev,position_in_vehid_chain){
        0..1: hankyu6000_1_wag;
        hankyu6000_1_mot;
      }

      switch(FEAT_TRAINS, PARENT, sw_hankyu6000_1_front,vehicle_is_reversed){
        1: hankyu6000_1_front;
        hankyu6000_1_front_mot;
      }
      switch(FEAT_TRAINS, PARENT, sw_hankyu6000_1_end,vehicle_is_reversed){
        1: hankyu6000_1_end_mot;
        hankyu6000_1_end;
      }


    switch(FEAT_TRAINS, SELF, sw_hankyu6000_1_panto_placer_1,position_in_vehid_chain %4){
      0: sw_hankyu6000_1_mot;
      hankyu6000_1_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_hankyu6000_1_panto_placer_1_rev,position_in_vehid_chain_from_end %4-1){
      0: sw_hankyu6000_1_mot_rev;
      hankyu6000_1_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_hankyu6000_1_panto_placer_main_1,vehicle_is_reversed){
      1: sw_hankyu6000_1_panto_placer_1;
      sw_hankyu6000_1_panto_placer_1_rev;
    }
    switch(FEAT_TRAINS, SELF, sw_hankyu6000_1_panto_placer_main,num_vehs_in_vehid_chain+1){
      0..3: hankyu6000_1_wag;
      sw_hankyu6000_1_panto_placer_main_1;
    }

    switch(FEAT_TRAINS, SELF, sw_hankyu6000_1_gfx_main,position_in_vehid_chain_from_end){
      0: sw_hankyu6000_1_end;
      default: sw_hankyu6000_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_hankyu6000_livery_1,vehicle_type_id){
      hankyu6000: sw_hankyu6000_1_front;
      default: sw_hankyu6000_1_gfx_main;
    }



      switch(FEAT_TRAINS, SELF, sw_hankyu6000_2_mot,position_in_vehid_chain_from_end-1){
        0..1: hankyu6000_2_wag;
        hankyu6000_2_mot;
      }
      switch(FEAT_TRAINS, SELF, sw_hankyu6000_2_mot_rev,position_in_vehid_chain){
        0..1: hankyu6000_2_wag;
        hankyu6000_2_mot;
      }

      switch(FEAT_TRAINS, PARENT, sw_hankyu6000_2_front,vehicle_is_reversed){
        1: hankyu6000_2_front;
        hankyu6000_2_front_mot;
      }
      switch(FEAT_TRAINS, PARENT, sw_hankyu6000_2_end,vehicle_is_reversed){
        1: hankyu6000_2_end_mot;
        hankyu6000_2_end;
      }


    switch(FEAT_TRAINS, SELF, sw_hankyu6000_2_panto_placer_1,position_in_vehid_chain %4){
      0: sw_hankyu6000_2_mot;
      hankyu6000_2_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_hankyu6000_2_panto_placer_1_rev,position_in_vehid_chain_from_end %4-1){
      0: sw_hankyu6000_2_mot_rev;
      hankyu6000_2_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_hankyu6000_2_panto_placer_main_1,vehicle_is_reversed){
      1: sw_hankyu6000_2_panto_placer_1;
      sw_hankyu6000_2_panto_placer_1_rev;
    }
    switch(FEAT_TRAINS, SELF, sw_hankyu6000_2_panto_placer_main,num_vehs_in_vehid_chain+1){
      0..3: hankyu6000_2_wag;
      sw_hankyu6000_2_panto_placer_main_1;
    }

    switch(FEAT_TRAINS, SELF, sw_hankyu6000_2_gfx_main,position_in_vehid_chain_from_end){
      0: sw_hankyu6000_2_end;
      default: sw_hankyu6000_2_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_hankyu6000_livery_2,vehicle_type_id){
      hankyu6000: sw_hankyu6000_2_front;
      hankyu7000: sw_hankyu6000_2_front;
      default: sw_hankyu6000_2_gfx_main;
    }


  switch(FEAT_TRAINS, PARENT, sw_hankyu6000_livery_0, current_year<1990){
    1: sw_hankyu6000_livery_1;
    sw_hankyu6000_livery_2;
  }

  switch(FEAT_TRAINS, PARENT, sw_hankyu6000_lv, cargo_subtype){
    0: sw_hankyu6000_livery_0;
    1: sw_hankyu6000_livery_1;
    2: sw_hankyu6000_livery_2;
  }
  switch(FEAT_TRAINS, SELF, sw_hankyu6000_lv_desc, cargo_subtype){
    0: string(LV_RANDOM);
    1: string(LV_DEFAULT);
    2: string(LV_MODERN);
  }


  switch(FEAT_TRAINS, SELF, sw_hankyu6000_capacity,position_in_vehid_chain_from_end){
    0: 140;
    default: 150;
  }
  switch(FEAT_TRAINS, SELF, sw_hankyu6000_capacity_1,position_in_vehid_chain){
    0: 140;
    default: sw_hankyu6000_capacity;
  }
  switch(FEAT_TRAINS, SELF, sw_hankyu6000_capacity_main,vehicle_type_id){
    mu_car: sw_hankyu6000_capacity;
    sw_hankyu6000_capacity_1;
  }

  switch(FEAT_TRAINS, SELF, sw_hankyu6000_power_main_1,position_in_vehid_chain_from_end%8){
    1..2:return 140;
    5:return 140;
    return 0;
  }
  switch(FEAT_TRAINS, SELF, sw_hankyu6000_power_main,vehicle_type_id){
    hankyu6000: return 140;
    sw_hankyu6000_power_main_1;
  }

item(FEAT_TRAINS, hankyu6000) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_HANKYU), "6000", string(STR_NAME_SERIES));
        introduction_date: date(1976, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cost_factor: 20;
        running_cost_factor: 51;

        speed: 120 km/h;
        track_type: TR_1435_DC;
        weight: 32 ton;
        climates_available: param_disable_hankyu == 0 ? ALL_CLIMATES : NO_CLIMATE;

          cargo_capacity: 1;
          power: 1 kW;
          ai_special_flag: AI_FLAG_PASSENGER;
          sprite_id: SPRITE_ID_NEW_TRAIN;
          misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
          refittable_cargo_classes: bitmask(CC_PASSENGERS);

          running_cost_base: RUNNING_COST_ELECTRIC;
          engine_class: ENGINE_CLASS_ELECTRIC;
          visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

          tractive_effort_coefficient: 0.3;
          air_drag_coefficient: 0.07;
          bitmask_vehicle_info: 0;
          length: 8;
    }
 graphics {
    purchase: hankyu6000_purchase;
  default: sw_hankyu6000_lv;
  start_stop: sw_stop_start_2;
  power: sw_hankyu6000_power_main()*4*1342/1000;
  loading_speed: param_loading_3D;
  cargo_capacity: sw_hankyu6000_capacity_main()*param_capacity_mod/3;
  can_attach_wagon: sw_1435_attach_vehid;
  cargo_subtype_text:sw_hankyu6000_lv_desc;
  additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_5, 2,3,4,6,8)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string( STR_OPERATOR, string(STR_HANKYU)));
    }
    livery_override(mu_car){
    cargo_subtype_text:sw_hankyu6000_lv_desc;
   loading_speed: param_loading_3D;
   cargo_capacity: sw_hankyu6000_capacity_main()*param_capacity_mod/3;
   default: sw_hankyu6000_lv;
   power: sw_hankyu6000_power_main()*4*1342/1000;
   weight: 33;
  }
}
# 320 "src/_private.pnml" 2
# 1 "src/private/Kansai/hankyu/hankyu6300.pnml" 1

  spriteset(hankyu6300_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu6000/hankyu6300.png"){ tmpl_purchase_1c(0, 0) }
  spriteset(hankyu6300_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu6000/hankyu6300.png"){ tmpl_purchase_2c(0, 50) }
  switch(FEAT_TRAINS, SELF, hankyu6300_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_hankyu; 1: hankyu6300_purchase_c1; 2: hankyu6300_purchase_c2;}

  spriteset(hankyu6300_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu6000/hankyu6300.png"){ tmpl_high_skirt(0, 0) }
  spriteset(hankyu6300_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu6000/hankyu6300.png"){ tmpl_high_skirt_rev(0, 25) }
  spriteset(hankyu6300_1_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu6000/hankyu6300.png"){ tmpl_symm(0, 50) }
  spriteset(hankyu6300_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu6000/hankyu6300.png"){ tmpl_symm(0, 75) }




      switch(FEAT_TRAINS, SELF, sw_hankyu6300_1_panto_placer_1,position_in_vehid_chain %2){
        0: hankyu6300_1_mot;
        hankyu6300_1_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_hankyu6300_1_panto_placer_1_rev,position_in_vehid_chain_from_end %2-1){
        0: hankyu6300_1_mot;
        hankyu6300_1_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_hankyu6300_1_panto_placer_main_1,vehicle_is_reversed){
        1: sw_hankyu6300_1_panto_placer_1_rev;
        sw_hankyu6300_1_panto_placer_1;
      }

      switch(FEAT_TRAINS, SELF, sw_hankyu6300_1_panto_placer_2,position_in_vehid_chain %4){
        0: hankyu6300_1_mot;
        hankyu6300_1_wag;
      }
      switch(FEAT_TRAINS, SELF, sw_hankyu6300_1_panto_placer_2_rev,position_in_vehid_chain_from_end %4-1){
        0: hankyu6300_1_mot;
        hankyu6300_1_wag;
      }
      switch(FEAT_TRAINS, PARENT, sw_hankyu6300_1_panto_placer_main_2,vehicle_is_reversed){
        1: sw_hankyu6300_1_panto_placer_2_rev;
        sw_hankyu6300_1_panto_placer_2;
      }

      switch(FEAT_TRAINS, SELF, sw_hankyu6300_1_panto_placer_main,num_vehs_in_vehid_chain+1){
        4..6:sw_hankyu6300_1_panto_placer_main_1;
        sw_hankyu6300_1_panto_placer_main_2;
      }

    switch(FEAT_TRAINS, SELF, sw_hankyu6300_1_gfx_main,position_in_vehid_chain_from_end){
      0: hankyu6300_1_end;
      default: sw_hankyu6300_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_hankyu6300_lv,vehicle_type_id){
      hankyu6300: hankyu6300_1_front;
      default: sw_hankyu6300_1_gfx_main;
    }



  switch(FEAT_TRAINS, SELF, sw_hankyu6300_capacity,position_in_vehid_chain_from_end){
    0: 129;
    default: 141;
  }
  switch(FEAT_TRAINS, SELF, sw_hankyu6300_capacity_1,position_in_vehid_chain){
    0: 129;
    default: sw_hankyu6300_capacity;
  }
  switch(FEAT_TRAINS, SELF, sw_hankyu6300_capacity_main,vehicle_type_id){
    mu_car: sw_hankyu6300_capacity;
    sw_hankyu6300_capacity_1;
  }

  switch(FEAT_TRAINS, SELF, sw_hankyu6300_power_main_1,position_in_vehid_chain_from_end%8){
    1:return 140;
    3..4:return 140;
    return 0;
  }
  switch(FEAT_TRAINS, SELF, sw_hankyu6300_power_main,vehicle_type_id){
    hankyu6300: return 140;
    sw_hankyu6300_power_main_1;
  }

item(FEAT_TRAINS, hankyu6300) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_HANKYU), "6300", string(STR_NAME_SERIES));
        introduction_date: date(1975, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cost_factor: 21;
        running_cost_factor: 50;

        speed: 120 km/h;
        track_type: TR_1435_DC;
        weight: 33 ton;
        climates_available: param_disable_hankyu == 0 ? ALL_CLIMATES : NO_CLIMATE;

          cargo_capacity: 1;
          power: 1 kW;
          ai_special_flag: AI_FLAG_PASSENGER;
          sprite_id: SPRITE_ID_NEW_TRAIN;
          misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
          refittable_cargo_classes: bitmask(CC_PASSENGERS);

          running_cost_base: RUNNING_COST_ELECTRIC;
          engine_class: ENGINE_CLASS_ELECTRIC;
          visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

          tractive_effort_coefficient: 0.3;
          air_drag_coefficient: 0.07;
          bitmask_vehicle_info: 0;
          length: 8;
    }
 graphics {
    purchase: hankyu6300_purchase;
  default: sw_hankyu6300_lv;
  start_stop: sw_stop_start_3;
  power: sw_hankyu6300_power_main()*4*1342/1000;
  loading_speed: param_loading_2D;
  cargo_capacity: sw_hankyu6300_capacity_main()*param_capacity_mod/3;
  can_attach_wagon: sw_1435_attach_vehid;

  additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 2)),
  string(STR_FORMATION, string(STR_NUM_CARS_3, 4,6,8)),
  string(STR_USAGE, string(STR_EXPRESS)),
  string( STR_OPERATOR, string(STR_HANKYU)));
    }
    livery_override(mu_car){
        cargo_subtype_text:sw_empty_desc;
        loading_speed: param_loading_2D;
   cargo_capacity: sw_hankyu6300_capacity_main()*param_capacity_mod/3;
   default: sw_hankyu6300_lv;
   power: sw_hankyu6300_power_main()*4*1342/1000;
   weight: 33;
  }
}
# 321 "src/_private.pnml" 2
# 1 "src/private/Kansai/hankyu/hankyu7000.pnml" 1

  spriteset(hankyu7000_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu6000/hankyu6000_n.png"){ tmpl_purchase_1c(0, 50) }
  spriteset(hankyu7000_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu6000/hankyu6000_n.png"){ tmpl_purchase_2c(0, 125) }
  switch(FEAT_TRAINS, SELF, hankyu7000_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_hankyu; 1: hankyu7000_purchase_c1; 2: hankyu7000_purchase_c2;}



  switch(FEAT_TRAINS, SELF, sw_hankyu7000_capacity,position_in_vehid_chain_from_end){
    0: 140;
    default: 150;
  }
  switch(FEAT_TRAINS, SELF, sw_hankyu7000_capacity_1,position_in_vehid_chain){
    0: 140;
    default: sw_hankyu7000_capacity;
  }
  switch(FEAT_TRAINS, SELF, sw_hankyu7000_capacity_main,vehicle_type_id){
    mu_car: sw_hankyu7000_capacity;
    sw_hankyu7000_capacity_1;
  }

  switch(FEAT_TRAINS, SELF, sw_hankyu7000_power_main_1,position_in_vehid_chain_from_end%8){
    1..2:return 150;
    4:return 150;
    return 0;
  }
  switch(FEAT_TRAINS, SELF, sw_hankyu7000_power_main,vehicle_type_id){
    hankyu7000: return 150;
    sw_hankyu7000_power_main_1;
  }

item(FEAT_TRAINS, hankyu7000) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_HANKYU), "7000/7300", string(STR_NAME_SERIES));
        introduction_date: date(1980, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cost_factor: 21;
        running_cost_factor: 51;

        speed: 130 km/h;
        track_type: TR_1435_DC;
        weight: 30 ton;
        climates_available: param_disable_hankyu == 0 ? ALL_CLIMATES : NO_CLIMATE;

          cargo_capacity: 1;
          power: 1 kW;
          ai_special_flag: AI_FLAG_PASSENGER;
          sprite_id: SPRITE_ID_NEW_TRAIN;
          misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
          refittable_cargo_classes: bitmask(CC_PASSENGERS);

          running_cost_base: RUNNING_COST_ELECTRIC;
          engine_class: ENGINE_CLASS_ELECTRIC;
          visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

          tractive_effort_coefficient: 0.3;
          air_drag_coefficient: 0.07;
          bitmask_vehicle_info: 0;
          length: 8;
    }
 graphics {
    purchase: hankyu7000_purchase;

    default: sw_hankyu6000_livery_2;
  start_stop: sw_stop_start_2;
  power: sw_hankyu7000_power_main()*4*1342/1000;
  loading_speed: param_loading_3D;
  cargo_capacity: sw_hankyu7000_capacity_main()*param_capacity_mod/3;
  can_attach_wagon: sw_1435_attach_vehid;

  additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_RANGE, 2,8)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string( STR_OPERATOR, string(STR_HANKYU)));
    }
    livery_override(mu_car){
        cargo_subtype_text:sw_empty_desc;
        loading_speed: param_loading_3D;
   cargo_capacity: sw_hankyu7000_capacity_main()*param_capacity_mod/3;
   default: sw_hankyu6000_livery_2;
   power: sw_hankyu7000_power_main()*4*1342/1000;
   weight: 31;
  }
}
# 322 "src/_private.pnml" 2
# 1 "src/private/Kansai/hankyu/hankyu8000.pnml" 1

  spriteset(hankyu8000_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu8000/hankyu8000.png"){ tmpl_purchase_1c(0, 50) }
  spriteset(hankyu8000_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu8000/hankyu8000.png"){ tmpl_purchase_2c(0, 200) }
  switch(FEAT_TRAINS, SELF, hankyu8000_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_hankyu; 1: hankyu8000_purchase_c1; 2: hankyu8000_purchase_c2;}

  spriteset(hankyu8000_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu8000/hankyu8000.png"){ tmpl_high_skirt(0, 0) }
  spriteset(hankyu8000_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu8000/hankyu8000.png"){ tmpl_high_skirt_rev(0, 25) }
  spriteset(hankyu8000_1_front_mot_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu8000/hankyu8000.png"){ tmpl_high_skirt(0, 50) }
  spriteset(hankyu8000_1_end_mot_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu8000/hankyu8000.png"){ tmpl_high_skirt_rev(0, 75) }
  spriteset(hankyu8000_1_front_mot_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu8000/hankyu8000.png"){ tmpl_high_skirt(0, 100) }
  spriteset(hankyu8000_1_end_mot_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu8000/hankyu8000.png"){ tmpl_high_skirt_rev(0, 125) }
  spriteset(hankyu8000_1_mot_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu8000/hankyu8000.png"){ tmpl_symm(0, 150) }
  spriteset(hankyu8000_1_mot_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu8000/hankyu8000.png"){ tmpl_symm(0, 175) }
  spriteset(hankyu8000_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu8000/hankyu8000.png"){ tmpl_symm(0, 200) }
  spriteset(hankyu8000_1_front_mot_1_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu8000/hankyu8000.png"){ tmpl_symm(0, 225) }
  spriteset(hankyu8000_1_end_mot_1_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu8000/hankyu8000.png"){ tmpl_std_rev(0, 225) }
  spriteset(hankyu8000_1_front_mot_2_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu8000/hankyu8000.png"){ tmpl_std(0, 250) }
  spriteset(hankyu8000_1_end_mot_2_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu8000/hankyu8000.png"){ tmpl_std_rev(0, 250) }
  spriteset(hankyu8000_1_front_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu8000/hankyu8000.png"){ tmpl_std(0, 275) }
  spriteset(hankyu8000_1_end_f, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu8000/hankyu8000.png"){ tmpl_std_rev(0, 275) }




      switch(FEAT_TRAINS, SELF, sw_hankyu8000_1_front_mot_gfx, build_year>1996){
        1:hankyu8000_1_front_mot_2;
        hankyu8000_1_front_mot_1;
      }
      switch(FEAT_TRAINS, SELF, sw_hankyu8000_1_end_mot_gfx, build_year>1996){
        1:hankyu8000_1_end_mot_2;
        hankyu8000_1_end_mot_1;
      }
      switch(FEAT_TRAINS, SELF, sw_hankyu8000_1_mot_gfx, build_year>1996){
        1:hankyu8000_1_mot_2;
        hankyu8000_1_mot_1;
      }
      switch(FEAT_TRAINS, SELF, sw_hankyu8000_1_front_mot_f_gfx, build_year>1996){
        1:hankyu8000_1_front_mot_2_f;
        hankyu8000_1_front_mot_1_f;
      }
      switch(FEAT_TRAINS, SELF, sw_hankyu8000_1_end_mot_f_gfx, build_year>1996){
        1:hankyu8000_1_end_mot_2_f;
        hankyu8000_1_end_mot_1_f;
      }

      switch(FEAT_TRAINS, SELF, sw_hankyu8000_1_mot,position_in_vehid_chain_from_end-1){
        0..1: hankyu8000_1_wag;
        sw_hankyu8000_1_mot_gfx;
      }
      switch(FEAT_TRAINS, SELF, sw_hankyu8000_1_mot_rev,position_in_vehid_chain){
        0..1: hankyu8000_1_wag;
        sw_hankyu8000_1_mot_gfx;
      }

      switch(FEAT_TRAINS, PARENT, sw_hankyu8000_1_front,vehicle_is_reversed){
        1: hankyu8000_1_front;
        sw_hankyu8000_1_front_mot_gfx;
      }
      switch(FEAT_TRAINS, PARENT, sw_hankyu8000_1_end,vehicle_is_reversed){
        1: sw_hankyu8000_1_end_mot_gfx;
        hankyu8000_1_end;
      }


    switch(FEAT_TRAINS, SELF, sw_hankyu8000_1_panto_placer_1,position_in_vehid_chain %4){
      0: sw_hankyu8000_1_mot;
      hankyu8000_1_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_hankyu8000_1_panto_placer_1_rev,position_in_vehid_chain_from_end %4-1){
      0: sw_hankyu8000_1_mot_rev;
      hankyu8000_1_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_hankyu8000_1_panto_placer_main_1,vehicle_is_reversed){
      1: sw_hankyu8000_1_panto_placer_1;
      sw_hankyu8000_1_panto_placer_1_rev;
    }
    switch(FEAT_TRAINS, SELF, sw_hankyu8000_1_panto_placer_main,num_vehs_in_vehid_chain+1){
      0..4: hankyu8000_1_wag;
      sw_hankyu8000_1_panto_placer_main_1;
    }

    switch(FEAT_TRAINS, SELF, sw_hankyu8000_1_panto_placer_2,position_in_vehid_chain){
      0: sw_hankyu8000_1_mot;
      hankyu8000_1_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_hankyu8000_1_panto_placer_2_rev,position_in_vehid_chain_from_end-1){
      0: sw_hankyu8000_1_mot_rev;
      hankyu8000_1_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_hankyu8000_1_panto_placer_main_2,vehicle_is_reversed){
      1:sw_hankyu8000_1_panto_placer_2;
      sw_hankyu8000_1_panto_placer_2_rev;
    }


      switch(FEAT_TRAINS, SELF, sw_hankyu8000_1_fake_head_placer_1,position_in_vehid_chain){
        0: hankyu8000_1_end_f;
        1: sw_hankyu8000_1_front_mot_f_gfx;
        sw_hankyu8000_1_panto_placer_main_2;
      }
      switch(FEAT_TRAINS, SELF, sw_hankyu8000_1_fake_head_placer_1_rev,position_in_vehid_chain_from_end-1){
        0: hankyu8000_1_front_f;
        1: sw_hankyu8000_1_end_mot_f_gfx;
        sw_hankyu8000_1_panto_placer_main_2;
      }
      switch(FEAT_TRAINS, PARENT, sw_hankyu8000_1_fake_head_placer_main_1,vehicle_is_reversed){
        1: sw_hankyu8000_1_fake_head_placer_1_rev;
        sw_hankyu8000_1_fake_head_placer_1;
      }
    switch(FEAT_TRAINS, SELF, sw_hankyu8000_1_fake_head_placer_main,num_vehs_in_vehid_chain+1){
        10: sw_hankyu8000_1_fake_head_placer_main_1;
        sw_hankyu8000_1_panto_placer_main;
      }

    switch(FEAT_TRAINS, SELF, sw_hankyu8000_1_gfx_main,position_in_vehid_chain_from_end){
      0: sw_hankyu8000_1_end;
      default: sw_hankyu8000_1_fake_head_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_hankyu8000_lv,vehicle_type_id){
      hankyu8000: sw_hankyu8000_1_front;
      default: sw_hankyu8000_1_gfx_main;
    }


  switch(FEAT_TRAINS, SELF, sw_hankyu8000_capacity,position_in_vehid_chain_from_end){
    0: 132;
    default: 142;
  }
  switch(FEAT_TRAINS, SELF, sw_hankyu8000_capacity_1,position_in_vehid_chain){
    0: 132;
    default: sw_hankyu8000_capacity;
  }
  switch(FEAT_TRAINS, SELF, sw_hankyu8000_capacity_main,vehicle_type_id){
    mu_car: sw_hankyu8000_capacity;
    sw_hankyu8000_capacity_1;
  }

  switch(FEAT_TRAINS, SELF, sw_hankyu8000_speed_main,build_year>1996){
    1:return 130;
    return 120;
  }

  switch(FEAT_TRAINS, SELF, sw_hankyu8000_power_main_1_0,position_in_vehid_chain_from_end%8){
    1..2:return 170;
    6:return 170;
    return 0;
  }
  switch(FEAT_TRAINS, SELF, sw_hankyu8000_power_main_1_1,vehicle_type_id){
    hankyu8000: return 170;
    sw_hankyu8000_power_main_1_0;
  }
  switch(FEAT_TRAINS, SELF, sw_hankyu8000_power_main_2_0,position_in_vehid_chain_from_end%8){
    1..2:return 190;
    6:return 190;
    return 0;
  }
  switch(FEAT_TRAINS, SELF, sw_hankyu8000_power_main_2_1,vehicle_type_id){
    hankyu8000: return 190;
    sw_hankyu8000_power_main_2_0;
  }
  switch(FEAT_TRAINS, SELF, sw_hankyu8000_power_main, build_year>1996){
    1: sw_hankyu8000_power_main_2_1;
    sw_hankyu8000_power_main_1_1;
  }

item(FEAT_TRAINS, hankyu8000) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_HANKYU), "8000/8200/8300", string(STR_NAME_SERIES));
        introduction_date: date(1988, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cost_factor: 20;
        running_cost_factor: 51;

        speed: 130 km/h;
        track_type: TR_1435_DC;
        weight: 32 ton;
        climates_available: param_disable_hankyu == 0 ? ALL_CLIMATES : NO_CLIMATE;

          cargo_capacity: 1;
          power: 1 kW;
          ai_special_flag: AI_FLAG_PASSENGER;
          sprite_id: SPRITE_ID_NEW_TRAIN;
          misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
          refittable_cargo_classes: bitmask(CC_PASSENGERS);

          running_cost_base: RUNNING_COST_ELECTRIC;
          engine_class: ENGINE_CLASS_ELECTRIC;
          visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

          tractive_effort_coefficient: 0.3;
          air_drag_coefficient: 0.07;
          bitmask_vehicle_info: 0;
          length: 8;
    }
 graphics {
    speed: sw_hankyu8000_speed_main;
    purchase: hankyu8000_purchase;
  default: sw_hankyu8000_lv;
  start_stop: sw_stop_start_2;
  power: sw_hankyu8000_power_main()*4*1342/1000;
  loading_speed: param_loading_3D;
  cargo_capacity: sw_hankyu8000_capacity_main()*param_capacity_mod/3;
  can_attach_wagon: sw_1435_attach_vehid;

  additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 8)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string( STR_OPERATOR, string(STR_HANKYU)));
    }
    livery_override(mu_car){
        cargo_subtype_text:sw_empty_desc;
        loading_speed: param_loading_3D;
   cargo_capacity: sw_hankyu8000_capacity_main()*param_capacity_mod/3;
   default: sw_hankyu8000_lv;
   power: sw_hankyu8000_power_main()*4*1342/1000;
   weight: 31;
  }
}
# 323 "src/_private.pnml" 2
# 1 "src/private/Kansai/hankyu/hankyu9000.pnml" 1

  spriteset(hankyu9000_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu9000/hankyu9000.png"){ tmpl_purchase_1c(0, 50) }
  spriteset(hankyu9000_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu9000/hankyu9000.png"){ tmpl_purchase_2c(0, 125) }
  switch(FEAT_TRAINS, SELF, hankyu9000_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_hankyu; 1: hankyu9000_purchase_c1; 2: hankyu9000_purchase_c2;}

  spriteset(hankyu9000_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu9000/hankyu9000.png"){ tmpl_high_skirt(0, 0) }
  spriteset(hankyu9000_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu9000/hankyu9000.png"){ tmpl_high_skirt_rev(0, 25) }
  spriteset(hankyu9000_1_front_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu9000/hankyu9000.png"){ tmpl_high_skirt(0, 50) }
  spriteset(hankyu9000_1_end_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu9000/hankyu9000.png"){ tmpl_high_skirt_rev(0, 75) }
  spriteset(hankyu9000_1_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu9000/hankyu9000.png"){ tmpl_symm(0, 100) }
  spriteset(hankyu9000_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu9000/hankyu9000.png"){ tmpl_symm(0, 125) }





    switch(FEAT_TRAINS, SELF, sw_hankyu9000_1_mot,position_in_vehid_chain_from_end-1){
      0..1: hankyu9000_1_wag;
      hankyu9000_1_mot;
    }
    switch(FEAT_TRAINS, SELF, sw_hankyu9000_1_mot_rev,position_in_vehid_chain){
      0..1: hankyu9000_1_wag;
      hankyu9000_1_mot;
    }

      switch(FEAT_TRAINS, PARENT, sw_hankyu9000_1_front,vehicle_is_reversed){
        1: hankyu9000_1_front;
        hankyu9000_1_front_mot;
      }
      switch(FEAT_TRAINS, PARENT, sw_hankyu9000_1_end,vehicle_is_reversed){
        1: hankyu9000_1_end_mot;
        hankyu9000_1_end;
      }


    switch(FEAT_TRAINS, SELF, sw_hankyu9000_1_panto_placer_1,position_in_vehid_chain %4){
      0: sw_hankyu9000_1_mot;
      hankyu9000_1_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_hankyu9000_1_panto_placer_1_rev,position_in_vehid_chain_from_end %4-1){
      0: sw_hankyu9000_1_mot_rev;
      hankyu9000_1_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_hankyu9000_1_panto_placer_main_1,vehicle_is_reversed){
      1: sw_hankyu9000_1_panto_placer_1;
      sw_hankyu9000_1_panto_placer_1_rev;
    }
    switch(FEAT_TRAINS, SELF, sw_hankyu9000_1_panto_placer_main,num_vehs_in_vehid_chain+1){
      0..4: hankyu9000_1_wag;
      sw_hankyu9000_1_panto_placer_main_1;
    }

    switch(FEAT_TRAINS, SELF, sw_hankyu9000_1_gfx_main,position_in_vehid_chain_from_end){
      0: sw_hankyu9000_1_end;
      default: sw_hankyu9000_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_hankyu9000_lv,vehicle_type_id){
      hankyu9000: sw_hankyu9000_1_front;
      default: sw_hankyu9000_1_gfx_main;
    }


  switch(FEAT_TRAINS, SELF, sw_hankyu9000_capacity,position_in_vehid_chain_from_end){
    0: 121;
    default: 131;
  }
  switch(FEAT_TRAINS, SELF, sw_hankyu9000_capacity_1,position_in_vehid_chain){
    0: 121;
    default: sw_hankyu9000_capacity;
  }
  switch(FEAT_TRAINS, SELF, sw_hankyu9000_capacity_main,vehicle_type_id){
    mu_car: sw_hankyu9000_capacity;
    sw_hankyu9000_capacity_1;
  }

  switch(FEAT_TRAINS, SELF, sw_hankyu9000_power_main_1,position_in_vehid_chain_from_end%8){
    1:return 200;
    6..7:return 200;
    return 0;
  }
  switch(FEAT_TRAINS, SELF, sw_hankyu9000_power_main,vehicle_type_id){
    hankyu9000: return 200;
    sw_hankyu9000_power_main_1;
  }

item(FEAT_TRAINS, hankyu9000) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_HANKYU), "9000/9300", string(STR_NAME_SERIES));
        introduction_date: date(2006, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cost_factor: 20;
        running_cost_factor: 50;

        speed: 130 km/h;
        track_type: TR_1435_DC;
        weight: 30 ton;
        climates_available: param_disable_hankyu == 0 ? ALL_CLIMATES : NO_CLIMATE;

          cargo_capacity: 1;
          power: 1 kW;

          ai_special_flag: AI_FLAG_PASSENGER;
          sprite_id: SPRITE_ID_NEW_TRAIN;
          misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
          refittable_cargo_classes: bitmask(CC_PASSENGERS);





          running_cost_base: RUNNING_COST_ELECTRIC;
          engine_class: ENGINE_CLASS_ELECTRIC;
          visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

          tractive_effort_coefficient: 0.3;
          air_drag_coefficient: 0.07;
          bitmask_vehicle_info: 0;
          length: 8;
    }
 graphics {
    purchase: hankyu9000_purchase;
  default: sw_hankyu9000_lv;
  start_stop: sw_stop_start_2;
  power: sw_hankyu9000_power_main()*4*1342/1000;
  loading_speed: param_loading_3D;
  cargo_capacity: sw_hankyu9000_capacity_main()*param_capacity_mod/3;
  can_attach_wagon: sw_1435_attach_vehid;

  additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 8)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string( STR_OPERATOR, string(STR_HANKYU)));
    }
    livery_override(mu_car){
        cargo_subtype_text:sw_empty_desc;
        loading_speed: param_loading_3D;
   cargo_capacity: sw_hankyu9000_capacity_main()*param_capacity_mod/3;
   default: sw_hankyu9000_lv;
   power: sw_hankyu9000_power_main()*4*1342/1000;
   weight: 30;
  }
}
# 324 "src/_private.pnml" 2
# 1 "src/private/Kansai/hankyu/hankyu1000n.pnml" 1

spriteset(hankyu1000n_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu1000n/hankyu1000n.png"){ tmpl_purchase_1c(0, 0) }
spriteset(hankyu1000n_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu1000n/hankyu1000n.png"){ tmpl_purchase_2c(0, 75) }
switch(FEAT_TRAINS, SELF, hankyu1000n_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_hankyu; 1: hankyu1000n_purchase_c1; 2: hankyu1000n_purchase_c2;}

  spriteset(hankyu1000n_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu1000n/hankyu1000n.png"){ tmpl_high_skirt(0, 0) }
  spriteset(hankyu1000n_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu1000n/hankyu1000n.png"){ tmpl_high_skirt_rev(0, 25) }
  spriteset(hankyu1000n_1_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu1000n/hankyu1000n.png"){ tmpl_symm(0, 50) }
  spriteset(hankyu1000n_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu1000n/hankyu1000n.png"){ tmpl_symm(0, 75) }





    switch(FEAT_TRAINS, SELF, sw_hankyu1000n_1_panto_placer_1,position_in_vehid_chain %6){
      0: hankyu1000n_1_mot;
      4: hankyu1000n_1_mot;
      hankyu1000n_1_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_hankyu1000n_1_panto_placer_1_rev,position_in_vehid_chain_from_end %6 -1){
      0: hankyu1000n_1_mot;
      4: hankyu1000n_1_mot;
      hankyu1000n_1_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_hankyu1000n_1_panto_placer_main_1,vehicle_is_reversed){
      1: sw_hankyu1000n_1_panto_placer_1_rev;
      sw_hankyu1000n_1_panto_placer_1;
    }

    switch(FEAT_TRAINS, SELF, sw_hankyu1000n_1_panto_placer_2,position_in_vehid_chain %3){
      1: hankyu1000n_1_mot;
      hankyu1000n_1_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_hankyu1000n_1_panto_placer_2_rev,position_in_vehid_chain_from_end %3 -1){
      1: hankyu1000n_1_mot;
      hankyu1000n_1_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_hankyu1000n_1_panto_placer_main_2,vehicle_is_reversed){
      1: sw_hankyu1000n_1_panto_placer_2_rev;
      sw_hankyu1000n_1_panto_placer_2;
    }
    switch(FEAT_TRAINS, SELF, sw_hankyu1000n_1_panto_placer_main,num_vehs_in_vehid_chain+1){
      5: sw_hankyu1000n_1_panto_placer_main_2;
      sw_hankyu1000n_1_panto_placer_main_1;
    }

    switch(FEAT_TRAINS, SELF, sw_hankyu1000n_1_gfx_main,position_in_vehid_chain_from_end){
      0: hankyu1000n_1_end;
      default: sw_hankyu1000n_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_hankyu1000n_lv,vehicle_type_id){
      hankyu1000n: hankyu1000n_1_front;
      default: sw_hankyu1000n_1_gfx_main;
    }


  switch(FEAT_TRAINS, SELF, sw_hankyu1000n_capacity,position_in_vehid_chain_from_end){
    0: 121;
    default: 131;
  }
  switch(FEAT_TRAINS, SELF, sw_hankyu1000n_capacity_1,position_in_vehid_chain){
    0: 121;
    default: sw_hankyu1000n_capacity;
  }
  switch(FEAT_TRAINS, SELF, sw_hankyu1000n_capacity_main,vehicle_type_id){
    mu_car: sw_hankyu1000n_capacity;
    sw_hankyu1000n_capacity_1;
  }

  switch(FEAT_TRAINS, SELF, sw_hankyu1000n_power_main,position_in_vehid_chain_from_end%8){
    1..2:return 190;
    5..6:return 190;
    return 0;
  }

item(FEAT_TRAINS, hankyu1000n) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_HANKYU), string(STR_NAME_NEW, "1000/1300"), string(STR_NAME_SERIES));
        introduction_date: date(2013, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cost_factor: 21;
        running_cost_factor: 51;

        speed: 130 km/h;
        track_type: TR_1435_DC;
        weight: 30 ton;
        climates_available: param_disable_hankyu == 0 ? ALL_CLIMATES : NO_CLIMATE;

          cargo_capacity: 1;
          power: 1 kW;
          loading_speed: param_loading_4D;
          ai_special_flag: AI_FLAG_PASSENGER;
          sprite_id: SPRITE_ID_NEW_TRAIN;
          misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
          refittable_cargo_classes: bitmask(CC_PASSENGERS);
          non_refittable_cargo_classes: bitmask();
          refit_cost: 0;
          dual_headed: 0;
          ai_engine_rank: 0;

          running_cost_base: RUNNING_COST_ELECTRIC;
          engine_class: ENGINE_CLASS_ELECTRIC;
          visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

          tractive_effort_coefficient: 0.3;
          air_drag_coefficient: 0.07;
          bitmask_vehicle_info: 0;
          length: 8;
    }
 graphics {
    purchase: hankyu1000n_purchase;
  default: sw_hankyu1000n_lv;
  start_stop: sw_stop_start_3;
  power: sw_hankyu1000n_power_main()*4*1342/1000;
  loading_speed: param_loading_3D;
  cargo_capacity: sw_hankyu1000n_capacity_main()*param_capacity_mod/3;
  can_attach_wagon: sw_1435_attach_vehid;

  additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 8)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string( STR_OPERATOR, string(STR_HANKYU)));
    }
    livery_override(mu_car){
        cargo_subtype_text:sw_empty_desc;
        loading_speed: param_loading_3D;
   cargo_capacity: sw_hankyu1000n_capacity_main()*param_capacity_mod/3;
   default: sw_hankyu1000n_lv;
   power: sw_hankyu1000n_power_main()*4*1342/1000;
   weight: 30;
  }
}
# 325 "src/_private.pnml" 2
# 1 "src/private/Kansai/hankyu/hankyu2000n.pnml" 1

spriteset(hankyu2000n_purchase_c1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu2000n/hankyu2000n.png"){ tmpl_purchase_1c(0, 0) }
spriteset(hankyu2000n_purchase_c2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu2000n/hankyu2000n.png"){ tmpl_purchase_2c(0, 75) }
switch(FEAT_TRAINS, SELF, hankyu2000n_purchase, [ STORE_TEMP(CB_FLAG_MORE_SPRITES | PALETTE_USE_DEFAULT, 0x100), getbits(extra_callback_info1, 8, 8) ]) { 0: logo_hankyu; 1: hankyu2000n_purchase_c1; 2: hankyu2000n_purchase_c2;}

  spriteset(hankyu2000n_1_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu2000n/hankyu2000n.png"){ tmpl_high_skirt(0, 0) }
  spriteset(hankyu2000n_1_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu2000n/hankyu2000n.png"){ tmpl_high_skirt_rev(0, 25) }
  spriteset(hankyu2000n_1_mot, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu2000n/hankyu2000n.png"){ tmpl_symm(0, 50) }
  spriteset(hankyu2000n_1_wag, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/private/Kansai/hankyu/hankyu2000n/hankyu2000n.png"){ tmpl_symm(0, 75) }





    switch(FEAT_TRAINS, SELF, sw_hankyu2000n_1_panto_placer_1,position_in_vehid_chain %6){
      0: hankyu2000n_1_mot;
      4: hankyu2000n_1_mot;
      hankyu2000n_1_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_hankyu2000n_1_panto_placer_1_rev,position_in_vehid_chain_from_end %6 -1){
      0: hankyu2000n_1_mot;
      4: hankyu2000n_1_mot;
      hankyu2000n_1_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_hankyu2000n_1_panto_placer_main_1,vehicle_is_reversed){
      1: sw_hankyu2000n_1_panto_placer_1_rev;
      sw_hankyu2000n_1_panto_placer_1;
    }

    switch(FEAT_TRAINS, SELF, sw_hankyu2000n_1_panto_placer_2,position_in_vehid_chain %3){
      1: hankyu2000n_1_mot;
      hankyu2000n_1_wag;
    }
    switch(FEAT_TRAINS, SELF, sw_hankyu2000n_1_panto_placer_2_rev,position_in_vehid_chain_from_end %3 -1){
      1: hankyu2000n_1_mot;
      hankyu2000n_1_wag;
    }
    switch(FEAT_TRAINS, PARENT, sw_hankyu2000n_1_panto_placer_main_2,vehicle_is_reversed){
      1: sw_hankyu2000n_1_panto_placer_2_rev;
      sw_hankyu2000n_1_panto_placer_2;
    }
    switch(FEAT_TRAINS, SELF, sw_hankyu2000n_1_panto_placer_main,num_vehs_in_vehid_chain+1){
      5: sw_hankyu2000n_1_panto_placer_main_2;
      sw_hankyu2000n_1_panto_placer_main_1;
    }

    switch(FEAT_TRAINS, SELF, sw_hankyu2000n_1_gfx_main,position_in_vehid_chain_from_end){
      0: hankyu2000n_1_end;
      default: sw_hankyu2000n_1_panto_placer_main;
    }
    switch(FEAT_TRAINS, SELF, sw_hankyu2000n_lv,vehicle_type_id){
      hankyu2000n: hankyu2000n_1_front;
      default: sw_hankyu2000n_1_gfx_main;
    }


  switch(FEAT_TRAINS, SELF, sw_hankyu2000n_capacity,position_in_vehid_chain_from_end){
    0: 117;
    default: 129;
  }
  switch(FEAT_TRAINS, SELF, sw_hankyu2000n_capacity_1,position_in_vehid_chain){
    0: 117;
    default: sw_hankyu2000n_capacity;
  }
  switch(FEAT_TRAINS, SELF, sw_hankyu2000n_capacity_main,vehicle_type_id){
    mu_car: sw_hankyu2000n_capacity;
    sw_hankyu2000n_capacity_1;
  }

  switch(FEAT_TRAINS, SELF, sw_hankyu2000n_power_main,position_in_vehid_chain_from_end%8){
    1..2:return 190;
    5..6:return 190;
    return 0;
  }

item(FEAT_TRAINS, hankyu2000n) {
    property {
        name: string(STR_TRAIN_NAME, string(STR_NAME_HANKYU), string(STR_NAME_NEW, "2000/2300"), string(STR_NAME_SERIES));
        introduction_date: date(2024, 1, 1);
        model_life: VEHICLE_NEVER_EXPIRES;
        vehicle_life: 30;
        reliability_decay: 10;

        cost_factor: 21;
        running_cost_factor: 50;

        speed: 130 km/h;
        track_type: TR_1435_DC;
        weight: 30 ton;
        climates_available: param_disable_hankyu == 0 ? ALL_CLIMATES : NO_CLIMATE;

          cargo_capacity: 1;
          power: 1 kW;
          loading_speed: param_loading_4D;
          ai_special_flag: AI_FLAG_PASSENGER;
          sprite_id: SPRITE_ID_NEW_TRAIN;
          misc_flags: bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_SPRITE_STACK);
          refittable_cargo_classes: bitmask(CC_PASSENGERS);
          non_refittable_cargo_classes: bitmask();
          refit_cost: 0;
          dual_headed: 0;
          ai_engine_rank: 0;

          running_cost_base: RUNNING_COST_ELECTRIC;
          engine_class: ENGINE_CLASS_ELECTRIC;
          visual_effect_and_powered: visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);

          tractive_effort_coefficient: 0.3;
          air_drag_coefficient: 0.07;
          bitmask_vehicle_info: 0;
          length: 8;
    }
 graphics {
    purchase: hankyu2000n_purchase;
  default: sw_hankyu2000n_lv;
  start_stop: sw_stop_start_3;
  power: sw_hankyu2000n_power_main()*4*1342/1000;
  loading_speed: param_loading_3D;
  cargo_capacity: sw_hankyu2000n_capacity_main()*param_capacity_mod/3;
  can_attach_wagon: sw_1435_attach_vehid;

  additional_text:
  string(STR_TRAIN_DESC,
  string(STR_STANDARDGAUGE),
  string(STR_DENKI, string(STR_DC_N, 1500)),
  string(STR_LOAD_SPEED, string(STR_DOORS, 3)),
  string(STR_FORMATION, string(STR_NUM_CARS_1, 8)),
  string(STR_USAGE, string(STR_COMMUTER)),
  string( STR_OPERATOR, string(STR_HANKYU)));
    }
    livery_override(mu_car){
        cargo_subtype_text:sw_empty_desc;
        loading_speed: param_loading_3D;
   cargo_capacity: sw_hankyu2000n_capacity_main()*param_capacity_mod/3;
   default: sw_hankyu2000n_lv;
   power: sw_hankyu2000n_power_main()*4*1342/1000;
   weight: 30;
  }
}
# 326 "src/_private.pnml" 2
# 16 "JPprivate.pnml" 2
